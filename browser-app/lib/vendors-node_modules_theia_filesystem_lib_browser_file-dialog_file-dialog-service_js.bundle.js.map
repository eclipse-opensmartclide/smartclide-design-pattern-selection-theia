{"version":3,"sources":["webpack://browser-app/../node_modules/@theia/core/shared/@phosphor/widgets.js","webpack://browser-app/../node_modules/@theia/core/shared/lodash.throttle.js","webpack://browser-app/../node_modules/@theia/core/shared/react-dom.js","webpack://browser-app/../node_modules/@theia/core/shared/react.js","webpack://browser-app/../node_modules/@theia/filesystem/src/browser/file-dialog/file-dialog-model.ts","webpack://browser-app/../node_modules/@theia/filesystem/src/browser/file-dialog/file-dialog-service.ts","webpack://browser-app/../node_modules/@theia/filesystem/src/browser/file-dialog/file-dialog-tree-filters-renderer.tsx","webpack://browser-app/../node_modules/@theia/filesystem/src/browser/file-dialog/file-dialog-tree.ts","webpack://browser-app/../node_modules/@theia/filesystem/src/browser/file-dialog/file-dialog-widget.ts","webpack://browser-app/../node_modules/@theia/filesystem/src/browser/file-dialog/file-dialog.ts","webpack://browser-app/../node_modules/@theia/filesystem/src/browser/file-tree/file-tree-container.ts","webpack://browser-app/../node_modules/@theia/filesystem/src/browser/file-tree/file-tree-model.ts","webpack://browser-app/../node_modules/@theia/filesystem/src/browser/file-tree/file-tree-widget.tsx","webpack://browser-app/../node_modules/@theia/filesystem/src/browser/file-tree/file-tree.ts","webpack://browser-app/../node_modules/@theia/filesystem/src/browser/file-tree/index.ts","webpack://browser-app/../node_modules/@theia/filesystem/src/browser/file-upload-service.ts","webpack://browser-app/../node_modules/@theia/filesystem/src/browser/location/index.ts","webpack://browser-app/../node_modules/@theia/filesystem/src/browser/location/location-renderer.tsx","webpack://browser-app/../node_modules/@theia/filesystem/src/browser/location/location-service.ts","webpack://browser-app/../node_modules/@theia/filesystem/src/common/file-upload.ts","webpack://browser-app/../node_modules/@theia/filesystem/src/common/filesystem.ts","webpack://browser-app/../node_modules/@theia/filesystem/src/common/index.ts","webpack://browser-app/../node_modules/async-mutex/lib/Mutex.js","webpack://browser-app/../node_modules/async-mutex/lib/Semaphore.js","webpack://browser-app/../node_modules/async-mutex/lib/errors.js","webpack://browser-app/../node_modules/async-mutex/lib/index.js","webpack://browser-app/../node_modules/async-mutex/lib/tryAcquire.js","webpack://browser-app/../node_modules/async-mutex/lib/withTimeout.js","webpack://browser-app/../node_modules/async-mutex/node_modules/tslib/tslib.es6.js"],"names":[],"mappings":"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AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA,yDAAyD,mBAAmB,EAAE;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,eAAe;;;;;;;;;;;;ACvCF;AACb,8CAA6C,CAAC,cAAc,EAAC;AAC7D,cAAc,mBAAO,CAAC,0EAAO;AAC7B,eAAe,mBAAO,CAAC,2DAAU;AACjC;AACA;AACA,sCAAsC,oCAAoC;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,mCAAmC;AACzE,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8DAA8D,6BAA6B,mBAAmB,EAAE,EAAE;AAClH;AACA,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2FAA2F;AAC3F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,0CAA0C,EAAE;AAC3F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,yBAAyB,EAAE;AAC5E;AACA;AACA;AACA,CAAC;AACD,eAAe;;;;;;;;;;;;ACrGF;AACb,8CAA6C,CAAC,cAAc,EAAC;AAC7D,kBAAkB,GAAG,wBAAwB,GAAG,iBAAiB;AACjE,iBAAiB;AACjB,wBAAwB;AACxB,kBAAkB;;;;;;;;;;;;ACLL;AACb,8CAA6C,CAAC,cAAc,EAAC;AAC7D,kBAAkB,GAAG,mBAAmB,GAAG,iBAAiB,GAAG,aAAa;AAC5E,cAAc,mBAAO,CAAC,0EAAO;AAC7B,cAAc,mBAAO,CAAC,yDAA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","file":"vendors-node_modules_theia_filesystem_lib_browser_file-dialog_file-dialog-service_js.bundle.js","sourcesContent":["module.exports = require('@phosphor/widgets');\n","module.exports = require('lodash.throttle');\n","module.exports = require('react-dom');\n","module.exports = require('react');\n","/********************************************************************************\n * Copyright (C) 2017 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { injectable, inject, postConstruct } from '@theia/core/shared/inversify';\nimport URI from '@theia/core/lib/common/uri';\nimport { Emitter, Event } from '@theia/core/lib/common';\nimport { TreeNode, SelectableTreeNode } from '@theia/core/lib/browser';\nimport { DirNode, FileNode, FileTreeModel, FileStatNode } from '../file-tree';\nimport { FileDialogTree } from './file-dialog-tree';\n\n@injectable()\nexport class FileDialogModel extends FileTreeModel {\n\n    @inject(FileDialogTree) readonly tree: FileDialogTree;\n    protected readonly onDidOpenFileEmitter = new Emitter<void>();\n    protected _initialLocation: URI | undefined;\n    private _disableFileSelection: boolean = false;\n\n    @postConstruct()\n    protected init(): void {\n        super.init();\n        this.toDispose.push(this.onDidOpenFileEmitter);\n    }\n\n    /**\n     * Returns the first valid location that was set by calling the `navigateTo` method. Once the initial location has a defined value, it will not change.\n     * Can be `undefined`.\n     */\n    get initialLocation(): URI | undefined {\n        return this._initialLocation;\n    }\n\n    set disableFileSelection(isSelectable: boolean) {\n        this._disableFileSelection = isSelectable;\n    }\n\n    async navigateTo(nodeOrId: TreeNode | string | undefined): Promise<TreeNode | undefined> {\n        const result = await super.navigateTo(nodeOrId);\n        if (!this._initialLocation && FileStatNode.is(result)) {\n            this._initialLocation = result.uri;\n        }\n        return result;\n    }\n\n    get onDidOpenFile(): Event<void> {\n        return this.onDidOpenFileEmitter.event;\n    }\n\n    protected doOpenNode(node: TreeNode): void {\n        if (FileNode.is(node)) {\n            this.onDidOpenFileEmitter.fire(undefined);\n        } else if (DirNode.is(node)) {\n            this.navigateTo(node);\n        } else {\n            super.doOpenNode(node);\n        }\n    }\n\n    getNextSelectableNode(node: SelectableTreeNode = this.selectedNodes[0]): SelectableTreeNode | undefined {\n        let nextNode: SelectableTreeNode | undefined = node;\n        do {\n            nextNode = super.getNextSelectableNode(nextNode);\n        } while (FileStatNode.is(nextNode) && !this.isFileStatNodeSelectable(nextNode));\n        return nextNode;\n    }\n\n    getPrevSelectableNode(node: SelectableTreeNode = this.selectedNodes[0]): SelectableTreeNode | undefined {\n        let prevNode: SelectableTreeNode | undefined = node;\n        do {\n            prevNode = super.getPrevSelectableNode(prevNode);\n        } while (FileStatNode.is(prevNode) && !this.isFileStatNodeSelectable(prevNode));\n        return prevNode;\n    }\n\n    private isFileStatNodeSelectable(node: FileStatNode): boolean {\n        return !(!node.fileStat.isDirectory && this._disableFileSelection);\n    }\n\n    canNavigateUpward(): boolean {\n        const treeRoot = this.tree.root;\n        return FileStatNode.is(treeRoot) && !treeRoot.uri.path.isRoot;\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2018 Ericsson and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { injectable, inject } from '@theia/core/shared/inversify';\nimport URI from '@theia/core/lib/common/uri';\nimport { MaybeArray } from '@theia/core/lib/common';\nimport { LabelProvider } from '@theia/core/lib/browser';\nimport { FileStat } from '../../common/files';\nimport { DirNode } from '../file-tree';\nimport { OpenFileDialogFactory, OpenFileDialogProps, SaveFileDialogFactory, SaveFileDialogProps } from './file-dialog';\nimport { FileService } from '../file-service';\nimport { EnvVariablesServer } from '@theia/core/lib/common/env-variables';\n\nexport const FileDialogService = Symbol('FileDialogService');\nexport interface FileDialogService {\n\n    showOpenDialog(props: OpenFileDialogProps & { canSelectMany: true }, folder?: FileStat): Promise<MaybeArray<URI> | undefined>;\n    showOpenDialog(props: OpenFileDialogProps, folder?: FileStat): Promise<URI | undefined>;\n    showOpenDialog(props: OpenFileDialogProps, folder?: FileStat): Promise<MaybeArray<URI> | undefined>;\n\n    showSaveDialog(props: SaveFileDialogProps, folder?: FileStat): Promise<URI | undefined>\n\n}\n\n@injectable()\nexport class DefaultFileDialogService implements FileDialogService {\n\n    @inject(EnvVariablesServer)\n    protected readonly environments: EnvVariablesServer;\n\n    @inject(FileService)\n    protected readonly fileService: FileService;\n\n    @inject(OpenFileDialogFactory) protected readonly openFileDialogFactory: OpenFileDialogFactory;\n    @inject(LabelProvider) protected readonly labelProvider: LabelProvider;\n    @inject(SaveFileDialogFactory) protected readonly saveFileDialogFactory: SaveFileDialogFactory;\n\n    async showOpenDialog(props: OpenFileDialogProps & { canSelectMany: true }, folder?: FileStat): Promise<MaybeArray<URI> | undefined>;\n    async showOpenDialog(props: OpenFileDialogProps, folder?: FileStat): Promise<URI | undefined>;\n    async showOpenDialog(props: OpenFileDialogProps, folder?: FileStat): Promise<MaybeArray<URI> | undefined> {\n        const title = props.title || 'Open';\n        const rootNode = await this.getRootNode(folder);\n        if (rootNode) {\n            const dialog = this.openFileDialogFactory(Object.assign(props, { title }));\n            await dialog.model.navigateTo(rootNode);\n            const value = await dialog.open();\n            if (value) {\n                if (!Array.isArray(value)) {\n                    return value.uri;\n                }\n                return value.map(node => node.uri);\n            }\n        }\n        return undefined;\n    }\n\n    async showSaveDialog(props: SaveFileDialogProps, folder?: FileStat): Promise<URI | undefined> {\n        const title = props.title || 'Save';\n        const rootNode = await this.getRootNode(folder);\n        if (rootNode) {\n            const dialog = this.saveFileDialogFactory(Object.assign(props, { title }));\n            await dialog.model.navigateTo(rootNode);\n            return dialog.open();\n        }\n        return undefined;\n    }\n\n    protected async getRootNode(folderToOpen?: FileStat): Promise<DirNode | undefined> {\n        const folder = folderToOpen || {\n            resource: new URI(await this.environments.getHomeDirUri()),\n            isDirectory: true\n        };\n        const folderUri = folder.resource;\n        const rootUri = folder.isDirectory ? folderUri : folderUri.parent;\n        try {\n            const rootStat = await this.fileService.resolve(rootUri);\n            return DirNode.createRoot(rootStat);\n        } catch { }\n        return undefined;\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { ReactRenderer } from '@theia/core/lib/browser/widgets/react-renderer';\nimport { FileDialogTree } from './file-dialog-tree';\nimport * as React from '@theia/core/shared/react';\nimport { inject, injectable } from '@theia/core/shared/inversify';\n\nexport const FILE_TREE_FILTERS_LIST_CLASS = 'theia-FileTreeFiltersList';\n\n/**\n * A set of file filters that are used by the dialog. Each entry is a human readable label,\n * like \"TypeScript\", and an array of extensions, e.g.\n * ```ts\n * {\n *  'Images': ['png', 'jpg']\n *  'TypeScript': ['ts', 'tsx']\n * }\n * ```\n */\nexport class FileDialogTreeFilters {\n    [name: string]: string[];\n}\n\nexport const FileDialogTreeFiltersRendererFactory = Symbol('FileDialogTreeFiltersRendererFactory');\nexport interface FileDialogTreeFiltersRendererFactory {\n    (options: FileDialogTreeFiltersRendererOptions): FileDialogTreeFiltersRenderer;\n}\n\nexport const FileDialogTreeFiltersRendererOptions = Symbol('FileDialogTreeFiltersRendererOptions');\nexport interface FileDialogTreeFiltersRendererOptions {\n    suppliedFilters: FileDialogTreeFilters;\n    fileDialogTree: FileDialogTree;\n}\n\n@injectable()\nexport class FileDialogTreeFiltersRenderer extends ReactRenderer {\n\n    readonly appliedFilters: FileDialogTreeFilters;\n    readonly suppliedFilters: FileDialogTreeFilters;\n    readonly fileDialogTree: FileDialogTree;\n\n    constructor(\n        @inject(FileDialogTreeFiltersRendererOptions) readonly options: FileDialogTreeFiltersRendererOptions\n    ) {\n        super();\n        this.suppliedFilters = options.suppliedFilters;\n        this.fileDialogTree = options.fileDialogTree;\n        this.appliedFilters = { ...this.suppliedFilters, 'All Files': [], };\n    }\n\n    protected readonly handleFilterChanged = (e: React.ChangeEvent<HTMLSelectElement>) => this.onFilterChanged(e);\n\n    protected doRender(): React.ReactNode {\n        if (!this.appliedFilters) {\n            return undefined;\n        }\n\n        const options = Object.keys(this.appliedFilters).map(value => this.renderLocation(value));\n        return <select className={'theia-select ' + FILE_TREE_FILTERS_LIST_CLASS} onChange={this.handleFilterChanged}>{...options}</select>;\n    }\n\n    protected renderLocation(value: string): React.ReactNode {\n        return <option value={value} key={value}>{value}</option>;\n    }\n\n    protected onFilterChanged(e: React.ChangeEvent<HTMLSelectElement>): void {\n        const locationList = this.locationList;\n        if (locationList) {\n            const value = locationList.value;\n            const filters = this.appliedFilters[value];\n            this.fileDialogTree.setFilter(filters);\n        }\n\n        e.preventDefault();\n        e.stopPropagation();\n    }\n\n    get locationList(): HTMLSelectElement | undefined {\n        const locationList = this.host.getElementsByClassName(FILE_TREE_FILTERS_LIST_CLASS)[0];\n        if (locationList instanceof HTMLSelectElement) {\n            return locationList;\n        }\n        return undefined;\n    }\n\n}\n","/********************************************************************************\n * Copyright (C) 2018 Red Hat, Inc. and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { injectable } from '@theia/core/shared/inversify';\nimport { DirNode, FileTree } from '../file-tree';\nimport { TreeNode, CompositeTreeNode } from '@theia/core/lib/browser/tree/tree';\nimport { FileStat } from '../../common/files';\n\n@injectable()\nexport class FileDialogTree extends FileTree {\n\n    /**\n     * Extensions for files to be shown\n     */\n    protected fileExtensions: string[] = [];\n\n    /**\n     * Sets extensions for filtering files\n     *\n     * @param fileExtensions array of extensions\n     */\n    setFilter(fileExtensions: string[]): void {\n        this.fileExtensions = fileExtensions.slice();\n        this.refresh();\n    }\n\n    protected async toNodes(fileStat: FileStat, parent: CompositeTreeNode): Promise<TreeNode[]> {\n        if (!fileStat.children) {\n            return [];\n        }\n\n        const result = await Promise.all(\n            fileStat.children\n                .filter(child => this.isVisible(child))\n                .map(child => this.toNode(child, parent))\n        );\n\n        return result.sort(DirNode.compare);\n    }\n\n    /**\n     * Determines whether file or folder can be shown\n     *\n     * @param fileStat resource to check\n     */\n    protected isVisible(fileStat: FileStat): boolean {\n        if (fileStat.isDirectory) {\n            return true;\n        }\n\n        if (this.fileExtensions.length === 0) {\n            return true;\n        }\n\n        return !this.fileExtensions.every(value => fileStat.resource.path.ext !== '.' + value);\n    }\n\n}\n","/********************************************************************************\n * Copyright (C) 2017 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { injectable, inject } from '@theia/core/shared/inversify';\nimport { ContextMenuRenderer, NodeProps, TreeProps, TreeNode, SELECTED_CLASS, FOCUS_CLASS } from '@theia/core/lib/browser';\nimport { FileTreeWidget, FileStatNode } from '../file-tree';\nimport { FileDialogModel } from './file-dialog-model';\n\nexport const FILE_DIALOG_CLASS = 'theia-FileDialog';\nexport const NOT_SELECTABLE_CLASS = 'theia-mod-not-selectable';\n\n@injectable()\nexport class FileDialogWidget extends FileTreeWidget {\n\n    private _disableFileSelection: boolean = false;\n\n    constructor(\n        @inject(TreeProps) readonly props: TreeProps,\n        @inject(FileDialogModel) readonly model: FileDialogModel,\n        @inject(ContextMenuRenderer) contextMenuRenderer: ContextMenuRenderer\n    ) {\n        super(props, model, contextMenuRenderer);\n        this.addClass(FILE_DIALOG_CLASS);\n    }\n\n    set disableFileSelection(isSelectable: boolean) {\n        this._disableFileSelection = isSelectable;\n        this.model.disableFileSelection = isSelectable;\n    }\n\n    protected createNodeAttributes(node: TreeNode, props: NodeProps): React.Attributes & React.HTMLAttributes<HTMLElement> {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const attr = super.createNodeAttributes(node, props) as any;\n        if (this.shouldDisableSelection(node)) {\n            const keys = Object.keys(attr);\n            keys.forEach(k => {\n                if (['className', 'style', 'title'].indexOf(k) < 0) {\n                    delete attr[k];\n                }\n            });\n        }\n        return attr;\n    }\n\n    protected createNodeClassNames(node: TreeNode, props: NodeProps): string[] {\n        const classNames = super.createNodeClassNames(node, props);\n        if (this.shouldDisableSelection(node)) {\n            [SELECTED_CLASS, FOCUS_CLASS].forEach(name => {\n                const ind = classNames.indexOf(name);\n                if (ind >= 0) {\n                    classNames.splice(ind, 1);\n                }\n            });\n            classNames.push(NOT_SELECTABLE_CLASS);\n        }\n        return classNames;\n    }\n\n    protected shouldDisableSelection(node: TreeNode): boolean {\n        return FileStatNode.is(node) && !node.fileStat.isDirectory && this._disableFileSelection;\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2017 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { injectable, inject, postConstruct } from '@theia/core/shared/inversify';\nimport { Message } from '@theia/core/shared/@phosphor/messaging';\nimport { Disposable, MaybeArray } from '@theia/core/lib/common';\nimport { codiconArray, Key, LabelProvider } from '@theia/core/lib/browser';\nimport { AbstractDialog, DialogProps, setEnabled, createIconButton, Widget } from '@theia/core/lib/browser';\nimport { FileStatNode } from '../file-tree';\nimport { LocationListRenderer, LocationListRendererFactory } from '../location';\nimport { FileDialogModel } from './file-dialog-model';\nimport { FileDialogWidget } from './file-dialog-widget';\nimport { FileDialogTreeFiltersRenderer, FileDialogTreeFilters, FileDialogTreeFiltersRendererFactory } from './file-dialog-tree-filters-renderer';\nimport URI from '@theia/core/lib/common/uri';\nimport { Panel } from '@theia/core/shared/@phosphor/widgets';\n\nexport const OpenFileDialogFactory = Symbol('OpenFileDialogFactory');\nexport interface OpenFileDialogFactory {\n    (props: OpenFileDialogProps): OpenFileDialog;\n}\n\nexport const SaveFileDialogFactory = Symbol('SaveFileDialogFactory');\nexport interface SaveFileDialogFactory {\n    (props: SaveFileDialogProps): SaveFileDialog;\n}\n\nexport const SAVE_DIALOG_CLASS = 'theia-SaveFileDialog';\n\nexport const NAVIGATION_PANEL_CLASS = 'theia-NavigationPanel';\nexport const NAVIGATION_BACK_CLASS = 'theia-NavigationBack';\nexport const NAVIGATION_FORWARD_CLASS = 'theia-NavigationForward';\nexport const NAVIGATION_HOME_CLASS = 'theia-NavigationHome';\nexport const NAVIGATION_UP_CLASS = 'theia-NavigationUp';\nexport const NAVIGATION_LOCATION_LIST_PANEL_CLASS = 'theia-LocationListPanel';\n\nexport const FILTERS_PANEL_CLASS = 'theia-FiltersPanel';\nexport const FILTERS_LABEL_CLASS = 'theia-FiltersLabel';\nexport const FILTERS_LIST_PANEL_CLASS = 'theia-FiltersListPanel';\n\nexport const FILENAME_PANEL_CLASS = 'theia-FileNamePanel';\nexport const FILENAME_LABEL_CLASS = 'theia-FileNameLabel';\nexport const FILENAME_TEXTFIELD_CLASS = 'theia-FileNameTextField';\n\nexport const CONTROL_PANEL_CLASS = 'theia-ControlPanel';\nexport const TOOLBAR_ITEM_TRANSFORM_TIMEOUT = 100;\n\nexport class FileDialogProps extends DialogProps {\n\n    /**\n     * A set of file filters that are used by the dialog. Each entry is a human readable label,\n     * like \"TypeScript\", and an array of extensions, e.g.\n     * ```ts\n     * {\n     *  'Images': ['png', 'jpg']\n     *  'TypeScript': ['ts', 'tsx']\n     * }\n     * ```\n     */\n    filters?: FileDialogTreeFilters;\n\n}\n\n@injectable()\nexport class OpenFileDialogProps extends FileDialogProps {\n\n    /**\n     * A human-readable string for the accept button.\n     */\n    openLabel?: string;\n\n    /**\n     * Allow to select files, defaults to `true`.\n     */\n    canSelectFiles?: boolean;\n\n    /**\n     * Allow to select folders, defaults to `false`.\n     */\n    canSelectFolders?: boolean;\n\n    /**\n     * Allow to select many files or folders.\n     */\n    canSelectMany?: boolean;\n\n}\n\n@injectable()\nexport class SaveFileDialogProps extends FileDialogProps {\n\n    /**\n     * A human-readable string for the accept button.\n     */\n    saveLabel?: string;\n\n    /**\n     * A human-readable value for the input.\n     */\n    inputValue?: string;\n\n}\n\nexport abstract class FileDialog<T> extends AbstractDialog<T> {\n\n    protected back: HTMLSpanElement;\n    protected forward: HTMLSpanElement;\n    protected home: HTMLSpanElement;\n    protected up: HTMLSpanElement;\n    protected locationListRenderer: LocationListRenderer;\n    protected treeFiltersRenderer: FileDialogTreeFiltersRenderer | undefined;\n    protected treePanel: Panel;\n\n    @inject(FileDialogWidget) readonly widget: FileDialogWidget;\n    @inject(LocationListRendererFactory) readonly locationListFactory: LocationListRendererFactory;\n    @inject(FileDialogTreeFiltersRendererFactory) readonly treeFiltersFactory: FileDialogTreeFiltersRendererFactory;\n\n    constructor(\n        @inject(FileDialogProps) readonly props: FileDialogProps\n    ) {\n        super(props);\n    }\n\n    @postConstruct()\n    init(): void {\n        this.treePanel = new Panel();\n        this.treePanel.addWidget(this.widget);\n        this.toDispose.push(this.treePanel);\n        this.toDispose.push(this.model.onChanged(() => this.update()));\n        this.toDispose.push(this.model.onDidOpenFile(() => this.accept()));\n        this.toDispose.push(this.model.onSelectionChanged(() => this.update()));\n\n        const navigationPanel = document.createElement('div');\n        navigationPanel.classList.add(NAVIGATION_PANEL_CLASS);\n        this.contentNode.appendChild(navigationPanel);\n\n        navigationPanel.appendChild(this.back = createIconButton(...codiconArray('chevron-left', true)));\n        this.back.classList.add(NAVIGATION_BACK_CLASS);\n        this.back.title = 'Navigate Back';\n        navigationPanel.appendChild(this.forward = createIconButton(...codiconArray('chevron-right', true)));\n        this.forward.classList.add(NAVIGATION_FORWARD_CLASS);\n        this.forward.title = 'Navigate Forward';\n        navigationPanel.appendChild(this.home = createIconButton(...codiconArray('home', true)));\n        this.home.classList.add(NAVIGATION_HOME_CLASS);\n        this.home.title = 'Go To Initial Location';\n        navigationPanel.appendChild(this.up = createIconButton(...codiconArray('arrow-up', true)));\n        this.up.classList.add(NAVIGATION_UP_CLASS);\n        this.up.title = 'Navigate Up One Directory';\n\n        const locationListRendererHost = document.createElement('div');\n        this.locationListRenderer = this.locationListFactory({ model: this.model, host: locationListRendererHost });\n        this.toDispose.push(this.locationListRenderer);\n        this.locationListRenderer.host.classList.add(NAVIGATION_LOCATION_LIST_PANEL_CLASS);\n        navigationPanel.appendChild(this.locationListRenderer.host);\n\n        if (this.props.filters) {\n            this.treeFiltersRenderer = this.treeFiltersFactory({ suppliedFilters: this.props.filters, fileDialogTree: this.widget.model.tree });\n            const filters = Object.keys(this.props.filters);\n            if (filters.length) {\n                this.widget.model.tree.setFilter(this.props.filters[filters[0]]);\n            }\n        }\n    }\n\n    get model(): FileDialogModel {\n        return this.widget.model;\n    }\n\n    protected onUpdateRequest(msg: Message): void {\n        super.onUpdateRequest(msg);\n        setEnabled(this.back, this.model.canNavigateBackward());\n        setEnabled(this.forward, this.model.canNavigateForward());\n        setEnabled(this.home, !!this.model.initialLocation\n            && !!this.model.location\n            && this.model.initialLocation.toString() !== this.model.location.toString());\n        setEnabled(this.up, this.model.canNavigateUpward());\n        this.locationListRenderer.render();\n\n        if (this.treeFiltersRenderer) {\n            this.treeFiltersRenderer.render();\n        }\n\n        this.widget.update();\n    }\n\n    protected handleEnter(event: KeyboardEvent): boolean | void {\n        if (event.target instanceof HTMLTextAreaElement || this.targetIsDirectoryInput(event.target) || this.targetIsInputToggle(event.target)) {\n            return false;\n        }\n        this.accept();\n    }\n\n    protected handleEscape(event: KeyboardEvent): boolean | void {\n        if (event.target instanceof HTMLTextAreaElement || this.targetIsDirectoryInput(event.target)) {\n            return false;\n        }\n        this.close();\n    }\n\n    protected targetIsDirectoryInput(target: EventTarget | null): boolean {\n        return target instanceof HTMLInputElement && target.classList.contains(LocationListRenderer.Styles.LOCATION_TEXT_INPUT_CLASS);\n    }\n\n    protected targetIsInputToggle(target: EventTarget | null): boolean {\n        return target instanceof HTMLSpanElement && target.classList.contains(LocationListRenderer.Styles.LOCATION_INPUT_TOGGLE_CLASS);\n    }\n\n    protected appendFiltersPanel(): void {\n        if (this.treeFiltersRenderer) {\n            const filtersPanel = document.createElement('div');\n            filtersPanel.classList.add(FILTERS_PANEL_CLASS);\n            this.contentNode.appendChild(filtersPanel);\n\n            const titlePanel = document.createElement('div');\n            titlePanel.innerHTML = 'Format:';\n            titlePanel.classList.add(FILTERS_LABEL_CLASS);\n            filtersPanel.appendChild(titlePanel);\n\n            this.treeFiltersRenderer.host.classList.add(FILTERS_LIST_PANEL_CLASS);\n            filtersPanel.appendChild(this.treeFiltersRenderer.host);\n        }\n    }\n\n    protected onAfterAttach(msg: Message): void {\n        Widget.attach(this.treePanel, this.contentNode);\n        this.toDisposeOnDetach.push(Disposable.create(() => {\n            Widget.detach(this.treePanel);\n            this.locationListRenderer.dispose();\n            if (this.treeFiltersRenderer) {\n                this.treeFiltersRenderer.dispose();\n            }\n        }));\n\n        this.appendFiltersPanel();\n\n        this.appendCloseButton('Cancel');\n        this.appendAcceptButton(this.getAcceptButtonLabel());\n\n        this.addKeyListener(this.back, Key.ENTER, () => {\n            this.addTransformEffectToIcon(this.back);\n            this.model.navigateBackward();\n        }, 'click');\n\n        this.addKeyListener(this.forward, Key.ENTER, () => {\n            this.addTransformEffectToIcon(this.forward);\n            this.model.navigateForward();\n        }, 'click');\n        this.addKeyListener(this.home, Key.ENTER, () => {\n            this.addTransformEffectToIcon(this.home);\n            if (this.model.initialLocation) {\n                this.model.location = this.model.initialLocation;\n            }\n        }, 'click');\n        this.addKeyListener(this.up, Key.ENTER, () => {\n            this.addTransformEffectToIcon(this.up);\n            if (this.model.location) {\n                this.model.location = this.model.location.parent;\n            }\n        }, 'click');\n        super.onAfterAttach(msg);\n    }\n\n    protected addTransformEffectToIcon(element: HTMLSpanElement): void {\n        const icon = element.getElementsByTagName('i')[0];\n        icon.classList.add('active');\n        setTimeout(() => icon.classList.remove('active'), TOOLBAR_ITEM_TRANSFORM_TIMEOUT);\n    }\n\n    protected abstract getAcceptButtonLabel(): string;\n\n    protected onActivateRequest(msg: Message): void {\n        this.widget.activate();\n    }\n\n}\n\n@injectable()\nexport class OpenFileDialog extends FileDialog<MaybeArray<FileStatNode>> {\n\n    constructor(@inject(OpenFileDialogProps) readonly props: OpenFileDialogProps) {\n        super(props);\n    }\n\n    @postConstruct()\n    init(): void {\n        super.init();\n        const { props } = this;\n        if (props.canSelectFiles !== undefined) {\n            this.widget.disableFileSelection = !props.canSelectFiles;\n        }\n    }\n\n    protected getAcceptButtonLabel(): string {\n        return this.props.openLabel ? this.props.openLabel : 'Open';\n    }\n\n    protected isValid(value: MaybeArray<FileStatNode>): string {\n        if (value && !this.props.canSelectMany && value instanceof Array) {\n            return 'You can select only one item';\n        }\n        return '';\n    }\n\n    get value(): MaybeArray<FileStatNode> {\n        if (this.widget.model.selectedFileStatNodes.length === 1) {\n            return this.widget.model.selectedFileStatNodes[0];\n        } else {\n            return this.widget.model.selectedFileStatNodes;\n        }\n    }\n\n    protected async accept(): Promise<void> {\n        const selection = this.value;\n        if (!this.props.canSelectFolders\n            && !Array.isArray(selection)\n            && selection.fileStat.isDirectory) {\n            this.widget.model.openNode(selection);\n            return;\n        }\n        super.accept();\n    }\n}\n\n@injectable()\nexport class SaveFileDialog extends FileDialog<URI | undefined> {\n\n    protected fileNameField: HTMLInputElement | undefined;\n\n    @inject(LabelProvider)\n    protected readonly labelProvider: LabelProvider;\n\n    constructor(@inject(SaveFileDialogProps) readonly props: SaveFileDialogProps) {\n        super(props);\n    }\n\n    @postConstruct()\n    init(): void {\n        super.init();\n        const { widget } = this;\n        widget.addClass(SAVE_DIALOG_CLASS);\n    }\n\n    protected getAcceptButtonLabel(): string {\n        return this.props.saveLabel ? this.props.saveLabel : 'Save';\n    }\n\n    protected onUpdateRequest(msg: Message): void {\n        // Update file name field when changing a selection\n        if (this.fileNameField) {\n            if (this.widget.model.selectedFileStatNodes.length === 1) {\n                const node = this.widget.model.selectedFileStatNodes[0];\n                if (!node.fileStat.isDirectory) {\n                    this.fileNameField.value = this.labelProvider.getName(node);\n                }\n            } else {\n                this.fileNameField.value = '';\n            }\n        }\n\n        // Continue updating the dialog\n        super.onUpdateRequest(msg);\n    }\n\n    protected isValid(value: URI | undefined): string | boolean {\n        if (this.fileNameField && this.fileNameField.value) {\n            return '';\n        }\n        return false;\n    }\n\n    get value(): URI | undefined {\n        if (this.fileNameField && this.widget.model.selectedFileStatNodes.length === 1) {\n            const node = this.widget.model.selectedFileStatNodes[0];\n\n            if (node.fileStat.isDirectory) {\n                return node.uri.resolve(this.fileNameField.value);\n            }\n\n            return node.uri.parent.resolve(this.fileNameField.value);\n        }\n\n        return undefined;\n    }\n\n    protected onAfterAttach(msg: Message): void {\n        super.onAfterAttach(msg);\n\n        const fileNamePanel = document.createElement('div');\n        fileNamePanel.classList.add(FILENAME_PANEL_CLASS);\n        this.contentNode.appendChild(fileNamePanel);\n\n        const titlePanel = document.createElement('div');\n        titlePanel.innerHTML = 'Name:';\n        titlePanel.classList.add(FILENAME_LABEL_CLASS);\n        fileNamePanel.appendChild(titlePanel);\n\n        this.fileNameField = document.createElement('input');\n        this.fileNameField.type = 'text';\n        this.fileNameField.spellcheck = false;\n        this.fileNameField.classList.add('theia-input', FILENAME_TEXTFIELD_CLASS);\n        this.fileNameField.value = this.props.inputValue || '';\n        fileNamePanel.appendChild(this.fileNameField);\n\n        this.fileNameField.onkeyup = () => this.validate();\n    }\n\n}\n","/********************************************************************************\n * Copyright (C) 2017 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { interfaces, Container } from '@theia/core/shared/inversify';\nimport { createTreeContainer, Tree, TreeImpl, TreeModel, TreeModelImpl, TreeWidget } from '@theia/core/lib/browser';\nimport { FileTree } from './file-tree';\nimport { FileTreeModel } from './file-tree-model';\nimport { FileTreeWidget } from './file-tree-widget';\n\nexport function createFileTreeContainer(parent: interfaces.Container): Container {\n    const child = createTreeContainer(parent);\n\n    child.unbind(TreeImpl);\n    child.bind(FileTree).toSelf();\n    child.rebind(Tree).toService(FileTree);\n\n    child.unbind(TreeModelImpl);\n    child.bind(FileTreeModel).toSelf();\n    child.rebind(TreeModel).toService(FileTreeModel);\n\n    child.unbind(TreeWidget);\n    child.bind(FileTreeWidget).toSelf();\n\n    return child;\n}\n","/********************************************************************************\n * Copyright (C) 2017 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { injectable, inject, postConstruct } from '@theia/core/shared/inversify';\nimport URI from '@theia/core/lib/common/uri';\nimport { CompositeTreeNode, TreeModelImpl, TreeNode, ConfirmDialog } from '@theia/core/lib/browser';\nimport { FileStatNode, DirNode, FileNode } from './file-tree';\nimport { LocationService } from '../location';\nimport { LabelProvider } from '@theia/core/lib/browser/label-provider';\nimport { FileService } from '../file-service';\nimport { FileOperationError, FileOperationResult, FileChangesEvent, FileChangeType, FileChange, FileOperation, FileOperationEvent } from '../../common/files';\nimport { MessageService } from '@theia/core/lib/common/message-service';\nimport { EnvVariablesServer } from '@theia/core/lib/common/env-variables';\nimport { FileSystemUtils } from '../../common';\n\n@injectable()\nexport class FileTreeModel extends TreeModelImpl implements LocationService {\n\n    @inject(LabelProvider) protected readonly labelProvider: LabelProvider;\n\n    @inject(FileService)\n    protected readonly fileService: FileService;\n\n    @inject(MessageService)\n    protected readonly messageService: MessageService;\n\n    @inject(EnvVariablesServer)\n    protected readonly environments: EnvVariablesServer;\n\n    @postConstruct()\n    protected init(): void {\n        super.init();\n        this.toDispose.push(this.fileService.onDidFilesChange(changes => this.onFilesChanged(changes)));\n        this.toDispose.push(this.fileService.onDidRunOperation(event => this.onDidMove(event)));\n    }\n\n    get location(): URI | undefined {\n        const root = this.root;\n        if (FileStatNode.is(root)) {\n            return root.uri;\n        }\n        return undefined;\n    }\n\n    set location(uri: URI | undefined) {\n        if (uri) {\n            this.fileService.resolve(uri).then(fileStat => {\n                if (fileStat) {\n                    const node = DirNode.createRoot(fileStat);\n                    this.navigateTo(node);\n                }\n            }).catch(() => {\n                // no-op, allow failures for file dialog text input\n            });\n        } else {\n            this.navigateTo(undefined);\n        }\n    }\n\n    async drives(): Promise<URI[]> {\n        try {\n            const drives = await this.environments.getDrives();\n            return drives.map(uri => new URI(uri));\n        } catch (e) {\n            this.logger.error('Error when loading drives.', e);\n            return [];\n        }\n    }\n\n    get selectedFileStatNodes(): Readonly<FileStatNode>[] {\n        return this.selectedNodes.filter(FileStatNode.is);\n    }\n\n    *getNodesByUri(uri: URI): IterableIterator<TreeNode> {\n        const node = this.getNode(uri.toString());\n        if (node) {\n            yield node;\n        }\n    }\n\n    /**\n     * to workaround https://github.com/Axosoft/nsfw/issues/42\n     */\n    protected onDidMove(event: FileOperationEvent): void {\n        if (!event.isOperation(FileOperation.MOVE)) {\n            return;\n        }\n        if (event.resource.parent.toString() === event.target.resource.parent.toString()) {\n            // file rename\n            return;\n        }\n        this.refreshAffectedNodes([\n            event.resource,\n            event.target.resource\n        ]);\n    }\n\n    protected onFilesChanged(changes: FileChangesEvent): void {\n        if (!this.refreshAffectedNodes(this.getAffectedUris(changes)) && this.isRootAffected(changes)) {\n            this.refresh();\n        }\n    }\n\n    protected isRootAffected(changes: FileChangesEvent): boolean {\n        const root = this.root;\n        if (FileStatNode.is(root)) {\n            return changes.contains(root.uri, FileChangeType.ADDED) || changes.contains(root.uri, FileChangeType.UPDATED);\n        }\n        return false;\n    }\n\n    protected getAffectedUris(changes: FileChangesEvent): URI[] {\n        return changes.changes.filter(change => !this.isFileContentChanged(change)).map(change => change.resource);\n    }\n\n    protected isFileContentChanged(change: FileChange): boolean {\n        return change.type === FileChangeType.UPDATED && FileNode.is(this.getNodesByUri(change.resource).next().value);\n    }\n\n    protected refreshAffectedNodes(uris: URI[]): boolean {\n        const nodes = this.getAffectedNodes(uris);\n        for (const node of nodes.values()) {\n            this.refresh(node);\n        }\n        return nodes.size !== 0;\n    }\n\n    protected getAffectedNodes(uris: URI[]): Map<string, CompositeTreeNode> {\n        const nodes = new Map<string, CompositeTreeNode>();\n        for (const uri of uris) {\n            for (const node of this.getNodesByUri(uri.parent)) {\n                if (DirNode.is(node) && node.expanded) {\n                    nodes.set(node.id, node);\n                }\n            }\n        }\n        return nodes;\n    }\n\n    async copy(source: URI, target: Readonly<FileStatNode>): Promise<URI> {\n        let targetUri = target.uri.resolve(source.path.base);\n        try {\n            if (source.path.toString() === target.uri.path.toString()) {\n                const parent = await this.fileService.resolve(source.parent);\n                const name = source.path.name + '_copy';\n                targetUri = FileSystemUtils.generateUniqueResourceURI(source.parent, parent, name, source.path.ext);\n            }\n            await this.fileService.copy(source, targetUri);\n        } catch (e) {\n            this.messageService.error(e.message);\n        }\n        return targetUri;\n    }\n\n    /**\n     * Move the given source file or directory to the given target directory.\n     */\n    async move(source: TreeNode, target: TreeNode): Promise<URI | undefined> {\n        if (DirNode.is(target) && FileStatNode.is(source)) {\n            const name = source.fileStat.name;\n            const targetUri = target.uri.resolve(name);\n            try {\n                await this.fileService.move(source.uri, targetUri);\n                return targetUri;\n            } catch (e) {\n                if (e instanceof FileOperationError && e.fileOperationResult === FileOperationResult.FILE_MOVE_CONFLICT) {\n                    const fileName = this.labelProvider.getName(source);\n                    if (await this.shouldReplace(fileName)) {\n                        try {\n                            await this.fileService.move(source.uri, targetUri, { overwrite: true });\n                            return targetUri;\n                        } catch (e2) {\n                            this.messageService.error(e2.message);\n                        }\n                    }\n                } else {\n                    this.messageService.error(e.message);\n                }\n            }\n        }\n        return undefined;\n    }\n\n    protected async shouldReplace(fileName: string): Promise<boolean> {\n        const dialog = new ConfirmDialog({\n            title: 'Replace file',\n            msg: `File '${fileName}' already exists in the destination folder. Do you want to replace it?`,\n            ok: 'Yes',\n            cancel: 'No'\n        });\n        return !!await dialog.open();\n    }\n\n}\n","/********************************************************************************\n * Copyright (C) 2017 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport * as React from '@theia/core/shared/react';\nimport { injectable, inject } from '@theia/core/shared/inversify';\nimport { DisposableCollection, Disposable } from '@theia/core/lib/common/disposable';\nimport URI from '@theia/core/lib/common/uri';\nimport { UriSelection } from '@theia/core/lib/common/selection';\nimport { isCancelled } from '@theia/core/lib/common/cancellation';\nimport { ContextMenuRenderer, NodeProps, TreeProps, TreeNode, CompositeTreeNode, TreeViewWelcomeWidget } from '@theia/core/lib/browser';\nimport { FileUploadService } from '../file-upload-service';\nimport { DirNode, FileStatNode, FileStatNodeData } from './file-tree';\nimport { FileTreeModel } from './file-tree-model';\nimport { IconThemeService } from '@theia/core/lib/browser/icon-theme-service';\nimport { FileStat, FileType } from '../../common/files';\n\nexport const FILE_TREE_CLASS = 'theia-FileTree';\nexport const FILE_STAT_NODE_CLASS = 'theia-FileStatNode';\nexport const DIR_NODE_CLASS = 'theia-DirNode';\nexport const FILE_STAT_ICON_CLASS = 'theia-FileStatIcon';\n\n@injectable()\nexport class FileTreeWidget extends TreeViewWelcomeWidget {\n\n    protected readonly toCancelNodeExpansion = new DisposableCollection();\n\n    @inject(FileUploadService)\n    protected readonly uploadService: FileUploadService;\n\n    @inject(IconThemeService)\n    protected readonly iconThemeService: IconThemeService;\n\n    constructor(\n        @inject(TreeProps) readonly props: TreeProps,\n        @inject(FileTreeModel) readonly model: FileTreeModel,\n        @inject(ContextMenuRenderer) contextMenuRenderer: ContextMenuRenderer\n    ) {\n        super(props, model, contextMenuRenderer);\n        this.addClass(FILE_TREE_CLASS);\n        this.toDispose.push(this.toCancelNodeExpansion);\n    }\n\n    protected createNodeClassNames(node: TreeNode, props: NodeProps): string[] {\n        const classNames = super.createNodeClassNames(node, props);\n        if (FileStatNode.is(node)) {\n            classNames.push(FILE_STAT_NODE_CLASS);\n        }\n        if (DirNode.is(node)) {\n            classNames.push(DIR_NODE_CLASS);\n        }\n        return classNames;\n    }\n\n    protected renderIcon(node: TreeNode, props: NodeProps): React.ReactNode {\n        const icon = this.toNodeIcon(node);\n        if (icon) {\n            return <div className={icon + ' file-icon'}></div>;\n        }\n        // eslint-disable-next-line no-null/no-null\n        return null;\n    }\n\n    protected createContainerAttributes(): React.HTMLAttributes<HTMLElement> {\n        const attrs = super.createContainerAttributes();\n        return {\n            ...attrs,\n            onDragEnter: event => this.handleDragEnterEvent(this.model.root, event),\n            onDragOver: event => this.handleDragOverEvent(this.model.root, event),\n            onDragLeave: event => this.handleDragLeaveEvent(this.model.root, event),\n            onDrop: event => this.handleDropEvent(this.model.root, event)\n        };\n    }\n\n    protected createNodeAttributes(node: TreeNode, props: NodeProps): React.Attributes & React.HTMLAttributes<HTMLElement> {\n        const elementAttrs = super.createNodeAttributes(node, props);\n        return {\n            ...elementAttrs,\n            draggable: FileStatNode.is(node),\n            onDragStart: event => this.handleDragStartEvent(node, event),\n            onDragEnter: event => this.handleDragEnterEvent(node, event),\n            onDragOver: event => this.handleDragOverEvent(node, event),\n            onDragLeave: event => this.handleDragLeaveEvent(node, event),\n            onDrop: event => this.handleDropEvent(node, event),\n            title: this.getNodeTooltip(node)\n        };\n    }\n\n    protected getNodeTooltip(node: TreeNode): string | undefined {\n        const uri = UriSelection.getUri(node);\n        return uri ? uri.path.toString() : undefined;\n    }\n\n    protected handleDragStartEvent(node: TreeNode, event: React.DragEvent): void {\n        event.stopPropagation();\n        let selectedNodes;\n        if (this.model.selectedNodes.find(selected => TreeNode.equals(selected, node))) {\n            selectedNodes = [...this.model.selectedNodes];\n        } else {\n            selectedNodes = [node];\n        }\n        this.setSelectedTreeNodesAsData(event.dataTransfer, node, selectedNodes);\n        if (event.dataTransfer) {\n            let label: string;\n            if (selectedNodes.length === 1) {\n                label = this.toNodeName(node);\n            } else {\n                label = String(selectedNodes.length);\n            }\n            const dragImage = document.createElement('div');\n            dragImage.className = 'theia-file-tree-drag-image';\n            dragImage.textContent = label;\n            document.body.appendChild(dragImage);\n            event.dataTransfer.setDragImage(dragImage, -10, -10);\n            setTimeout(() => document.body.removeChild(dragImage), 0);\n        }\n    }\n\n    protected handleDragEnterEvent(node: TreeNode | undefined, event: React.DragEvent): void {\n        event.preventDefault();\n        event.stopPropagation();\n        this.toCancelNodeExpansion.dispose();\n        const containing = DirNode.getContainingDir(node);\n        if (!!containing && !containing.selected) {\n            this.model.selectNode(containing);\n        }\n    }\n\n    protected handleDragOverEvent(node: TreeNode | undefined, event: React.DragEvent): void {\n        event.preventDefault();\n        event.stopPropagation();\n        if (!this.toCancelNodeExpansion.disposed) {\n            return;\n        }\n        const timer = setTimeout(() => {\n            const containing = DirNode.getContainingDir(node);\n            if (!!containing && !containing.expanded) {\n                this.model.expandNode(containing);\n            }\n        }, 500);\n        this.toCancelNodeExpansion.push(Disposable.create(() => clearTimeout(timer)));\n    }\n\n    protected handleDragLeaveEvent(node: TreeNode | undefined, event: React.DragEvent): void {\n        event.preventDefault();\n        event.stopPropagation();\n        this.toCancelNodeExpansion.dispose();\n    }\n\n    protected async handleDropEvent(node: TreeNode | undefined, event: React.DragEvent): Promise<void> {\n        try {\n            event.preventDefault();\n            event.stopPropagation();\n            event.dataTransfer.dropEffect = 'copy'; // Explicitly show this is a copy.\n            const containing = this.getDropTargetDirNode(node);\n            if (containing) {\n                const resources = this.getSelectedTreeNodesFromData(event.dataTransfer);\n                if (resources.length > 0) {\n                    for (const treeNode of resources) {\n                        await this.model.move(treeNode, containing);\n                    }\n                } else {\n                    await this.uploadService.upload(containing.uri, { source: event.dataTransfer });\n                }\n            }\n        } catch (e) {\n            if (!isCancelled(e)) {\n                console.error(e);\n            }\n        }\n    }\n\n    protected getDropTargetDirNode(node: TreeNode | undefined): DirNode | undefined {\n        if (CompositeTreeNode.is(node) && node.id === 'WorkspaceNodeId') {\n            if (node.children.length === 1) {\n                return DirNode.getContainingDir(node.children[0]);\n            } else if (node.children.length > 1) {\n                // move file to the last root folder in multi-root scenario\n                return DirNode.getContainingDir(node.children[node.children.length - 1]);\n            }\n        }\n        return DirNode.getContainingDir(node);\n    }\n\n    protected setTreeNodeAsData(data: DataTransfer, node: TreeNode): void {\n        data.setData('tree-node', node.id);\n    }\n\n    protected setSelectedTreeNodesAsData(data: DataTransfer, sourceNode: TreeNode, relatedNodes: TreeNode[]): void {\n        this.setTreeNodeAsData(data, sourceNode);\n        data.setData('selected-tree-nodes', JSON.stringify(relatedNodes.map(node => node.id)));\n    }\n\n    protected getTreeNodeFromData(data: DataTransfer): TreeNode | undefined {\n        const id = data.getData('tree-node');\n        return this.model.getNode(id);\n    }\n    protected getSelectedTreeNodesFromData(data: DataTransfer): TreeNode[] {\n        const resources = data.getData('selected-tree-nodes');\n        if (!resources) {\n            return [];\n        }\n        const ids: string[] = JSON.parse(resources);\n        return ids.map(id => this.model.getNode(id)).filter(node => node !== undefined) as TreeNode[];\n    }\n\n    protected get hidesExplorerArrows(): boolean {\n        const theme = this.iconThemeService.getDefinition(this.iconThemeService.current);\n        return !!theme && !!theme.hidesExplorerArrows;\n    }\n\n    protected renderExpansionToggle(node: TreeNode, props: NodeProps): React.ReactNode {\n        if (this.hidesExplorerArrows) {\n            // eslint-disable-next-line no-null/no-null\n            return null;\n        }\n        return super.renderExpansionToggle(node, props);\n    }\n\n    protected getPaddingLeft(node: TreeNode, props: NodeProps): number {\n        if (this.hidesExplorerArrows) {\n            // additional left padding instead of top-level expansion toggle\n            return super.getPaddingLeft(node, props) + this.props.leftPadding;\n        }\n        return super.getPaddingLeft(node, props);\n    }\n\n    protected needsExpansionTogglePadding(node: TreeNode): boolean {\n        const theme = this.iconThemeService.getDefinition(this.iconThemeService.current);\n        if (theme && (theme.hidesExplorerArrows || (theme.hasFileIcons && !theme.hasFolderIcons))) {\n            return false;\n        }\n        return super.needsExpansionTogglePadding(node);\n    }\n\n    protected deflateForStorage(node: TreeNode): object {\n        const deflated = super.deflateForStorage(node);\n        if (FileStatNode.is(node) && FileStatNodeData.is(deflated)) {\n            deflated.uri = node.uri.toString();\n            delete deflated['fileStat'];\n            deflated.stat = FileStat.toStat(node.fileStat);\n        }\n        return deflated;\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    protected inflateFromStorage(node: any, parent?: TreeNode): TreeNode {\n        if (FileStatNodeData.is(node)) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            const fileStatNode: FileStatNode = node as any;\n            const resource = new URI(node.uri);\n            fileStatNode.uri = resource;\n            let stat: typeof node['stat'];\n            // in order to support deprecated FileStat\n            if (node.fileStat) {\n                stat = {\n                    type: node.fileStat.isDirectory ? FileType.Directory : FileType.File,\n                    mtime: node.fileStat.lastModification,\n                    size: node.fileStat.size\n                };\n                delete node['fileStat'];\n            } else if (node.stat) {\n                stat = node.stat;\n                delete node['stat'];\n            }\n            if (stat) {\n                fileStatNode.fileStat = FileStat.fromStat(resource, stat);\n            }\n        }\n        const inflated = super.inflateFromStorage(node, parent);\n        if (DirNode.is(inflated)) {\n            inflated.fileStat.children = [];\n            for (const child of inflated.children) {\n                if (FileStatNode.is(child)) {\n                    inflated.fileStat.children.push(child.fileStat);\n                }\n            }\n        }\n        return inflated;\n    }\n\n}\n","/********************************************************************************\n * Copyright (C) 2017 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport { injectable, inject } from '@theia/core/shared/inversify';\nimport URI from '@theia/core/lib/common/uri';\nimport { TreeNode, CompositeTreeNode, SelectableTreeNode, ExpandableTreeNode, TreeImpl } from '@theia/core/lib/browser';\nimport { Mutable } from '@theia/core/lib/common/types';\nimport { FileStat, Stat, FileType, FileOperationError, FileOperationResult } from '../../common/files';\nimport { FileStat as DeprecatedFileStat } from '../../common/filesystem';\nimport { UriSelection } from '@theia/core/lib/common/selection';\nimport { MessageService } from '@theia/core/lib/common/message-service';\nimport { FileSelection } from '../file-selection';\nimport { FileService } from '../file-service';\n\n@injectable()\nexport class FileTree extends TreeImpl {\n\n    @inject(FileService)\n    protected readonly fileService: FileService;\n\n    @inject(MessageService)\n    protected readonly messagingService: MessageService;\n\n    async resolveChildren(parent: CompositeTreeNode): Promise<TreeNode[]> {\n        if (FileStatNode.is(parent)) {\n            const fileStat = await this.resolveFileStat(parent);\n            if (fileStat) {\n                return this.toNodes(fileStat, parent);\n            }\n            return [];\n        }\n        return super.resolveChildren(parent);\n    }\n\n    protected async resolveFileStat(node: FileStatNode): Promise<FileStat | undefined> {\n        try {\n            const fileStat = await this.fileService.resolve(node.uri);\n            node.fileStat = fileStat;\n            return fileStat;\n        } catch (e) {\n            if (!(e instanceof FileOperationError && e.fileOperationResult === FileOperationResult.FILE_NOT_FOUND)) {\n                this.messagingService.error(e.message);\n            }\n            return undefined;\n        }\n    }\n\n    protected async toNodes(fileStat: FileStat, parent: CompositeTreeNode): Promise<TreeNode[]> {\n        if (!fileStat.children) {\n            return [];\n        }\n        const result = await Promise.all(fileStat.children.map(async child =>\n            this.toNode(child, parent)\n        ));\n        return result.sort(DirNode.compare);\n    }\n\n    protected toNode(fileStat: FileStat, parent: CompositeTreeNode): FileNode | DirNode {\n        const uri = fileStat.resource;\n        const id = this.toNodeId(uri, parent);\n        const node = this.getNode(id);\n        if (fileStat.isDirectory) {\n            if (DirNode.is(node)) {\n                node.fileStat = fileStat;\n                return node;\n            }\n            return <DirNode>{\n                id, uri, fileStat, parent,\n                expanded: false,\n                selected: false,\n                children: []\n            };\n        }\n        if (FileNode.is(node)) {\n            node.fileStat = fileStat;\n            return node;\n        }\n        return <FileNode>{\n            id, uri, fileStat, parent,\n            selected: false\n        };\n    }\n\n    protected toNodeId(uri: URI, parent: CompositeTreeNode): string {\n        return uri.path.toString();\n    }\n}\n\nexport interface FileStatNode extends SelectableTreeNode, Mutable<UriSelection>, FileSelection {\n}\nexport namespace FileStatNode {\n    export function is(node: object | undefined): node is FileStatNode {\n        return !!node && 'fileStat' in node;\n    }\n\n    export function getUri(node: TreeNode | undefined): string | undefined {\n        if (is(node)) {\n            return node.fileStat.resource.toString();\n        }\n        return undefined;\n    }\n}\n\nexport type FileStatNodeData = Omit<FileStatNode, 'uri' | 'fileStat'> & {\n    uri: string\n    stat?: Stat | { type: FileType } & Partial<Stat>\n    fileStat?: DeprecatedFileStat\n};\nexport namespace FileStatNodeData {\n    export function is(node: object | undefined): node is FileStatNodeData {\n        return !!node && 'uri' in node && ('fileStat' in node || 'stat' in node);\n    }\n}\n\nexport type FileNode = FileStatNode;\nexport namespace FileNode {\n    export function is(node: Object | undefined): node is FileNode {\n        return FileStatNode.is(node) && !node.fileStat.isDirectory;\n    }\n}\n\nexport type DirNode = FileStatNode & ExpandableTreeNode;\nexport namespace DirNode {\n    export function is(node: Object | undefined): node is DirNode {\n        return FileStatNode.is(node) && node.fileStat.isDirectory;\n    }\n\n    export function compare(node: TreeNode, node2: TreeNode): number {\n        return DirNode.dirCompare(node, node2) || uriCompare(node, node2);\n    }\n\n    export function uriCompare(node: TreeNode, node2: TreeNode): number {\n        if (FileStatNode.is(node)) {\n            if (FileStatNode.is(node2)) {\n                return node.uri.displayName.localeCompare(node2.uri.displayName);\n            }\n            return 1;\n        }\n        if (FileStatNode.is(node2)) {\n            return -1;\n        }\n        return 0;\n    }\n\n    export function dirCompare(node: TreeNode, node2: TreeNode): number {\n        const a = DirNode.is(node) ? 1 : 0;\n        const b = DirNode.is(node2) ? 1 : 0;\n        return b - a;\n    }\n\n    export function createRoot(fileStat: FileStat): DirNode {\n        const uri = fileStat.resource;\n        const id = uri.toString();\n        return {\n            id, uri, fileStat,\n            visible: true,\n            parent: undefined,\n            children: [],\n            expanded: true,\n            selected: false\n        };\n    }\n\n    export function getContainingDir(node: TreeNode | undefined): DirNode | undefined {\n        let containing = node;\n        while (!!containing && !is(containing)) {\n            containing = containing.parent;\n        }\n        return containing;\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2017 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nexport * from './file-tree';\nexport * from './file-tree-model';\nexport * from './file-tree-widget';\nexport * from './file-tree-container';\n","/********************************************************************************\n * Copyright (C) 2019 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nimport { injectable, inject, postConstruct } from '@theia/core/shared/inversify';\nimport URI from '@theia/core/lib/common/uri';\nimport { CancellationTokenSource, CancellationToken, checkCancelled, cancelled, isCancelled } from '@theia/core/lib/common/cancellation';\nimport { Deferred } from '@theia/core/lib/common/promise-util';\nimport { MessageService } from '@theia/core/lib/common/message-service';\nimport { Progress } from '@theia/core/lib/common/message-service-protocol';\nimport { Endpoint } from '@theia/core/lib/browser/endpoint';\nimport throttle = require('@theia/core/shared/lodash.throttle');\nimport { HTTP_FILE_UPLOAD_PATH } from '../common/file-upload';\nimport { Semaphore } from 'async-mutex';\nimport { FileSystemPreferences } from './filesystem-preferences';\n\nexport const HTTP_UPLOAD_URL: string = new Endpoint({ path: HTTP_FILE_UPLOAD_PATH }).getRestUrl().toString(true);\n\nexport interface FileUploadParams {\n    source?: DataTransfer\n    progress?: FileUploadProgressParams\n    onDidUpload?: (uri: string) => void;\n}\nexport interface FileUploadProgressParams {\n    text: string\n}\n\nexport interface FileUploadResult {\n    uploaded: string[]\n}\n\n@injectable()\nexport class FileUploadService {\n\n    static TARGET = 'target';\n    static UPLOAD = 'upload';\n\n    protected uploadForm: FileUploadService.Form;\n    protected deferredUpload?: Deferred<FileUploadResult>;\n\n    @inject(MessageService)\n    protected readonly messageService: MessageService;\n\n    @inject(FileSystemPreferences)\n    protected fileSystemPreferences: FileSystemPreferences;\n\n    get maxConcurrentUploads(): number {\n        const maxConcurrentUploads = this.fileSystemPreferences['files.maxConcurrentUploads'];\n        return maxConcurrentUploads > 0 ? maxConcurrentUploads : Infinity;\n    }\n\n    @postConstruct()\n    protected init(): void {\n        this.uploadForm = this.createUploadForm();\n    }\n\n    protected createUploadForm(): FileUploadService.Form {\n        const targetInput = document.createElement('input');\n        targetInput.type = 'text';\n        targetInput.spellcheck = false;\n        targetInput.name = FileUploadService.TARGET;\n        targetInput.classList.add('theia-input');\n\n        const fileInput = document.createElement('input');\n        fileInput.type = 'file';\n        fileInput.classList.add('theia-input');\n        fileInput.name = FileUploadService.UPLOAD;\n        fileInput.multiple = true;\n\n        const form = document.createElement('form');\n        form.style.display = 'none';\n        form.enctype = 'multipart/form-data';\n        form.append(targetInput);\n        form.append(fileInput);\n\n        document.body.appendChild(form);\n\n        fileInput.addEventListener('change', () => {\n            if (this.deferredUpload && fileInput.value) {\n                const source: FileUploadService.Source = new FormData(form);\n                // clean up to allow upload to the same folder twice\n                fileInput.value = '';\n                const targetUri = new URI(<string>source.get(FileUploadService.TARGET));\n                const { resolve, reject } = this.deferredUpload;\n                this.deferredUpload = undefined;\n                const { onDidUpload } = this.uploadForm;\n                this.withProgress(\n                    (progress, token) => this.uploadAll(targetUri, { source, progress, token, onDidUpload }),\n                    this.uploadForm.progress\n                ).then(resolve, reject);\n            }\n        });\n        return { targetInput, fileInput };\n    }\n\n    async upload(targetUri: string | URI, params: FileUploadParams = {}): Promise<FileUploadResult> {\n        const { source, onDidUpload } = params;\n        if (source) {\n            return this.withProgress(\n                (progress, token) => this.uploadAll(\n                    typeof targetUri === 'string' ? new URI(targetUri) : targetUri,\n                    { source, progress, token, onDidUpload }\n                ),\n                params.progress,\n            );\n        }\n        this.deferredUpload = new Deferred<FileUploadResult>();\n        this.uploadForm.targetInput.value = String(targetUri);\n        this.uploadForm.fileInput.click();\n        this.uploadForm.progress = params.progress;\n        this.uploadForm.onDidUpload = params.onDidUpload;\n        return this.deferredUpload.promise;\n    }\n\n    protected getUploadUrl(): string {\n        return HTTP_UPLOAD_URL;\n    }\n\n    protected async uploadAll(targetUri: URI, params: FileUploadService.UploadParams): Promise<FileUploadResult> {\n        const responses: Promise<void>[] = [];\n        const status = new Map<File, {\n            total: number\n            done: number\n            uploaded?: boolean\n        }>();\n        const result: FileUploadResult = {\n            uploaded: []\n        };\n        /**\n         * When `false`: display the uploading progress.\n         * When `true`: display the server-processing progress.\n         */\n        let waitingForResponses = false;\n        const report = throttle(() => {\n            if (waitingForResponses) {\n                /** Number of files being processed. */\n                const total = status.size;\n                /** Number of files uploaded and processed. */\n                let done = 0;\n                for (const item of status.values()) {\n                    if (item.uploaded) {\n                        done += 1;\n                    }\n                }\n                params.progress.report({\n                    message: `Processed ${done} out of ${total}`,\n                    work: { total, done }\n                });\n            } else {\n                /** Total number of bytes being uploaded. */\n                let total = 0;\n                /** Current number of bytes uploaded. */\n                let done = 0;\n                for (const item of status.values()) {\n                    total += item.total;\n                    done += item.done;\n                }\n                params.progress.report({\n                    message: `Uploaded ${result.uploaded.length} out of ${status.size}`,\n                    work: { total, done }\n                });\n            }\n        }, 100);\n        const uploads: Promise<void>[] = [];\n        const uploadSemaphore = new Semaphore(this.maxConcurrentUploads);\n        try {\n            await this.index(targetUri, params.source, {\n                token: params.token,\n                progress: params.progress,\n                accept: async item => {\n                    // Track and initialize the file in the status map:\n                    status.set(item.file, { total: item.file.size, done: 0 });\n                    report();\n                    // Don't await here: the semaphore will organize the uploading tasks, not the async indexer.\n                    uploads.push(uploadSemaphore.runExclusive(async () => {\n                        checkCancelled(params.token);\n                        const { upload, response } = this.uploadFile(item.file, item.uri, params.token, (total, done) => {\n                            const entry = status.get(item.file);\n                            if (entry) {\n                                entry.total = total;\n                                entry.done = done;\n                                report();\n                            }\n                        });\n                        function onError(error: Error): void {\n                            status.delete(item.file);\n                            throw error;\n                        }\n                        responses.push(response\n                            .then(() => {\n                                checkCancelled(params.token);\n                                // Consider the file uploaded once the server sends OK back.\n                                result.uploaded.push(item.uri.toString(true));\n                                const entry = status.get(item.file);\n                                if (entry) {\n                                    entry.uploaded = true;\n                                    report();\n                                }\n                            })\n                            .catch(onError)\n                        );\n                        // Have the queue wait for the upload only.\n                        return upload\n                            .catch(onError);\n                    }));\n                }\n            });\n            checkCancelled(params.token);\n            await Promise.all(uploads);\n            checkCancelled(params.token);\n            waitingForResponses = true;\n            report();\n            await Promise.all(responses);\n        } catch (error) {\n            uploadSemaphore.cancel();\n            if (!isCancelled(error)) {\n                throw error;\n            }\n        }\n        return result;\n    }\n\n    protected uploadFile(\n        file: File,\n        targetUri: URI,\n        token: CancellationToken,\n        onProgress: (total: number, done: number) => void\n    ): {\n        /**\n         * Promise that resolves once the uploading is finished.\n         *\n         * Rejects on network error.\n         * Rejects if status is not OK (200).\n         * Rejects if cancelled.\n         */\n        upload: Promise<void>\n        /**\n         * Promise that resolves after the uploading step, once the server answers back.\n         *\n         * Rejects on network error.\n         * Rejects if status is not OK (200).\n         * Rejects if cancelled.\n         */\n        response: Promise<void>\n    } {\n        const data = new FormData();\n        data.set('uri', targetUri.toString(true));\n        data.set('file', file);\n        // TODO: Use Fetch API once it supports upload monitoring.\n        const xhr = new XMLHttpRequest();\n        token.onCancellationRequested(() => xhr.abort());\n        const upload = new Promise<void>((resolve, reject) => {\n            this.registerEvents(xhr.upload, unregister => ({\n                progress: (event: ProgressEvent<XMLHttpRequestEventTarget>) => {\n                    if (event.total === event.loaded) {\n                        unregister();\n                        resolve();\n                    } else {\n                        onProgress(event.total, event.loaded);\n                    }\n                },\n                abort: () => {\n                    unregister();\n                    reject(cancelled());\n                },\n                error: () => {\n                    unregister();\n                    reject(new Error('POST upload error'));\n                },\n                // `load` fires once the response is received, not when the upload is finished.\n                // `resolve` should be called earlier within `progress` but this is a safety catch.\n                load: () => {\n                    unregister();\n                    if (xhr.status === 200) {\n                        resolve();\n                    } else {\n                        reject(new Error(`POST request failed: ${xhr.status} ${xhr.statusText}`));\n                    }\n                },\n            }));\n        });\n        const response = new Promise<void>((resolve, reject) => {\n            this.registerEvents(xhr, unregister => ({\n                abort: () => {\n                    unregister();\n                    reject(cancelled());\n                },\n                error: () => {\n                    unregister();\n                    reject(new Error('POST request error'));\n                },\n                load: () => {\n                    unregister();\n                    if (xhr.status === 200) {\n                        resolve();\n                    } else {\n                        reject(new Error(`POST request failed: ${xhr.status} ${xhr.statusText}`));\n                    }\n                }\n            }));\n        });\n        xhr.open('POST', this.getUploadUrl(), /* async: */ true);\n        xhr.send(data);\n        return {\n            upload,\n            response\n        };\n    }\n\n    /**\n     * Utility function to attach events and get a callback to unregister those.\n     *\n     * You may not call `unregister` in the same tick as `register` is invoked.\n     */\n    protected registerEvents(\n        target: EventTarget,\n        register: (unregister: () => void) => Record<string, EventListenerOrEventListenerObject>\n    ): void {\n        const events = register(() => {\n            for (const [event, fn] of Object.entries(events)) {\n                target.removeEventListener(event, fn);\n            }\n        });\n        for (const [event, fn] of Object.entries(events)) {\n            target.addEventListener(event, fn);\n        }\n    }\n\n    protected async withProgress<T>(\n        cb: (progress: Progress, token: CancellationToken) => Promise<T>,\n        { text }: FileUploadProgressParams = { text: 'Uploading Files' }\n    ): Promise<T> {\n        const cancellationSource = new CancellationTokenSource();\n        const { token } = cancellationSource;\n        const progress = await this.messageService.showProgress(\n            { text, options: { cancelable: true } },\n            () => cancellationSource.cancel()\n        );\n        try {\n            return await cb(progress, token);\n        } finally {\n            progress.cancel();\n        }\n    }\n\n    protected async index(targetUri: URI, source: FileUploadService.Source, context: FileUploadService.Context): Promise<void> {\n        if (source instanceof FormData) {\n            await this.indexFormData(targetUri, source, context);\n        } else {\n            await this.indexDataTransfer(targetUri, source, context);\n        }\n    }\n\n    protected async indexFormData(targetUri: URI, formData: FormData, context: FileUploadService.Context): Promise<void> {\n        for (const entry of formData.getAll(FileUploadService.UPLOAD)) {\n            if (entry instanceof File) {\n                await this.indexFile(targetUri, entry, context);\n            }\n        }\n    }\n\n    protected async indexDataTransfer(targetUri: URI, dataTransfer: DataTransfer, context: FileUploadService.Context): Promise<void> {\n        checkCancelled(context.token);\n        if (dataTransfer.items) {\n            await this.indexDataTransferItemList(targetUri, dataTransfer.items, context);\n        } else {\n            await this.indexFileList(targetUri, dataTransfer.files, context);\n        }\n    }\n\n    protected async indexFileList(targetUri: URI, files: FileList, context: FileUploadService.Context): Promise<void> {\n        for (let i = 0; i < files.length; i++) {\n            const file = files[i];\n            if (file) {\n                await this.indexFile(targetUri, file, context);\n            }\n        }\n    }\n\n    protected async indexFile(targetUri: URI, file: File, context: FileUploadService.Context): Promise<void> {\n        await context.accept({\n            uri: targetUri.resolve(file.name),\n            file\n        });\n    }\n\n    protected async indexDataTransferItemList(targetUri: URI, items: DataTransferItemList, context: FileUploadService.Context): Promise<void> {\n        checkCancelled(context.token);\n        const entries: WebKitEntry[] = [];\n        for (let i = 0; i < items.length; i++) {\n            const entry = items[i].webkitGetAsEntry() as WebKitEntry;\n            entries.push(entry);\n        }\n        await this.indexEntries(targetUri, entries, context);\n\n    }\n\n    protected async indexEntry(targetUri: URI, entry: WebKitEntry | null, context: FileUploadService.Context): Promise<void> {\n        checkCancelled(context.token);\n        if (!entry) {\n            return;\n        }\n        if (entry.isDirectory) {\n            await this.indexDirectoryEntry(targetUri, entry as WebKitDirectoryEntry, context);\n        } else {\n            await this.indexFileEntry(targetUri, entry as WebKitFileEntry, context);\n        }\n    }\n\n    /**\n     *  Read all entries within a folder by block of 100 files or folders until the\n     *  whole folder has been read.\n     */\n    protected async indexDirectoryEntry(targetUri: URI, entry: WebKitDirectoryEntry, context: FileUploadService.Context): Promise<void> {\n        checkCancelled(context.token);\n        const newTargetUri = targetUri.resolve(entry.name);\n        return new Promise<void>(async (resolve, reject) => {\n            const reader = entry.createReader();\n            const getEntries = () => reader.readEntries(async results => {\n                try {\n                    if (!context.token.isCancellationRequested && results && results.length) {\n                        await this.indexEntries(newTargetUri, results, context);\n                        getEntries(); // loop to read all getEntries\n                    } else {\n                        resolve();\n                    }\n                } catch (e) {\n                    reject(e);\n                }\n            }, reject);\n            getEntries();\n        });\n    }\n\n    protected async indexEntries(targetUri: URI, entries: WebKitEntry[], context: FileUploadService.Context): Promise<void> {\n        checkCancelled(context.token);\n        for (let i = 0; i < entries.length; i++) {\n            await this.indexEntry(targetUri, entries[i], context);\n        }\n    }\n\n    protected async indexFileEntry(targetUri: URI, entry: WebKitFileEntry, context: FileUploadService.Context): Promise<void> {\n        await new Promise<void>((resolve, reject) => {\n            try {\n                entry.file(\n                    file => this.indexFile(targetUri, file, context).then(resolve, reject),\n                    reject,\n                );\n            } catch (e) {\n                reject(e);\n            }\n        });\n    }\n\n}\n\nexport namespace FileUploadService {\n    export type Source = FormData | DataTransfer;\n    export interface UploadEntry {\n        file: File\n        uri: URI\n    }\n    export interface Context {\n        progress: Progress\n        token: CancellationToken\n        accept: (entry: UploadEntry) => Promise<void>\n    }\n    export interface Form {\n        targetInput: HTMLInputElement\n        fileInput: HTMLInputElement\n        progress?: FileUploadProgressParams\n        onDidUpload?: (uri: string) => void\n    }\n    export interface UploadParams {\n        source: FileUploadService.Source,\n        progress: Progress,\n        token: CancellationToken,\n        onDidUpload?: (uri: string) => void\n    }\n}\n","/********************************************************************************\n * Copyright (C) 2017 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nexport * from './location-service';\nexport * from './location-renderer';\n","/********************************************************************************\n * Copyright (C) 2017 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport URI from '@theia/core/lib/common/uri';\nimport { LocationService } from './location-service';\nimport * as React from '@theia/core/shared/react';\nimport * as ReactDOM from '@theia/core/shared/react-dom';\nimport { FileService } from '../file-service';\nimport { DisposableCollection, Emitter } from '@theia/core/lib/common';\nimport { injectable, inject, postConstruct } from '@theia/core/shared/inversify';\nimport { FileDialogModel } from '../file-dialog/file-dialog-model';\nimport { EnvVariablesServer } from '@theia/core/lib/common/env-variables';\nimport { ReactRenderer } from '@theia/core/lib/browser/widgets/react-renderer';\nimport { Path } from '@theia/core/lib/common';\nimport { codicon } from '@theia/core/lib/browser';\n\ninterface AutoSuggestDataEvent {\n    parent: string;\n    children: string[];\n}\n\nclass ResolvedDirectoryCache {\n    protected pendingResolvedDirectories = new Map<string, Promise<void>>();\n    protected cachedDirectories = new Map<string, string[]>();\n\n    protected directoryResolvedEmitter = new Emitter<AutoSuggestDataEvent>();\n    readonly onDirectoryDidResolve = this.directoryResolvedEmitter.event;\n\n    constructor(protected readonly fileService: FileService) { }\n\n    tryResolveChildDirectories(inputAsURI: URI): string[] | undefined {\n        const parentDirectory = inputAsURI.path.dir.toString();\n        const cachedDirectories = this.cachedDirectories.get(parentDirectory);\n        const pendingDirectories = this.pendingResolvedDirectories.get(parentDirectory);\n        if (cachedDirectories) {\n            return cachedDirectories;\n        } else if (!pendingDirectories) {\n            this.pendingResolvedDirectories.set(parentDirectory, this.createResolutionPromise(parentDirectory));\n        }\n        return undefined;\n    }\n\n    protected async createResolutionPromise(directoryToResolve: string): Promise<void> {\n        return this.fileService.resolve(new URI(directoryToResolve)).then(({ children }) => {\n            if (children) {\n                const childDirectories = children.filter(child => child.isDirectory)\n                    .map(directory => `${directory.resource.path}/`);\n                this.cachedDirectories.set(directoryToResolve, childDirectories);\n                this.directoryResolvedEmitter.fire({ parent: directoryToResolve, children: childDirectories });\n            }\n        }).catch(e => {\n            // no-op\n        });\n    }\n}\n\nexport const LocationListRendererFactory = Symbol('LocationListRendererFactory');\nexport interface LocationListRendererFactory {\n    (options: LocationListRendererOptions): LocationListRenderer;\n}\n\nexport const LocationListRendererOptions = Symbol('LocationListRendererOptions');\nexport interface LocationListRendererOptions {\n    model: FileDialogModel;\n    host?: HTMLElement;\n}\n\n@injectable()\nexport class LocationListRenderer extends ReactRenderer {\n\n    @inject(FileService) protected readonly fileService: FileService;\n    @inject(EnvVariablesServer) protected readonly variablesServer: EnvVariablesServer;\n\n    protected directoryCache: ResolvedDirectoryCache;\n    protected service: LocationService;\n    protected toDisposeOnNewCache = new DisposableCollection();\n    protected _drives: URI[] | undefined;\n    protected _doShowTextInput = false;\n    protected homeDir: string;\n\n    get doShowTextInput(): boolean {\n        return this._doShowTextInput;\n    }\n    set doShowTextInput(doShow: boolean) {\n        this._doShowTextInput = doShow;\n        if (doShow) {\n            this.initResolveDirectoryCache();\n        }\n    }\n    protected lastUniqueTextInputLocation: URI | undefined;\n    protected previousAutocompleteMatch: string;\n    protected doAttemptAutocomplete = true;\n\n    constructor(\n        @inject(LocationListRendererOptions) readonly options: LocationListRendererOptions\n    ) {\n        super(options.host);\n        this.service = options.model;\n        this.doLoadDrives();\n    }\n\n    @postConstruct()\n    async init(): Promise<void> {\n        const homeDirWithPrefix = await this.variablesServer.getHomeDirUri();\n        this.homeDir = (new URI(homeDirWithPrefix)).path.toString();\n    }\n\n    render(): void {\n        ReactDOM.render(this.doRender(), this.host, this.doAfterRender);\n    }\n\n    protected initResolveDirectoryCache(): void {\n        this.toDisposeOnNewCache.dispose();\n        this.directoryCache = new ResolvedDirectoryCache(this.fileService);\n        this.toDisposeOnNewCache.push(this.directoryCache.onDirectoryDidResolve(({ parent, children }) => {\n            if (this.locationTextInput) {\n                const expandedPath = Path.untildify(this.locationTextInput.value, this.homeDir);\n                const inputParent = (new URI(expandedPath)).path.dir.toString();\n                if (inputParent === parent) {\n                    this.tryRenderFirstMatch(this.locationTextInput, children);\n                }\n            }\n        }));\n    }\n\n    protected doAfterRender = (): void => {\n        const locationList = this.locationList;\n        const locationListTextInput = this.locationTextInput;\n        if (locationList) {\n            const currentLocation = this.service.location;\n            locationList.value = currentLocation ? currentLocation.toString() : '';\n        } else if (locationListTextInput) {\n            locationListTextInput.focus();\n        }\n    };\n\n    protected readonly handleLocationChanged = (e: React.ChangeEvent<HTMLSelectElement>) => this.onLocationChanged(e);\n    protected readonly handleTextInputOnChange = (e: React.ChangeEvent<HTMLInputElement>) => this.trySuggestDirectory(e);\n    protected readonly handleTextInputKeyDown = (e: React.KeyboardEvent<HTMLInputElement>) => this.handleControlKeys(e);\n    protected readonly handleIconKeyDown = (e: React.KeyboardEvent<HTMLSpanElement>) => this.toggleInputOnKeyDown(e);\n    protected readonly handleTextInputOnBlur = () => this.toggleToSelectInput();\n    protected readonly handleTextInputMouseDown = (e: React.MouseEvent<HTMLSpanElement>) => this.toggleToTextInputOnMouseDown(e);\n\n    protected doRender(): React.ReactElement {\n        return (\n            <>\n                {this.renderInputIcon()}\n                {this.doShowTextInput\n                    ? this.renderTextInput()\n                    : this.renderSelectInput()\n                }\n            </>\n        );\n    }\n\n    protected renderInputIcon(): React.ReactNode {\n        return (\n            <span\n                // onMouseDown is used since it will fire before 'onBlur'. This prevents\n                // a re-render when textinput is in focus and user clicks toggle icon\n                onMouseDown={this.handleTextInputMouseDown}\n                onKeyDown={this.handleIconKeyDown}\n                className={LocationListRenderer.Styles.LOCATION_INPUT_TOGGLE_CLASS}\n                tabIndex={0}\n                id={`${this.doShowTextInput ? 'text-input' : 'select-input'}`}\n                title={this.doShowTextInput\n                    ? LocationListRenderer.Tooltips.TOGGLE_SELECT_INPUT\n                    : LocationListRenderer.Tooltips.TOGGLE_TEXT_INPUT}\n            >\n                <i className={codicon(this.doShowTextInput ? 'folder-opened' : 'edit')} />\n            </span>\n        );\n    }\n\n    protected renderTextInput(): React.ReactNode {\n        return (\n            <input className={'theia-select ' + LocationListRenderer.Styles.LOCATION_TEXT_INPUT_CLASS}\n                defaultValue={this.service.location?.path.toString()}\n                onBlur={this.handleTextInputOnBlur}\n                onChange={this.handleTextInputOnChange}\n                onKeyDown={this.handleTextInputKeyDown}\n                spellCheck={false}\n            />\n        );\n    }\n\n    protected renderSelectInput(): React.ReactNode {\n        const options = this.collectLocations().map(value => this.renderLocation(value));\n        return (\n            <select className={`theia-select ${LocationListRenderer.Styles.LOCATION_LIST_CLASS}`}\n                onChange={this.handleLocationChanged}>\n                {...options}\n            </select>\n        );\n    }\n\n    protected toggleInputOnKeyDown(e: React.KeyboardEvent<HTMLSpanElement>): void {\n        if (e.key === 'Enter') {\n            this.doShowTextInput = true;\n            this.render();\n        }\n    }\n\n    protected toggleToTextInputOnMouseDown(e: React.MouseEvent<HTMLSpanElement>): void {\n        if (e.currentTarget.id === 'select-input') {\n            e.preventDefault();\n            this.doShowTextInput = true;\n            this.render();\n        }\n    }\n\n    protected toggleToSelectInput(): void {\n        if (this.doShowTextInput) {\n            this.doShowTextInput = false;\n            this.render();\n        }\n    }\n\n    /**\n     * Collects the available locations based on the currently selected, and appends the available drives to it.\n     */\n    protected collectLocations(): LocationListRenderer.Location[] {\n        const location = this.service.location;\n        const locations: LocationListRenderer.Location[] = (!!location ? location.allLocations : []).map(uri => ({ uri }));\n        if (this._drives) {\n            const drives = this._drives.map(uri => ({ uri, isDrive: true }));\n            // `URI.allLocations` returns with the URI without the trailing slash unlike `FileUri.create(fsPath)`.\n            // to be able to compare file:///path/to/resource with file:///path/to/resource/.\n            const toUriString = (uri: URI) => {\n                const toString = uri.toString();\n                return toString.endsWith('/') ? toString.slice(0, -1) : toString;\n            };\n            drives.forEach(drive => {\n                const index = locations.findIndex(loc => toUriString(loc.uri) === toUriString(drive.uri));\n                // Ignore drives which are already discovered as a location based on the current model root URI.\n                if (index === -1) {\n                    // Make sure, it does not have the trailing slash.\n                    locations.push({ uri: new URI(toUriString(drive.uri)), isDrive: true });\n                } else {\n                    // This is necessary for Windows to be able to show `/e:/` as a drive and `c:` as \"non-drive\" in the same way.\n                    // `URI.path.toString()` Vs. `URI.displayName` behaves a bit differently on Windows.\n                    // https://github.com/eclipse-theia/theia/pull/3038#issuecomment-425944189\n                    locations[index].isDrive = true;\n                }\n            });\n        }\n        this.doLoadDrives();\n        return locations;\n    }\n\n    /**\n     * Asynchronously loads the drives (if not yet available) and triggers a UI update on success with the new values.\n     */\n    protected doLoadDrives(): void {\n        if (!this._drives) {\n            this.service.drives().then(drives => {\n                // If the `drives` are empty, something already went wrong.\n                if (drives.length > 0) {\n                    this._drives = drives;\n                    this.render();\n                }\n            });\n        }\n    }\n\n    protected renderLocation(location: LocationListRenderer.Location): React.ReactNode {\n        const { uri, isDrive } = location;\n        const value = uri.toString();\n        return <option value={value} key={uri.toString()}>{isDrive ? uri.path.toString() : uri.displayName}</option>;\n    }\n\n    protected onLocationChanged(e: React.ChangeEvent<HTMLSelectElement>): void {\n        const locationList = this.locationList;\n        if (locationList) {\n            const value = locationList.value;\n            const uri = new URI(value);\n            this.trySetNewLocation(uri);\n            e.preventDefault();\n            e.stopPropagation();\n        }\n    }\n\n    protected trySetNewLocation(newLocation: URI): void {\n        if (this.lastUniqueTextInputLocation === undefined) {\n            this.lastUniqueTextInputLocation = this.service.location;\n        }\n        // prevent consecutive repeated locations from being added to location history\n        if (this.lastUniqueTextInputLocation?.path.toString() !== newLocation.path.toString()) {\n            this.lastUniqueTextInputLocation = newLocation;\n            this.service.location = newLocation;\n        }\n    }\n\n    protected trySuggestDirectory(e: React.ChangeEvent<HTMLInputElement>): void {\n        if (this.doAttemptAutocomplete) {\n            const inputElement = e.currentTarget;\n            const { value } = inputElement;\n            if ((value.startsWith('/') || value.startsWith('~/')) && value.slice(-1) !== '/') {\n                const expandedPath = Path.untildify(value, this.homeDir);\n                const valueAsURI = new URI(expandedPath);\n                const autocompleteDirectories = this.directoryCache.tryResolveChildDirectories(valueAsURI);\n                if (autocompleteDirectories) {\n                    this.tryRenderFirstMatch(inputElement, autocompleteDirectories);\n                }\n            }\n        }\n    }\n\n    protected tryRenderFirstMatch(inputElement: HTMLInputElement, children: string[]): void {\n        const { value, selectionStart } = inputElement;\n        if (this.locationTextInput) {\n            const expandedPath = Path.untildify(value, this.homeDir);\n            const firstMatch = children?.find(child => child.includes(expandedPath));\n            if (firstMatch) {\n                const contractedPath = value.startsWith('~') ? Path.tildify(firstMatch, this.homeDir) : firstMatch;\n                this.locationTextInput.value = contractedPath;\n                this.locationTextInput.selectionStart = selectionStart;\n                this.locationTextInput.selectionEnd = firstMatch.length;\n            }\n        }\n    }\n\n    protected handleControlKeys(e: React.KeyboardEvent<HTMLInputElement>): void {\n        this.doAttemptAutocomplete = e.key !== 'Backspace';\n        if (e.key === 'Enter') {\n            const locationTextInput = this.locationTextInput;\n            if (locationTextInput) {\n                // expand '~' if present and remove extra whitespace and any trailing slashes or periods.\n                const sanitizedInput = locationTextInput.value.trim().replace(/[\\/\\\\.]*$/, '');\n                const untildifiedInput = Path.untildify(sanitizedInput, this.homeDir);\n                const uri = new URI(untildifiedInput);\n                this.trySetNewLocation(uri);\n                this.toggleToSelectInput();\n            }\n        } else if (e.key === 'Escape') {\n            this.toggleToSelectInput();\n        } else if (e.key === 'Tab') {\n            e.preventDefault();\n            const textInput = this.locationTextInput;\n            if (textInput) {\n                textInput.selectionStart = textInput.value.length;\n            }\n        }\n        e.stopPropagation();\n    }\n\n    get locationList(): HTMLSelectElement | undefined {\n        const locationList = this.host.getElementsByClassName(LocationListRenderer.Styles.LOCATION_LIST_CLASS)[0];\n        if (locationList instanceof HTMLSelectElement) {\n            return locationList;\n        }\n        return undefined;\n    }\n\n    get locationTextInput(): HTMLInputElement | undefined {\n        const locationTextInput = this.host.getElementsByClassName(LocationListRenderer.Styles.LOCATION_TEXT_INPUT_CLASS)[0];\n        if (locationTextInput instanceof HTMLInputElement) {\n            return locationTextInput;\n        }\n        return undefined;\n    }\n\n    dispose(): void {\n        super.dispose();\n        this.toDisposeOnNewCache.dispose();\n    }\n}\n\nexport namespace LocationListRenderer {\n\n    export namespace Styles {\n        export const LOCATION_LIST_CLASS = 'theia-LocationList';\n        export const LOCATION_INPUT_TOGGLE_CLASS = 'theia-LocationInputToggle';\n        export const LOCATION_TEXT_INPUT_CLASS = 'theia-LocationTextInput';\n    }\n\n    export namespace Tooltips {\n        export const TOGGLE_TEXT_INPUT = 'Switch to text-based input';\n        export const TOGGLE_SELECT_INPUT = 'Switch to location list';\n    }\n\n    export interface Location {\n        uri: URI;\n        isDrive?: boolean;\n    }\n\n}\n","/********************************************************************************\n * Copyright (C) 2017 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nimport URI from '@theia/core/lib/common/uri';\n\nexport interface LocationService {\n    location: URI | undefined;\n    drives(): Promise<URI[]>;\n}\n","/********************************************************************************\n * Copyright (C) 2021 Ericsson and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nexport const HTTP_FILE_UPLOAD_PATH = '/file-upload';\n","/********************************************************************************\n * Copyright (C) 2017 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\n/* eslint-disable max-len */\n\nimport { TextDocumentContentChangeEvent } from '@theia/core/shared/vscode-languageserver-protocol';\nimport { ApplicationError } from '@theia/core/lib/common';\n\n/**\n * @deprecated since 1.4.0 - in order to support VS Code FS API (https://github.com/eclipse-theia/theia/pull/7908), use `FileService` instead\n */\nexport const FileSystem = Symbol('FileSystem');\nexport interface FileSystem {\n\n    /**\n     * Returns the file stat for the given URI.\n     *\n     * If the uri points to a folder it will contain one level of unresolved children.\n     *\n     * `undefined` if a file for the given URI does not exist.\n     *\n     * @deprecated since 1.4.0 - in order to support VS Code FS API (https://github.com/eclipse-theia/theia/pull/7908), use `FileService.resolve` instead\n     */\n    getFileStat(uri: string): Promise<FileStat | undefined>;\n\n    /**\n     * Finds out if a file identified by the resource exists.\n     *\n     * @deprecated since 1.4.0 - in order to support VS Code FS API (https://github.com/eclipse-theia/theia/pull/7908), use `FileService.exists` instead\n     */\n    exists(uri: string): Promise<boolean>;\n\n    /**\n     * Resolve the contents of a file identified by the resource.\n     *\n     * @deprecated since 1.4.0 - in order to support VS Code FS API (https://github.com/eclipse-theia/theia/pull/7908), use `FileService.read` instead\n     */\n    resolveContent(uri: string, options?: { encoding?: string }): Promise<{ stat: FileStat, content: string }>;\n\n    /**\n     * Updates the content replacing its previous value.\n     *\n     * @deprecated since 1.4.0 - in order to support VS Code FS API (https://github.com/eclipse-theia/theia/pull/7908), use `FileService.write` instead\n     */\n    setContent(file: FileStat, content: string, options?: { encoding?: string }): Promise<FileStat>;\n\n    /**\n     * Updates the content replacing its previous value.\n     *\n     * The optional parameter `overwriteEncoding` can be used to transform the encoding of a file.\n     *\n     * |   | encoding | overwriteEncoding | behaviour |\n     * |---|----------|-------------------|-----------|\n     * | 1 | undefined |    undefined     | read & write file in default encoding |\n     * | 2 | undefined |                 | read file in default encoding; write file in `overwriteEncoding` |\n     * | 3 |         |     undefined     | read & write file in `encoding` |\n     * | 4 |         |                 | read file in `encoding`; write file in `overwriteEncoding` |\n     *\n     * @deprecated since 1.4.0 - in order to support VS Code FS API (https://github.com/eclipse-theia/theia/pull/7908), use `FileService.write` instead\n     */\n    updateContent(file: FileStat, contentChanges: TextDocumentContentChangeEvent[], options?: { encoding?: string, overwriteEncoding?: string }): Promise<FileStat>;\n\n    /**\n     * Moves the file to a new path identified by the resource.\n     *\n     * The optional parameter overwrite can be set to replace an existing file at the location.\n     *\n     * |           | missing | file | empty dir |    dir    |\n     * |-----------|---------|------|-----------|-----------|\n     * | missing   |    x    |   x  |     x     |     x     |\n     * | file      |        |   x  |     x     |     x     |\n     * | empty dir |        |   x  |     x     | overwrite |\n     * | dir       |        |   x  | overwrite | overwrite |\n     *\n     * @deprecated since 1.4.0 - in order to support VS Code FS API (https://github.com/eclipse-theia/theia/pull/7908), use `FileService.move` instead\n     */\n    move(sourceUri: string, targetUri: string, options?: FileMoveOptions): Promise<FileStat>;\n\n    /**\n     * Copies the file to a path identified by the resource.\n     *\n     * The optional parameter overwrite can be set to replace an existing file at the location.\n     *\n     * @deprecated since 1.4.0 - in order to support VS Code FS API (https://github.com/eclipse-theia/theia/pull/7908), use `FileService.copy` instead\n     */\n    copy(sourceUri: string, targetUri: string, options?: { overwrite?: boolean, recursive?: boolean }): Promise<FileStat>;\n\n    /**\n     * Creates a new file with the given path. The returned promise\n     * will have the stat model object as a result.\n     *\n     * The optional parameter content can be used as value to fill into the new file.\n     *\n     * @deprecated since 1.4.0 - in order to support VS Code FS API (https://github.com/eclipse-theia/theia/pull/7908), use `FileService.create` instead\n     */\n    createFile(uri: string, options?: { content?: string, encoding?: string }): Promise<FileStat>;\n\n    /**\n     * Creates a new folder with the given path. The returned promise\n     * will have the stat model object as a result.\n     *\n     * @deprecated since 1.4.0 - in order to support VS Code FS API (https://github.com/eclipse-theia/theia/pull/7908), use `FileService.createFolder` instead\n     */\n    createFolder(uri: string): Promise<FileStat>;\n\n    /**\n     * Creates a new empty file if the given path does not exist and otherwise\n     * will set the mtime and atime of the file to the current date.\n     */\n    touchFile(uri: string): Promise<FileStat>;\n\n    /**\n     * Deletes the provided file. The optional moveToTrash parameter allows to\n     * move the file to trash.\n     *\n     * @deprecated since 1.4.0 - in order to support VS Code FS API (https://github.com/eclipse-theia/theia/pull/7908), use `FileService.delete` instead\n     */\n    delete(uri: string, options?: FileDeleteOptions): Promise<void>;\n\n    /**\n     * Returns the encoding of the given file resource.\n     *\n     * @deprecated since 1.4.0 - in order to support VS Code FS API (https://github.com/eclipse-theia/theia/pull/7908) use `FileService.read` without `autoGuessEncoding` option instead\n     */\n    getEncoding(uri: string): Promise<string>;\n\n    /**\n     * Guess encoding of a given file based on its content.\n     *\n     * @deprecated since 1.4.0 - in order to support VS Code FS API (https://github.com/eclipse-theia/theia/pull/7908), use `FileService.read` with `autoGuessEncoding` option instead\n     */\n    guessEncoding(uri: string): Promise<string | undefined>;\n\n    /**\n     * Return list of available roots.\n     */\n    getRoots(): Promise<FileStat[]>;\n\n    /**\n     * Returns a promise that resolves to a file stat representing the current user's home directory.\n     *\n     * @deprecated since 1.4.0 - in order to support VS Code FS API (https://github.com/eclipse-theia/theia/pull/7908), use `EnvVariablesServer.getHomeDirUri` instead\n     */\n    getCurrentUserHome(): Promise<FileStat | undefined>;\n\n    /**\n     * Resolves to an array of URIs pointing to the available drives on the filesystem.\n     *\n     * @deprecated since 1.4.0 - in order to support VS Code FS API (https://github.com/eclipse-theia/theia/pull/7908), use `EnvVariablesServer.getDrives` instead\n     */\n    getDrives(): Promise<string[]>;\n\n    /**\n     * Tests a user's permissions for the file or directory specified by URI.\n     * The mode argument is an optional integer that specifies the accessibility checks to be performed.\n     * Check `FileAccess.Constants` for possible values of mode.\n     * It is possible to create a mask consisting of the bitwise `OR` of two or more values (e.g. FileAccess.Constants.W_OK | FileAccess.Constants.R_OK).\n     * If `mode` is not defined, `FileAccess.Constants.F_OK` will be used instead.\n     *\n     * @deprecated since 1.4.0 - in order to support VS Code FS API (https://github.com/eclipse-theia/theia/pull/7908), use `FileService.access` instead\n     */\n    access(uri: string, mode?: number): Promise<boolean>\n\n    /**\n     * Returns the path of the given file URI, specific to the backend's operating system.\n     * If the URI is not a file URI, undefined is returned.\n     *\n     * USE WITH CAUTION: You should always prefer URIs to paths if possible, as they are\n     * portable and platform independent. Paths should only be used in cases you directly\n     * interact with the OS, e.g. when running a command on the shell.\n     *\n     * @deprecated since 1.4.0 - in order to support VS Code FS API (https://github.com/eclipse-theia/theia/pull/7908), use `FileService.fsPath` instead\n     */\n    getFsPath(uri: string): Promise<string | undefined>\n}\n\n/**\n * @deprecated since 1.4.0 - in order to support VS Code FS API (https://github.com/eclipse-theia/theia/pull/7908), use `FileService.access` instead\n */\nexport namespace FileAccess {\n\n    export namespace Constants {\n\n        /**\n         * Flag indicating that the file is visible to the calling process.\n         * This is useful for determining if a file exists, but says nothing about rwx permissions. Default if no mode is specified.\n         */\n        export const F_OK: number = 0;\n\n        /**\n         * Flag indicating that the file can be read by the calling process.\n         */\n        export const R_OK: number = 4;\n\n        /**\n         * Flag indicating that the file can be written by the calling process.\n         */\n        export const W_OK: number = 2;\n\n        /**\n         * Flag indicating that the file can be executed by the calling process.\n         * This has no effect on Windows (will behave like `FileAccess.F_OK`).\n         */\n        export const X_OK: number = 1;\n\n    }\n\n}\n\nexport interface FileMoveOptions {\n    overwrite?: boolean;\n}\n\nexport interface FileDeleteOptions {\n    moveToTrash?: boolean\n}\n\n/**\n * A file resource with meta information.\n *\n * @deprecated since 1.4.0 - in order to support VS Code FS API (https://github.com/eclipse-theia/theia/pull/7908), use `FileStat` from `@theia/filesystem/lib/common/files` instead\n */\nexport interface FileStat {\n\n    /**\n     * The URI of the file.\n     */\n    uri: string;\n\n    /**\n     * The last modification of this file.\n     */\n    lastModification: number;\n\n    /**\n     * `true` if the resource is a directory. Otherwise, `false`.\n     */\n    isDirectory: boolean;\n\n    /**\n     * The children of the file stat.\n     * If it is `undefined` and `isDirectory` is `true`, then this file stat is unresolved.\n     */\n    children?: FileStat[];\n\n    /**\n     * The size of the file if known.\n     */\n    size?: number;\n\n}\n\nexport namespace FileStat {\n    export function is(candidate: Object | undefined): candidate is FileStat {\n        return typeof candidate === 'object' && ('uri' in candidate) && ('lastModification' in candidate) && ('isDirectory' in candidate);\n    }\n\n    export function equals(one: object | undefined, other: object | undefined): boolean {\n        if (!one || !other || !is(one) || !is(other)) {\n            return false;\n        }\n        return one.uri === other.uri\n            && one.lastModification === other.lastModification\n            && one.isDirectory === other.isDirectory;\n    }\n}\n\n/**\n * @deprecated since 1.4.0 - in order to support VS Code FS API (https://github.com/eclipse-theia/theia/pull/7908), use `FileOperationError` instead\n */\nexport namespace FileSystemError {\n    export const FileNotFound = ApplicationError.declare(-33000, (uri: string, prefix?: string) => ({\n        message: `${prefix ? prefix + ' ' : ''}'${uri}' has not been found.`,\n        data: { uri }\n    }));\n    export const FileExists = ApplicationError.declare(-33001, (uri: string, prefix?: string) => ({\n        message: `${prefix ? prefix + ' ' : ''}'${uri}' already exists.`,\n        data: { uri }\n    }));\n    export const FileIsDirectory = ApplicationError.declare(-33002, (uri: string, prefix?: string) => ({\n        message: `${prefix ? prefix + ' ' : ''}'${uri}' is a directory.`,\n        data: { uri }\n    }));\n    export const FileNotDirectory = ApplicationError.declare(-33003, (uri: string, prefix?: string) => ({\n        message: `${prefix ? prefix + ' ' : ''}'${uri}' is not a directory.`,\n        data: { uri }\n    }));\n    export const FileIsOutOfSync = ApplicationError.declare(-33004, (file: FileStat, stat: FileStat) => ({\n        message: `'${file.uri}' is out of sync.`,\n        data: { file, stat }\n    }));\n}\n","/********************************************************************************\n * Copyright (C) 2017 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\nexport * from './filesystem';\nexport * from './filesystem-utils';\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar Semaphore_1 = require(\"./Semaphore\");\nvar Mutex = /** @class */ (function () {\n    function Mutex(cancelError) {\n        this._semaphore = new Semaphore_1.default(1, cancelError);\n    }\n    Mutex.prototype.acquire = function () {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function () {\n            var _a, releaser;\n            return (0, tslib_1.__generator)(this, function (_b) {\n                switch (_b.label) {\n                    case 0: return [4 /*yield*/, this._semaphore.acquire()];\n                    case 1:\n                        _a = _b.sent(), releaser = _a[1];\n                        return [2 /*return*/, releaser];\n                }\n            });\n        });\n    };\n    Mutex.prototype.runExclusive = function (callback) {\n        return this._semaphore.runExclusive(function () { return callback(); });\n    };\n    Mutex.prototype.isLocked = function () {\n        return this._semaphore.isLocked();\n    };\n    Mutex.prototype.waitForUnlock = function () {\n        return this._semaphore.waitForUnlock();\n    };\n    /** @deprecated Deprecated in 0.3.0, will be removed in 0.4.0. Use runExclusive instead. */\n    Mutex.prototype.release = function () {\n        this._semaphore.release();\n    };\n    Mutex.prototype.cancel = function () {\n        return this._semaphore.cancel();\n    };\n    return Mutex;\n}());\nexports.default = Mutex;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar errors_1 = require(\"./errors\");\nvar Semaphore = /** @class */ (function () {\n    function Semaphore(_maxConcurrency, _cancelError) {\n        if (_cancelError === void 0) { _cancelError = errors_1.E_CANCELED; }\n        this._maxConcurrency = _maxConcurrency;\n        this._cancelError = _cancelError;\n        this._queue = [];\n        this._waiters = [];\n        if (_maxConcurrency <= 0) {\n            throw new Error('semaphore must be initialized to a positive value');\n        }\n        this._value = _maxConcurrency;\n    }\n    Semaphore.prototype.acquire = function () {\n        var _this = this;\n        var locked = this.isLocked();\n        var ticketPromise = new Promise(function (resolve, reject) {\n            return _this._queue.push({ resolve: resolve, reject: reject });\n        });\n        if (!locked)\n            this._dispatch();\n        return ticketPromise;\n    };\n    Semaphore.prototype.runExclusive = function (callback) {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function () {\n            var _a, value, release;\n            return (0, tslib_1.__generator)(this, function (_b) {\n                switch (_b.label) {\n                    case 0: return [4 /*yield*/, this.acquire()];\n                    case 1:\n                        _a = _b.sent(), value = _a[0], release = _a[1];\n                        _b.label = 2;\n                    case 2:\n                        _b.trys.push([2, , 4, 5]);\n                        return [4 /*yield*/, callback(value)];\n                    case 3: return [2 /*return*/, _b.sent()];\n                    case 4:\n                        release();\n                        return [7 /*endfinally*/];\n                    case 5: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Semaphore.prototype.waitForUnlock = function () {\n        return (0, tslib_1.__awaiter)(this, void 0, void 0, function () {\n            var waitPromise;\n            var _this = this;\n            return (0, tslib_1.__generator)(this, function (_a) {\n                if (!this.isLocked()) {\n                    return [2 /*return*/, Promise.resolve()];\n                }\n                waitPromise = new Promise(function (resolve) { return _this._waiters.push({ resolve: resolve }); });\n                return [2 /*return*/, waitPromise];\n            });\n        });\n    };\n    Semaphore.prototype.isLocked = function () {\n        return this._value <= 0;\n    };\n    /** @deprecated Deprecated in 0.3.0, will be removed in 0.4.0. Use runExclusive instead. */\n    Semaphore.prototype.release = function () {\n        if (this._maxConcurrency > 1) {\n            throw new Error('this method is unavailable on semaphores with concurrency > 1; use the scoped release returned by acquire instead');\n        }\n        if (this._currentReleaser) {\n            var releaser = this._currentReleaser;\n            this._currentReleaser = undefined;\n            releaser();\n        }\n    };\n    Semaphore.prototype.cancel = function () {\n        var _this = this;\n        this._queue.forEach(function (ticket) { return ticket.reject(_this._cancelError); });\n        this._queue = [];\n    };\n    Semaphore.prototype._dispatch = function () {\n        var _this = this;\n        var nextTicket = this._queue.shift();\n        if (!nextTicket)\n            return;\n        var released = false;\n        this._currentReleaser = function () {\n            if (released)\n                return;\n            released = true;\n            _this._value++;\n            _this._resolveWaiters();\n            _this._dispatch();\n        };\n        nextTicket.resolve([this._value--, this._currentReleaser]);\n    };\n    Semaphore.prototype._resolveWaiters = function () {\n        this._waiters.forEach(function (waiter) { return waiter.resolve(); });\n        this._waiters = [];\n    };\n    return Semaphore;\n}());\nexports.default = Semaphore;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.E_CANCELED = exports.E_ALREADY_LOCKED = exports.E_TIMEOUT = void 0;\nexports.E_TIMEOUT = new Error('timeout while waiting for mutex to become available');\nexports.E_ALREADY_LOCKED = new Error('mutex already locked');\nexports.E_CANCELED = new Error('request for lock canceled');\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.tryAcquire = exports.withTimeout = exports.Semaphore = exports.Mutex = void 0;\nvar tslib_1 = require(\"tslib\");\nvar Mutex_1 = require(\"./Mutex\");\nObject.defineProperty(exports, \"Mutex\", { enumerable: true, get: function () { return Mutex_1.default; } });\nvar Semaphore_1 = require(\"./Semaphore\");\nObject.defineProperty(exports, \"Semaphore\", { enumerable: true, get: function () { return Semaphore_1.default; } });\nvar withTimeout_1 = require(\"./withTimeout\");\nObject.defineProperty(exports, \"withTimeout\", { enumerable: true, get: function () { return withTimeout_1.withTimeout; } });\nvar tryAcquire_1 = require(\"./tryAcquire\");\nObject.defineProperty(exports, \"tryAcquire\", { enumerable: true, get: function () { return tryAcquire_1.tryAcquire; } });\n(0, tslib_1.__exportStar)(require(\"./errors\"), exports);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.tryAcquire = void 0;\nvar errors_1 = require(\"./errors\");\nvar withTimeout_1 = require(\"./withTimeout\");\n// eslint-disable-next-lisne @typescript-eslint/explicit-module-boundary-types\nfunction tryAcquire(sync, alreadyAcquiredError) {\n    if (alreadyAcquiredError === void 0) { alreadyAcquiredError = errors_1.E_ALREADY_LOCKED; }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return (0, withTimeout_1.withTimeout)(sync, 0, alreadyAcquiredError);\n}\nexports.tryAcquire = tryAcquire;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.withTimeout = void 0;\nvar tslib_1 = require(\"tslib\");\nvar errors_1 = require(\"./errors\");\n// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\nfunction withTimeout(sync, timeout, timeoutError) {\n    var _this = this;\n    if (timeoutError === void 0) { timeoutError = errors_1.E_TIMEOUT; }\n    return {\n        acquire: function () {\n            return new Promise(function (resolve, reject) { return (0, tslib_1.__awaiter)(_this, void 0, void 0, function () {\n                var isTimeout, handle, ticket, release, e_1;\n                return (0, tslib_1.__generator)(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            isTimeout = false;\n                            handle = setTimeout(function () {\n                                isTimeout = true;\n                                reject(timeoutError);\n                            }, timeout);\n                            _a.label = 1;\n                        case 1:\n                            _a.trys.push([1, 3, , 4]);\n                            return [4 /*yield*/, sync.acquire()];\n                        case 2:\n                            ticket = _a.sent();\n                            if (isTimeout) {\n                                release = Array.isArray(ticket) ? ticket[1] : ticket;\n                                release();\n                            }\n                            else {\n                                clearTimeout(handle);\n                                resolve(ticket);\n                            }\n                            return [3 /*break*/, 4];\n                        case 3:\n                            e_1 = _a.sent();\n                            if (!isTimeout) {\n                                clearTimeout(handle);\n                                reject(e_1);\n                            }\n                            return [3 /*break*/, 4];\n                        case 4: return [2 /*return*/];\n                    }\n                });\n            }); });\n        },\n        runExclusive: function (callback) {\n            return (0, tslib_1.__awaiter)(this, void 0, void 0, function () {\n                var release, ticket;\n                return (0, tslib_1.__generator)(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            release = function () { return undefined; };\n                            _a.label = 1;\n                        case 1:\n                            _a.trys.push([1, , 7, 8]);\n                            return [4 /*yield*/, this.acquire()];\n                        case 2:\n                            ticket = _a.sent();\n                            if (!Array.isArray(ticket)) return [3 /*break*/, 4];\n                            release = ticket[1];\n                            return [4 /*yield*/, callback(ticket[0])];\n                        case 3: return [2 /*return*/, _a.sent()];\n                        case 4:\n                            release = ticket;\n                            return [4 /*yield*/, callback()];\n                        case 5: return [2 /*return*/, _a.sent()];\n                        case 6: return [3 /*break*/, 8];\n                        case 7:\n                            release();\n                            return [7 /*endfinally*/];\n                        case 8: return [2 /*return*/];\n                    }\n                });\n            });\n        },\n        /** @deprecated Deprecated in 0.3.0, will be removed in 0.4.0. Use runExclusive instead. */\n        release: function () {\n            sync.release();\n        },\n        cancel: function () {\n            return sync.cancel();\n        },\n        waitForUnlock: function () { return sync.waitForUnlock(); },\n        isLocked: function () { return sync.isLocked(); },\n    };\n}\nexports.withTimeout = withTimeout;\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n"],"sourceRoot":""}