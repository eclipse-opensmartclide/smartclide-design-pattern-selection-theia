(self["webpackChunkbrowser_app"] = self["webpackChunkbrowser_app"] || []).push([["vendors-node_modules_theia_file-search_node_modules_theia_core_src_common_keyboard_layouts_cs-5e40c4"],{

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/CollapseAll.svg":
/*!*****************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/CollapseAll.svg ***!
  \*****************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "data:image/svg+xml;base64,PCEtLUNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLi0tPgo8IS0tQ29weXJpZ2h0IChDKSAyMDE4IFR5cGVGb3ggYW5kIG90aGVycy4tLT4KPCEtLUxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgLTEgMCAxNiAxNiIgdmlld0JveD0iLTEgMCAxNiAxNiI+CiAgICA8cGF0aCBmaWxsPSIjNDI0MjQyIiBkPSJNMTQgMXY5aC0xdi04aC04di0xaDl6bS0xMSAydjFoOHY4aDF2LTloLTl6bTcgMnY5aC05di05aDl6bS0yIDJoLTV2NWg1di01eiIvPgogICAgPHJlY3Qgd2lkdGg9IjMiIGhlaWdodD0iMSIgeD0iNCIgeT0iOSIgZmlsbD0iIzAwNTM5QyIvPgo8L3N2Zz4K";

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/CollapseAll_inverse.svg":
/*!*************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/CollapseAll_inverse.svg ***!
  \*************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "data:image/svg+xml;base64,PCEtLUNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLi0tPgo8IS0tQ29weXJpZ2h0IChDKSAyMDE4IFR5cGVGb3ggYW5kIG90aGVycy4tLT4KPCEtLUxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgLTEgMCAxNiAxNiIgdmlld0JveD0iLTEgMCAxNiAxNiI+CiAgICA8cGF0aCBmaWxsPSIjQzVDNUM1IiBkPSJNMTQgMXY5aC0xdi04aC04di0xaDl6bS0xMSAydjFoOHY4aDF2LTloLTl6bTcgMnY5aC05di05aDl6bS0yIDJoLTV2NWg1di01eiIvPgogICAgPHJlY3Qgd2lkdGg9IjMiIGhlaWdodD0iMSIgeD0iNCIgeT0iOSIgZmlsbD0iIzc1QkVGRiIvPgo8L3N2Zz4K";

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/Refresh.svg":
/*!*************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/Refresh.svg ***!
  \*************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "data:image/svg+xml;base64,PCEtLUNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLi0tPgo8IS0tQ29weXJpZ2h0IChDKSAyMDE4IFR5cGVGb3ggYW5kIG90aGVycy4tLT4KPCEtLUxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPgogICAgPHBhdGggZmlsbD0iI0Y2RjZGNiIgZD0iTTEzLjQ1MSA1LjYwOWwtLjU3OS0uOTM5LTEuMDY4LjgxMi0uMDc2LjA5NGMtLjMzNS40MTUtLjkyNyAxLjM0MS0xLjEyNCAyLjg3NmwtLjAyMS4xNjUuMDMzLjE2My4wNzEuMzQ1YzAgMS42NTQtMS4zNDYgMy0zIDMtLjc5NSAwLTEuNTQ1LS4zMTEtMi4xMDctLjg2OC0uNTYzLS41NjctLjg3My0xLjMxNy0uODczLTIuMTExIDAtMS40MzEgMS4wMDctMi42MzIgMi4zNTEtMi45Mjl2Mi45MjZzMi41MjgtMi4wODcgMi45ODQtMi40NjFoLjAxMmwzLjA2MS0yLjU4Mi00LjkxOS00LjFoLTEuMTM3djIuNDA0Yy0zLjQyOS4zMTgtNi4xMjEgMy4yMTEtNi4xMjEgNi43MjEgMCAxLjgwOS43MDcgMy41MDggMS45ODYgNC43ODIgMS4yNzcgMS4yODIgMi45NzYgMS45ODggNC43ODQgMS45ODggMy43MjIgMCA2Ljc1LTMuMDI4IDYuNzUtNi43NSAwLTEuMjQ1LS4zNDktMi40NjgtMS4wMDctMy41MzZ6Ii8+CiAgICA8cGF0aCBmaWxsPSIjNDI0MjQyIiBkPSJNMTIuNiA2LjEzNGwtLjA5NC4wNzFjLS4yNjkuMzMzLS43NDYgMS4wOTYtLjkxIDIuMzc1LjA1Ny4yNzcuMDkyLjQ5NS4wOTIuNTQ1IDAgMi4yMDYtMS43OTQgNC00IDQtMS4wOTggMC0yLjA5My0uNDQ1LTIuODE3LTEuMTY0LS43MTgtLjcyNC0xLjE2My0xLjcxOC0xLjE2My0yLjgxNSAwLTIuMjA2IDEuNzk0LTQgNC00bC4zNTEuMDI1djEuODVzMS42MjYtMS4zNDIgMS42MzEtMS4zMzlsMS44NjktMS41NzctMy41LTIuOTE3djIuMjE4bC0uMzcxLS4wM2MtMy4xNzYgMC01Ljc1IDIuNTc0LTUuNzUgNS43NSAwIDEuNTkzLjY0OCAzLjAzNCAxLjY5NSA0LjA3NiAxLjA0MiAxLjA0NiAyLjQ4MiAxLjY5NCA0LjA3NiAxLjY5NCAzLjE3NiAwIDUuNzUtMi41NzQgNS43NS01Ljc1LS4wMDEtMS4xMDYtLjMxOC0yLjEzNS0uODU5LTMuMDEyeiIvPgo8L3N2Zz4K";

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/Refresh_inverse.svg":
/*!*********************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/Refresh_inverse.svg ***!
  \*********************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "data:image/svg+xml;base64,PCEtLUNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLi0tPgo8IS0tQ29weXJpZ2h0IChDKSAyMDE4IFR5cGVGb3ggYW5kIG90aGVycy4tLT4KPCEtLUxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPgogICAgPHBhdGggZmlsbD0iIzJEMkQzMCIgZD0iTTEzLjQ1MSA1LjYwOWwtLjU3OS0uOTM5LTEuMDY4LjgxMi0uMDc2LjA5NGMtLjMzNS40MTUtLjkyNyAxLjM0MS0xLjEyNCAyLjg3NmwtLjAyMS4xNjUuMDMzLjE2My4wNzEuMzQ1YzAgMS42NTQtMS4zNDYgMy0zIDMtLjc5NSAwLTEuNTQ1LS4zMTEtMi4xMDctLjg2OC0uNTYzLS41NjctLjg3My0xLjMxNy0uODczLTIuMTExIDAtMS40MzEgMS4wMDctMi42MzIgMi4zNTEtMi45Mjl2Mi45MjZzMi41MjgtMi4wODcgMi45ODQtMi40NjFoLjAxMmwzLjA2MS0yLjU4Mi00LjkxOS00LjFoLTEuMTM3djIuNDA0Yy0zLjQyOS4zMTgtNi4xMjEgMy4yMTEtNi4xMjEgNi43MjEgMCAxLjgwOS43MDcgMy41MDggMS45ODYgNC43ODIgMS4yNzcgMS4yODIgMi45NzYgMS45ODggNC43ODQgMS45ODggMy43MjIgMCA2Ljc1LTMuMDI4IDYuNzUtNi43NSAwLTEuMjQ1LS4zNDktMi40NjgtMS4wMDctMy41MzZ6Ii8+CiAgICA8cGF0aCBmaWxsPSIjQzVDNUM1IiBkPSJNMTIuNiA2LjEzNGwtLjA5NC4wNzFjLS4yNjkuMzMzLS43NDYgMS4wOTYtLjkxIDIuMzc1LjA1Ny4yNzcuMDkyLjQ5NS4wOTIuNTQ1IDAgMi4yMDYtMS43OTQgNC00IDQtMS4wOTggMC0yLjA5My0uNDQ1LTIuODE3LTEuMTY0LS43MTgtLjcyNC0xLjE2My0xLjcxOC0xLjE2My0yLjgxNSAwLTIuMjA2IDEuNzk0LTQgNC00bC4zNTEuMDI1djEuODVzMS42MjYtMS4zNDIgMS42MzEtMS4zMzlsMS44NjktMS41NzctMy41LTIuOTE3djIuMjE4bC0uMzcxLS4wM2MtMy4xNzYgMC01Ljc1IDIuNTc0LTUuNzUgNS43NSAwIDEuNTkzLjY0OCAzLjAzNCAxLjY5NSA0LjA3NiAxLjA0MiAxLjA0NiAyLjQ4MiAxLjY5NCA0LjA3NiAxLjY5NCAzLjE3NiAwIDUuNzUtMi41NzQgNS43NS01Ljc1LS4wMDEtMS4xMDYtLjMxOC0yLjEzNS0uODU5LTMuMDEyeiIvPgo8L3N2Zz4K";

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/add-inverse.svg":
/*!*****************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/add-inverse.svg ***!
  \*****************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "data:image/svg+xml;base64,PCEtLUNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLi0tPgo8IS0tQ29weXJpZ2h0IChDKSAyMDE5IFR5cGVGb3ggYW5kIG90aGVycy4tLT4KPCEtLUxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMTYgMTYiPjxkZWZzPjxzdHlsZT4uaWNvbi1jYW52YXMtdHJhbnNwYXJlbnQsLmljb24tdnMtb3V0e2ZpbGw6IzI1MjUyNjt9Lmljb24tY2FudmFzLXRyYW5zcGFyZW50e29wYWNpdHk6MDt9Lmljb24tdnMtYmd7ZmlsbDojYzVjNWM1O308L3N0eWxlPjwvZGVmcz48dGl0bGU+YWRkPC90aXRsZT48ZyBpZD0iY2FudmFzIj48cGF0aCBjbGFzcz0iaWNvbi1jYW52YXMtdHJhbnNwYXJlbnQiIGQ9Ik0xNiwxNkgwVjBIMTZaIi8+PC9nPjxnIGlkPSJvdXRsaW5lIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPjxwYXRoIGNsYXNzPSJpY29uLXZzLW91dCIgZD0iTTE0LDZ2NEgxMHY0SDZWMTBIMlY2SDZWMmg0VjZaIi8+PC9nPjxnIGlkPSJpY29uQmciPjxwYXRoIGNsYXNzPSJpY29uLXZzLWJnIiBkPSJNMTMsN1Y5SDl2NEg3VjlIM1Y3SDdWM0g5VjdaIi8+PC9nPjwvc3ZnPgo=";

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/add.svg":
/*!*********************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/add.svg ***!
  \*********************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "data:image/svg+xml;base64,PCEtLUNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLi0tPgo8IS0tQ29weXJpZ2h0IChDKSAyMDE5IFR5cGVGb3ggYW5kIG90aGVycy4tLT4KPCEtLUxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMTYgMTYiPjxkZWZzPjxzdHlsZT4uaWNvbi1jYW52YXMtdHJhbnNwYXJlbnQsLmljb24tdnMtb3V0e2ZpbGw6I2Y2ZjZmNjt9Lmljb24tY2FudmFzLXRyYW5zcGFyZW50e29wYWNpdHk6MDt9Lmljb24tdnMtYmd7ZmlsbDojNDI0MjQyO308L3N0eWxlPjwvZGVmcz48dGl0bGU+YWRkPC90aXRsZT48ZyBpZD0iY2FudmFzIj48cGF0aCBjbGFzcz0iaWNvbi1jYW52YXMtdHJhbnNwYXJlbnQiIGQ9Ik0xNiwxNkgwVjBIMTZaIi8+PC9nPjxnIGlkPSJvdXRsaW5lIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPjxwYXRoIGNsYXNzPSJpY29uLXZzLW91dCIgZD0iTTE0LDZ2NEgxMHY0SDZWMTBIMlY2SDZWMmg0VjZaIi8+PC9nPjxnIGlkPSJpY29uQmciPjxwYXRoIGNsYXNzPSJpY29uLXZzLWJnIiBkPSJNMTMsN1Y5SDl2NEg3VjlIM1Y3SDdWM0g5VjdaIi8+PC9nPjwvc3ZnPgo=";

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/arrow-down-bright.svg":
/*!***********************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/arrow-down-bright.svg ***!
  \***********************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "data:image/svg+xml;base64,PCEtLUNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLi0tPgo8IS0tQ29weXJpZ2h0IChDKSAyMDIwIFJlZEhhdCBhbmQgb3RoZXJzLi0tPgo8IS0tTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi4tLT4KPHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0zLjE0NjQyIDkuNzY3NzdMOC4xNDY0MSAxNC43Njc4TDguODUzNTIgMTQuNzY3OEwxMy44NTM1IDkuNzY3NzdMMTMuMTQ2NCA5LjA2MDY2TDguOTk5OTcgMTMuMjA3MUw4Ljk5OTk3IDFMNy45OTk5NyAwLjk5OTk5OUw3Ljk5OTk3IDEzLjIwNzFMMy44NTM1MyA5LjA2MDY2TDMuMTQ2NDIgOS43Njc3N1oiIGZpbGw9IiM0MjQyNDIiLz4KPC9zdmc+Cg==";

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/arrow-down-dark.svg":
/*!*********************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/arrow-down-dark.svg ***!
  \*********************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "data:image/svg+xml;base64,PCEtLUNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLi0tPgo8IS0tQ29weXJpZ2h0IChDKSAyMDIwIFJlZEhhdCBhbmQgb3RoZXJzLi0tPgo8IS0tTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi4tLT4KPHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0zLjE0NjQ2IDkuNzY3NzdMOC4xNDY0NCAxNC43Njc4TDguODUzNTUgMTQuNzY3OEwxMy44NTM1IDkuNzY3NzdMMTMuMTQ2NCA5LjA2MDY2TDkgMTMuMjA3MUw5IDFMOCAwLjk5OTk5OUw4IDEzLjIwNzFMMy44NTM1NiA5LjA2MDY2TDMuMTQ2NDYgOS43Njc3N1oiIGZpbGw9IiNDNUM1QzUiLz4KPC9zdmc+Cg==";

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/arrow-up-bright.svg":
/*!*********************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/arrow-up-bright.svg ***!
  \*********************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "data:image/svg+xml;base64,PCEtLUNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLi0tPgo8IS0tQ29weXJpZ2h0IChDKSAyMDIwIFJlZEhhdCBhbmQgb3RoZXJzLi0tPgo8IS0tTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi4tLT4KPHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMy44NTM2IDYuMjkyOUw4Ljg1MzU5IDEuMjkyOTFIOC4xNDY0OEwzLjE0NjQ4IDYuMjkyOUwzLjg1MzU5IDcuMDAwMDFMOC4wMDAwMyAyLjg1MzU3VjE1LjA2MDdIOS4wMDAwM1YyLjg1MzU3TDEzLjE0NjUgNy4wMDAwMUwxMy44NTM2IDYuMjkyOVoiIGZpbGw9IiM0MjQyNDIiLz4KPC9zdmc+Cg==";

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/arrow-up-dark.svg":
/*!*******************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/arrow-up-dark.svg ***!
  \*******************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "data:image/svg+xml;base64,PCEtLUNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLi0tPgo8IS0tQ29weXJpZ2h0IChDKSAyMDIwIFJlZEhhdCBhbmQgb3RoZXJzLi0tPgo8IS0tTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiBTZWUgTGljZW5zZS50eHQgaW4gdGhlIHByb2plY3Qgcm9vdCBmb3IgbGljZW5zZSBpbmZvcm1hdGlvbi4tLT4KPHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xMy44NTM1IDYuMjkyOUw4Ljg1MzU2IDEuMjkyOTFIOC4xNDY0NUwzLjE0NjQ1IDYuMjkyOUwzLjg1MzU2IDcuMDAwMDFMOCAyLjg1MzU3VjE1LjA2MDdIOVYyLjg1MzU3TDEzLjE0NjQgNy4wMDAwMUwxMy44NTM1IDYuMjkyOVoiIGZpbGw9IiNDNUM1QzUiLz4KPC9zdmc+Cg==";

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/case-sensitive-dark.svg":
/*!*************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/case-sensitive-dark.svg ***!
  \*************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "data:image/svg+xml;base64,PCEtLUNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLi0tPgo8IS0tQ29weXJpZ2h0IChDKSAyMDE4IFR5cGVGb3ggYW5kIG90aGVycy4tLT4KPCEtLUxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPgogICAgPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KICAgICAgICAuc3Qwe29wYWNpdHk6MDtmaWxsOiMyNjI2MjY7fSAuc3Qxe2ZpbGw6IzI2MjYyNjt9IC5zdDJ7ZmlsbDojQzVDNUM1O30KICAgIDwvc3R5bGU+CiAgICA8ZyBpZD0ib3V0bGluZSI+CiAgICAgICAgPHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBjbGFzcz0ic3QwIi8+CiAgICAgICAgPHBhdGggZD0iTTE0LjE3NiA1LjU5MmMtLjU1NS0uNi0xLjMzNi0uOTA0LTIuMzIyLS45MDQtLjI1OCAwLS41MjEuMDI0LS43ODQuMDcyLS4yNDYuMDQ0LS40NzkuMTAxLS43LjE2OS0uMjI4LjA3LS40MzIuMTQ3LS42MTMuMjI5LS4yMi4wOTktLjM4OS4xOTYtLjUxMi4yODRsLS40MTkuMjk5djIuNzAxYy0uMDg2LjEwOC0uMTYyLjIyMy0uMjI5LjM0NGwtMi40NS02LjM1NGgtMi4zOTRsLTMuNzUzIDkuODA0di41OThoMy4wMjVsLjgzOC0yLjM1aDIuMTY3bC44OTEgMi4zNWgzLjIzN2wtLjAwMS0uMDAzYy4zMDUuMDkyLjYzMy4xNS45OTMuMTUuMzQ0IDAgLjY3MS0uMDQ5Ljk3OC0uMTQ2aDIuODUzdi00LjkwM2MtLjAwMS0uOTc1LS4yNzEtMS43NjMtLjgwNS0yLjM0eiIgY2xhc3M9InN0MSIvPgogICAgPC9nPgogICAgPGcgaWQ9Imljb25feDVGX2JnIj4KICAgICAgICA8cGF0aCBkPSJNNy42MTEgMTEuODM0bC0uODkxLTIuMzVoLTMuNTYybC0uODM4IDIuMzVoLTEuMDk1bDMuMjE3LTguNDAyaDEuMDJsMy4yNCA4LjQwMmgtMS4wOTF6bS0yLjUzMS02LjgxNGwtLjA0NC0uMTM1LS4wMzgtLjE1Ni0uMDI5LS4xNTItLjAyNC0uMTI2aC0uMDIzbC0uMDIxLjEyNi0uMDMyLjE1Mi0uMDM4LjE1Ni0uMDQ0LjEzNS0xLjMwNyAzLjU3NGgyLjkxOGwtMS4zMTgtMy41NzR6IiBjbGFzcz0ic3QyIi8+CiAgICAgICAgPHBhdGggZD0iTTEzLjAyIDExLjgzNHYtLjkzOGgtLjAyM2MtLjE5OS4zNTItLjQ1Ni42Mi0uNzcxLjgwNnMtLjY3My4yNzgtMS4wNzUuMjc4Yy0uMzEzIDAtLjU4OC0uMDQ1LS44MjYtLjEzNXMtLjQzOC0uMjEyLS41OTgtLjM2Ni0uMjgxLS4zMzgtLjM2My0uNTUxLS4xMjQtLjQ0Mi0uMTI0LS42ODhjMC0uMjYyLjAzOS0uNTAyLjExNy0uNzIxcy4xOTgtLjQxMi4zNi0uNTguMzY3LS4zMDguNjE1LS40MTkuNTQ0LS4xOS44ODgtLjIzN2wxLjgxMS0uMjUyYzAtLjI3My0uMDI5LS41MDctLjA4OC0uN3MtLjE0My0uMzUxLS4yNTItLjQ3Mi0uMjQxLS4yMS0uMzk2LS4yNjctLjMyNS0uMDg1LS41MTMtLjA4NWMtLjM2MyAwLS43MTQuMDY0LTEuMDUyLjE5M3MtLjYzOC4zMS0uOTA0LjU0di0uOTg0Yy4wODItLjA1OS4xOTYtLjEyMS4zNDMtLjE4OHMuMzEyLS4xMjguNDk1LS4xODUuMzc4LS4xMDQuNTgzLS4xNDEuNDA3LS4wNTYuNjA2LS4wNTZjLjY5OSAwIDEuMjI5LjE5NCAxLjU4OC41ODNzLjUzOS45NDIuNTM5IDEuNjYxdjMuOTAyaC0uOTZ6bS0xLjQ1NC0yLjgzYy0uMjczLjAzNS0uNDk4LjA4NS0uNjc0LjE0OXMtLjMxMy4xNDQtLjQxLjIzNy0uMTY1LjIwNS0uMjAyLjMzNC0uMDU1LjI3Ni0uMDU1LjQ0YzAgLjE0MS4wMjUuMjcxLjA3Ni4zOTNzLjEyNC4yMjcuMjIuMzE2LjIxNS4xNi4zNTcuMjExLjMwOC4wNzYuNDk1LjA3NmMuMjQyIDAgLjQ2NS0uMDQ1LjY2OC0uMTM1cy4zNzgtLjIxNC41MjQtLjM3Mi4yNjEtLjM0NC4zNDMtLjU1Ny4xMjMtLjQ0Mi4xMjMtLjY4OHYtLjYwOWwtMS40NjUuMjA1eiIgY2xhc3M9InN0MiIvPgogICAgPC9nPgo8L3N2Zz4K";

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/case-sensitive.svg":
/*!********************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/case-sensitive.svg ***!
  \********************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "data:image/svg+xml;base64,PCEtLUNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLi0tPgo8IS0tQ29weXJpZ2h0IChDKSAyMDE4IFR5cGVGb3ggYW5kIG90aGVycy4tLT4KPCEtLUxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPgogICAgPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KICAgICAgICAuc3Qwe29wYWNpdHk6MDtmaWxsOiNGNkY2RjY7fSAuc3Qxe2ZpbGw6I0Y2RjZGNjt9IC5zdDJ7ZmlsbDojNDI0MjQyO30KICAgIDwvc3R5bGU+CiAgICA8ZyBpZD0ib3V0bGluZSI+CiAgICAgICAgPHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBjbGFzcz0ic3QwIi8+CiAgICAgICAgPHBhdGggZD0iTTE0LjE3NiA1LjU5MmMtLjU1NS0uNi0xLjMzNi0uOTA0LTIuMzIyLS45MDQtLjI1OCAwLS41MjEuMDI0LS43ODQuMDcyLS4yNDYuMDQ0LS40NzkuMTAxLS43LjE2OS0uMjI4LjA3LS40MzIuMTQ3LS42MTMuMjI5LS4yMi4wOTktLjM4OS4xOTYtLjUxMi4yODRsLS40MTkuMjk5djIuNzAxYy0uMDg2LjEwOC0uMTYyLjIyMy0uMjI5LjM0NGwtMi40NS02LjM1NGgtMi4zOTRsLTMuNzUzIDkuODA0di41OThoMy4wMjVsLjgzOC0yLjM1aDIuMTY3bC44OTEgMi4zNWgzLjIzN2wtLjAwMS0uMDAzYy4zMDUuMDkyLjYzMy4xNS45OTMuMTUuMzQ0IDAgLjY3MS0uMDQ5Ljk3OC0uMTQ2aDIuODUzdi00LjkwM2MtLjAwMS0uOTc1LS4yNzEtMS43NjMtLjgwNS0yLjM0eiIgY2xhc3M9InN0MSIvPgogICAgPC9nPgogICAgPGcgaWQ9Imljb25feDVGX2JnIj4KICAgICAgICA8cGF0aCBkPSJNNy42MTEgMTEuODM0bC0uODkxLTIuMzVoLTMuNTYybC0uODM4IDIuMzVoLTEuMDk1bDMuMjE3LTguNDAyaDEuMDJsMy4yNCA4LjQwMmgtMS4wOTF6bS0yLjUzMS02LjgxNGwtLjA0NC0uMTM1LS4wMzgtLjE1Ni0uMDI5LS4xNTItLjAyNC0uMTI2aC0uMDIzbC0uMDIxLjEyNi0uMDMyLjE1Mi0uMDM4LjE1Ni0uMDQ0LjEzNS0xLjMwNyAzLjU3NGgyLjkxOGwtMS4zMTgtMy41NzR6IiBjbGFzcz0ic3QyIi8+CiAgICAgICAgPHBhdGggZD0iTTEzLjAyIDExLjgzNHYtLjkzOGgtLjAyM2MtLjE5OS4zNTItLjQ1Ni42Mi0uNzcxLjgwNnMtLjY3My4yNzgtMS4wNzUuMjc4Yy0uMzEzIDAtLjU4OC0uMDQ1LS44MjYtLjEzNXMtLjQzOC0uMjEyLS41OTgtLjM2Ni0uMjgxLS4zMzgtLjM2My0uNTUxLS4xMjQtLjQ0Mi0uMTI0LS42ODhjMC0uMjYyLjAzOS0uNTAyLjExNy0uNzIxcy4xOTgtLjQxMi4zNi0uNTguMzY3LS4zMDguNjE1LS40MTkuNTQ0LS4xOS44ODgtLjIzN2wxLjgxMS0uMjUyYzAtLjI3My0uMDI5LS41MDctLjA4OC0uN3MtLjE0My0uMzUxLS4yNTItLjQ3Mi0uMjQxLS4yMS0uMzk2LS4yNjctLjMyNS0uMDg1LS41MTMtLjA4NWMtLjM2MyAwLS43MTQuMDY0LTEuMDUyLjE5M3MtLjYzOC4zMS0uOTA0LjU0di0uOTg0Yy4wODItLjA1OS4xOTYtLjEyMS4zNDMtLjE4OHMuMzEyLS4xMjguNDk1LS4xODUuMzc4LS4xMDQuNTgzLS4xNDEuNDA3LS4wNTYuNjA2LS4wNTZjLjY5OSAwIDEuMjI5LjE5NCAxLjU4OC41ODNzLjUzOS45NDIuNTM5IDEuNjYxdjMuOTAyaC0uOTZ6bS0xLjQ1NC0yLjgzYy0uMjczLjAzNS0uNDk4LjA4NS0uNjc0LjE0OXMtLjMxMy4xNDQtLjQxLjIzNy0uMTY1LjIwNS0uMjAyLjMzNC0uMDU1LjI3Ni0uMDU1LjQ0YzAgLjE0MS4wMjUuMjcxLjA3Ni4zOTNzLjEyNC4yMjcuMjIuMzE2LjIxNS4xNi4zNTcuMjExLjMwOC4wNzYuNDk1LjA3NmMuMjQyIDAgLjQ2NS0uMDQ1LjY2OC0uMTM1cy4zNzgtLjIxNC41MjQtLjM3Mi4yNjEtLjM0NC4zNDMtLjU1Ny4xMjMtLjQ0Mi4xMjMtLjY4OHYtLjYwOWwtMS40NjUuMjA1eiIgY2xhc3M9InN0MiIvPgogICAgPC9nPgo8L3N2Zz4K";

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/chevron-right-dark.svg":
/*!************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/chevron-right-dark.svg ***!
  \************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "data:image/svg+xml;base64,PCEtLUNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLi0tPgo8IS0tQ29weXJpZ2h0IChDKSAyMDIwIFR5cGVGb3ggYW5kIG90aGVycy4tLT4KPCEtLUNvcGllZCBmcm9tIGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9taWNyb3NvZnQvdnNjb2RlLWljb25zLzljOTBjZTgxYjFmM2MzMDkwMDBiODBkYTA3NjNhYTA5OTc1YTg1ZjAvaWNvbnMvZGFyay9jaGV2cm9uLXJpZ2h0LnN2ZyAtLT4KPHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxwYXRoIGQ9Ik01LjcgMTMuN0w1IDEzTDkuNiA4LjRMNSAzLjdMNS43IDNMMTAuNyA4VjguN0w1LjcgMTMuN1oiIGZpbGw9IiNDNUM1QzUiIC8+Cjwvc3ZnPg==";

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/chevron-right-light.svg":
/*!*************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/chevron-right-light.svg ***!
  \*************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "data:image/svg+xml;base64,PCEtLUNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLi0tPgo8IS0tQ29weXJpZ2h0IChDKSAyMDIwIFR5cGVGb3ggYW5kIG90aGVycy4tLT4KPCEtLUNvcGllZCBmcm9tIGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9taWNyb3NvZnQvdnNjb2RlLWljb25zLzljOTBjZTgxYjFmM2MzMDkwMDBiODBkYTA3NjNhYTA5OTc1YTg1ZjAvaWNvbnMvbGlnaHQvY2hldnJvbi1yaWdodC5zdmcgLS0+Cjxzdmcgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiB2aWV3Qm94PSIwIDAgMTYgMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8cGF0aCBkPSJNNS43IDEzLjdMNSAxM0w5LjYgOC40TDUgMy43TDUuNyAzTDEwLjcgOFY4LjdMNS43IDEzLjdaIiBmaWxsPSIjNDI0MjQyIiAvPgo8L3N2Zz4K";

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/circle-bright.svg":
/*!*******************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/circle-bright.svg ***!
  \*******************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "data:image/svg+xml;base64,PCEtLUNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLi0tPgo8IS0tQ29weXJpZ2h0IChDKSAyMDE5IFR5cGVGb3ggYW5kIG90aGVycy4tLT4KPCEtLUxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uLS0+CjxzdmcgZmlsbD0iIzYxNjE2MSIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2aWV3Qm94PSIwIDAgMTggMTgiPgogICAgPHBhdGggZmlsbD0ibm9uZSIgZD0iTTAsMGgxOHYxOEgwVjB6IiAvPgogICAgPGNpcmNsZSBjeD0iOSIgY3k9IjkiIHI9IjgiIC8+Cjwvc3ZnPgo=";

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/circle-dark.svg":
/*!*****************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/circle-dark.svg ***!
  \*****************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "data:image/svg+xml;base64,PCEtLUNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLi0tPgo8IS0tQ29weXJpZ2h0IChDKSAyMDE5IFR5cGVGb3ggYW5kIG90aGVycy4tLT4KPCEtLUxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uLS0+CjxzdmcgZmlsbD0iI0UwRTBFMCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2aWV3Qm94PSIwIDAgMTggMTgiPgogICAgPHBhdGggZmlsbD0ibm9uZSIgZD0iTTAsMGgxOHYxOEgwVjB6IiAvPgogICAgPGNpcmNsZSBjeD0iOSIgY3k9IjkiIHI9IjgiIC8+Cjwvc3ZnPgo=";

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/clear-search-results-dark.svg":
/*!*******************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/clear-search-results-dark.svg ***!
  \*******************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "data:image/svg+xml;base64,PCEtLUNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLi0tPgo8IS0tQ29weXJpZ2h0IChDKSAyMDE4IFR5cGVGb3ggYW5kIG90aGVycy4tLT4KPCEtLUxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPgogICAgPHBhdGggZmlsbD0iI0U4RThFOCIgZD0iTTEwLjc5OCA3bC0xLjgzLTJoNi4wMzJ2MmgtNC4yMDJ6bS0yLjI5Mi02aC0zLjIwN2wxLjMzNyAxLjUyIDEuODctMS41MnptLTUuNTA2IDguNTMxdjEuNDY5aDEydi0yaC0xMC44MTNsLS4wMjQuMDIxYy0uMy4yOTktLjcxNi40NzktMS4xNjMuNTF6bTAgNS40NjloMTJ2LTJoLTEydjJ6bTMuMzIzLThoLjYzMWwtLjM0Ny0uMjY2LS4yODQuMjY2em04LjY3Ny00di0yaC0zLjI4OWwtMS43NDMgMmg1LjAzMnoiLz4KICAgIDxwYXRoIGZpbGw9IiNGNDg3NzEiIGQ9Ik03LjI0NiA0LjZsMi44NTYtMy4yNzctLjQwNS0uMDAyLTMuMTc2IDIuNTgxLTIuNjA3LTIuOTYyYy0uMzM2LS4yMjEtLjc4Ni0uMi0xLjA4Mi4wOTYtLjMwOC4zMDYtLjMxOS43NzktLjA2OSAxLjEybDIuODMgMi40NDQtMy4zMzkgMi40NjZjLS4zMzkuMzM4LS4zMzkuODg3IDAgMS4yMjUuMzM5LjMzNy44ODguMzM3IDEuMjI2IDBsMy4wNjMtMi44NjcgMy4zMyAyLjU1NWguNDY2bC0zLjA5My0zLjM3OXoiLz4KPC9zdmc+Cg==";

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/clear-search-results.svg":
/*!**************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/clear-search-results.svg ***!
  \**************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "data:image/svg+xml;base64,PCEtLUNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLi0tPgo8IS0tQ29weXJpZ2h0IChDKSAyMDE4IFR5cGVGb3ggYW5kIG90aGVycy4tLT4KPCEtLUxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPgogICAgPHBhdGggZmlsbD0iIzQyNDI0MiIgZD0iTTEwLjc5OCA3bC0xLjgzLTJoNi4wMzJ2MmgtNC4yMDJ6bS0yLjI5Mi02aC0zLjIwN2wxLjMzNyAxLjUyIDEuODctMS41MnptLTUuNTA2IDguNTMxdjEuNDY5aDEydi0yaC0xMC44MTNsLS4wMjQuMDIxYy0uMy4yOTktLjcxNi40NzktMS4xNjMuNTF6bTAgNS40NjloMTJ2LTJoLTEydjJ6bTMuMzIzLThoLjYzMWwtLjM0Ny0uMjY2LS4yODQuMjY2em04LjY3Ny00di0yaC0zLjI4OWwtMS43NDMgMmg1LjAzMnoiLz4KICAgIDxwYXRoIGZpbGw9IiNBMTI2MEQiIGQ9Ik03LjI0NiA0LjZsMi44NTYtMy4yNzctLjQwNS0uMDAyLTMuMTc2IDIuNTgxLTIuNjA3LTIuOTYyYy0uMzM2LS4yMjEtLjc4Ni0uMi0xLjA4Mi4wOTYtLjMwOC4zMDYtLjMxOS43NzktLjA2OSAxLjEybDIuODMgMi40NDQtMy4zMzkgMi40NjZjLS4zMzkuMzM4LS4zMzkuODg3IDAgMS4yMjUuMzM5LjMzNy44ODguMzM3IDEuMjI2IDBsMy4wNjMtMi44NjcgMy4zMyAyLjU1NWguNDY2bC0zLjA5My0zLjM3OXoiLz4KPC9zdmc+Cg==";

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/close-all-bright.svg":
/*!**********************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/close-all-bright.svg ***!
  \**********************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "data:image/svg+xml;base64,PCEtLUNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLi0tPgo8IS0tQ29weXJpZ2h0IChDKSAyMDE5IFR5cGVGb3ggYW5kIG90aGVycy4tLT4KPCEtLUxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiI+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMS4yIiBkPSJNMTEsMTEgTDExLDYgTDMsNiBMMywxNCBMMTEsMTQgTDExLDExIEwxNCwxMSBMMTQsMyBMNiwzIEw2LDYiLz4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLXdpZHRoPSIxLjQiIGQ9Ik01LDggTDksMTIgTTksOCBMNSwxMiIvPgo8L3N2Zz4K";

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/close-all-dark.svg":
/*!********************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/close-all-dark.svg ***!
  \********************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "data:image/svg+xml;base64,PCEtLUNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLi0tPgo8IS0tQ29weXJpZ2h0IChDKSAyMDE5IFR5cGVGb3ggYW5kIG90aGVycy4tLT4KPCEtLUxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiI+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNENEQ0RDQiIHN0cm9rZS13aWR0aD0iMS4yIiBkPSJNMTEsMTEgTDExLDYgTDMsNiBMMywxNCBMMTEsMTQgTDExLDExIEwxNCwxMSBMMTQsMyBMNiwzIEw2LDYiLz4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0Q0RDRENCIgc3Ryb2tlLXdpZHRoPSIxLjQiIGQ9Ik01LDggTDksMTIgTTksOCBMNSwxMiIvPgo8L3N2Zz4K";

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/close-bright.svg":
/*!******************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/close-bright.svg ***!
  \******************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "data:image/svg+xml;base64,PCEtLUNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLi0tPgo8IS0tQ29weXJpZ2h0IChDKSAyMDE5IFR5cGVGb3ggYW5kIG90aGVycy4tLT4KPCEtLUxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uLS0+CjxzdmcgZmlsbD0iIzAwMDAwMCIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8cGF0aCBkPSJNMTkgNi40MUwxNy41OSA1IDEyIDEwLjU5IDYuNDEgNSA1IDYuNDEgMTAuNTkgMTIgNSAxNy41OSA2LjQxIDE5IDEyIDEzLjQxIDE3LjU5IDE5IDE5IDE3LjU5IDEzLjQxIDEyeiIvPgogICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPgo8L3N2Zz4K";

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/close-dark.svg":
/*!****************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/close-dark.svg ***!
  \****************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "data:image/svg+xml;base64,PCEtLUNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLi0tPgo8IS0tQ29weXJpZ2h0IChDKSAyMDE5IFR5cGVGb3ggYW5kIG90aGVycy4tLT4KPCEtLUxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uLS0+CjxzdmcgZmlsbD0iI0Q0RDRENCIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8cGF0aCBkPSJNMTkgNi40MUwxNy41OSA1IDEyIDEwLjU5IDYuNDEgNSA1IDYuNDEgMTAuNTkgMTIgNSAxNy41OSA2LjQxIDE5IDEyIDEzLjQxIDE3LjU5IDE5IDE5IDE3LjU5IDEzLjQxIDEyeiIvPgogICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPgo8L3N2Zz4K";

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/collapse.svg":
/*!**************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/collapse.svg ***!
  \**************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "data:image/svg+xml;base64,PCEtLUNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLi0tPgo8IS0tQ29weXJpZ2h0IChDKSAyMDE5IFR5cGVGb3ggYW5kIG90aGVycy4tLT4KPCEtLUxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPjxwYXRoIGZpbGw9IiM2NDY0NjUiIGQ9Ik02IDR2OGw0LTQtNC00em0xIDIuNDE0bDEuNTg2IDEuNTg2LTEuNTg2IDEuNTg2di0zLjE3MnoiLz48L3N2Zz4K";

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/edit-json-dark.svg":
/*!********************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/edit-json-dark.svg ***!
  \********************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "data:image/svg+xml;base64,PCEtLUNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLi0tPgo8IS0tQ29weXJpZ2h0IChDKSAyMDE4IEVyaWNzc29uIGFuZCBvdGhlcnMuLS0+CjwhLS1MaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLi0tPgo8c3ZnIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNMi4yMjc4NSA3LjM1OTg2QzIuNjkwNzggNy4zNTk4NiAzLjAxNjI3IDcuMjUxMzYgMy4yMDQzNCA3LjAzNDM2QzMuMzM0NTQgNi44NzUyMyAzLjM5OTY0IDYuNjQzNzYgMy4zOTk2NCA2LjMzOTk2QzMuMzk5NjQgNi4yMDk3NiAzLjM4NTE3IDYuMDE4MDggMy4zNTYyNCA1Ljc2NDkyQzMuMzI3MzEgNS41MTE3NiAzLjMxMjg0IDUuMzE2NDYgMy4zMTI4NCA1LjE3OTAyQzMuMzEyODQgNS4wNDE1OSAzLjMwNTYxIDQuODM1NDQgMy4yOTExNCA0LjU2MDU4QzMuMjYyMjEgNC4zMTQ2NSAzLjI0Nzc0IDQuMTQxMDUgMy4yNDc3NCA0LjAzOTc4QzMuMjQ3NzQgMy4zNDUzOSAzLjQ1MDI3IDIuODMxODMgMy44NTUzMyAyLjQ5OTA5QzQuMjYwNCAyLjE2NjM2IDQuODMxODMgMiA1LjU2OTYyIDJINi4xMTIxMlYzLjI4MDI5SDUuODMwMDJDNS41MTE3NSAzLjI4MDI5IDUuMjgzOTEgMy4zNzA3MSA1LjE0NjQ3IDMuNTUxNTRDNS4wMDkwNCAzLjczMjM3IDQuOTQwMzMgNC4wMDM2MiA0Ljk0MDMzIDQuMzY1MjhDNC45NDAzMyA0LjQ1MjA4IDQuOTU0NzkgNC41ODIyOCA0Ljk4MzcyIDQuNzU1ODhDNS4wMTI2NiA0Ljk3Mjg4IDUuMDI3MTIgNS4xMzkyNCA1LjAyNzEyIDUuMjU0OTdDNS4wMjcxMiA1LjM0MTc3IDUuMDM0MzYgNS40NzkyIDUuMDQ4ODIgNS42NjcyN0M1LjA3Nzc2IDUuOTI3NjcgNS4wOTIyMiA2LjEzMDIgNS4wOTIyMiA2LjI3NDg2QzUuMDkyMjIgNi44MjQ1OSA0Ljk3NjQ5IDcuMjM2ODkgNC43NDUwMyA3LjUxMTc1QzQuNTQyNSA3Ljc1NzY4IDQuMjI0MjMgNy45MzEyOCAzLjc5MDI0IDguMDMyNTVDNC4yMjQyMyA4LjE0ODI4IDQuNTQyNSA4LjMyMTg4IDQuNzQ1MDMgOC41NTMzNEM0Ljk3NjQ5IDguODQyNjggNS4wOTIyMiA5LjI1NDk3IDUuMDkyMjIgOS43OTAyNEM1LjA5MjIyIDkuOTQ5MzcgNS4wNzc3NiAxMC4xNTkxIDUuMDQ4ODIgMTAuNDE5NUM1LjAxOTg5IDEwLjYwNzYgNS4wMDkwNCAxMC43NDUgNS4wMTYyNyAxMC44MzE4QzUuMDIzNTEgMTAuOTE4NiA1LjAxMjY2IDExLjA3MDUgNC45ODM3MiAxMS4yODc1QzQuOTU0NzkgMTEuNDQ2NyA0Ljk0MDMzIDExLjU2MjQgNC45NDAzMyAxMS42MzQ3QzQuOTQwMzMgMTEuOTk2NCA1LjAwOTA0IDEyLjI2NzYgNS4xNDY0NyAxMi40NDg1QzUuMjgzOTEgMTIuNjI5MyA1LjUxMTc1IDEyLjcxOTcgNS44MzAwMiAxMi43MTk3SDYuMTEyMTJWMTRINS41Njk2MkM0LjA2NTEgMTQgMy4zMTI4NCAxMy4zMjAxIDMuMzEyODQgMTEuOTYwMkMzLjMxMjg0IDExLjQ2ODQgMy4zMzgxNiAxMS4wODg2IDMuMzg4NzkgMTAuODIxQzMuNDM5NDIgMTAuNTUzMyAzLjQ2NDc0IDEwLjE2NjQgMy40NjQ3NCA5LjY2MDA0QzMuNDY0NzQgOC45ODAxMSAzLjA4MTM3IDguNjQwMTQgMi4zMTQ2NSA4LjY0MDE0TDIuMjI3ODUgNy4zNTk4NlpNMTMuNzcyMiA4LjUwOTk1QzEzLjAwNTQgOC41MDk5NSAxMi42MjIxIDguODQ5OTEgMTIuNjIyMSA5LjUyOTg0QzEyLjYyMjEgOS42NjAwNCAxMi42MzI5IDkuODUxNzIgMTIuNjU0NiAxMC4xMDQ5QzEyLjY3NjMgMTAuMzU4IDEyLjY4NzIgMTAuNTQ5NyAxMi42ODcyIDEwLjY3OTlDMTIuNzMwNiAxMC45NTQ4IDEyLjc1MjMgMTEuMzM4MiAxMi43NTIzIDExLjgzQzEyLjc1MjMgMTMuMTg5OSAxMS45ODU1IDEzLjg2OTggMTAuNDUyMSAxMy44Njk4SDkuOTA5NThWMTIuNzE5N0gxMC4xN0MxMC40ODgyIDEyLjcxOTcgMTAuNzE2MSAxMi42MjkzIDEwLjg1MzUgMTIuNDQ4NUMxMC45OTEgMTIuMjY3NiAxMS4wNTk3IDExLjk5NjQgMTEuMDU5NyAxMS42MzQ3QzExLjA1OTcgMTEuMjczMSAxMS4wMzggMTAuOTk4MiAxMC45OTQ2IDEwLjgxMDFDMTAuOTk0NiAxMC42OTQ0IDEwLjk4MDEgMTAuNTI0NCAxMC45NTEyIDEwLjMwMDJDMTAuOTIyMiAxMC4wNzU5IDEwLjkwNzggOS45MDU5NyAxMC45MDc4IDkuNzkwMjRDMTAuOTA3OCA5LjI1NDk3IDExLjAyMzUgOC44NDI2OCAxMS4yNTUgOC41NTMzNEMxMS40NTc1IDguMzIxODggMTEuNzc1OCA4LjE0ODI4IDEyLjIwOTggOC4wMzI1NUMxMS43NzU4IDcuOTMxMjggMTEuNDU3NSA3Ljc1NzY4IDExLjI1NSA3LjUxMTc1QzExLjAyMzUgNy4yMzY4OSAxMC45MDc4IDYuODI0NTkgMTAuOTA3OCA2LjI3NDg2QzEwLjkwNzggNi4xMzAyIDEwLjkyMjIgNS45Mjc2NyAxMC45NTEyIDUuNjY3MjdDMTAuOTgwMSA1LjQ3OTIgMTAuOTk0NiA1LjM0MTc3IDEwLjk5NDYgNS4yNTQ5N0MxMS4wMzggNS4wMjM1MSAxMS4wNTk3IDQuNzM0MTggMTEuMDU5NyA0LjM4Njk4QzExLjA1OTcgNC4wMzk3OCAxMC45ODczIDMuNzc5MzkgMTAuODQyNyAzLjYwNTc5QzEwLjY5OCAzLjQzMjE5IDEwLjQ3MzggMy4zMjM2OSAxMC4xNyAzLjI4MDI5SDkuOTA5NThWMkgxMC40NTIxQzExLjE3NTQgMiAxMS43Mzk2IDIuMTY2MzYgMTIuMTQ0NyAyLjQ5OTA5QzEyLjU0OTcgMi44MzE4MyAxMi43NTIzIDMuMzQ1MzkgMTIuNzUyMyA0LjAzOTc4QzEyLjc1MjMgNC4xNjk5OCAxMi43NDE0IDQuMzYxNjYgMTIuNzE5NyA0LjYxNDgzQzEyLjY5OCA0Ljg2Nzk5IDEyLjY4NzIgNS4wNTk2NyAxMi42ODcyIDUuMTg5ODdDMTIuNjQzOCA1LjQ2NDc0IDEyLjYxNDggNS44NDgxIDEyLjYwMDQgNi4zMzk5NkMxMi42MTQ4IDYuNjQzNzYgMTIuNjc5OSA2Ljg3NTIzIDEyLjc5NTcgNy4wMzQzNkMxMi45ODM3IDcuMjUxMzYgMTMuMzA5MiA3LjM1OTg2IDEzLjc3MjIgNy4zNTk4NlY4LjUwOTk1WiIgZmlsbD0iI0M1QzVDNSIvPgo8L3N2Zz4K";

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/edit-json.svg":
/*!***************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/edit-json.svg ***!
  \***************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "data:image/svg+xml;base64,PCEtLUNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLi0tPgo8IS0tQ29weXJpZ2h0IChDKSAyMDE4IEVyaWNzc29uIGFuZCBvdGhlcnMuLS0+CjwhLS1MaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLi0tPgo8c3ZnIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNMi4yMjc4NSA3LjM1OTg2QzIuNjkwNzggNy4zNTk4NiAzLjAxNjI3IDcuMjUxMzYgMy4yMDQzNCA3LjAzNDM2QzMuMzM0NTQgNi44NzUyMyAzLjM5OTY0IDYuNjQzNzYgMy4zOTk2NCA2LjMzOTk2QzMuMzk5NjQgNi4yMDk3NiAzLjM4NTE3IDYuMDE4MDggMy4zNTYyNCA1Ljc2NDkyQzMuMzI3MzEgNS41MTE3NiAzLjMxMjg0IDUuMzE2NDYgMy4zMTI4NCA1LjE3OTAyQzMuMzEyODQgNS4wNDE1OSAzLjMwNTYxIDQuODM1NDQgMy4yOTExNCA0LjU2MDU4QzMuMjYyMjEgNC4zMTQ2NSAzLjI0Nzc0IDQuMTQxMDUgMy4yNDc3NCA0LjAzOTc4QzMuMjQ3NzQgMy4zNDUzOSAzLjQ1MDI3IDIuODMxODMgMy44NTUzMyAyLjQ5OTA5QzQuMjYwNCAyLjE2NjM2IDQuODMxODMgMiA1LjU2OTYyIDJINi4xMTIxMlYzLjI4MDI5SDUuODMwMDJDNS41MTE3NSAzLjI4MDI5IDUuMjgzOTEgMy4zNzA3MSA1LjE0NjQ3IDMuNTUxNTRDNS4wMDkwNCAzLjczMjM3IDQuOTQwMzMgNC4wMDM2MiA0Ljk0MDMzIDQuMzY1MjhDNC45NDAzMyA0LjQ1MjA4IDQuOTU0NzkgNC41ODIyOCA0Ljk4MzcyIDQuNzU1ODhDNS4wMTI2NiA0Ljk3Mjg4IDUuMDI3MTIgNS4xMzkyNCA1LjAyNzEyIDUuMjU0OTdDNS4wMjcxMiA1LjM0MTc3IDUuMDM0MzYgNS40NzkyIDUuMDQ4ODIgNS42NjcyN0M1LjA3Nzc2IDUuOTI3NjcgNS4wOTIyMiA2LjEzMDIgNS4wOTIyMiA2LjI3NDg2QzUuMDkyMjIgNi44MjQ1OSA0Ljk3NjQ5IDcuMjM2ODkgNC43NDUwMyA3LjUxMTc1QzQuNTQyNSA3Ljc1NzY4IDQuMjI0MjMgNy45MzEyOCAzLjc5MDI0IDguMDMyNTVDNC4yMjQyMyA4LjE0ODI4IDQuNTQyNSA4LjMyMTg4IDQuNzQ1MDMgOC41NTMzNEM0Ljk3NjQ5IDguODQyNjggNS4wOTIyMiA5LjI1NDk3IDUuMDkyMjIgOS43OTAyNEM1LjA5MjIyIDkuOTQ5MzcgNS4wNzc3NiAxMC4xNTkxIDUuMDQ4ODIgMTAuNDE5NUM1LjAxOTg5IDEwLjYwNzYgNS4wMDkwNCAxMC43NDUgNS4wMTYyNyAxMC44MzE4QzUuMDIzNTEgMTAuOTE4NiA1LjAxMjY2IDExLjA3MDUgNC45ODM3MiAxMS4yODc1QzQuOTU0NzkgMTEuNDQ2NyA0Ljk0MDMzIDExLjU2MjQgNC45NDAzMyAxMS42MzQ3QzQuOTQwMzMgMTEuOTk2NCA1LjAwOTA0IDEyLjI2NzYgNS4xNDY0NyAxMi40NDg1QzUuMjgzOTEgMTIuNjI5MyA1LjUxMTc1IDEyLjcxOTcgNS44MzAwMiAxMi43MTk3SDYuMTEyMTJWMTRINS41Njk2MkM0LjA2NTEgMTQgMy4zMTI4NCAxMy4zMjAxIDMuMzEyODQgMTEuOTYwMkMzLjMxMjg0IDExLjQ2ODQgMy4zMzgxNiAxMS4wODg2IDMuMzg4NzkgMTAuODIxQzMuNDM5NDIgMTAuNTUzMyAzLjQ2NDc0IDEwLjE2NjQgMy40NjQ3NCA5LjY2MDA0QzMuNDY0NzQgOC45ODAxMSAzLjA4MTM3IDguNjQwMTQgMi4zMTQ2NSA4LjY0MDE0TDIuMjI3ODUgNy4zNTk4NlpNMTMuNzcyMiA4LjUwOTk1QzEzLjAwNTQgOC41MDk5NSAxMi42MjIxIDguODQ5OTEgMTIuNjIyMSA5LjUyOTg0QzEyLjYyMjEgOS42NjAwNCAxMi42MzI5IDkuODUxNzIgMTIuNjU0NiAxMC4xMDQ5QzEyLjY3NjMgMTAuMzU4IDEyLjY4NzIgMTAuNTQ5NyAxMi42ODcyIDEwLjY3OTlDMTIuNzMwNiAxMC45NTQ4IDEyLjc1MjMgMTEuMzM4MiAxMi43NTIzIDExLjgzQzEyLjc1MjMgMTMuMTg5OSAxMS45ODU1IDEzLjg2OTggMTAuNDUyMSAxMy44Njk4SDkuOTA5NThWMTIuNzE5N0gxMC4xN0MxMC40ODgyIDEyLjcxOTcgMTAuNzE2MSAxMi42MjkzIDEwLjg1MzUgMTIuNDQ4NUMxMC45OTEgMTIuMjY3NiAxMS4wNTk3IDExLjk5NjQgMTEuMDU5NyAxMS42MzQ3QzExLjA1OTcgMTEuMjczMSAxMS4wMzggMTAuOTk4MiAxMC45OTQ2IDEwLjgxMDFDMTAuOTk0NiAxMC42OTQ0IDEwLjk4MDEgMTAuNTI0NCAxMC45NTEyIDEwLjMwMDJDMTAuOTIyMiAxMC4wNzU5IDEwLjkwNzggOS45MDU5NyAxMC45MDc4IDkuNzkwMjRDMTAuOTA3OCA5LjI1NDk3IDExLjAyMzUgOC44NDI2OCAxMS4yNTUgOC41NTMzNEMxMS40NTc1IDguMzIxODggMTEuNzc1OCA4LjE0ODI4IDEyLjIwOTggOC4wMzI1NUMxMS43NzU4IDcuOTMxMjggMTEuNDU3NSA3Ljc1NzY4IDExLjI1NSA3LjUxMTc1QzExLjAyMzUgNy4yMzY4OSAxMC45MDc4IDYuODI0NTkgMTAuOTA3OCA2LjI3NDg2QzEwLjkwNzggNi4xMzAyIDEwLjkyMjIgNS45Mjc2NyAxMC45NTEyIDUuNjY3MjdDMTAuOTgwMSA1LjQ3OTIgMTAuOTk0NiA1LjM0MTc3IDEwLjk5NDYgNS4yNTQ5N0MxMS4wMzggNS4wMjM1MSAxMS4wNTk3IDQuNzM0MTggMTEuMDU5NyA0LjM4Njk4QzExLjA1OTcgNC4wMzk3OCAxMC45ODczIDMuNzc5MzkgMTAuODQyNyAzLjYwNTc5QzEwLjY5OCAzLjQzMjE5IDEwLjQ3MzggMy4zMjM2OSAxMC4xNyAzLjI4MDI5SDkuOTA5NThWMkgxMC40NTIxQzExLjE3NTQgMiAxMS43Mzk2IDIuMTY2MzYgMTIuMTQ0NyAyLjQ5OTA5QzEyLjU0OTcgMi44MzE4MyAxMi43NTIzIDMuMzQ1MzkgMTIuNzUyMyA0LjAzOTc4QzEyLjc1MjMgNC4xNjk5OCAxMi43NDE0IDQuMzYxNjYgMTIuNzE5NyA0LjYxNDgzQzEyLjY5OCA0Ljg2Nzk5IDEyLjY4NzIgNS4wNTk2NyAxMi42ODcyIDUuMTg5ODdDMTIuNjQzOCA1LjQ2NDc0IDEyLjYxNDggNS44NDgxIDEyLjYwMDQgNi4zMzk5NkMxMi42MTQ4IDYuNjQzNzYgMTIuNjc5OSA2Ljg3NTIzIDEyLjc5NTcgNy4wMzQzNkMxMi45ODM3IDcuMjUxMzYgMTMuMzA5MiA3LjM1OTg2IDEzLjc3MjIgNy4zNTk4NlY4LjUwOTk1WiIgZmlsbD0iIzQyNDI0MiIvPgo8L3N2Zz4K";

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/expand.svg":
/*!************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/expand.svg ***!
  \************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "data:image/svg+xml;base64,PCEtLUNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLi0tPgo8IS0tQ29weXJpZ2h0IChDKSAyMDE5IFR5cGVGb3ggYW5kIG90aGVycy4tLT4KPCEtLUxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPjxwYXRoIGZpbGw9IiM2NDY0NjUiIGQ9Ik0xMSAxMC4wN2gtNS42NTZsNS42NTYtNS42NTZ2NS42NTZ6Ii8+PC9zdmc+Cg==";

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/loading-dark.svg":
/*!******************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/loading-dark.svg ***!
  \******************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "data:image/svg+xml;base64,PCEtLUNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLi0tPgo8IS0tQ29weXJpZ2h0IChDKSAyMDIwIFR5cGVGb3ggYW5kIG90aGVycy4tLT4KPCEtLUNvcGllZCBmcm9tIGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9taWNyb3NvZnQvdnNjb2RlLWljb25zLzljOTBjZTgxYjFmM2MzMDkwMDBiODBkYTA3NjNhYTA5OTc1YTg1ZjAvaWNvbnMvZGFyay9sb2FkaW5nLnN2ZyAtLT4KPHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxwYXRoIGQ9Ik04IDAuNzVDOC4xNzE4OCAwLjc1IDguMzMzMzMgMC43ODM4NTQgOC40ODQzOCAwLjg1MTU2MkM4LjYzNTQyIDAuOTE0MDYyIDguNzY4MjMgMS4wMDI2IDguODgyODEgMS4xMTcxOUM4Ljk5NzQgMS4yMzE3NyA5LjA4NTk0IDEuMzY0NTggOS4xNDg0NCAxLjUxNTYyQzkuMjE2MTUgMS42NjY2NyA5LjI1IDEuODI4MTIgOS4yNSAyQzkuMjUgMi4xNzE4OCA5LjIxNjE1IDIuMzMzMzMgOS4xNDg0NCAyLjQ4NDM4QzkuMDg1OTQgMi42MzU0MiA4Ljk5NzQgMi43NjgyMyA4Ljg4MjgxIDIuODgyODFDOC43NjgyMyAyLjk5NzQgOC42MzU0MiAzLjA4ODU0IDguNDg0MzggMy4xNTYyNUM4LjMzMzMzIDMuMjE4NzUgOC4xNzE4OCAzLjI1IDggMy4yNUM3LjgyODEyIDMuMjUgNy42NjY2NyAzLjIxODc1IDcuNTE1NjIgMy4xNTYyNUM3LjM2NDU4IDMuMDg4NTQgNy4yMzE3NyAyLjk5NzQgNy4xMTcxOSAyLjg4MjgxQzcuMDAyNiAyLjc2ODIzIDYuOTExNDYgMi42MzU0MiA2Ljg0Mzc1IDIuNDg0MzhDNi43ODEyNSAyLjMzMzMzIDYuNzUgMi4xNzE4OCA2Ljc1IDJDNi43NSAxLjgyODEyIDYuNzgxMjUgMS42NjY2NyA2Ljg0Mzc1IDEuNTE1NjJDNi45MTE0NiAxLjM2NDU4IDcuMDAyNiAxLjIzMTc3IDcuMTE3MTkgMS4xMTcxOUM3LjIzMTc3IDEuMDAyNiA3LjM2NDU4IDAuOTE0MDYyIDcuNTE1NjIgMC44NTE1NjJDNy42NjY2NyAwLjc4Mzg1NCA3LjgyODEyIDAuNzUgOCAwLjc1Wk0yLjYzMjgxIDMuNzU3ODFDMi42MzI4MSAzLjYwMTU2IDIuNjYxNDYgMy40NTU3MyAyLjcxODc1IDMuMzIwMzFDMi43NzYwNCAzLjE4NDkgMi44NTQxNyAzLjA2NzcxIDIuOTUzMTIgMi45Njg3NUMzLjA1NzI5IDIuODY0NTggMy4xNzcwOCAyLjc4Mzg1IDMuMzEyNSAyLjcyNjU2QzMuNDUzMTIgMi42NjQwNiAzLjYwMTU2IDIuNjMyODEgMy43NTc4MSAyLjYzMjgxQzMuOTE0MDYgMi42MzI4MSA0LjA1OTkgMi42NjQwNiA0LjE5NTMxIDIuNzI2NTZDNC4zMzA3MyAyLjc4Mzg1IDQuNDQ3OTIgMi44NjQ1OCA0LjU0Njg4IDIuOTY4NzVDNC42NTEwNCAzLjA2NzcxIDQuNzMxNzcgMy4xODQ5IDQuNzg5MDYgMy4zMjAzMUM0Ljg1MTU2IDMuNDU1NzMgNC44ODI4MSAzLjYwMTU2IDQuODgyODEgMy43NTc4MUM0Ljg4MjgxIDMuOTE0MDYgNC44NTE1NiA0LjA2MjUgNC43ODkwNiA0LjIwMzEyQzQuNzMxNzcgNC4zMzg1NCA0LjY1MTA0IDQuNDU4MzMgNC41NDY4OCA0LjU2MjVDNC40NDc5MiA0LjY2MTQ2IDQuMzMwNzMgNC43Mzk1OCA0LjE5NTMxIDQuNzk2ODhDNC4wNTk5IDQuODU0MTcgMy45MTQwNiA0Ljg4MjgxIDMuNzU3ODEgNC44ODI4MUMzLjYwMTU2IDQuODgyODEgMy40NTMxMiA0Ljg1NDE3IDMuMzEyNSA0Ljc5Njg4QzMuMTc3MDggNC43Mzk1OCAzLjA1NzI5IDQuNjYxNDYgMi45NTMxMiA0LjU2MjVDMi44NTQxNyA0LjQ1ODMzIDIuNzc2MDQgNC4zMzg1NCAyLjcxODc1IDQuMjAzMTJDMi42NjE0NiA0LjA2MjUgMi42MzI4MSAzLjkxNDA2IDIuNjMyODEgMy43NTc4MVpNMiA3QzIuMTQwNjIgNyAyLjI3MDgzIDcuMDI2MDQgMi4zOTA2MiA3LjA3ODEyQzIuNTEwNDIgNy4xMzAyMSAyLjYxNDU4IDcuMjAzMTIgMi43MDMxMiA3LjI5Njg4QzIuNzk2ODggNy4zODU0MiAyLjg2OTc5IDcuNDg5NTggMi45MjE4OCA3LjYwOTM4QzIuOTczOTYgNy43MjkxNyAzIDcuODU5MzggMyA4QzMgOC4xNDA2MiAyLjk3Mzk2IDguMjcwODMgMi45MjE4OCA4LjM5MDYyQzIuODY5NzkgOC41MTA0MiAyLjc5Njg4IDguNjE3MTkgMi43MDMxMiA4LjcxMDk0QzIuNjE0NTggOC43OTk0OCAyLjUxMDQyIDguODY5NzkgMi4zOTA2MiA4LjkyMTg4QzIuMjcwODMgOC45NzM5NiAyLjE0MDYyIDkgMiA5QzEuODU5MzggOSAxLjcyOTE3IDguOTczOTYgMS42MDkzOCA4LjkyMTg4QzEuNDg5NTggOC44Njk3OSAxLjM4MjgxIDguNzk5NDggMS4yODkwNiA4LjcxMDk0QzEuMjAwNTIgOC42MTcxOSAxLjEzMDIxIDguNTEwNDIgMS4wNzgxMiA4LjM5MDYyQzEuMDI2MDQgOC4yNzA4MyAxIDguMTQwNjIgMSA4QzEgNy44NTkzOCAxLjAyNjA0IDcuNzI5MTcgMS4wNzgxMiA3LjYwOTM4QzEuMTMwMjEgNy40ODk1OCAxLjIwMDUyIDcuMzg1NDIgMS4yODkwNiA3LjI5Njg4QzEuMzgyODEgNy4yMDMxMiAxLjQ4OTU4IDcuMTMwMjEgMS42MDkzOCA3LjA3ODEyQzEuNzI5MTcgNy4wMjYwNCAxLjg1OTM4IDcgMiA3Wk0yLjg4MjgxIDEyLjI0MjJDMi44ODI4MSAxMi4xMjI0IDIuOTA2MjUgMTIuMDEwNCAyLjk1MzEyIDExLjkwNjJDMyAxMS43OTY5IDMuMDYyNSAxMS43MDMxIDMuMTQwNjIgMTEuNjI1QzMuMjE4NzUgMTEuNTQ2OSAzLjMwOTkgMTEuNDg0NCAzLjQxNDA2IDExLjQzNzVDMy41MjM0NCAxMS4zOTA2IDMuNjM4MDIgMTEuMzY3MiAzLjc1NzgxIDExLjM2NzJDMy44Nzc2IDExLjM2NzIgMy45ODk1OCAxMS4zOTA2IDQuMDkzNzUgMTEuNDM3NUM0LjIwMzEyIDExLjQ4NDQgNC4yOTY4OCAxMS41NDY5IDQuMzc1IDExLjYyNUM0LjQ1MzEyIDExLjcwMzEgNC41MTU2MiAxMS43OTY5IDQuNTYyNSAxMS45MDYyQzQuNjA5MzggMTIuMDEwNCA0LjYzMjgxIDEyLjEyMjQgNC42MzI4MSAxMi4yNDIyQzQuNjMyODEgMTIuMzYyIDQuNjA5MzggMTIuNDc2NiA0LjU2MjUgMTIuNTg1OUM0LjUxNTYyIDEyLjY5MDEgNC40NTMxMiAxMi43ODEyIDQuMzc1IDEyLjg1OTRDNC4yOTY4OCAxMi45Mzc1IDQuMjAzMTIgMTMgNC4wOTM3NSAxMy4wNDY5QzMuOTg5NTggMTMuMDkzOCAzLjg3NzYgMTMuMTE3MiAzLjc1NzgxIDEzLjExNzJDMy42MzgwMiAxMy4xMTcyIDMuNTIzNDQgMTMuMDkzOCAzLjQxNDA2IDEzLjA0NjlDMy4zMDk5IDEzIDMuMjE4NzUgMTIuOTM3NSAzLjE0MDYyIDEyLjg1OTRDMy4wNjI1IDEyLjc4MTIgMyAxMi42OTAxIDIuOTUzMTIgMTIuNTg1OUMyLjkwNjI1IDEyLjQ3NjYgMi44ODI4MSAxMi4zNjIgMi44ODI4MSAxMi4yNDIyWk04IDEzLjI1QzguMjA4MzMgMTMuMjUgOC4zODU0MiAxMy4zMjI5IDguNTMxMjUgMTMuNDY4OEM4LjY3NzA4IDEzLjYxNDYgOC43NSAxMy43OTE3IDguNzUgMTRDOC43NSAxNC4yMDgzIDguNjc3MDggMTQuMzg1NCA4LjUzMTI1IDE0LjUzMTJDOC4zODU0MiAxNC42NzcxIDguMjA4MzMgMTQuNzUgOCAxNC43NUM3Ljc5MTY3IDE0Ljc1IDcuNjE0NTggMTQuNjc3MSA3LjQ2ODc1IDE0LjUzMTJDNy4zMjI5MiAxNC4zODU0IDcuMjUgMTQuMjA4MyA3LjI1IDE0QzcuMjUgMTMuNzkxNyA3LjMyMjkyIDEzLjYxNDYgNy40Njg3NSAxMy40Njg4QzcuNjE0NTggMTMuMzIyOSA3Ljc5MTY3IDEzLjI1IDggMTMuMjVaTTExLjYxNzIgMTIuMjQyMkMxMS42MTcyIDEyLjA2NTEgMTEuNjc3MSAxMS45MTY3IDExLjc5NjkgMTEuNzk2OUMxMS45MTY3IDExLjY3NzEgMTIuMDY1MSAxMS42MTcyIDEyLjI0MjIgMTEuNjE3MkMxMi40MTkzIDExLjYxNzIgMTIuNTY3NyAxMS42NzcxIDEyLjY4NzUgMTEuNzk2OUMxMi44MDczIDExLjkxNjcgMTIuODY3MiAxMi4wNjUxIDEyLjg2NzIgMTIuMjQyMkMxMi44NjcyIDEyLjQxOTMgMTIuODA3MyAxMi41Njc3IDEyLjY4NzUgMTIuNjg3NUMxMi41Njc3IDEyLjgwNzMgMTIuNDE5MyAxMi44NjcyIDEyLjI0MjIgMTIuODY3MkMxMi4wNjUxIDEyLjg2NzIgMTEuOTE2NyAxMi44MDczIDExLjc5NjkgMTIuNjg3NUMxMS42NzcxIDEyLjU2NzcgMTEuNjE3MiAxMi40MTkzIDExLjYxNzIgMTIuMjQyMlpNMTQgNy41QzE0LjEzNTQgNy41IDE0LjI1MjYgNy41NDk0OCAxNC4zNTE2IDcuNjQ4NDRDMTQuNDUwNSA3Ljc0NzQgMTQuNSA3Ljg2NDU4IDE0LjUgOEMxNC41IDguMTM1NDIgMTQuNDUwNSA4LjI1MjYgMTQuMzUxNiA4LjM1MTU2QzE0LjI1MjYgOC40NTA1MiAxNC4xMzU0IDguNSAxNCA4LjVDMTMuODY0NiA4LjUgMTMuNzQ3NCA4LjQ1MDUyIDEzLjY0ODQgOC4zNTE1NkMxMy41NDk1IDguMjUyNiAxMy41IDguMTM1NDIgMTMuNSA4QzEzLjUgNy44NjQ1OCAxMy41NDk1IDcuNzQ3NCAxMy42NDg0IDcuNjQ4NDRDMTMuNzQ3NCA3LjU0OTQ4IDEzLjg2NDYgNy41IDE0IDcuNVpNMTIuMjQyMiAyLjM4MjgxQzEyLjQyOTcgMi4zODI4MSAxMi42MDY4IDIuNDE5MjcgMTIuNzczNCAyLjQ5MjE5QzEyLjk0MDEgMi41NjUxIDEzLjA4NTkgMi42NjQwNiAxMy4yMTA5IDIuNzg5MDZDMTMuMzM1OSAyLjkxNDA2IDEzLjQzNDkgMy4wNTk5IDEzLjUwNzggMy4yMjY1NkMxMy41ODA3IDMuMzkzMjMgMTMuNjE3MiAzLjU3MDMxIDEzLjYxNzIgMy43NTc4MUMxMy42MTcyIDMuOTQ1MzEgMTMuNTgwNyA0LjEyMjQgMTMuNTA3OCA0LjI4OTA2QzEzLjQzNDkgNC40NTU3MyAxMy4zMzU5IDQuNjAxNTYgMTMuMjEwOSA0LjcyNjU2QzEzLjA4NTkgNC44NTE1NiAxMi45NDAxIDQuOTUwNTIgMTIuNzczNCA1LjAyMzQ0QzEyLjYwNjggNS4wOTYzNSAxMi40Mjk3IDUuMTMyODEgMTIuMjQyMiA1LjEzMjgxQzEyLjA1NDcgNS4xMzI4MSAxMS44Nzc2IDUuMDk2MzUgMTEuNzEwOSA1LjAyMzQ0QzExLjU0NDMgNC45NTA1MiAxMS4zOTg0IDQuODUxNTYgMTEuMjczNCA0LjcyNjU2QzExLjE0ODQgNC42MDE1NiAxMS4wNDk1IDQuNDU1NzMgMTAuOTc2NiA0LjI4OTA2QzEwLjkwMzYgNC4xMjI0IDEwLjg2NzIgMy45NDUzMSAxMC44NjcyIDMuNzU3ODFDMTAuODY3MiAzLjU3MDMxIDEwLjkwMzYgMy4zOTMyMyAxMC45NzY2IDMuMjI2NTZDMTEuMDQ5NSAzLjA1OTkgMTEuMTQ4NCAyLjkxNDA2IDExLjI3MzQgMi43ODkwNkMxMS4zOTg0IDIuNjY0MDYgMTEuNTQ0MyAyLjU2NTEgMTEuNzEwOSAyLjQ5MjE5QzExLjg3NzYgMi40MTkyNyAxMi4wNTQ3IDIuMzgyODEgMTIuMjQyMiAyLjM4MjgxWiIgZmlsbD0iI0M1QzVDNSIgLz4KPC9zdmc+Cg==";

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/loading-light.svg":
/*!*******************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/loading-light.svg ***!
  \*******************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "data:image/svg+xml;base64,PCEtLUNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLi0tPgo8IS0tQ29weXJpZ2h0IChDKSAyMDIwIFR5cGVGb3ggYW5kIG90aGVycy4tLT4KPCEtLUNvcGllZCBmcm9tIGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9taWNyb3NvZnQvdnNjb2RlLWljb25zLzljOTBjZTgxYjFmM2MzMDkwMDBiODBkYTA3NjNhYTA5OTc1YTg1ZjAvaWNvbnMvbGlnaHQvbG9hZGluZy5zdmcgLS0+Cjxzdmcgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiB2aWV3Qm94PSIwIDAgMTYgMTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8cGF0aCBkPSJNOCAwLjc1QzguMTcxODggMC43NSA4LjMzMzMzIDAuNzgzODU0IDguNDg0MzggMC44NTE1NjJDOC42MzU0MiAwLjkxNDA2MiA4Ljc2ODIzIDEuMDAyNiA4Ljg4MjgxIDEuMTE3MTlDOC45OTc0IDEuMjMxNzcgOS4wODU5NCAxLjM2NDU4IDkuMTQ4NDQgMS41MTU2MkM5LjIxNjE1IDEuNjY2NjcgOS4yNSAxLjgyODEyIDkuMjUgMkM5LjI1IDIuMTcxODggOS4yMTYxNSAyLjMzMzMzIDkuMTQ4NDQgMi40ODQzOEM5LjA4NTk0IDIuNjM1NDIgOC45OTc0IDIuNzY4MjMgOC44ODI4MSAyLjg4MjgxQzguNzY4MjMgMi45OTc0IDguNjM1NDIgMy4wODg1NCA4LjQ4NDM4IDMuMTU2MjVDOC4zMzMzMyAzLjIxODc1IDguMTcxODggMy4yNSA4IDMuMjVDNy44MjgxMiAzLjI1IDcuNjY2NjcgMy4yMTg3NSA3LjUxNTYyIDMuMTU2MjVDNy4zNjQ1OCAzLjA4ODU0IDcuMjMxNzcgMi45OTc0IDcuMTE3MTkgMi44ODI4MUM3LjAwMjYgMi43NjgyMyA2LjkxMTQ2IDIuNjM1NDIgNi44NDM3NSAyLjQ4NDM4QzYuNzgxMjUgMi4zMzMzMyA2Ljc1IDIuMTcxODggNi43NSAyQzYuNzUgMS44MjgxMiA2Ljc4MTI1IDEuNjY2NjcgNi44NDM3NSAxLjUxNTYyQzYuOTExNDYgMS4zNjQ1OCA3LjAwMjYgMS4yMzE3NyA3LjExNzE5IDEuMTE3MTlDNy4yMzE3NyAxLjAwMjYgNy4zNjQ1OCAwLjkxNDA2MiA3LjUxNTYyIDAuODUxNTYyQzcuNjY2NjcgMC43ODM4NTQgNy44MjgxMiAwLjc1IDggMC43NVpNMi42MzI4MSAzLjc1NzgxQzIuNjMyODEgMy42MDE1NiAyLjY2MTQ2IDMuNDU1NzMgMi43MTg3NSAzLjMyMDMxQzIuNzc2MDQgMy4xODQ5IDIuODU0MTcgMy4wNjc3MSAyLjk1MzEyIDIuOTY4NzVDMy4wNTcyOSAyLjg2NDU4IDMuMTc3MDggMi43ODM4NSAzLjMxMjUgMi43MjY1NkMzLjQ1MzEyIDIuNjY0MDYgMy42MDE1NiAyLjYzMjgxIDMuNzU3ODEgMi42MzI4MUMzLjkxNDA2IDIuNjMyODEgNC4wNTk5IDIuNjY0MDYgNC4xOTUzMSAyLjcyNjU2QzQuMzMwNzMgMi43ODM4NSA0LjQ0NzkyIDIuODY0NTggNC41NDY4OCAyLjk2ODc1QzQuNjUxMDQgMy4wNjc3MSA0LjczMTc3IDMuMTg0OSA0Ljc4OTA2IDMuMzIwMzFDNC44NTE1NiAzLjQ1NTczIDQuODgyODEgMy42MDE1NiA0Ljg4MjgxIDMuNzU3ODFDNC44ODI4MSAzLjkxNDA2IDQuODUxNTYgNC4wNjI1IDQuNzg5MDYgNC4yMDMxMkM0LjczMTc3IDQuMzM4NTQgNC42NTEwNCA0LjQ1ODMzIDQuNTQ2ODggNC41NjI1QzQuNDQ3OTIgNC42NjE0NiA0LjMzMDczIDQuNzM5NTggNC4xOTUzMSA0Ljc5Njg4QzQuMDU5OSA0Ljg1NDE3IDMuOTE0MDYgNC44ODI4MSAzLjc1NzgxIDQuODgyODFDMy42MDE1NiA0Ljg4MjgxIDMuNDUzMTIgNC44NTQxNyAzLjMxMjUgNC43OTY4OEMzLjE3NzA4IDQuNzM5NTggMy4wNTcyOSA0LjY2MTQ2IDIuOTUzMTIgNC41NjI1QzIuODU0MTcgNC40NTgzMyAyLjc3NjA0IDQuMzM4NTQgMi43MTg3NSA0LjIwMzEyQzIuNjYxNDYgNC4wNjI1IDIuNjMyODEgMy45MTQwNiAyLjYzMjgxIDMuNzU3ODFaTTIgN0MyLjE0MDYyIDcgMi4yNzA4MyA3LjAyNjA0IDIuMzkwNjIgNy4wNzgxMkMyLjUxMDQyIDcuMTMwMjEgMi42MTQ1OCA3LjIwMzEyIDIuNzAzMTIgNy4yOTY4OEMyLjc5Njg4IDcuMzg1NDIgMi44Njk3OSA3LjQ4OTU4IDIuOTIxODggNy42MDkzOEMyLjk3Mzk2IDcuNzI5MTcgMyA3Ljg1OTM4IDMgOEMzIDguMTQwNjIgMi45NzM5NiA4LjI3MDgzIDIuOTIxODggOC4zOTA2MkMyLjg2OTc5IDguNTEwNDIgMi43OTY4OCA4LjYxNzE5IDIuNzAzMTIgOC43MTA5NEMyLjYxNDU4IDguNzk5NDggMi41MTA0MiA4Ljg2OTc5IDIuMzkwNjIgOC45MjE4OEMyLjI3MDgzIDguOTczOTYgMi4xNDA2MiA5IDIgOUMxLjg1OTM4IDkgMS43MjkxNyA4Ljk3Mzk2IDEuNjA5MzggOC45MjE4OEMxLjQ4OTU4IDguODY5NzkgMS4zODI4MSA4Ljc5OTQ4IDEuMjg5MDYgOC43MTA5NEMxLjIwMDUyIDguNjE3MTkgMS4xMzAyMSA4LjUxMDQyIDEuMDc4MTIgOC4zOTA2MkMxLjAyNjA0IDguMjcwODMgMSA4LjE0MDYyIDEgOEMxIDcuODU5MzggMS4wMjYwNCA3LjcyOTE3IDEuMDc4MTIgNy42MDkzOEMxLjEzMDIxIDcuNDg5NTggMS4yMDA1MiA3LjM4NTQyIDEuMjg5MDYgNy4yOTY4OEMxLjM4MjgxIDcuMjAzMTIgMS40ODk1OCA3LjEzMDIxIDEuNjA5MzggNy4wNzgxMkMxLjcyOTE3IDcuMDI2MDQgMS44NTkzOCA3IDIgN1pNMi44ODI4MSAxMi4yNDIyQzIuODgyODEgMTIuMTIyNCAyLjkwNjI1IDEyLjAxMDQgMi45NTMxMiAxMS45MDYyQzMgMTEuNzk2OSAzLjA2MjUgMTEuNzAzMSAzLjE0MDYyIDExLjYyNUMzLjIxODc1IDExLjU0NjkgMy4zMDk5IDExLjQ4NDQgMy40MTQwNiAxMS40Mzc1QzMuNTIzNDQgMTEuMzkwNiAzLjYzODAyIDExLjM2NzIgMy43NTc4MSAxMS4zNjcyQzMuODc3NiAxMS4zNjcyIDMuOTg5NTggMTEuMzkwNiA0LjA5Mzc1IDExLjQzNzVDNC4yMDMxMiAxMS40ODQ0IDQuMjk2ODggMTEuNTQ2OSA0LjM3NSAxMS42MjVDNC40NTMxMiAxMS43MDMxIDQuNTE1NjIgMTEuNzk2OSA0LjU2MjUgMTEuOTA2MkM0LjYwOTM4IDEyLjAxMDQgNC42MzI4MSAxMi4xMjI0IDQuNjMyODEgMTIuMjQyMkM0LjYzMjgxIDEyLjM2MiA0LjYwOTM4IDEyLjQ3NjYgNC41NjI1IDEyLjU4NTlDNC41MTU2MiAxMi42OTAxIDQuNDUzMTIgMTIuNzgxMiA0LjM3NSAxMi44NTk0QzQuMjk2ODggMTIuOTM3NSA0LjIwMzEyIDEzIDQuMDkzNzUgMTMuMDQ2OUMzLjk4OTU4IDEzLjA5MzggMy44Nzc2IDEzLjExNzIgMy43NTc4MSAxMy4xMTcyQzMuNjM4MDIgMTMuMTE3MiAzLjUyMzQ0IDEzLjA5MzggMy40MTQwNiAxMy4wNDY5QzMuMzA5OSAxMyAzLjIxODc1IDEyLjkzNzUgMy4xNDA2MiAxMi44NTk0QzMuMDYyNSAxMi43ODEyIDMgMTIuNjkwMSAyLjk1MzEyIDEyLjU4NTlDMi45MDYyNSAxMi40NzY2IDIuODgyODEgMTIuMzYyIDIuODgyODEgMTIuMjQyMlpNOCAxMy4yNUM4LjIwODMzIDEzLjI1IDguMzg1NDIgMTMuMzIyOSA4LjUzMTI1IDEzLjQ2ODhDOC42NzcwOCAxMy42MTQ2IDguNzUgMTMuNzkxNyA4Ljc1IDE0QzguNzUgMTQuMjA4MyA4LjY3NzA4IDE0LjM4NTQgOC41MzEyNSAxNC41MzEyQzguMzg1NDIgMTQuNjc3MSA4LjIwODMzIDE0Ljc1IDggMTQuNzVDNy43OTE2NyAxNC43NSA3LjYxNDU4IDE0LjY3NzEgNy40Njg3NSAxNC41MzEyQzcuMzIyOTIgMTQuMzg1NCA3LjI1IDE0LjIwODMgNy4yNSAxNEM3LjI1IDEzLjc5MTcgNy4zMjI5MiAxMy42MTQ2IDcuNDY4NzUgMTMuNDY4OEM3LjYxNDU4IDEzLjMyMjkgNy43OTE2NyAxMy4yNSA4IDEzLjI1Wk0xMS42MTcyIDEyLjI0MjJDMTEuNjE3MiAxMi4wNjUxIDExLjY3NzEgMTEuOTE2NyAxMS43OTY5IDExLjc5NjlDMTEuOTE2NyAxMS42NzcxIDEyLjA2NTEgMTEuNjE3MiAxMi4yNDIyIDExLjYxNzJDMTIuNDE5MyAxMS42MTcyIDEyLjU2NzcgMTEuNjc3MSAxMi42ODc1IDExLjc5NjlDMTIuODA3MyAxMS45MTY3IDEyLjg2NzIgMTIuMDY1MSAxMi44NjcyIDEyLjI0MjJDMTIuODY3MiAxMi40MTkzIDEyLjgwNzMgMTIuNTY3NyAxMi42ODc1IDEyLjY4NzVDMTIuNTY3NyAxMi44MDczIDEyLjQxOTMgMTIuODY3MiAxMi4yNDIyIDEyLjg2NzJDMTIuMDY1MSAxMi44NjcyIDExLjkxNjcgMTIuODA3MyAxMS43OTY5IDEyLjY4NzVDMTEuNjc3MSAxMi41Njc3IDExLjYxNzIgMTIuNDE5MyAxMS42MTcyIDEyLjI0MjJaTTE0IDcuNUMxNC4xMzU0IDcuNSAxNC4yNTI2IDcuNTQ5NDggMTQuMzUxNiA3LjY0ODQ0QzE0LjQ1MDUgNy43NDc0IDE0LjUgNy44NjQ1OCAxNC41IDhDMTQuNSA4LjEzNTQyIDE0LjQ1MDUgOC4yNTI2IDE0LjM1MTYgOC4zNTE1NkMxNC4yNTI2IDguNDUwNTIgMTQuMTM1NCA4LjUgMTQgOC41QzEzLjg2NDYgOC41IDEzLjc0NzQgOC40NTA1MiAxMy42NDg0IDguMzUxNTZDMTMuNTQ5NSA4LjI1MjYgMTMuNSA4LjEzNTQyIDEzLjUgOEMxMy41IDcuODY0NTggMTMuNTQ5NSA3Ljc0NzQgMTMuNjQ4NCA3LjY0ODQ0QzEzLjc0NzQgNy41NDk0OCAxMy44NjQ2IDcuNSAxNCA3LjVaTTEyLjI0MjIgMi4zODI4MUMxMi40Mjk3IDIuMzgyODEgMTIuNjA2OCAyLjQxOTI3IDEyLjc3MzQgMi40OTIxOUMxMi45NDAxIDIuNTY1MSAxMy4wODU5IDIuNjY0MDYgMTMuMjEwOSAyLjc4OTA2QzEzLjMzNTkgMi45MTQwNiAxMy40MzQ5IDMuMDU5OSAxMy41MDc4IDMuMjI2NTZDMTMuNTgwNyAzLjM5MzIzIDEzLjYxNzIgMy41NzAzMSAxMy42MTcyIDMuNzU3ODFDMTMuNjE3MiAzLjk0NTMxIDEzLjU4MDcgNC4xMjI0IDEzLjUwNzggNC4yODkwNkMxMy40MzQ5IDQuNDU1NzMgMTMuMzM1OSA0LjYwMTU2IDEzLjIxMDkgNC43MjY1NkMxMy4wODU5IDQuODUxNTYgMTIuOTQwMSA0Ljk1MDUyIDEyLjc3MzQgNS4wMjM0NEMxMi42MDY4IDUuMDk2MzUgMTIuNDI5NyA1LjEzMjgxIDEyLjI0MjIgNS4xMzI4MUMxMi4wNTQ3IDUuMTMyODEgMTEuODc3NiA1LjA5NjM1IDExLjcxMDkgNS4wMjM0NEMxMS41NDQzIDQuOTUwNTIgMTEuMzk4NCA0Ljg1MTU2IDExLjI3MzQgNC43MjY1NkMxMS4xNDg0IDQuNjAxNTYgMTEuMDQ5NSA0LjQ1NTczIDEwLjk3NjYgNC4yODkwNkMxMC45MDM2IDQuMTIyNCAxMC44NjcyIDMuOTQ1MzEgMTAuODY3MiAzLjc1NzgxQzEwLjg2NzIgMy41NzAzMSAxMC45MDM2IDMuMzkzMjMgMTAuOTc2NiAzLjIyNjU2QzExLjA0OTUgMy4wNTk5IDExLjE0ODQgMi45MTQwNiAxMS4yNzM0IDIuNzg5MDZDMTEuMzk4NCAyLjY2NDA2IDExLjU0NDMgMi41NjUxIDExLjcxMDkgMi40OTIxOUMxMS44Nzc2IDIuNDE5MjcgMTIuMDU0NyAyLjM4MjgxIDEyLjI0MjIgMi4zODI4MVoiIGZpbGw9IiM0MjQyNDIiIC8+Cjwvc3ZnPgo=";

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/open-change-bright.svg":
/*!************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/open-change-bright.svg ***!
  \************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "data:image/svg+xml;base64,PCEtLUNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLi0tPgo8IS0tQ29weXJpZ2h0IChDKSAyMDE5IFR5cGVGb3ggYW5kIG90aGVycy4tLT4KPCEtLUxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uLS0+CjxzdmcgZmlsbD0ibm9uZSIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2IiB3aWR0aD0iMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggY2xpcC1ydWxlPSJldmVub2RkIiBkPSJtNiAxMmgtMWMtLjI3LS4wMi0uNDgtLjExLS42OS0uMzFzLS4zLS40Mi0uMzEtLjY5di02LjI4Yy41OS0uMzQgMS0uOTggMS0xLjcyIDAtMS4xMS0uODktMi0yLTJzLTIgLjg5LTIgMmMwIC43My40MSAxLjM4IDEgMS43MnY2LjI4Yy4wMy43OC4zNCAxLjQ3Ljk0IDIuMDZzMS4yOC45MSAyLjA2Ljk0YzAgMCAxLjAyIDAgMSAwdjJsMy0zLTMtM3ptLTMtMTAuMmMuNjYgMCAxLjIuNTUgMS4yIDEuMnMtLjU1IDEuMi0xLjIgMS4yLTEuMi0uNTUtMS4yLTEuMi41NS0xLjIgMS4yLTEuMnptMTEgOS40OGMwLTEuNzMgMC02LjI4IDAtNi4yOC0uMDMtLjc4LS4zNC0xLjQ3LS45NC0yLjA2cy0xLjI4LS45MS0yLjA2LS45NGgtMXYtMmwtMyAzIDMgM3YtMmgxYy4yNy4wMi40OC4xMS42OS4zMXMuMy40Mi4zMS42OXY2LjI4Yy0uNTkuMzQtMSAuOTgtMSAxLjcyIDAgMS4xMS44OSAyIDIgMnMyLS44OSAyLTJjMC0uNzMtLjQxLTEuMzgtMS0xLjcyem0tMSAyLjkyYy0uNjYgMC0xLjItLjU1LTEuMi0xLjJzLjU1LTEuMiAxLjItMS4yIDEuMi41NSAxLjIgMS4yLS41NSAxLjItMS4yIDEuMnoiIGZpbGw9IiM0MjQyNDIiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==";

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/open-change-dark.svg":
/*!**********************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/open-change-dark.svg ***!
  \**********************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "data:image/svg+xml;base64,PCEtLUNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLi0tPgo8IS0tQ29weXJpZ2h0IChDKSAyMDE5IFR5cGVGb3ggYW5kIG90aGVycy4tLT4KPCEtLUxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uLS0+CjxzdmcgZmlsbD0ibm9uZSIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2IiB3aWR0aD0iMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggY2xpcC1ydWxlPSJldmVub2RkIiBkPSJtNiAxMmgtMWMtLjI3LS4wMi0uNDgtLjExLS42OS0uMzFzLS4zLS40Mi0uMzEtLjY5di02LjI4Yy41OS0uMzQgMS0uOTggMS0xLjcyIDAtMS4xMS0uODktMi0yLTJzLTIgLjg5LTIgMmMwIC43My40MSAxLjM4IDEgMS43MnY2LjI4Yy4wMy43OC4zNCAxLjQ3Ljk0IDIuMDZzMS4yOC45MSAyLjA2Ljk0YzAgMCAxLjAyIDAgMSAwdjJsMy0zLTMtM3ptLTMtMTAuMmMuNjYgMCAxLjIuNTUgMS4yIDEuMnMtLjU1IDEuMi0xLjIgMS4yLTEuMi0uNTUtMS4yLTEuMi41NS0xLjIgMS4yLTEuMnptMTEgOS40OGMwLTEuNzMgMC02LjI4IDAtNi4yOC0uMDMtLjc4LS4zNC0xLjQ3LS45NC0yLjA2cy0xLjI4LS45MS0yLjA2LS45NGgtMXYtMmwtMyAzIDMgM3YtMmgxYy4yNy4wMi40OC4xMS42OS4zMXMuMy40Mi4zMS42OXY2LjI4Yy0uNTkuMzQtMSAuOTgtMSAxLjcyIDAgMS4xMS44OSAyIDIgMnMyLS44OSAyLTJjMC0uNzMtLjQxLTEuMzgtMS0xLjcyem0tMSAyLjkyYy0uNjYgMC0xLjItLjU1LTEuMi0xLjJzLjU1LTEuMiAxLjItMS4yIDEuMi41NSAxLjIgMS4yLS41NSAxLjItMS4yIDEuMnoiIGZpbGw9IiNjNWM1YzUiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPgo=";

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/open-file-bright.svg":
/*!**********************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/open-file-bright.svg ***!
  \**********************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "data:image/svg+xml;base64,PCEtLUNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLi0tPgo8IS0tQ29weXJpZ2h0IChDKSAyMDE4IFR5cGVGb3ggYW5kIG90aGVycy4tLT4KPCEtLUxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPjxwb2x5Z29uIGZpbGw9IiM2NTY1NjUiIHBvaW50cz0iMTAsMiA3LjQxNCwyIDguNDE0LDMgOSwzIDksMy41ODYgOSw0IDksNC40MTQgOSw2IDEyLDYgMTIsMTMgNCwxMyA0LDggMyw4IDMsMTQgMTMsMTQgMTMsNSIvPjxwb2x5Z29uIGZpbGw9IiMwMDUzOUMiIHBvaW50cz0iNSwxIDMsMSA1LDMgMSwzIDEsNSA1LDUgMyw3IDUsNyA4LDQiLz48L3N2Zz4K";

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/open-file-dark.svg":
/*!********************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/open-file-dark.svg ***!
  \********************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "data:image/svg+xml;base64,PCEtLUNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLi0tPgo8IS0tQ29weXJpZ2h0IChDKSAyMDE4IFR5cGVGb3ggYW5kIG90aGVycy4tLT4KPCEtLUxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPjxwb2x5Z29uIGZpbGw9IiNDNUM1QzUiIHBvaW50cz0iMTAsMiA3LjQxNCwyIDguNDE0LDMgOSwzIDksMy41ODYgOSw0IDksNC40MTQgOSw2IDEyLDYgMTIsMTMgNCwxMyA0LDggMyw4IDMsMTQgMTMsMTQgMTMsNSIvPjxwb2x5Z29uIGZpbGw9IiM3NUJFRkYiIHBvaW50cz0iNSwxIDMsMSA1LDMgMSwzIDEsNSA1LDUgMyw3IDUsNyA4LDQiLz48L3N2Zz4K";

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/preview-bright.svg":
/*!********************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/preview-bright.svg ***!
  \********************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "data:image/svg+xml;base64,PCEtLUNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLi0tPgo8IS0tQ29weXJpZ2h0IChDKSAyMDE5IFR5cGVGb3ggYW5kIG90aGVycy4tLT4KPCEtLUxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMTYgMTYiPjxkZWZzPjxzdHlsZT4uaWNvbi1jYW52YXMtdHJhbnNwYXJlbnQsLmljb24tdnMtb3V0e2ZpbGw6I2Y2ZjZmNjt9Lmljb24tY2FudmFzLXRyYW5zcGFyZW50e29wYWNpdHk6MDt9Lmljb24tdnMtYmd7ZmlsbDojNDI0MjQyO30uaWNvbi12cy1hY3Rpb24tYmx1ZXtmaWxsOiMwMDUzOWM7fTwvc3R5bGU+PC9kZWZzPjx0aXRsZT5QcmV2aWV3SW5SaWdodFBhbmVsXzE2eDwvdGl0bGU+PGcgaWQ9ImNhbnZhcyI+PHBhdGggY2xhc3M9Imljb24tY2FudmFzLXRyYW5zcGFyZW50IiBkPSJNMTYsMFYxNkgwVjBaIi8+PC9nPjxnIGlkPSJvdXRsaW5lIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPjxwYXRoIGNsYXNzPSJpY29uLXZzLW91dCIgZD0iTTE2LDFWMTVIMTAuMTIxbC0uNTYuNTYxYTEuNSwxLjUsMCwwLDEtMi4xMjIsMEExLjQ2OSwxLjQ2OSwwLDAsMSw3LjEsMTVIMFYxWiIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ii8+PC9nPjxnIGlkPSJpY29uQmciPjxwYXRoIGNsYXNzPSJpY29uLXZzLWJnIiBkPSJNMSwyVjE0SDcuMWExLjQ2OSwxLjQ2OSwwLDAsMSwuMzQxLS41NjFMOSwxMS44OFY1aDVWNy4zNTFhMy41MTUsMy41MTUsMCwwLDEsMSwuNzA3VjJaTTcsMTNIMlY1SDdaIi8+PC9nPjxnIGlkPSJjb2xvckFjdGlvbiI+PHBhdGggY2xhc3M9Imljb24tdnMtYWN0aW9uLWJsdWUiIGQ9Ik0xMi41LDhhMi41LDIuNSwwLDAsMC0yLjA4NCwzLjg3N2wtMi4yNywyLjI2OWEuNS41LDAsMCwwLC43MDguNzA4bDIuMjY5LTIuMjdBMi41LDIuNSwwLDEsMCwxMi41LDhabTAsNEExLjUsMS41LDAsMSwxLDE0LDEwLjUsMS41LDEuNSwwLDAsMSwxMi41LDEyWiIvPjwvZz48L3N2Zz4=";

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/preview-dark.svg":
/*!******************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/preview-dark.svg ***!
  \******************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "data:image/svg+xml;base64,PCEtLUNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLi0tPgo8IS0tQ29weXJpZ2h0IChDKSAyMDE5IFR5cGVGb3ggYW5kIG90aGVycy4tLT4KPCEtLUxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMTYgMTYiPjxkZWZzPjxzdHlsZT4uaWNvbi1jYW52YXMtdHJhbnNwYXJlbnQsLmljb24tdnMtb3V0e2ZpbGw6IzI1MjUyNjt9Lmljb24tY2FudmFzLXRyYW5zcGFyZW50e29wYWNpdHk6MDt9Lmljb24tdnMtYmd7ZmlsbDojYzVjNWM1O30uaWNvbi12cy1hY3Rpb24tYmx1ZXtmaWxsOiM3NWJlZmY7fTwvc3R5bGU+PC9kZWZzPjx0aXRsZT5QcmV2aWV3SW5SaWdodFBhbmVsXzE2eDwvdGl0bGU+PGcgaWQ9ImNhbnZhcyI+PHBhdGggY2xhc3M9Imljb24tY2FudmFzLXRyYW5zcGFyZW50IiBkPSJNMTYsMFYxNkgwVjBaIi8+PC9nPjxnIGlkPSJvdXRsaW5lIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPjxwYXRoIGNsYXNzPSJpY29uLXZzLW91dCIgZD0iTTE2LDFWMTVIMTAuMTIxbC0uNTYuNTYxYTEuNSwxLjUsMCwwLDEtMi4xMjIsMEExLjQ2OSwxLjQ2OSwwLDAsMSw3LjEsMTVIMFYxWiIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ii8+PC9nPjxnIGlkPSJpY29uQmciPjxwYXRoIGNsYXNzPSJpY29uLXZzLWJnIiBkPSJNMSwyVjE0SDcuMWExLjQ2OSwxLjQ2OSwwLDAsMSwuMzQxLS41NjFMOSwxMS44OFY1aDVWNy4zNTFhMy41MTUsMy41MTUsMCwwLDEsMSwuNzA3VjJaTTcsMTNIMlY1SDdaIi8+PC9nPjxnIGlkPSJjb2xvckFjdGlvbiI+PHBhdGggY2xhc3M9Imljb24tdnMtYWN0aW9uLWJsdWUiIGQ9Ik0xMi41LDhhMi41LDIuNSwwLDAsMC0yLjA4NCwzLjg3N2wtMi4yNywyLjI2OWEuNS41LDAsMCwwLC43MDguNzA4bDIuMjY5LTIuMjdBMi41LDIuNSwwLDEsMCwxMi41LDhabTAsNEExLjUsMS41LDAsMSwxLDE0LDEwLjUsMS41LDEuNSwwLDAsMSwxMi41LDEyWiIvPjwvZz48L3N2Zz4=";

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/regex-dark.svg":
/*!****************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/regex-dark.svg ***!
  \****************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "data:image/svg+xml;base64,PCEtLUNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLi0tPgo8IS0tQ29weXJpZ2h0IChDKSAyMDE4IFR5cGVGb3ggYW5kIG90aGVycy4tLT4KPCEtLUxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPgogICAgPHBvbHlnb24gZmlsbD0iIzJkMmQzMCIgcG9pbnRzPSIxMy42NCw3LjM5NiAxMi4xNjksMi44OTggMTAuNzA2LDMuNzYxIDExLjA4NywyIDYuNTU3LDIgNi45MzYsMy43NjIgNS40NzMsMi44OTggNCw3LjM5NiA1LjY4Miw3LjU1NCA0LjUxMyw4LjU2MSA1LjAxMyw5IDIsOSAyLDE0IDcsMTQgNywxMC43NDcgNy45NzgsMTEuNjA2IDguODIsOS43MjUgOS42NjEsMTEuNjAyIDEzLjE0NCw4LjU2MiAxMS45NjgsNy41NTQiLz4KICAgIDxnIGZpbGw9IiNDNUM1QzUiPgogICAgICAgIDxwYXRoIGQ9Ik0xMi4zMDEgNi41MThsLTIuNzcyLjI2MiAyLjA4NiAxLjc4OC0xLjU5NCAxLjM5Mi0xLjIwMS0yLjY4Mi0xLjIwMSAyLjY4Mi0xLjU4My0xLjM5MiAyLjA3NS0xLjc4OC0yLjc3MS0uMjYyLjY5Ni0yLjEyNiAyLjM1OCAxLjM5Mi0uNTk5LTIuNzg0aDIuMDUzbC0uNjAyIDIuNzgzIDIuMzU5LTEuMzkyLjY5NiAyLjEyN3oiLz4KICAgICAgICA8cmVjdCB3aWR0aD0iMyIgaGVpZ2h0PSIzIiB4PSIzIiB5PSIxMCIvPgogICAgPC9nPgo8L3N2Zz4K";

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/regex.svg":
/*!***********************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/regex.svg ***!
  \***********************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "data:image/svg+xml;base64,PCEtLUNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLi0tPgo8IS0tQ29weXJpZ2h0IChDKSAyMDE4IFR5cGVGb3ggYW5kIG90aGVycy4tLT4KPCEtLUxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPgogICAgPHBvbHlnb24gZmlsbD0iI0Y2RjZGNiIgcG9pbnRzPSIxMy42NCw3LjM5NiAxMi4xNjksMi44OTggMTAuNzA2LDMuNzYxIDExLjA4NywyIDYuNTU3LDIgNi45MzYsMy43NjIgNS40NzMsMi44OTggNCw3LjM5NiA1LjY4Miw3LjU1NCA0LjUxMyw4LjU2MSA1LjAxMyw5IDIsOSAyLDE0IDcsMTQgNywxMC43NDcgNy45NzgsMTEuNjA2IDguODIsOS43MjUgOS42NjEsMTEuNjAyIDEzLjE0NCw4LjU2MiAxMS45NjgsNy41NTQiLz4KICAgIDxnIGZpbGw9IiM0MjQyNDIiPgogICAgICAgIDxwYXRoIGQ9Ik0xMi4zMDEgNi41MThsLTIuNzcyLjI2MiAyLjA4NiAxLjc4OC0xLjU5NCAxLjM5Mi0xLjIwMS0yLjY4Mi0xLjIwMSAyLjY4Mi0xLjU4My0xLjM5MiAyLjA3NS0xLjc4OC0yLjc3MS0uMjYyLjY5Ni0yLjEyNiAyLjM1OCAxLjM5Mi0uNTk5LTIuNzg0aDIuMDUzbC0uNjAyIDIuNzgzIDIuMzU5LTEuMzkyLjY5NiAyLjEyN3oiLz4KICAgICAgICA8cmVjdCB3aWR0aD0iMyIgaGVpZ2h0PSIzIiB4PSIzIiB5PSIxMCIvPgogICAgPC9nPgo8L3N2Zz4K";

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/remove-all-inverse.svg":
/*!************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/remove-all-inverse.svg ***!
  \************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "data:image/svg+xml;base64,PCEtLUNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLi0tPgo8IS0tQ29weXJpZ2h0IChDKSAyMDE4IFR5cGVGb3ggYW5kIG90aGVycy4tLT4KPCEtLUxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMTYgMTYiPjxkZWZzPjxzdHlsZT4uaWNvbi1jYW52YXMtdHJhbnNwYXJlbnQsLmljb24tdnMtb3V0e2ZpbGw6IzI1MjUyNjt9Lmljb24tY2FudmFzLXRyYW5zcGFyZW50e29wYWNpdHk6MDt9Lmljb24tdnMtYmd7ZmlsbDojYzVjNWM1O308L3N0eWxlPjwvZGVmcz48dGl0bGU+cmVtb3ZlLWFsbDwvdGl0bGU+PGcgaWQ9ImNhbnZhcyI+PHBhdGggY2xhc3M9Imljb24tY2FudmFzLXRyYW5zcGFyZW50IiBkPSJNMTYsMFYxNkgwVjBaIi8+PC9nPjxnIGlkPSJvdXRsaW5lIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPjxwYXRoIGNsYXNzPSJpY29uLXZzLW91dCIgZD0iTTE2LDFWMTJIMTR2MkgxMnYySDBWNUgyVjNINFYxWiIvPjwvZz48ZyBpZD0iaWNvbkJnIj48cGF0aCBjbGFzcz0iaWNvbi12cy1iZyIgZD0iTTE1LDJ2OUgxNFYzSDVWMlpNMyw1aDl2OGgxVjRIM1pNMSw2SDExdjlIMVptNC4xMTYsNC41TDMuMDU4LDEyLjU1OGwuODg0Ljg4NEw2LDExLjM4NGwyLjA1OCwyLjA1OC44ODQtLjg4NEw2Ljg4NCwxMC41LDguOTQyLDguNDQybC0uODg0LS44ODRMNiw5LjYxNiwzLjk0Miw3LjU1OGwtLjg4NC44ODRaIi8+PC9nPjwvc3ZnPgo=";

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/remove-all.svg":
/*!****************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/remove-all.svg ***!
  \****************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "data:image/svg+xml;base64,PCEtLUNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLi0tPgo8IS0tQ29weXJpZ2h0IChDKSAyMDE4IFR5cGVGb3ggYW5kIG90aGVycy4tLT4KPCEtLUxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMTYgMTYiPjxkZWZzPjxzdHlsZT4uaWNvbi1jYW52YXMtdHJhbnNwYXJlbnQsLmljb24tdnMtb3V0e2ZpbGw6I2Y2ZjZmNjt9Lmljb24tY2FudmFzLXRyYW5zcGFyZW50e29wYWNpdHk6MDt9Lmljb24tdnMtYmd7ZmlsbDojNDI0MjQyO30uaWNvbi12cy1mZ3tmaWxsOiNmMGVmZjE7fTwvc3R5bGU+PC9kZWZzPjx0aXRsZT5yZW1vdmUtYWxsXzE2eDwvdGl0bGU+PGcgaWQ9ImNhbnZhcyI+PHBhdGggY2xhc3M9Imljb24tY2FudmFzLXRyYW5zcGFyZW50IiBkPSJNMTYsMFYxNkgwVjBaIi8+PC9nPjxnIGlkPSJvdXRsaW5lIj48cGF0aCBjbGFzcz0iaWNvbi12cy1vdXQiIGQ9Ik0xNiwxVjEySDE0djJIMTJ2MkgwVjVIMlYzSDRWMVoiLz48L2c+PGcgaWQ9Imljb25CZyI+PHBhdGggY2xhc3M9Imljb24tdnMtYmciIGQ9Ik0zLDRIMTN2OUgxMlY1SDNaTTEsMTVIMTFWNkgxWk01LDJWM2g5djhoMVYyWiIvPjwvZz48ZyBpZD0iaWNvbkZnIj48cGF0aCBjbGFzcz0iaWNvbi12cy1mZyIgZD0iTTYuNzUsMTAuNzUsOSwxM0g3LjVMNiwxMS41LDQuNSwxM0gzbDIuMjUtMi4yNUwzLDguNUg0LjVMNiwxMCw3LjUsOC41SDlaIi8+PC9nPjwvc3ZnPgo=";

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/replace-all-inverse.svg":
/*!*************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/replace-all-inverse.svg ***!
  \*************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "data:image/svg+xml;base64,PCEtLUNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLi0tPgo8IS0tQ29weXJpZ2h0IChDKSAyMDE4IFR5cGVGb3ggYW5kIG90aGVycy4tLT4KPCEtLUxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgeD0iMHB4IiB5PSIwcHgiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDE2IDE2IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CiAgICA8ZyBpZD0iaWNvbl94NUZfYmciPgogICAgICAgIDxwYXRoIGZpbGw9IiNDNUM1QzUiIGQ9Ik0xMSwxNVY5SDF2NkgxMXogTTIsMTR2LTJoMXYtMUgydi0xaDN2NEgyeiBNMTAsMTFIOHYyaDJ2MUg3di00aDNWMTF6IE0zLDEzdi0xaDF2MUgzeiBNMTMsN3Y2aC0xVjhINVY3CgkJSDEzeiBNMTMsMlYxaC0xdjVoM1YySDEzeiBNMTQsNWgtMVYzaDFWNXogTTExLDJ2NEg4VjRoMXYxaDFWNEg5VjNIOFYySDExeiIvPgogICAgPC9nPgogICAgPGcgaWQ9ImNvbG9yX3g1Rl9hY3Rpb24iPgogICAgICAgIDxwYXRoIGZpbGw9IiM3NUJFRkYiIGQ9Ik0xLjk3OSwzLjVMMiw2TDEsNXYxLjVMMi41LDhMNCw2LjVWNUwzLDZMMi45NzksMy41YzAtMC4yNzUsMC4yMjUtMC41LDAuNS0wLjVIN1YySDMuNDc5CgkJQzIuNjUxLDIsMS45NzksMi42NzMsMS45NzksMy41eiIvPgogICAgPC9nPgo8L3N2Zz4K";

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/replace-all.svg":
/*!*****************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/replace-all.svg ***!
  \*****************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "data:image/svg+xml;base64,PCEtLUNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLi0tPgo8IS0tQ29weXJpZ2h0IChDKSAyMDE4IFR5cGVGb3ggYW5kIG90aGVycy4tLT4KPCEtLUxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgeD0iMHB4IiB5PSIwcHgiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDE2IDE2IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CiAgICA8ZyBpZD0iaWNvbl94NUZfYmciPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MjQyNDIiIGQ9Ik0xMSwxNVY5SDF2NkgxMXogTTIsMTR2LTJoMXYtMUgydi0xaDN2NEgyeiBNMTAsMTFIOHYyaDJ2MUg3di00aDNWMTF6IE0zLDEzdi0xaDF2MUgzeiBNMTMsN3Y2aC0xVjhINVY3CgkJSDEzeiBNMTMsMlYxaC0xdjVoM1YySDEzeiBNMTQsNWgtMVYzaDFWNXogTTExLDJ2NEg4VjRoMXYxaDFWNEg5VjNIOFYySDExeiIvPgogICAgPC9nPgogICAgPGcgaWQ9ImNvbG9yX3g1Rl9hY3Rpb24iPgogICAgICAgIDxwYXRoIGZpbGw9IiMwMDUzOUMiIGQ9Ik0xLjk3OSwzLjVMMiw2TDEsNXYxLjVMMi41LDhMNCw2LjVWNUwzLDZMMi45NzksMy41YzAtMC4yNzUsMC4yMjUtMC41LDAuNS0wLjVIN1YySDMuNDc5CgkJQzIuNjUxLDIsMS45NzksMi42NzMsMS45NzksMy41eiIvPgogICAgPC9nPgo8L3N2Zz4K";

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/replace-inverse.svg":
/*!*********************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/replace-inverse.svg ***!
  \*********************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "data:image/svg+xml;base64,PCEtLUNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLi0tPgo8IS0tQ29weXJpZ2h0IChDKSAyMDE4IFR5cGVGb3ggYW5kIG90aGVycy4tLT4KPCEtLUxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgeD0iMHB4IiB5PSIwcHgiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDE2IDE2IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CiAgICA8ZyBpZD0iaWNvbl94NUZfYmciPgogICAgICAgIDxnPgogICAgICAgICAgICA8cGF0aCBmaWxsPSIjQzVDNUM1IiBkPSJNMTEsM1YxaC0xdjV2MWgxaDJoMVY0VjNIMTF6IE0xMyw2aC0yVjRoMlY2eiIvPgogICAgICAgICAgICA8cGF0aCBmaWxsPSIjQzVDNUM1IiBkPSJNMiwxNWg3VjlIMlYxNXogTTQsMTBoM3YxSDV2MmgydjFINFYxMHoiLz4KICAgICAgICA8L2c+CiAgICA8L2c+CiAgICA8ZyBpZD0iY29sb3JfeDVGX2ltcG9ydGFuY2UiPgogICAgICAgIDxwYXRoIGZpbGw9IiM3NUJFRkYiIGQ9Ik0zLjk3OSwzLjVMNCw2TDMsNXYxLjVMNC41LDhMNiw2LjVWNUw1LDZMNC45NzksMy41YzAtMC4yNzUsMC4yMjUtMC41LDAuNS0wLjVIOVYySDUuNDc5CgkJQzQuNjUxLDIsMy45NzksMi42NzMsMy45NzksMy41eiIvPgogICAgPC9nPgo8L3N2Zz4K";

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/replace.svg":
/*!*************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/replace.svg ***!
  \*************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "data:image/svg+xml;base64,PCEtLUNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLi0tPgo8IS0tQ29weXJpZ2h0IChDKSAyMDE4IFR5cGVGb3ggYW5kIG90aGVycy4tLT4KPCEtLUxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgeD0iMHB4IiB5PSIwcHgiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDE2IDE2IiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CiAgICA8ZyBpZD0iaWNvbl94NUZfYmciPgogICAgICAgIDxnPgogICAgICAgICAgICA8cGF0aCBmaWxsPSIjNDI0MjQyIiBkPSJNMTEsM1YxaC0xdjV2MWgxaDJoMVY0VjNIMTF6IE0xMyw2aC0yVjRoMlY2eiIvPgogICAgICAgICAgICA8cGF0aCBmaWxsPSIjNDI0MjQyIiBkPSJNMiwxNWg3VjlIMlYxNXogTTQsMTBoM3YxSDV2MmgydjFINFYxMHoiLz4KICAgICAgICA8L2c+CiAgICA8L2c+CiAgICA8ZyBpZD0iY29sb3JfeDVGX2ltcG9ydGFuY2UiPgogICAgICAgIDxwYXRoIGZpbGw9IiMwMDUzOUMiIGQ9Ik0zLjk3OSwzLjVMNCw2TDMsNXYxLjVMNC41LDhMNiw2LjVWNUw1LDZMNC45NzksMy41YzAtMC4yNzUsMC4yMjUtMC41LDAuNS0wLjVIOVYySDUuNDc5CgkJQzQuNjUxLDIsMy45NzksMi42NzMsMy45NzksMy41eiIvPgogICAgPC9nPgo8L3N2Zz4K";

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/spinner.gif":
/*!*************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/spinner.gif ***!
  \*************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
module.exports = __webpack_require__.p + "f1283d507ab1f8167913..gif";

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/whole-word-dark.svg":
/*!*********************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/whole-word-dark.svg ***!
  \*********************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "data:image/svg+xml;base64,PCEtLUNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLi0tPgo8IS0tQ29weXJpZ2h0IChDKSAyMDE4IFR5cGVGb3ggYW5kIG90aGVycy4tLT4KPCEtLUxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPgogICAgPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KICAgICAgICAuc3Qwe29wYWNpdHk6MDtmaWxsOiMyNjI2MjY7fSAuc3Qxe2ZpbGw6IzI2MjYyNjt9IC5zdDJ7ZmlsbDojQzVDNUM1O30KICAgIDwvc3R5bGU+CiAgICA8ZyBpZD0ib3V0bGluZSI+CiAgICAgICAgPHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBjbGFzcz0ic3QwIi8+CiAgICAgICAgPHBhdGggZD0iTTE2IDQuMDIydi0zLjAyMmgtMTYuMDE0djMuMDIyaDMuMDQ2bC0zLjA0MyA3Ljk0NWgtLjAwNHYuMDFsLjAxNSAxLjAyM2gtLjAxNHYxLjk5MWgxNi4wMTR2LTMuMDIzaC0xdi03Ljk0Nmgxem0tNS45MTQgNS4zMDFjMCAuMjMzLS4wMjMuNDQxLS4wNjYuNTk1LS4wNDcuMTY0LS4wOTkuMjQ3LS4xMjcuMjg0bC0uMDc4LjA2OS0uMTUxLjAyNi0uMTE1LS4wMTctLjEzOS0uMTM3Yy0uMDMxLS4wNzgtLjExMi0uMzMyLS4xMTItLjU2NiAwLS4yNTQuMDkxLS41NjEuMTI2LS42NTZsLjA2OS0uMTQxLjEwOS0uMDgyLjE3OC0uMDI3Yy4wNzcgMCAuMTE3LjAxNC4xNzcuMDU2bC4wODcuMTc5LjA1MS4yMzctLjAwOS4xOHptLTMuNjk1LTUuMzAxdjIuODkzbC0xLjExNi0yLjg5M2gxLjExNnptLTMuMDI2IDcuMDJoMS41NzNsLjM1MS45MjZoLTIuMjU0bC4zMy0uOTI2em04LjYzNS00LjM1NGMtLjIwNi0uMi0uNDMxLS4zOC0uNjk1LS41MTItLjM5Ni0uMTk4LS44NTMtLjI5OC0xLjM1NS0uMjk4LS4yMTUgMC0uNDIzLjAyLS42MjEuMDU4di0xLjkxNGgyLjY3MXYyLjY2NnoiIGNsYXNzPSJzdDEiLz4KICAgIDwvZz4KICAgIDxnIGlkPSJpY29uX3g1Rl9iZyI+CiAgICAgICAgPHJlY3Qgd2lkdGg9IjEiIGhlaWdodD0iOCIgeD0iMTMiIHk9IjQiIGNsYXNzPSJzdDIiLz4KICAgICAgICA8cGF0aCBkPSJNMTEuMjI1IDguMzg3Yy0uMDc4LS4yOTktLjE5OS0uNTYyLS4zNi0uNzg2cy0uMzY1LS40MDEtLjYwOS0uNTMtLjUzNC0uMTkzLS44NjYtLjE5M2MtLjE5OCAwLS4zOC4wMjQtLjU0Ny4wNzMtLjE2NS4wNDktLjMxNi4xMTctLjQ1My4yMDUtLjEzNi4wODgtLjI1Ny4xOTQtLjM2NS4zMThsLS4xNzkuMjU4di0zLjE1NGgtLjg5M3Y3LjQyMmguODkzdi0uNTc1bC4xMjYuMTc1Yy4wODcuMTAyLjE4OS4xOS4zMDQuMjY5LjExNy4wNzguMjQ5LjE0LjM5OC4xODYuMTQ5LjA0Ni4zMTQuMDY4LjQ5OC4wNjguMzUzIDAgLjY2Ni0uMDcxLjkzNy0uMjEyLjI3Mi0uMTQzLjQ5OS0uMzM4LjY4Mi0uNTg2LjE4My0uMjUuMzIxLS41NDMuNDE0LS44NzkuMDkzLS4zMzguMTQtLjcwMy4xNC0xLjA5Ny0uMDAxLS4zNDItLjA0LS42NjMtLjEyLS45NjJ6bS0xLjQ3OS0uNjA3Yy4xNTEuMDcxLjI4Mi4xNzYuMzkuMzE0LjEwOS4xNC4xOTQuMzEzLjI1NS41MTcuMDUxLjE3NC4wODIuMzcxLjA4OS41ODdsLS4wMDcuMTI1YzAgLjMyNy0uMDMzLjYyLS4xLjg2OS0uMDY3LjI0Ni0uMTYxLjQ1My0uMjc4LjYxNC0uMTE3LjE2Mi0uMjYuMjg1LS40MjEuMzY2LS4zMjIuMTYyLS43Ni4xNjYtMS4wNjkuMDE1LS4xNTMtLjA3NS0uMjg2LS4xNzUtLjM5My0uMjk2LS4wODUtLjA5Ni0uMTU2LS4yMTYtLjIxOC0uMzY3IDAgMC0uMTc5LS40NDctLjE3OS0uOTQ3IDAtLjUuMTc5LTEuMDAyLjE3OS0xLjAwMi4wNjItLjE3Ny4xMzYtLjMxOC4yMjQtLjQzLjExNC0uMTQzLjI1Ni0uMjU5LjQyNC0uMzQ1LjE2OC0uMDg2LjM2NS0uMTI5LjU4Ny0uMTI5LjE5IDAgLjM2NC4wMzcuNTE3LjEwOXoiIGNsYXNzPSJzdDIiLz4KICAgICAgICA8cmVjdCB3aWR0aD0iMTQuMDEzIiBoZWlnaHQ9IjEuMDIzIiB4PSIuOTg3IiB5PSIyIiBjbGFzcz0ic3QyIi8+CiAgICAgICAgPHJlY3Qgd2lkdGg9IjE0LjAxMyIgaGVpZ2h0PSIxLjAyMyIgeD0iLjk4NyIgeT0iMTIuOTY4IiBjbGFzcz0ic3QyIi8+CiAgICAgICAgPHBhdGggZD0iTTEuOTkxIDEyLjAzMWwuNzI4LTIuMDMxaDIuMjE5bC43NzggMi4wMzFoMS4wODJsLTIuNDg1LTcuMTU4aC0uOTQxbC0yLjQ0MSA3LjA4Ni0uMDI1LjA3MmgxLjA4NXptMS44MjctNS42MDloLjAyMmwuOTE0IDIuNzUzaC0xLjg0MWwuOTA1LTIuNzUzeiIgY2xhc3M9InN0MiIvPgogICAgPC9nPgo8L3N2Zz4K";

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/whole-word.svg":
/*!****************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/whole-word.svg ***!
  \****************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = "data:image/svg+xml;base64,PCEtLUNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLi0tPgo8IS0tQ29weXJpZ2h0IChDKSAyMDE4IFR5cGVGb3ggYW5kIG90aGVycy4tLT4KPCEtLUxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gU2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uLS0+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPgogICAgPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KICAgICAgICAuc3Qwe29wYWNpdHk6MDtmaWxsOiNGNkY2RjY7fSAuc3Qxe2ZpbGw6I0Y2RjZGNjt9IC5zdDJ7ZmlsbDojNDI0MjQyO30KICAgIDwvc3R5bGU+CiAgICA8ZyBpZD0ib3V0bGluZSI+CiAgICAgICAgPHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2IiBjbGFzcz0ic3QwIi8+CiAgICAgICAgPHBhdGggZD0iTTE2IDQuMDIydi0zLjAyMmgtMTYuMDE0djMuMDIyaDMuMDQ2bC0zLjA0MyA3Ljk0NWgtLjAwNHYuMDFsLjAxNSAxLjAyM2gtLjAxNHYxLjk5MWgxNi4wMTR2LTMuMDIzaC0xdi03Ljk0Nmgxem0tNS45MTQgNS4zMDFjMCAuMjMzLS4wMjMuNDQxLS4wNjYuNTk1LS4wNDcuMTY0LS4wOTkuMjQ3LS4xMjcuMjg0bC0uMDc4LjA2OS0uMTUxLjAyNi0uMTE1LS4wMTctLjEzOS0uMTM3Yy0uMDMxLS4wNzgtLjExMi0uMzMyLS4xMTItLjU2NiAwLS4yNTQuMDkxLS41NjEuMTI2LS42NTZsLjA2OS0uMTQxLjEwOS0uMDgyLjE3OC0uMDI3Yy4wNzcgMCAuMTE3LjAxNC4xNzcuMDU2bC4wODcuMTc5LjA1MS4yMzctLjAwOS4xOHptLTMuNjk1LTUuMzAxdjIuODkzbC0xLjExNi0yLjg5M2gxLjExNnptLTMuMDI2IDcuMDJoMS41NzNsLjM1MS45MjZoLTIuMjU0bC4zMy0uOTI2em04LjYzNS00LjM1NGMtLjIwNi0uMi0uNDMxLS4zOC0uNjk1LS41MTItLjM5Ni0uMTk4LS44NTMtLjI5OC0xLjM1NS0uMjk4LS4yMTUgMC0uNDIzLjAyLS42MjEuMDU4di0xLjkxNGgyLjY3MXYyLjY2NnoiIGNsYXNzPSJzdDEiLz4KICAgIDwvZz4KICAgIDxnIGlkPSJpY29uX3g1Rl9iZyI+CiAgICAgICAgPHJlY3Qgd2lkdGg9IjEiIGhlaWdodD0iOCIgeD0iMTMiIHk9IjQiIGNsYXNzPSJzdDIiLz4KICAgICAgICA8cGF0aCBkPSJNMTEuMjI1IDguMzg3Yy0uMDc4LS4yOTktLjE5OS0uNTYyLS4zNi0uNzg2cy0uMzY1LS40MDEtLjYwOS0uNTMtLjUzNC0uMTkzLS44NjYtLjE5M2MtLjE5OCAwLS4zOC4wMjQtLjU0Ny4wNzMtLjE2NS4wNDktLjMxNi4xMTctLjQ1My4yMDUtLjEzNi4wODgtLjI1Ny4xOTQtLjM2NS4zMThsLS4xNzkuMjU4di0zLjE1NGgtLjg5M3Y3LjQyMmguODkzdi0uNTc1bC4xMjYuMTc1Yy4wODcuMTAyLjE4OS4xOS4zMDQuMjY5LjExNy4wNzguMjQ5LjE0LjM5OC4xODYuMTQ5LjA0Ni4zMTQuMDY4LjQ5OC4wNjguMzUzIDAgLjY2Ni0uMDcxLjkzNy0uMjEyLjI3Mi0uMTQzLjQ5OS0uMzM4LjY4Mi0uNTg2LjE4My0uMjUuMzIxLS41NDMuNDE0LS44NzkuMDkzLS4zMzguMTQtLjcwMy4xNC0xLjA5Ny0uMDAxLS4zNDItLjA0LS42NjMtLjEyLS45NjJ6bS0xLjQ3OS0uNjA3Yy4xNTEuMDcxLjI4Mi4xNzYuMzkuMzE0LjEwOS4xNC4xOTQuMzEzLjI1NS41MTcuMDUxLjE3NC4wODIuMzcxLjA4OS41ODdsLS4wMDcuMTI1YzAgLjMyNy0uMDMzLjYyLS4xLjg2OS0uMDY3LjI0Ni0uMTYxLjQ1My0uMjc4LjYxNC0uMTE3LjE2Mi0uMjYuMjg1LS40MjEuMzY2LS4zMjIuMTYyLS43Ni4xNjYtMS4wNjkuMDE1LS4xNTMtLjA3NS0uMjg2LS4xNzUtLjM5My0uMjk2LS4wODUtLjA5Ni0uMTU2LS4yMTYtLjIxOC0uMzY3IDAgMC0uMTc5LS40NDctLjE3OS0uOTQ3IDAtLjUuMTc5LTEuMDAyLjE3OS0xLjAwMi4wNjItLjE3Ny4xMzYtLjMxOC4yMjQtLjQzLjExNC0uMTQzLjI1Ni0uMjU5LjQyNC0uMzQ1LjE2OC0uMDg2LjM2NS0uMTI5LjU4Ny0uMTI5LjE5IDAgLjM2NC4wMzcuNTE3LjEwOXoiIGNsYXNzPSJzdDIiLz4KICAgICAgICA8cmVjdCB3aWR0aD0iMTQuMDEzIiBoZWlnaHQ9IjEuMDIzIiB4PSIuOTg3IiB5PSIyIiBjbGFzcz0ic3QyIi8+CiAgICAgICAgPHJlY3Qgd2lkdGg9IjE0LjAxMyIgaGVpZ2h0PSIxLjAyMyIgeD0iLjk4NyIgeT0iMTIuOTY4IiBjbGFzcz0ic3QyIi8+CiAgICAgICAgPHBhdGggZD0iTTEuOTkxIDEyLjAzMWwuNzI4LTIuMDMxaDIuMjE5bC43NzggMi4wMzFoMS4wODJsLTIuNDg1LTcuMTU4aC0uOTQxbC0yLjQ0MSA3LjA4Ni0uMDI1LjA3MmgxLjA4NXptMS44MjctNS42MDloLjAyMmwuOTE0IDIuNzUzaC0xLjg0MWwuOTA1LTIuNzUzeiIgY2xhc3M9InN0MiIvPgogICAgPC9nPgo8L3N2Zz4K";

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/cs-Czech-mac.json":
/*!*****************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/cs-Czech-mac.json ***!
  \*****************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"info":{"id":"com.apple.keylayout.Czech","lang":"cs"},"mapping":{"KeyA":{"value":"a","withShift":"A","withAltGr":"","withShiftAltGr":""},"KeyB":{"value":"b","withShift":"B"},"KeyC":{"value":"c","withShift":"C","withShiftAltGr":""},"KeyD":{"value":"d","withShift":"D","withAltGr":"","withShiftAltGr":""},"KeyE":{"value":"e","withShift":"E","withAltGr":"","withShiftAltGr":""},"KeyF":{"value":"f","withShift":"F"},"KeyG":{"value":"g","withShift":"G"},"KeyH":{"value":"h","withShift":"H","withAltGr":"","withShiftAltGr":""},"KeyI":{"value":"i","withShift":"I"},"KeyJ":{"value":"j","withShift":"J","withAltGr":"","withShiftAltGr":""},"KeyK":{"value":"k","withShift":"K"},"KeyL":{"value":"l","withShift":"L","withAltGr":"","withShiftAltGr":""},"KeyM":{"value":"m","withShift":"M"},"KeyN":{"value":"n","withShift":"N","withAltGr":"","withShiftAltGr":""},"KeyO":{"value":"o","withShift":"O"},"KeyP":{"value":"p","withShift":"P"},"KeyQ":{"value":"q","withShift":"Q"},"KeyR":{"value":"r","withShift":"R","withAltGr":"","withShiftAltGr":""},"KeyS":{"value":"s","withShift":"S","withAltGr":"","withShiftAltGr":""},"KeyT":{"value":"t","withShift":"T","withShiftAltGr":""},"KeyU":{"value":"u","withShift":"U"},"KeyV":{"value":"v","withShift":"V","withShiftAltGr":""},"KeyW":{"value":"w","withShift":"W","withAltGr":"","withShiftAltGr":""},"KeyX":{"value":"x","withShift":"X"},"KeyY":{"value":"z","withShift":"Z","withAltGr":"","withShiftAltGr":""},"KeyZ":{"value":"y","withShift":"Y"},"Digit1":{"value":"+","withShift":"1","withAltGr":"`","withShiftAltGr":""},"Digit2":{"value":"","withShift":"2","withAltGr":"@","withShiftAltGr":""},"Digit3":{"value":"","withShift":"3","withAltGr":"#","withShiftAltGr":""},"Digit4":{"value":"","withShift":"4","withAltGr":"$","withShiftAltGr":""},"Digit5":{"value":"","withShift":"5","withAltGr":"~","withShiftAltGr":""},"Digit6":{"value":"","withShift":"6","withAltGr":"^","withShiftAltGr":""},"Digit7":{"value":"","withShift":"7","withAltGr":"&","withShiftAltGr":""},"Digit8":{"value":"","withShift":"8","withAltGr":"*","withShiftAltGr":""},"Digit9":{"value":"","withShift":"9","withAltGr":"{","withShiftAltGr":""},"Digit0":{"value":"","withShift":"0","withAltGr":"}","withShiftAltGr":""},"Minus":{"value":"=","withShift":"%","withAltGr":"","withShiftAltGr":","},"Equal":{"value":"\'","withShift":"","withAltGr":"^","withShiftAltGr":"-"},"BracketLeft":{"value":"","withShift":"/","withAltGr":"[","withShiftAltGr":""},"BracketRight":{"value":")","withShift":"(","withAltGr":"]","withShiftAltGr":""},"Backslash":{"value":"","withShift":"`","withAltGr":"","withShiftAltGr":"\\""},"Semicolon":{"value":"","withShift":"\\"","withAltGr":";","withShiftAltGr":""},"Quote":{"value":"","withShift":"!","withAltGr":"\'","withShiftAltGr":"~"},"Backquote":{"value":"\\\\","withShift":"|"},"Comma":{"value":",","withShift":"?","withAltGr":"<","withShiftAltGr":""},"Period":{"value":".","withShift":":","withAltGr":">","withShiftAltGr":""},"Slash":{"value":"-","withShift":"_","withAltGr":"","withShiftAltGr":""},"IntlBackslash":{"value":"<","withShift":">","withAltGr":"","withShiftAltGr":""}}}');

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/cs-Czech-pc.json":
/*!****************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/cs-Czech-pc.json ***!
  \****************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"info":{"name":"00000405","id":"","text":"Czech"},"mapping":{"KeyA":{"vkey":"VK_A","value":"a","withShift":"A"},"KeyB":{"vkey":"VK_B","value":"b","withShift":"B","withAltGr":"{"},"KeyC":{"vkey":"VK_C","value":"c","withShift":"C","withAltGr":"&"},"KeyD":{"vkey":"VK_D","value":"d","withShift":"D","withAltGr":""},"KeyE":{"vkey":"VK_E","value":"e","withShift":"E","withAltGr":""},"KeyF":{"vkey":"VK_F","value":"f","withShift":"F","withAltGr":"["},"KeyG":{"vkey":"VK_G","value":"g","withShift":"G","withAltGr":"]"},"KeyH":{"vkey":"VK_H","value":"h","withShift":"H"},"KeyI":{"vkey":"VK_I","value":"i","withShift":"I"},"KeyJ":{"vkey":"VK_J","value":"j","withShift":"J"},"KeyK":{"vkey":"VK_K","value":"k","withShift":"K","withAltGr":""},"KeyL":{"vkey":"VK_L","value":"l","withShift":"L","withAltGr":""},"KeyM":{"vkey":"VK_M","value":"m","withShift":"M"},"KeyN":{"vkey":"VK_N","value":"n","withShift":"N","withAltGr":"}"},"KeyO":{"vkey":"VK_O","value":"o","withShift":"O"},"KeyP":{"vkey":"VK_P","value":"p","withShift":"P"},"KeyQ":{"vkey":"VK_Q","value":"q","withShift":"Q","withAltGr":"\\\\"},"KeyR":{"vkey":"VK_R","value":"r","withShift":"R"},"KeyS":{"vkey":"VK_S","value":"s","withShift":"S","withAltGr":""},"KeyT":{"vkey":"VK_T","value":"t","withShift":"T"},"KeyU":{"vkey":"VK_U","value":"u","withShift":"U"},"KeyV":{"vkey":"VK_V","value":"v","withShift":"V","withAltGr":"@"},"KeyW":{"vkey":"VK_W","value":"w","withShift":"W","withAltGr":"|"},"KeyX":{"vkey":"VK_X","value":"x","withShift":"X","withAltGr":"#"},"KeyY":{"vkey":"VK_Z","value":"z","withShift":"Z"},"KeyZ":{"vkey":"VK_Y","value":"y","withShift":"Y"},"Digit1":{"vkey":"VK_1","value":"+","withShift":"1","withAltGr":"~"},"Digit2":{"vkey":"VK_2","value":"","withShift":"2","withAltGr":""},"Digit3":{"vkey":"VK_3","value":"","withShift":"3","withAltGr":"^"},"Digit4":{"vkey":"VK_4","value":"","withShift":"4","withAltGr":""},"Digit5":{"vkey":"VK_5","value":"","withShift":"5","withAltGr":""},"Digit6":{"vkey":"VK_6","value":"","withShift":"6","withAltGr":""},"Digit7":{"vkey":"VK_7","value":"","withShift":"7","withAltGr":"`"},"Digit8":{"vkey":"VK_8","value":"","withShift":"8","withAltGr":""},"Digit9":{"vkey":"VK_9","value":"","withShift":"9","withAltGr":""},"Digit0":{"vkey":"VK_0","value":"","withShift":"0","withAltGr":""},"Minus":{"vkey":"VK_OEM_PLUS","value":"=","withShift":"%","withAltGr":""},"Equal":{"vkey":"VK_OEM_2","value":"","withShift":"","withAltGr":""},"BracketLeft":{"vkey":"VK_OEM_4","value":"","withShift":"/","withAltGr":""},"BracketRight":{"vkey":"VK_OEM_6","value":")","withShift":"(","withAltGr":""},"Backslash":{"vkey":"VK_OEM_5","value":"","withShift":"\'","withAltGr":""},"Semicolon":{"vkey":"VK_OEM_1","value":"","withShift":"\\"","withAltGr":"$"},"Quote":{"vkey":"VK_OEM_7","value":"","withShift":"!","withAltGr":""},"Backquote":{"vkey":"VK_OEM_3","value":";","withShift":""},"Comma":{"vkey":"VK_OEM_COMMA","value":",","withShift":"?","withAltGr":"<"},"Period":{"vkey":"VK_OEM_PERIOD","value":".","withShift":":","withAltGr":">"},"Slash":{"vkey":"VK_OEM_MINUS","value":"-","withShift":"_","withAltGr":"*"},"IntlBackslash":{"vkey":"VK_OEM_102","value":"\\\\","withShift":"|"},"IntlRo":{"vkey":"VK_ABNT_C1"},"IntlYen":{"vkey":"VK_UNKNOWN"}}}');

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/da-Danish-mac.json":
/*!******************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/da-Danish-mac.json ***!
  \******************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"info":{"id":"com.apple.keylayout.Danish","lang":"da"},"mapping":{"KeyA":{"value":"a","withShift":"A","withAltGr":"","withShiftAltGr":""},"KeyB":{"value":"b","withShift":"B","withAltGr":"","withShiftAltGr":""},"KeyC":{"value":"c","withShift":"C","withAltGr":"","withShiftAltGr":""},"KeyD":{"value":"d","withShift":"D","withAltGr":"","withShiftAltGr":""},"KeyE":{"value":"e","withShift":"E","withAltGr":"","withShiftAltGr":""},"KeyF":{"value":"f","withShift":"F","withAltGr":"","withShiftAltGr":""},"KeyG":{"value":"g","withShift":"G","withAltGr":"","withShiftAltGr":""},"KeyH":{"value":"h","withShift":"H","withAltGr":"","withShiftAltGr":""},"KeyI":{"value":"i","withShift":"I","withAltGr":"|","withShiftAltGr":""},"KeyJ":{"value":"j","withShift":"J","withAltGr":"","withShiftAltGr":""},"KeyK":{"value":"k","withShift":"K","withAltGr":"","withShiftAltGr":""},"KeyL":{"value":"l","withShift":"L","withAltGr":"","withShiftAltGr":""},"KeyM":{"value":"m","withShift":"M","withAltGr":"","withShiftAltGr":""},"KeyN":{"value":"n","withShift":"N","withAltGr":"","withShiftAltGr":""},"KeyO":{"value":"o","withShift":"O","withAltGr":"","withShiftAltGr":""},"KeyP":{"value":"p","withShift":"P","withAltGr":"","withShiftAltGr":""},"KeyQ":{"value":"q","withShift":"Q","withAltGr":"","withShiftAltGr":""},"KeyR":{"value":"r","withShift":"R","withAltGr":"","withShiftAltGr":""},"KeyS":{"value":"s","withShift":"S","withAltGr":"","withShiftAltGr":""},"KeyT":{"value":"t","withShift":"T","withAltGr":"","withShiftAltGr":""},"KeyU":{"value":"u","withShift":"U","withAltGr":"","withShiftAltGr":""},"KeyV":{"value":"v","withShift":"V","withAltGr":"","withShiftAltGr":""},"KeyW":{"value":"w","withShift":"W","withAltGr":"","withShiftAltGr":""},"KeyX":{"value":"x","withShift":"X","withAltGr":"","withShiftAltGr":""},"KeyY":{"value":"y","withShift":"Y","withAltGr":"","withShiftAltGr":""},"KeyZ":{"value":"z","withShift":"Z","withAltGr":"","withShiftAltGr":""},"Digit1":{"value":"1","withShift":"!","withAltGr":"","withShiftAltGr":""},"Digit2":{"value":"2","withShift":"\\"","withAltGr":"","withShiftAltGr":""},"Digit3":{"value":"3","withShift":"#","withAltGr":"","withShiftAltGr":"$"},"Digit4":{"value":"4","withShift":"","withAltGr":"","withShiftAltGr":""},"Digit5":{"value":"5","withShift":"%","withAltGr":"","withShiftAltGr":""},"Digit6":{"value":"6","withShift":"&","withAltGr":"","withShiftAltGr":""},"Digit7":{"value":"7","withShift":"/","withAltGr":"","withShiftAltGr":"\\\\"},"Digit8":{"value":"8","withShift":"(","withAltGr":"[","withShiftAltGr":"{"},"Digit9":{"value":"9","withShift":")","withAltGr":"]","withShiftAltGr":"}"},"Digit0":{"value":"0","withShift":"=","withAltGr":"","withShiftAltGr":""},"Minus":{"value":"+","withShift":"?","withAltGr":"","withShiftAltGr":""},"Equal":{"value":"","withShift":"`","withAltGr":"\'","withShiftAltGr":""},"BracketLeft":{"value":"","withShift":"","withAltGr":"","withShiftAltGr":""},"BracketRight":{"value":"","withShift":"^","withAltGr":"~","withShiftAltGr":"^"},"Backslash":{"value":"\'","withShift":"*","withAltGr":"@","withShiftAltGr":""},"Semicolon":{"value":"","withShift":"","withAltGr":"","withShiftAltGr":""},"Quote":{"value":"","withShift":"","withAltGr":"","withShiftAltGr":""},"Backquote":{"value":"<","withShift":">","withAltGr":"","withShiftAltGr":""},"Comma":{"value":",","withShift":";","withAltGr":"","withShiftAltGr":""},"Period":{"value":".","withShift":":","withAltGr":"","withShiftAltGr":""},"Slash":{"value":"-","withShift":"_","withAltGr":"","withShiftAltGr":""},"IntlBackslash":{"value":"$","withShift":"","withAltGr":"","withShiftAltGr":"\'"}}}');

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/da-Danish-pc.json":
/*!*****************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/da-Danish-pc.json ***!
  \*****************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"info":{"name":"00000406","id":"","text":"Danish"},"mapping":{"KeyA":{"vkey":"VK_A","value":"a","withShift":"A"},"KeyB":{"vkey":"VK_B","value":"b","withShift":"B"},"KeyC":{"vkey":"VK_C","value":"c","withShift":"C"},"KeyD":{"vkey":"VK_D","value":"d","withShift":"D"},"KeyE":{"vkey":"VK_E","value":"e","withShift":"E","withAltGr":""},"KeyF":{"vkey":"VK_F","value":"f","withShift":"F"},"KeyG":{"vkey":"VK_G","value":"g","withShift":"G"},"KeyH":{"vkey":"VK_H","value":"h","withShift":"H"},"KeyI":{"vkey":"VK_I","value":"i","withShift":"I"},"KeyJ":{"vkey":"VK_J","value":"j","withShift":"J"},"KeyK":{"vkey":"VK_K","value":"k","withShift":"K"},"KeyL":{"vkey":"VK_L","value":"l","withShift":"L"},"KeyM":{"vkey":"VK_M","value":"m","withShift":"M","withAltGr":""},"KeyN":{"vkey":"VK_N","value":"n","withShift":"N"},"KeyO":{"vkey":"VK_O","value":"o","withShift":"O"},"KeyP":{"vkey":"VK_P","value":"p","withShift":"P"},"KeyQ":{"vkey":"VK_Q","value":"q","withShift":"Q"},"KeyR":{"vkey":"VK_R","value":"r","withShift":"R"},"KeyS":{"vkey":"VK_S","value":"s","withShift":"S"},"KeyT":{"vkey":"VK_T","value":"t","withShift":"T"},"KeyU":{"vkey":"VK_U","value":"u","withShift":"U"},"KeyV":{"vkey":"VK_V","value":"v","withShift":"V"},"KeyW":{"vkey":"VK_W","value":"w","withShift":"W"},"KeyX":{"vkey":"VK_X","value":"x","withShift":"X"},"KeyY":{"vkey":"VK_Y","value":"y","withShift":"Y"},"KeyZ":{"vkey":"VK_Z","value":"z","withShift":"Z"},"Digit1":{"vkey":"VK_1","value":"1","withShift":"!"},"Digit2":{"vkey":"VK_2","value":"2","withShift":"\\"","withAltGr":"@"},"Digit3":{"vkey":"VK_3","value":"3","withShift":"#","withAltGr":""},"Digit4":{"vkey":"VK_4","value":"4","withShift":"","withAltGr":"$"},"Digit5":{"vkey":"VK_5","value":"5","withShift":"%","withAltGr":""},"Digit6":{"vkey":"VK_6","value":"6","withShift":"&"},"Digit7":{"vkey":"VK_7","value":"7","withShift":"/","withAltGr":"{"},"Digit8":{"vkey":"VK_8","value":"8","withShift":"(","withAltGr":"["},"Digit9":{"vkey":"VK_9","value":"9","withShift":")","withAltGr":"]"},"Digit0":{"vkey":"VK_0","value":"0","withShift":"=","withAltGr":"}"},"Minus":{"vkey":"VK_OEM_PLUS","value":"+","withShift":"?"},"Equal":{"vkey":"VK_OEM_4","value":"","withShift":"`","withAltGr":"|"},"BracketLeft":{"vkey":"VK_OEM_6","value":"","withShift":""},"BracketRight":{"vkey":"VK_OEM_1","value":"","withShift":"^","withAltGr":"~"},"Backslash":{"vkey":"VK_OEM_2","value":"\'","withShift":"*"},"Semicolon":{"vkey":"VK_OEM_3","value":"","withShift":""},"Quote":{"vkey":"VK_OEM_7","value":"","withShift":""},"Backquote":{"vkey":"VK_OEM_5","value":"","withShift":""},"Comma":{"vkey":"VK_OEM_COMMA","value":",","withShift":";"},"Period":{"vkey":"VK_OEM_PERIOD","value":".","withShift":":"},"Slash":{"vkey":"VK_OEM_MINUS","value":"-","withShift":"_"},"IntlBackslash":{"vkey":"VK_OEM_102","value":"<","withShift":">","withAltGr":"\\\\"},"IntlRo":{"vkey":"VK_ABNT_C1"},"IntlYen":{"vkey":"VK_UNKNOWN"}}}');

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/de-German-mac.json":
/*!******************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/de-German-mac.json ***!
  \******************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"info":{"id":"com.apple.keylayout.German","lang":"de"},"mapping":{"KeyA":{"value":"a","withShift":"A","withAltGr":"","withShiftAltGr":""},"KeyB":{"value":"b","withShift":"B","withAltGr":"","withShiftAltGr":""},"KeyC":{"value":"c","withShift":"C","withAltGr":"","withShiftAltGr":""},"KeyD":{"value":"d","withShift":"D","withAltGr":"","withShiftAltGr":""},"KeyE":{"value":"e","withShift":"E","withAltGr":"","withShiftAltGr":""},"KeyF":{"value":"f","withShift":"F","withAltGr":"","withShiftAltGr":""},"KeyG":{"value":"g","withShift":"G","withAltGr":"","withShiftAltGr":""},"KeyH":{"value":"h","withShift":"H","withAltGr":"","withShiftAltGr":""},"KeyI":{"value":"i","withShift":"I","withAltGr":"","withShiftAltGr":""},"KeyJ":{"value":"j","withShift":"J","withAltGr":"","withShiftAltGr":""},"KeyK":{"value":"k","withShift":"K","withAltGr":"","withShiftAltGr":""},"KeyL":{"value":"l","withShift":"L","withAltGr":"@","withShiftAltGr":""},"KeyM":{"value":"m","withShift":"M","withAltGr":"","withShiftAltGr":""},"KeyN":{"value":"n","withShift":"N","withAltGr":"~","withShiftAltGr":""},"KeyO":{"value":"o","withShift":"O","withAltGr":"","withShiftAltGr":""},"KeyP":{"value":"p","withShift":"P","withAltGr":"","withShiftAltGr":""},"KeyQ":{"value":"q","withShift":"Q","withAltGr":"","withShiftAltGr":""},"KeyR":{"value":"r","withShift":"R","withAltGr":"","withShiftAltGr":""},"KeyS":{"value":"s","withShift":"S","withAltGr":"","withShiftAltGr":""},"KeyT":{"value":"t","withShift":"T","withAltGr":"","withShiftAltGr":""},"KeyU":{"value":"u","withShift":"U","withAltGr":"","withShiftAltGr":""},"KeyV":{"value":"v","withShift":"V","withAltGr":"","withShiftAltGr":""},"KeyW":{"value":"w","withShift":"W","withAltGr":"","withShiftAltGr":""},"KeyX":{"value":"x","withShift":"X","withAltGr":"","withShiftAltGr":""},"KeyY":{"value":"z","withShift":"Z","withAltGr":"","withShiftAltGr":""},"KeyZ":{"value":"y","withShift":"Y","withAltGr":"","withShiftAltGr":""},"Digit1":{"value":"1","withShift":"!","withAltGr":"","withShiftAltGr":""},"Digit2":{"value":"2","withShift":"\\"","withAltGr":"","withShiftAltGr":""},"Digit3":{"value":"3","withShift":"","withAltGr":"","withShiftAltGr":"#"},"Digit4":{"value":"4","withShift":"$","withAltGr":"","withShiftAltGr":""},"Digit5":{"value":"5","withShift":"%","withAltGr":"[","withShiftAltGr":""},"Digit6":{"value":"6","withShift":"&","withAltGr":"]","withShiftAltGr":"^"},"Digit7":{"value":"7","withShift":"/","withAltGr":"|","withShiftAltGr":"\\\\"},"Digit8":{"value":"8","withShift":"(","withAltGr":"{","withShiftAltGr":""},"Digit9":{"value":"9","withShift":")","withAltGr":"}","withShiftAltGr":""},"Digit0":{"value":"0","withShift":"=","withAltGr":"","withShiftAltGr":""},"Minus":{"value":"","withShift":"?","withAltGr":"","withShiftAltGr":""},"Equal":{"value":"","withShift":"`","withAltGr":"\'","withShiftAltGr":""},"BracketLeft":{"value":"","withShift":"","withAltGr":"","withShiftAltGr":""},"BracketRight":{"value":"+","withShift":"*","withAltGr":"","withShiftAltGr":""},"Backslash":{"value":"#","withShift":"\'","withAltGr":"","withShiftAltGr":""},"Semicolon":{"value":"","withShift":"","withAltGr":"","withShiftAltGr":""},"Quote":{"value":"","withShift":"","withAltGr":"","withShiftAltGr":""},"Backquote":{"value":"<","withShift":">","withAltGr":"","withShiftAltGr":""},"Comma":{"value":",","withShift":";","withAltGr":"","withShiftAltGr":""},"Period":{"value":".","withShift":":","withAltGr":"","withShiftAltGr":""},"Slash":{"value":"-","withShift":"_","withAltGr":"","withShiftAltGr":""},"IntlBackslash":{"value":"^","withShift":"","withAltGr":"","withShiftAltGr":""}}}');

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/de-German-pc.json":
/*!*****************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/de-German-pc.json ***!
  \*****************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"info":{"name":"00000407","id":"","text":"German"},"mapping":{"KeyA":{"vkey":"VK_A","value":"a","withShift":"A"},"KeyB":{"vkey":"VK_B","value":"b","withShift":"B"},"KeyC":{"vkey":"VK_C","value":"c","withShift":"C"},"KeyD":{"vkey":"VK_D","value":"d","withShift":"D"},"KeyE":{"vkey":"VK_E","value":"e","withShift":"E","withAltGr":""},"KeyF":{"vkey":"VK_F","value":"f","withShift":"F"},"KeyG":{"vkey":"VK_G","value":"g","withShift":"G"},"KeyH":{"vkey":"VK_H","value":"h","withShift":"H"},"KeyI":{"vkey":"VK_I","value":"i","withShift":"I"},"KeyJ":{"vkey":"VK_J","value":"j","withShift":"J"},"KeyK":{"vkey":"VK_K","value":"k","withShift":"K"},"KeyL":{"vkey":"VK_L","value":"l","withShift":"L"},"KeyM":{"vkey":"VK_M","value":"m","withShift":"M","withAltGr":""},"KeyN":{"vkey":"VK_N","value":"n","withShift":"N"},"KeyO":{"vkey":"VK_O","value":"o","withShift":"O"},"KeyP":{"vkey":"VK_P","value":"p","withShift":"P"},"KeyQ":{"vkey":"VK_Q","value":"q","withShift":"Q","withAltGr":"@"},"KeyR":{"vkey":"VK_R","value":"r","withShift":"R"},"KeyS":{"vkey":"VK_S","value":"s","withShift":"S"},"KeyT":{"vkey":"VK_T","value":"t","withShift":"T"},"KeyU":{"vkey":"VK_U","value":"u","withShift":"U"},"KeyV":{"vkey":"VK_V","value":"v","withShift":"V"},"KeyW":{"vkey":"VK_W","value":"w","withShift":"W"},"KeyX":{"vkey":"VK_X","value":"x","withShift":"X"},"KeyY":{"vkey":"VK_Z","value":"z","withShift":"Z"},"KeyZ":{"vkey":"VK_Y","value":"y","withShift":"Y"},"Digit1":{"vkey":"VK_1","value":"1","withShift":"!"},"Digit2":{"vkey":"VK_2","value":"2","withShift":"\\"","withAltGr":""},"Digit3":{"vkey":"VK_3","value":"3","withShift":"","withAltGr":""},"Digit4":{"vkey":"VK_4","value":"4","withShift":"$"},"Digit5":{"vkey":"VK_5","value":"5","withShift":"%"},"Digit6":{"vkey":"VK_6","value":"6","withShift":"&"},"Digit7":{"vkey":"VK_7","value":"7","withShift":"/","withAltGr":"{"},"Digit8":{"vkey":"VK_8","value":"8","withShift":"(","withAltGr":"["},"Digit9":{"vkey":"VK_9","value":"9","withShift":")","withAltGr":"]"},"Digit0":{"vkey":"VK_0","value":"0","withShift":"=","withAltGr":"}"},"Minus":{"vkey":"VK_OEM_4","value":"","withShift":"?","withAltGr":"\\\\","withShiftAltGr":""},"Equal":{"vkey":"VK_OEM_6","value":"","withShift":"`"},"BracketLeft":{"vkey":"VK_OEM_1","value":"","withShift":""},"BracketRight":{"vkey":"VK_OEM_PLUS","value":"+","withShift":"*","withAltGr":"~"},"Backslash":{"vkey":"VK_OEM_2","value":"#","withShift":"\'"},"Semicolon":{"vkey":"VK_OEM_3","value":"","withShift":""},"Quote":{"vkey":"VK_OEM_7","value":"","withShift":""},"Backquote":{"vkey":"VK_OEM_5","value":"^","withShift":""},"Comma":{"vkey":"VK_OEM_COMMA","value":",","withShift":";"},"Period":{"vkey":"VK_OEM_PERIOD","value":".","withShift":":"},"Slash":{"vkey":"VK_OEM_MINUS","value":"-","withShift":"_"},"IntlBackslash":{"vkey":"VK_OEM_102","value":"<","withShift":">","withAltGr":"|"},"IntlRo":{"vkey":"VK_ABNT_C1"},"IntlYen":{"vkey":"VK_UNKNOWN"}}}');

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/de-Swiss_German-mac.json":
/*!************************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/de-Swiss_German-mac.json ***!
  \************************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"info":{"id":"com.apple.keylayout.SwissGerman","lang":"de"},"mapping":{"KeyA":{"value":"a","withShift":"A","withAltGr":"","withShiftAltGr":""},"KeyB":{"value":"b","withShift":"B","withAltGr":""},"KeyC":{"value":"c","withShift":"C","withAltGr":""},"KeyD":{"value":"d","withShift":"D","withAltGr":"","withShiftAltGr":""},"KeyE":{"value":"e","withShift":"E","withAltGr":"","withShiftAltGr":""},"KeyF":{"value":"f","withShift":"F","withAltGr":"","withShiftAltGr":""},"KeyG":{"value":"g","withShift":"G","withAltGr":"@","withShiftAltGr":""},"KeyH":{"value":"h","withShift":"H","withAltGr":"","withShiftAltGr":""},"KeyI":{"value":"i","withShift":"I","withAltGr":"","withShiftAltGr":""},"KeyJ":{"value":"j","withShift":"J","withAltGr":"","withShiftAltGr":""},"KeyK":{"value":"k","withShift":"K","withAltGr":"","withShiftAltGr":""},"KeyL":{"value":"l","withShift":"L","withAltGr":"","withShiftAltGr":""},"KeyM":{"value":"m","withShift":"M","withAltGr":"","withShiftAltGr":""},"KeyN":{"value":"n","withShift":"N","withAltGr":"~","withShiftAltGr":""},"KeyO":{"value":"o","withShift":"O","withAltGr":"","withShiftAltGr":""},"KeyP":{"value":"p","withShift":"P","withAltGr":"","withShiftAltGr":""},"KeyQ":{"value":"q","withShift":"Q","withAltGr":"","withShiftAltGr":""},"KeyR":{"value":"r","withShift":"R","withAltGr":"","withShiftAltGr":""},"KeyS":{"value":"s","withShift":"S","withAltGr":"","withShiftAltGr":""},"KeyT":{"value":"t","withShift":"T","withAltGr":"","withShiftAltGr":""},"KeyU":{"value":"u","withShift":"U","withAltGr":"","withShiftAltGr":""},"KeyV":{"value":"v","withShift":"V","withAltGr":"","withShiftAltGr":""},"KeyW":{"value":"w","withShift":"W","withAltGr":"","withShiftAltGr":""},"KeyX":{"value":"x","withShift":"X","withAltGr":"","withShiftAltGr":""},"KeyY":{"value":"z","withShift":"Z","withAltGr":"","withShiftAltGr":""},"KeyZ":{"value":"y","withShift":"Y","withAltGr":"","withShiftAltGr":""},"Digit1":{"value":"1","withShift":"+","withAltGr":"","withShiftAltGr":""},"Digit2":{"value":"2","withShift":"\\"","withAltGr":"","withShiftAltGr":""},"Digit3":{"value":"3","withShift":"*","withAltGr":"#","withShiftAltGr":""},"Digit4":{"value":"4","withShift":"","withAltGr":"","withShiftAltGr":""},"Digit5":{"value":"5","withShift":"%","withAltGr":"[","withShiftAltGr":"["},"Digit6":{"value":"6","withShift":"&","withAltGr":"]","withShiftAltGr":"]"},"Digit7":{"value":"7","withShift":"/","withAltGr":"|","withShiftAltGr":"\\\\"},"Digit8":{"value":"8","withShift":"(","withAltGr":"{","withShiftAltGr":""},"Digit9":{"value":"9","withShift":")","withAltGr":"}","withShiftAltGr":""},"Digit0":{"value":"0","withShift":"=","withAltGr":"","withShiftAltGr":""},"Minus":{"value":"\'","withShift":"?","withAltGr":"","withShiftAltGr":""},"Equal":{"value":"^","withShift":"`","withAltGr":"","withShiftAltGr":"^"},"BracketLeft":{"value":"","withShift":"","withAltGr":"","withShiftAltGr":""},"BracketRight":{"value":"","withShift":"!","withAltGr":"","withShiftAltGr":""},"Backslash":{"value":"$","withShift":"","withAltGr":"","withShiftAltGr":""},"Semicolon":{"value":"","withShift":"","withAltGr":"","withShiftAltGr":""},"Quote":{"value":"","withShift":"","withAltGr":"","withShiftAltGr":""},"Backquote":{"value":"<","withShift":">","withAltGr":"","withShiftAltGr":""},"Comma":{"value":",","withShift":";","withAltGr":"","withShiftAltGr":""},"Period":{"value":".","withShift":":","withAltGr":"","withShiftAltGr":""},"Slash":{"value":"-","withShift":"_","withAltGr":"","withShiftAltGr":""},"IntlBackslash":{"value":"","withShift":"","withAltGr":"","withShiftAltGr":""}}}');

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/de-Swiss_German-pc.json":
/*!***********************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/de-Swiss_German-pc.json ***!
  \***********************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"info":{"name":"00000807","id":"","text":"Swiss German"},"mapping":{"KeyA":{"vkey":"VK_A","value":"a","withShift":"A"},"KeyB":{"vkey":"VK_B","value":"b","withShift":"B"},"KeyC":{"vkey":"VK_C","value":"c","withShift":"C"},"KeyD":{"vkey":"VK_D","value":"d","withShift":"D"},"KeyE":{"vkey":"VK_E","value":"e","withShift":"E","withAltGr":""},"KeyF":{"vkey":"VK_F","value":"f","withShift":"F"},"KeyG":{"vkey":"VK_G","value":"g","withShift":"G"},"KeyH":{"vkey":"VK_H","value":"h","withShift":"H"},"KeyI":{"vkey":"VK_I","value":"i","withShift":"I"},"KeyJ":{"vkey":"VK_J","value":"j","withShift":"J"},"KeyK":{"vkey":"VK_K","value":"k","withShift":"K"},"KeyL":{"vkey":"VK_L","value":"l","withShift":"L"},"KeyM":{"vkey":"VK_M","value":"m","withShift":"M"},"KeyN":{"vkey":"VK_N","value":"n","withShift":"N"},"KeyO":{"vkey":"VK_O","value":"o","withShift":"O"},"KeyP":{"vkey":"VK_P","value":"p","withShift":"P"},"KeyQ":{"vkey":"VK_Q","value":"q","withShift":"Q"},"KeyR":{"vkey":"VK_R","value":"r","withShift":"R"},"KeyS":{"vkey":"VK_S","value":"s","withShift":"S"},"KeyT":{"vkey":"VK_T","value":"t","withShift":"T"},"KeyU":{"vkey":"VK_U","value":"u","withShift":"U"},"KeyV":{"vkey":"VK_V","value":"v","withShift":"V"},"KeyW":{"vkey":"VK_W","value":"w","withShift":"W"},"KeyX":{"vkey":"VK_X","value":"x","withShift":"X"},"KeyY":{"vkey":"VK_Z","value":"z","withShift":"Z"},"KeyZ":{"vkey":"VK_Y","value":"y","withShift":"Y"},"Digit1":{"vkey":"VK_1","value":"1","withShift":"+","withAltGr":""},"Digit2":{"vkey":"VK_2","value":"2","withShift":"\\"","withAltGr":"@"},"Digit3":{"vkey":"VK_3","value":"3","withShift":"*","withAltGr":"#"},"Digit4":{"vkey":"VK_4","value":"4","withShift":"","withAltGr":""},"Digit5":{"vkey":"VK_5","value":"5","withShift":"%","withAltGr":""},"Digit6":{"vkey":"VK_6","value":"6","withShift":"&","withAltGr":""},"Digit7":{"vkey":"VK_7","value":"7","withShift":"/","withAltGr":"|"},"Digit8":{"vkey":"VK_8","value":"8","withShift":"(","withAltGr":""},"Digit9":{"vkey":"VK_9","value":"9","withShift":")"},"Digit0":{"vkey":"VK_0","value":"0","withShift":"="},"Minus":{"vkey":"VK_OEM_4","value":"\'","withShift":"?","withAltGr":""},"Equal":{"vkey":"VK_OEM_6","value":"^","withShift":"`","withAltGr":"~"},"BracketLeft":{"vkey":"VK_OEM_1","value":"","withShift":"","withAltGr":"["},"BracketRight":{"vkey":"VK_OEM_3","value":"","withShift":"!","withAltGr":"]"},"Backslash":{"vkey":"VK_OEM_8","value":"$","withShift":"","withAltGr":"}"},"Semicolon":{"vkey":"VK_OEM_7","value":"","withShift":""},"Quote":{"vkey":"VK_OEM_5","value":"","withShift":"","withAltGr":"{"},"Backquote":{"vkey":"VK_OEM_2","value":"","withShift":""},"Comma":{"vkey":"VK_OEM_COMMA","value":",","withShift":";"},"Period":{"vkey":"VK_OEM_PERIOD","value":".","withShift":":"},"Slash":{"vkey":"VK_OEM_MINUS","value":"-","withShift":"_"},"IntlBackslash":{"vkey":"VK_OEM_102","value":"<","withShift":">","withAltGr":"\\\\"},"IntlRo":{"vkey":"VK_ABNT_C1"},"IntlYen":{"vkey":"VK_UNKNOWN"}}}');

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/en-British-mac.json":
/*!*******************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/en-British-mac.json ***!
  \*******************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"info":{"id":"com.apple.keylayout.British","lang":"en"},"mapping":{"KeyA":{"value":"a","withShift":"A","withAltGr":"","withShiftAltGr":""},"KeyB":{"value":"b","withShift":"B","withAltGr":"","withShiftAltGr":""},"KeyC":{"value":"c","withShift":"C","withAltGr":"","withShiftAltGr":""},"KeyD":{"value":"d","withShift":"D","withAltGr":"","withShiftAltGr":""},"KeyE":{"value":"e","withShift":"E","withAltGr":"","withShiftAltGr":""},"KeyF":{"value":"f","withShift":"F","withAltGr":"","withShiftAltGr":""},"KeyG":{"value":"g","withShift":"G","withAltGr":"","withShiftAltGr":""},"KeyH":{"value":"h","withShift":"H","withAltGr":"","withShiftAltGr":""},"KeyI":{"value":"i","withShift":"I","withAltGr":"^","withShiftAltGr":""},"KeyJ":{"value":"j","withShift":"J","withAltGr":"","withShiftAltGr":""},"KeyK":{"value":"k","withShift":"K","withAltGr":"","withShiftAltGr":""},"KeyL":{"value":"l","withShift":"L","withAltGr":"","withShiftAltGr":""},"KeyM":{"value":"m","withShift":"M","withAltGr":"","withShiftAltGr":""},"KeyN":{"value":"n","withShift":"N","withAltGr":"~","withShiftAltGr":""},"KeyO":{"value":"o","withShift":"O","withAltGr":"","withShiftAltGr":""},"KeyP":{"value":"p","withShift":"P","withAltGr":"","withShiftAltGr":""},"KeyQ":{"value":"q","withShift":"Q","withAltGr":"","withShiftAltGr":""},"KeyR":{"value":"r","withShift":"R","withAltGr":"","withShiftAltGr":""},"KeyS":{"value":"s","withShift":"S","withAltGr":"","withShiftAltGr":""},"KeyT":{"value":"t","withShift":"T","withAltGr":"","withShiftAltGr":""},"KeyU":{"value":"u","withShift":"U","withAltGr":"","withShiftAltGr":""},"KeyV":{"value":"v","withShift":"V","withAltGr":"","withShiftAltGr":""},"KeyW":{"value":"w","withShift":"W","withAltGr":"","withShiftAltGr":""},"KeyX":{"value":"x","withShift":"X","withAltGr":"","withShiftAltGr":""},"KeyY":{"value":"y","withShift":"Y","withAltGr":"","withShiftAltGr":""},"KeyZ":{"value":"z","withShift":"Z","withAltGr":"","withShiftAltGr":""},"Digit1":{"value":"1","withShift":"!","withAltGr":"","withShiftAltGr":""},"Digit2":{"value":"2","withShift":"@","withAltGr":"","withShiftAltGr":""},"Digit3":{"value":"3","withShift":"","withAltGr":"#","withShiftAltGr":""},"Digit4":{"value":"4","withShift":"$","withAltGr":"","withShiftAltGr":""},"Digit5":{"value":"5","withShift":"%","withAltGr":"","withShiftAltGr":""},"Digit6":{"value":"6","withShift":"^","withAltGr":"","withShiftAltGr":""},"Digit7":{"value":"7","withShift":"&","withAltGr":"","withShiftAltGr":""},"Digit8":{"value":"8","withShift":"*","withAltGr":"","withShiftAltGr":""},"Digit9":{"value":"9","withShift":"(","withAltGr":"","withShiftAltGr":""},"Digit0":{"value":"0","withShift":")","withAltGr":"","withShiftAltGr":""},"Minus":{"value":"-","withShift":"_","withAltGr":"","withShiftAltGr":""},"Equal":{"value":"=","withShift":"+","withAltGr":"","withShiftAltGr":""},"BracketLeft":{"value":"[","withShift":"{","withAltGr":"","withShiftAltGr":""},"BracketRight":{"value":"]","withShift":"}","withAltGr":"","withShiftAltGr":""},"Backslash":{"value":"\\\\","withShift":"|","withAltGr":"","withShiftAltGr":""},"Semicolon":{"value":";","withShift":":","withAltGr":"","withShiftAltGr":""},"Quote":{"value":"\'","withShift":"\\"","withAltGr":"","withShiftAltGr":""},"Backquote":{"value":"`","withShift":"~","withAltGr":"`","withShiftAltGr":""},"Comma":{"value":",","withShift":"<","withAltGr":"","withShiftAltGr":""},"Period":{"value":".","withShift":">","withAltGr":"","withShiftAltGr":""},"Slash":{"value":"/","withShift":"?","withAltGr":"","withShiftAltGr":""},"IntlBackslash":{"value":"","withShift":""}}}');

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/en-British-pc.json":
/*!******************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/en-British-pc.json ***!
  \******************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"info":{"name":"00000809","id":"","text":"United Kingdom"},"mapping":{"KeyA":{"vkey":"VK_A","value":"a","withShift":"A","withAltGr":"","withShiftAltGr":""},"KeyB":{"vkey":"VK_B","value":"b","withShift":"B"},"KeyC":{"vkey":"VK_C","value":"c","withShift":"C"},"KeyD":{"vkey":"VK_D","value":"d","withShift":"D"},"KeyE":{"vkey":"VK_E","value":"e","withShift":"E","withAltGr":"","withShiftAltGr":""},"KeyF":{"vkey":"VK_F","value":"f","withShift":"F"},"KeyG":{"vkey":"VK_G","value":"g","withShift":"G"},"KeyH":{"vkey":"VK_H","value":"h","withShift":"H"},"KeyI":{"vkey":"VK_I","value":"i","withShift":"I","withAltGr":"","withShiftAltGr":""},"KeyJ":{"vkey":"VK_J","value":"j","withShift":"J"},"KeyK":{"vkey":"VK_K","value":"k","withShift":"K"},"KeyL":{"vkey":"VK_L","value":"l","withShift":"L"},"KeyM":{"vkey":"VK_M","value":"m","withShift":"M"},"KeyN":{"vkey":"VK_N","value":"n","withShift":"N"},"KeyO":{"vkey":"VK_O","value":"o","withShift":"O","withAltGr":"","withShiftAltGr":""},"KeyP":{"vkey":"VK_P","value":"p","withShift":"P"},"KeyQ":{"vkey":"VK_Q","value":"q","withShift":"Q"},"KeyR":{"vkey":"VK_R","value":"r","withShift":"R"},"KeyS":{"vkey":"VK_S","value":"s","withShift":"S"},"KeyT":{"vkey":"VK_T","value":"t","withShift":"T"},"KeyU":{"vkey":"VK_U","value":"u","withShift":"U","withAltGr":"","withShiftAltGr":""},"KeyV":{"vkey":"VK_V","value":"v","withShift":"V"},"KeyW":{"vkey":"VK_W","value":"w","withShift":"W"},"KeyX":{"vkey":"VK_X","value":"x","withShift":"X"},"KeyY":{"vkey":"VK_Y","value":"y","withShift":"Y"},"KeyZ":{"vkey":"VK_Z","value":"z","withShift":"Z"},"Digit1":{"vkey":"VK_1","value":"1","withShift":"!"},"Digit2":{"vkey":"VK_2","value":"2","withShift":"\\""},"Digit3":{"vkey":"VK_3","value":"3","withShift":""},"Digit4":{"vkey":"VK_4","value":"4","withShift":"$","withAltGr":""},"Digit5":{"vkey":"VK_5","value":"5","withShift":"%"},"Digit6":{"vkey":"VK_6","value":"6","withShift":"^"},"Digit7":{"vkey":"VK_7","value":"7","withShift":"&"},"Digit8":{"vkey":"VK_8","value":"8","withShift":"*"},"Digit9":{"vkey":"VK_9","value":"9","withShift":"("},"Digit0":{"vkey":"VK_0","value":"0","withShift":")"},"Minus":{"vkey":"VK_OEM_MINUS","value":"-","withShift":"_"},"Equal":{"vkey":"VK_OEM_PLUS","value":"=","withShift":"+"},"BracketLeft":{"vkey":"VK_OEM_4","value":"[","withShift":"{"},"BracketRight":{"vkey":"VK_OEM_6","value":"]","withShift":"}"},"Backslash":{"vkey":"VK_OEM_7","value":"#","withShift":"~","withAltGr":"\\\\","withShiftAltGr":"|"},"Semicolon":{"vkey":"VK_OEM_1","value":";","withShift":":"},"Quote":{"vkey":"VK_OEM_3","value":"\'","withShift":"@"},"Backquote":{"vkey":"VK_OEM_8","value":"`","withShift":"","withAltGr":""},"Comma":{"vkey":"VK_OEM_COMMA","value":",","withShift":"<"},"Period":{"vkey":"VK_OEM_PERIOD","value":".","withShift":">"},"Slash":{"vkey":"VK_OEM_2","value":"/","withShift":"?"},"IntlBackslash":{"vkey":"VK_OEM_5","value":"\\\\","withShift":"|"},"IntlRo":{"vkey":"VK_ABNT_C1"},"IntlYen":{"vkey":"VK_UNKNOWN"}}}');

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/en-Colemak-mac.json":
/*!*******************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/en-Colemak-mac.json ***!
  \*******************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"info":{"id":"com.apple.keylayout.Colemak","lang":"en"},"mapping":{"KeyA":{"value":"a","withShift":"A","withAltGr":"","withShiftAltGr":""},"KeyB":{"value":"b","withShift":"B","withAltGr":"","withShiftAltGr":""},"KeyC":{"value":"c","withShift":"C","withAltGr":"","withShiftAltGr":""},"KeyD":{"value":"s","withShift":"S","withAltGr":"","withShiftAltGr":""},"KeyE":{"value":"f","withShift":"F","withAltGr":"","withShiftAltGr":""},"KeyF":{"value":"t","withShift":"T","withAltGr":"","withShiftAltGr":""},"KeyG":{"value":"d","withShift":"D","withAltGr":"","withShiftAltGr":""},"KeyH":{"value":"h","withShift":"H","withAltGr":"","withShiftAltGr":""},"KeyI":{"value":"u","withShift":"U","withAltGr":"","withShiftAltGr":""},"KeyJ":{"value":"n","withShift":"N","withAltGr":"","withShiftAltGr":""},"KeyK":{"value":"e","withShift":"E","withAltGr":"","withShiftAltGr":""},"KeyL":{"value":"i","withShift":"I","withAltGr":"","withShiftAltGr":""},"KeyM":{"value":"m","withShift":"M","withAltGr":"","withShiftAltGr":""},"KeyN":{"value":"k","withShift":"K","withAltGr":"","withShiftAltGr":""},"KeyO":{"value":"y","withShift":"Y","withAltGr":"","withShiftAltGr":""},"KeyP":{"value":";","withShift":":","withAltGr":"","withShiftAltGr":""},"KeyQ":{"value":"q","withShift":"Q","withAltGr":"","withShiftAltGr":""},"KeyR":{"value":"p","withShift":"P","withAltGr":"","withShiftAltGr":""},"KeyS":{"value":"r","withShift":"R","withAltGr":"","withShiftAltGr":""},"KeyT":{"value":"g","withShift":"G","withAltGr":"","withShiftAltGr":""},"KeyU":{"value":"l","withShift":"L","withAltGr":"","withShiftAltGr":""},"KeyV":{"value":"v","withShift":"V","withAltGr":"","withShiftAltGr":""},"KeyW":{"value":"w","withShift":"W","withAltGr":"","withShiftAltGr":""},"KeyX":{"value":"x","withShift":"X","withAltGr":"","withShiftAltGr":""},"KeyY":{"value":"j","withShift":"J","withAltGr":"","withShiftAltGr":""},"KeyZ":{"value":"z","withShift":"Z","withAltGr":"","withShiftAltGr":""},"Digit1":{"value":"1","withShift":"!","withAltGr":"","withShiftAltGr":""},"Digit2":{"value":"2","withShift":"@","withAltGr":"","withShiftAltGr":""},"Digit3":{"value":"3","withShift":"#","withAltGr":"","withShiftAltGr":""},"Digit4":{"value":"4","withShift":"$","withAltGr":"","withShiftAltGr":""},"Digit5":{"value":"5","withShift":"%","withAltGr":"","withShiftAltGr":""},"Digit6":{"value":"6","withShift":"^","withAltGr":"","withShiftAltGr":""},"Digit7":{"value":"7","withShift":"&","withAltGr":"","withShiftAltGr":""},"Digit8":{"value":"8","withShift":"*","withAltGr":"","withShiftAltGr":""},"Digit9":{"value":"9","withShift":"(","withAltGr":"","withShiftAltGr":""},"Digit0":{"value":"0","withShift":")","withAltGr":"","withShiftAltGr":""},"Minus":{"value":"-","withShift":"_","withAltGr":"","withShiftAltGr":""},"Equal":{"value":"=","withShift":"+","withAltGr":"","withShiftAltGr":""},"BracketLeft":{"value":"[","withShift":"{","withAltGr":"","withShiftAltGr":""},"BracketRight":{"value":"]","withShift":"}","withAltGr":"","withShiftAltGr":""},"Backslash":{"value":"\\\\","withShift":"|","withAltGr":"","withShiftAltGr":""},"Semicolon":{"value":"o","withShift":"O","withAltGr":"","withShiftAltGr":""},"Quote":{"value":"\'","withShift":"\\"","withAltGr":"","withShiftAltGr":""},"Backquote":{"value":"`","withShift":"~","withAltGr":"`","withShiftAltGr":"`"},"Comma":{"value":",","withShift":"<","withAltGr":"","withShiftAltGr":""},"Period":{"value":".","withShift":">","withAltGr":"","withShiftAltGr":""},"Slash":{"value":"/","withShift":"?","withAltGr":"","withShiftAltGr":""},"IntlBackslash":{"value":"","withShift":"","withAltGr":"","withShiftAltGr":""}}}');

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/en-Dvorak-mac.json":
/*!******************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/en-Dvorak-mac.json ***!
  \******************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"info":{"id":"com.apple.keylayout.Dvorak","lang":"en"},"mapping":{"KeyA":{"value":"a","withShift":"A","withAltGr":"","withShiftAltGr":""},"KeyB":{"value":"x","withShift":"X","withAltGr":"","withShiftAltGr":""},"KeyC":{"value":"j","withShift":"J","withAltGr":"","withShiftAltGr":""},"KeyD":{"value":"e","withShift":"E","withAltGr":"","withShiftAltGr":""},"KeyE":{"value":".","withShift":">","withAltGr":"","withShiftAltGr":""},"KeyF":{"value":"u","withShift":"U","withAltGr":"","withShiftAltGr":""},"KeyG":{"value":"i","withShift":"I","withAltGr":"","withShiftAltGr":""},"KeyH":{"value":"d","withShift":"D","withAltGr":"","withShiftAltGr":""},"KeyI":{"value":"c","withShift":"C","withAltGr":"","withShiftAltGr":""},"KeyJ":{"value":"h","withShift":"H","withAltGr":"","withShiftAltGr":""},"KeyK":{"value":"t","withShift":"T","withAltGr":"","withShiftAltGr":""},"KeyL":{"value":"n","withShift":"N","withAltGr":"","withShiftAltGr":""},"KeyM":{"value":"m","withShift":"M","withAltGr":"","withShiftAltGr":""},"KeyN":{"value":"b","withShift":"B","withAltGr":"","withShiftAltGr":""},"KeyO":{"value":"r","withShift":"R","withAltGr":"","withShiftAltGr":""},"KeyP":{"value":"l","withShift":"L","withAltGr":"","withShiftAltGr":""},"KeyQ":{"value":"\'","withShift":"\\"","withAltGr":"","withShiftAltGr":""},"KeyR":{"value":"p","withShift":"P","withAltGr":"","withShiftAltGr":""},"KeyS":{"value":"o","withShift":"O","withAltGr":"","withShiftAltGr":""},"KeyT":{"value":"y","withShift":"Y","withAltGr":"","withShiftAltGr":""},"KeyU":{"value":"g","withShift":"G","withAltGr":"","withShiftAltGr":""},"KeyV":{"value":"k","withShift":"K","withAltGr":"","withShiftAltGr":""},"KeyW":{"value":",","withShift":"<","withAltGr":"","withShiftAltGr":""},"KeyX":{"value":"q","withShift":"Q","withAltGr":"","withShiftAltGr":""},"KeyY":{"value":"f","withShift":"F","withAltGr":"","withShiftAltGr":""},"KeyZ":{"value":";","withShift":":","withAltGr":"","withShiftAltGr":""},"Digit1":{"value":"1","withShift":"!","withAltGr":"","withShiftAltGr":""},"Digit2":{"value":"2","withShift":"@","withAltGr":"","withShiftAltGr":""},"Digit3":{"value":"3","withShift":"#","withAltGr":"","withShiftAltGr":""},"Digit4":{"value":"4","withShift":"$","withAltGr":"","withShiftAltGr":""},"Digit5":{"value":"5","withShift":"%","withAltGr":"","withShiftAltGr":""},"Digit6":{"value":"6","withShift":"^","withAltGr":"","withShiftAltGr":""},"Digit7":{"value":"7","withShift":"&","withAltGr":"","withShiftAltGr":""},"Digit8":{"value":"8","withShift":"*","withAltGr":"","withShiftAltGr":""},"Digit9":{"value":"9","withShift":"(","withAltGr":"","withShiftAltGr":""},"Digit0":{"value":"0","withShift":")","withAltGr":"","withShiftAltGr":""},"Minus":{"value":"[","withShift":"{","withAltGr":"","withShiftAltGr":""},"Equal":{"value":"]","withShift":"}","withAltGr":"","withShiftAltGr":""},"BracketLeft":{"value":"/","withShift":"?","withAltGr":"","withShiftAltGr":""},"BracketRight":{"value":"=","withShift":"+","withAltGr":"","withShiftAltGr":""},"Backslash":{"value":"\\\\","withShift":"|","withAltGr":"","withShiftAltGr":""},"Semicolon":{"value":"s","withShift":"S","withAltGr":"","withShiftAltGr":""},"Quote":{"value":"-","withShift":"_","withAltGr":"","withShiftAltGr":""},"Backquote":{"value":"`","withShift":"~","withAltGr":"`","withShiftAltGr":"`"},"Comma":{"value":"w","withShift":"W","withAltGr":"","withShiftAltGr":""},"Period":{"value":"v","withShift":"V","withAltGr":"","withShiftAltGr":""},"Slash":{"value":"z","withShift":"Z","withAltGr":"","withShiftAltGr":""},"IntlBackslash":{"value":"","withShift":"","withAltGr":"","withShiftAltGr":""}}}');

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/en-Dvorak-pc.json":
/*!*****************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/en-Dvorak-pc.json ***!
  \*****************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"info":{"name":"00010409","id":"0002","text":"United States-Dvorak"},"mapping":{"KeyA":{"vkey":"VK_A","value":"a","withShift":"A"},"KeyB":{"vkey":"VK_X","value":"x","withShift":"X"},"KeyC":{"vkey":"VK_J","value":"j","withShift":"J"},"KeyD":{"vkey":"VK_E","value":"e","withShift":"E"},"KeyE":{"vkey":"VK_OEM_PERIOD","value":".","withShift":">"},"KeyF":{"vkey":"VK_U","value":"u","withShift":"U"},"KeyG":{"vkey":"VK_I","value":"i","withShift":"I"},"KeyH":{"vkey":"VK_D","value":"d","withShift":"D"},"KeyI":{"vkey":"VK_C","value":"c","withShift":"C"},"KeyJ":{"vkey":"VK_H","value":"h","withShift":"H"},"KeyK":{"vkey":"VK_T","value":"t","withShift":"T"},"KeyL":{"vkey":"VK_N","value":"n","withShift":"N"},"KeyM":{"vkey":"VK_M","value":"m","withShift":"M"},"KeyN":{"vkey":"VK_B","value":"b","withShift":"B"},"KeyO":{"vkey":"VK_R","value":"r","withShift":"R"},"KeyP":{"vkey":"VK_L","value":"l","withShift":"L"},"KeyQ":{"vkey":"VK_OEM_7","value":"\'","withShift":"\\""},"KeyR":{"vkey":"VK_P","value":"p","withShift":"P"},"KeyS":{"vkey":"VK_O","value":"o","withShift":"O"},"KeyT":{"vkey":"VK_Y","value":"y","withShift":"Y"},"KeyU":{"vkey":"VK_G","value":"g","withShift":"G"},"KeyV":{"vkey":"VK_K","value":"k","withShift":"K"},"KeyW":{"vkey":"VK_OEM_COMMA","value":",","withShift":"<"},"KeyX":{"vkey":"VK_Q","value":"q","withShift":"Q"},"KeyY":{"vkey":"VK_F","value":"f","withShift":"F"},"KeyZ":{"vkey":"VK_OEM_1","value":";","withShift":":"},"Digit1":{"vkey":"VK_1","value":"1","withShift":"!"},"Digit2":{"vkey":"VK_2","value":"2","withShift":"@"},"Digit3":{"vkey":"VK_3","value":"3","withShift":"#"},"Digit4":{"vkey":"VK_4","value":"4","withShift":"$"},"Digit5":{"vkey":"VK_5","value":"5","withShift":"%"},"Digit6":{"vkey":"VK_6","value":"6","withShift":"^"},"Digit7":{"vkey":"VK_7","value":"7","withShift":"&"},"Digit8":{"vkey":"VK_8","value":"8","withShift":"*"},"Digit9":{"vkey":"VK_9","value":"9","withShift":"("},"Digit0":{"vkey":"VK_0","value":"0","withShift":")"},"Minus":{"vkey":"VK_OEM_4","value":"[","withShift":"{"},"Equal":{"vkey":"VK_OEM_6","value":"]","withShift":"}"},"BracketLeft":{"vkey":"VK_OEM_2","value":"/","withShift":"?"},"BracketRight":{"vkey":"VK_OEM_PLUS","value":"=","withShift":"+"},"Backslash":{"vkey":"VK_OEM_5","value":"\\\\","withShift":"|"},"Semicolon":{"vkey":"VK_S","value":"s","withShift":"S"},"Quote":{"vkey":"VK_OEM_MINUS","value":"-","withShift":"_"},"Backquote":{"vkey":"VK_OEM_3","value":"`","withShift":"~"},"Comma":{"vkey":"VK_W","value":"w","withShift":"W"},"Period":{"vkey":"VK_V","value":"v","withShift":"V"},"Slash":{"vkey":"VK_Z","value":"z","withShift":"Z"},"IntlBackslash":{"vkey":"VK_OEM_102","value":"\\\\","withShift":"|"},"IntlRo":{"vkey":"VK_ABNT_C1"},"IntlYen":{"vkey":"VK_UNKNOWN"}}}');

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/en-Dvorak_Lefthanded-mac.json":
/*!*****************************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/en-Dvorak_Lefthanded-mac.json ***!
  \*****************************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"info":{"id":"com.apple.keylayout.Dvorak-Left","lang":"en"},"mapping":{"KeyA":{"value":"-","withShift":"_","withAltGr":"","withShiftAltGr":""},"KeyB":{"value":"w","withShift":"W","withAltGr":"","withShiftAltGr":""},"KeyC":{"value":"g","withShift":"G","withAltGr":"","withShiftAltGr":""},"KeyD":{"value":"c","withShift":"C","withAltGr":"","withShiftAltGr":""},"KeyE":{"value":"b","withShift":"B","withAltGr":"","withShiftAltGr":""},"KeyF":{"value":"d","withShift":"D","withAltGr":"","withShiftAltGr":""},"KeyG":{"value":"t","withShift":"T","withAltGr":"","withShiftAltGr":""},"KeyH":{"value":"h","withShift":"H","withAltGr":"","withShiftAltGr":""},"KeyI":{"value":"o","withShift":"O","withAltGr":"","withShiftAltGr":""},"KeyJ":{"value":"e","withShift":"E","withAltGr":"","withShiftAltGr":""},"KeyK":{"value":"a","withShift":"A","withAltGr":"","withShiftAltGr":""},"KeyL":{"value":"z","withShift":"Z","withAltGr":"","withShiftAltGr":""},"KeyM":{"value":"i","withShift":"I","withAltGr":"","withShiftAltGr":""},"KeyN":{"value":"n","withShift":"N","withAltGr":"","withShiftAltGr":""},"KeyO":{"value":".","withShift":">","withAltGr":"","withShiftAltGr":""},"KeyP":{"value":"6","withShift":"^","withAltGr":"","withShiftAltGr":""},"KeyQ":{"value":";","withShift":":","withAltGr":"","withShiftAltGr":""},"KeyR":{"value":"y","withShift":"Y","withAltGr":"","withShiftAltGr":""},"KeyS":{"value":"k","withShift":"K","withAltGr":"","withShiftAltGr":""},"KeyT":{"value":"u","withShift":"U","withAltGr":"","withShiftAltGr":""},"KeyU":{"value":"s","withShift":"S","withAltGr":"","withShiftAltGr":""},"KeyV":{"value":"v","withShift":"V","withAltGr":"","withShiftAltGr":""},"KeyW":{"value":"q","withShift":"Q","withAltGr":"","withShiftAltGr":""},"KeyX":{"value":"x","withShift":"X","withAltGr":"","withShiftAltGr":""},"KeyY":{"value":"r","withShift":"R","withAltGr":"","withShiftAltGr":""},"KeyZ":{"value":"\'","withShift":"\\"","withAltGr":"","withShiftAltGr":""},"Digit1":{"value":"[","withShift":"{","withAltGr":"","withShiftAltGr":""},"Digit2":{"value":"]","withShift":"}","withAltGr":"","withShiftAltGr":""},"Digit3":{"value":"/","withShift":"?","withAltGr":"","withShiftAltGr":""},"Digit4":{"value":"p","withShift":"P","withAltGr":"","withShiftAltGr":""},"Digit5":{"value":"f","withShift":"F","withAltGr":"","withShiftAltGr":""},"Digit6":{"value":"m","withShift":"M","withAltGr":"","withShiftAltGr":""},"Digit7":{"value":"l","withShift":"L","withAltGr":"","withShiftAltGr":""},"Digit8":{"value":"j","withShift":"J","withAltGr":"","withShiftAltGr":""},"Digit9":{"value":"4","withShift":"$","withAltGr":"","withShiftAltGr":""},"Digit0":{"value":"3","withShift":"#","withAltGr":"","withShiftAltGr":""},"Minus":{"value":"2","withShift":"@","withAltGr":"","withShiftAltGr":""},"Equal":{"value":"1","withShift":"!","withAltGr":"","withShiftAltGr":""},"BracketLeft":{"value":"5","withShift":"%","withAltGr":"","withShiftAltGr":""},"BracketRight":{"value":"=","withShift":"+","withAltGr":"","withShiftAltGr":""},"Backslash":{"value":"\\\\","withShift":"|","withAltGr":"","withShiftAltGr":""},"Semicolon":{"value":"8","withShift":"*","withAltGr":"","withShiftAltGr":""},"Quote":{"value":"7","withShift":"&","withAltGr":"","withShiftAltGr":""},"Backquote":{"value":"`","withShift":"~","withAltGr":"`","withShiftAltGr":"`"},"Comma":{"value":",","withShift":"<","withAltGr":"","withShiftAltGr":""},"Period":{"value":"0","withShift":")","withAltGr":"","withShiftAltGr":""},"Slash":{"value":"9","withShift":"(","withAltGr":"","withShiftAltGr":""},"IntlBackslash":{"value":"","withShift":"","withAltGr":"","withShiftAltGr":""}}}');

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/en-Dvorak_Lefthanded-pc.json":
/*!****************************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/en-Dvorak_Lefthanded-pc.json ***!
  \****************************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"info":{"name":"00030409","id":"001A","text":"United States-Dvorak for left hand"},"mapping":{"KeyA":{"vkey":"VK_OEM_MINUS","value":"-","withShift":"_"},"KeyB":{"vkey":"VK_W","value":"w","withShift":"W"},"KeyC":{"vkey":"VK_G","value":"g","withShift":"G"},"KeyD":{"vkey":"VK_C","value":"c","withShift":"C"},"KeyE":{"vkey":"VK_B","value":"b","withShift":"B"},"KeyF":{"vkey":"VK_D","value":"d","withShift":"D"},"KeyG":{"vkey":"VK_T","value":"t","withShift":"T"},"KeyH":{"vkey":"VK_H","value":"h","withShift":"H"},"KeyI":{"vkey":"VK_O","value":"o","withShift":"O"},"KeyJ":{"vkey":"VK_E","value":"e","withShift":"E"},"KeyK":{"vkey":"VK_A","value":"a","withShift":"A"},"KeyL":{"vkey":"VK_Z","value":"z","withShift":"Z"},"KeyM":{"vkey":"VK_I","value":"i","withShift":"I"},"KeyN":{"vkey":"VK_N","value":"n","withShift":"N"},"KeyO":{"vkey":"VK_OEM_PERIOD","value":".","withShift":">"},"KeyP":{"vkey":"VK_6","value":"6","withShift":"^"},"KeyQ":{"vkey":"VK_OEM_1","value":";","withShift":":"},"KeyR":{"vkey":"VK_Y","value":"y","withShift":"Y"},"KeyS":{"vkey":"VK_K","value":"k","withShift":"K"},"KeyT":{"vkey":"VK_U","value":"u","withShift":"U"},"KeyU":{"vkey":"VK_S","value":"s","withShift":"S"},"KeyV":{"vkey":"VK_V","value":"v","withShift":"V"},"KeyW":{"vkey":"VK_Q","value":"q","withShift":"Q"},"KeyX":{"vkey":"VK_X","value":"x","withShift":"X"},"KeyY":{"vkey":"VK_R","value":"r","withShift":"R"},"KeyZ":{"vkey":"VK_OEM_7","value":"\'","withShift":"\\""},"Digit1":{"vkey":"VK_OEM_4","value":"[","withShift":"{"},"Digit2":{"vkey":"VK_OEM_6","value":"]","withShift":"}"},"Digit3":{"vkey":"VK_OEM_2","value":"/","withShift":"?"},"Digit4":{"vkey":"VK_P","value":"p","withShift":"P"},"Digit5":{"vkey":"VK_F","value":"f","withShift":"F"},"Digit6":{"vkey":"VK_M","value":"m","withShift":"M"},"Digit7":{"vkey":"VK_L","value":"l","withShift":"L"},"Digit8":{"vkey":"VK_J","value":"j","withShift":"J"},"Digit9":{"vkey":"VK_4","value":"4","withShift":"$"},"Digit0":{"vkey":"VK_3","value":"3","withShift":"#"},"Minus":{"vkey":"VK_2","value":"2","withShift":"@"},"Equal":{"vkey":"VK_1","value":"1","withShift":"!"},"BracketLeft":{"vkey":"VK_5","value":"5","withShift":"%"},"BracketRight":{"vkey":"VK_OEM_PLUS","value":"=","withShift":"+"},"Backslash":{"vkey":"VK_OEM_5","value":"\\\\","withShift":"|"},"Semicolon":{"vkey":"VK_8","value":"8","withShift":"*"},"Quote":{"vkey":"VK_7","value":"7","withShift":"&"},"Backquote":{"vkey":"VK_OEM_3","value":"`","withShift":"~"},"Comma":{"vkey":"VK_OEM_COMMA","value":",","withShift":"<"},"Period":{"vkey":"VK_0","value":"0","withShift":")"},"Slash":{"vkey":"VK_9","value":"9","withShift":"("},"IntlBackslash":{"vkey":"VK_OEM_102","value":"\\\\","withShift":"|"},"IntlRo":{"vkey":"VK_ABNT_C1"},"IntlYen":{"vkey":"VK_UNKNOWN"}}}');

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/en-Dvorak_Righthanded-mac.json":
/*!******************************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/en-Dvorak_Righthanded-mac.json ***!
  \******************************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"info":{"id":"com.apple.keylayout.Dvorak-Right","lang":"en"},"mapping":{"KeyA":{"value":"7","withShift":"&","withAltGr":"","withShiftAltGr":""},"KeyB":{"value":"i","withShift":"I","withAltGr":"","withShiftAltGr":""},"KeyC":{"value":"x","withShift":"X","withAltGr":"","withShiftAltGr":""},"KeyD":{"value":"z","withShift":"Z","withAltGr":"","withShiftAltGr":""},"KeyE":{"value":"q","withShift":"Q","withAltGr":"","withShiftAltGr":""},"KeyF":{"value":"a","withShift":"A","withAltGr":"","withShiftAltGr":""},"KeyG":{"value":"e","withShift":"E","withAltGr":"","withShiftAltGr":""},"KeyH":{"value":"h","withShift":"H","withAltGr":"","withShiftAltGr":""},"KeyI":{"value":"u","withShift":"U","withAltGr":"","withShiftAltGr":""},"KeyJ":{"value":"t","withShift":"T","withAltGr":"","withShiftAltGr":""},"KeyK":{"value":"d","withShift":"D","withAltGr":"","withShiftAltGr":""},"KeyL":{"value":"c","withShift":"C","withAltGr":"","withShiftAltGr":""},"KeyM":{"value":"w","withShift":"W","withAltGr":"","withShiftAltGr":""},"KeyN":{"value":"n","withShift":"N","withAltGr":"","withShiftAltGr":""},"KeyO":{"value":"y","withShift":"Y","withAltGr":"","withShiftAltGr":""},"KeyP":{"value":"b","withShift":"B","withAltGr":"","withShiftAltGr":""},"KeyQ":{"value":"5","withShift":"%","withAltGr":"","withShiftAltGr":""},"KeyR":{"value":".","withShift":">","withAltGr":"","withShiftAltGr":""},"KeyS":{"value":"8","withShift":"*","withAltGr":"","withShiftAltGr":""},"KeyT":{"value":"o","withShift":"O","withAltGr":"","withShiftAltGr":""},"KeyU":{"value":"s","withShift":"S","withAltGr":"","withShiftAltGr":""},"KeyV":{"value":",","withShift":"<","withAltGr":"","withShiftAltGr":""},"KeyW":{"value":"6","withShift":"^","withAltGr":"","withShiftAltGr":""},"KeyX":{"value":"0","withShift":")","withAltGr":"","withShiftAltGr":""},"KeyY":{"value":"r","withShift":"R","withAltGr":"","withShiftAltGr":""},"KeyZ":{"value":"9","withShift":"(","withAltGr":"","withShiftAltGr":""},"Digit1":{"value":"1","withShift":"!","withAltGr":"","withShiftAltGr":""},"Digit2":{"value":"2","withShift":"@","withAltGr":"","withShiftAltGr":""},"Digit3":{"value":"3","withShift":"#","withAltGr":"","withShiftAltGr":""},"Digit4":{"value":"4","withShift":"$","withAltGr":"","withShiftAltGr":""},"Digit5":{"value":"j","withShift":"J","withAltGr":"","withShiftAltGr":""},"Digit6":{"value":"l","withShift":"L","withAltGr":"","withShiftAltGr":""},"Digit7":{"value":"m","withShift":"M","withAltGr":"","withShiftAltGr":""},"Digit8":{"value":"f","withShift":"F","withAltGr":"","withShiftAltGr":""},"Digit9":{"value":"p","withShift":"P","withAltGr":"","withShiftAltGr":""},"Digit0":{"value":"/","withShift":"?","withAltGr":"","withShiftAltGr":""},"Minus":{"value":"[","withShift":"{","withAltGr":"","withShiftAltGr":""},"Equal":{"value":"]","withShift":"}","withAltGr":"","withShiftAltGr":""},"BracketLeft":{"value":";","withShift":":","withAltGr":"","withShiftAltGr":""},"BracketRight":{"value":"=","withShift":"+","withAltGr":"","withShiftAltGr":""},"Backslash":{"value":"\\\\","withShift":"|","withAltGr":"","withShiftAltGr":""},"Semicolon":{"value":"k","withShift":"K","withAltGr":"","withShiftAltGr":""},"Quote":{"value":"-","withShift":"_","withAltGr":"","withShiftAltGr":""},"Backquote":{"value":"`","withShift":"~","withAltGr":"`","withShiftAltGr":"`"},"Comma":{"value":"v","withShift":"V","withAltGr":"","withShiftAltGr":""},"Period":{"value":"g","withShift":"G","withAltGr":"","withShiftAltGr":""},"Slash":{"value":"\'","withShift":"\\"","withAltGr":"","withShiftAltGr":""},"IntlBackslash":{"value":"","withShift":"","withAltGr":"","withShiftAltGr":""}}}');

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/en-Dvorak_Righthanded-pc.json":
/*!*****************************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/en-Dvorak_Righthanded-pc.json ***!
  \*****************************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"info":{"name":"00040409","id":"001B","text":"United States-Dvorak for right hand"},"mapping":{"KeyA":{"vkey":"VK_7","value":"7","withShift":"&"},"KeyB":{"vkey":"VK_I","value":"i","withShift":"I"},"KeyC":{"vkey":"VK_X","value":"x","withShift":"X"},"KeyD":{"vkey":"VK_Z","value":"z","withShift":"Z"},"KeyE":{"vkey":"VK_Q","value":"q","withShift":"Q"},"KeyF":{"vkey":"VK_A","value":"a","withShift":"A"},"KeyG":{"vkey":"VK_E","value":"e","withShift":"E"},"KeyH":{"vkey":"VK_H","value":"h","withShift":"H"},"KeyI":{"vkey":"VK_U","value":"u","withShift":"U"},"KeyJ":{"vkey":"VK_T","value":"t","withShift":"T"},"KeyK":{"vkey":"VK_D","value":"d","withShift":"D"},"KeyL":{"vkey":"VK_C","value":"c","withShift":"C"},"KeyM":{"vkey":"VK_W","value":"w","withShift":"W"},"KeyN":{"vkey":"VK_N","value":"n","withShift":"N"},"KeyO":{"vkey":"VK_Y","value":"y","withShift":"Y"},"KeyP":{"vkey":"VK_B","value":"b","withShift":"B"},"KeyQ":{"vkey":"VK_5","value":"5","withShift":"%"},"KeyR":{"vkey":"VK_OEM_PERIOD","value":".","withShift":">"},"KeyS":{"vkey":"VK_8","value":"8","withShift":"*"},"KeyT":{"vkey":"VK_O","value":"o","withShift":"O"},"KeyU":{"vkey":"VK_S","value":"s","withShift":"S"},"KeyV":{"vkey":"VK_OEM_COMMA","value":",","withShift":"<"},"KeyW":{"vkey":"VK_6","value":"6","withShift":"^"},"KeyX":{"vkey":"VK_0","value":"0","withShift":")"},"KeyY":{"vkey":"VK_R","value":"r","withShift":"R"},"KeyZ":{"vkey":"VK_9","value":"9","withShift":"("},"Digit1":{"vkey":"VK_1","value":"1","withShift":"!"},"Digit2":{"vkey":"VK_2","value":"2","withShift":"@"},"Digit3":{"vkey":"VK_3","value":"3","withShift":"#"},"Digit4":{"vkey":"VK_4","value":"4","withShift":"$"},"Digit5":{"vkey":"VK_J","value":"j","withShift":"J"},"Digit6":{"vkey":"VK_L","value":"l","withShift":"L"},"Digit7":{"vkey":"VK_M","value":"m","withShift":"M"},"Digit8":{"vkey":"VK_F","value":"f","withShift":"F"},"Digit9":{"vkey":"VK_P","value":"p","withShift":"P"},"Digit0":{"vkey":"VK_OEM_2","value":"/","withShift":"?"},"Minus":{"vkey":"VK_OEM_4","value":"[","withShift":"{"},"Equal":{"vkey":"VK_OEM_6","value":"]","withShift":"}"},"BracketLeft":{"vkey":"VK_OEM_1","value":";","withShift":":"},"BracketRight":{"vkey":"VK_OEM_PLUS","value":"=","withShift":"+"},"Backslash":{"vkey":"VK_OEM_5","value":"\\\\","withShift":"|"},"Semicolon":{"vkey":"VK_K","value":"k","withShift":"K"},"Quote":{"vkey":"VK_OEM_MINUS","value":"-","withShift":"_"},"Backquote":{"vkey":"VK_OEM_3","value":"`","withShift":"~"},"Comma":{"vkey":"VK_V","value":"v","withShift":"V"},"Period":{"vkey":"VK_G","value":"g","withShift":"G"},"Slash":{"vkey":"VK_OEM_7","value":"\'","withShift":"\\""},"IntlBackslash":{"vkey":"VK_OEM_102","value":"\\\\","withShift":"|"},"IntlRo":{"vkey":"VK_ABNT_C1"},"IntlYen":{"vkey":"VK_UNKNOWN"}}}');

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/en-US-mac.json":
/*!**************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/en-US-mac.json ***!
  \**************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"info":{"id":"com.apple.keylayout.US","lang":"en"},"mapping":{"KeyA":{"value":"a","withShift":"A","withAltGr":"","withShiftAltGr":""},"KeyB":{"value":"b","withShift":"B","withAltGr":"","withShiftAltGr":""},"KeyC":{"value":"c","withShift":"C","withAltGr":"","withShiftAltGr":""},"KeyD":{"value":"d","withShift":"D","withAltGr":"","withShiftAltGr":""},"KeyE":{"value":"e","withShift":"E","withAltGr":"","withShiftAltGr":""},"KeyF":{"value":"f","withShift":"F","withAltGr":"","withShiftAltGr":""},"KeyG":{"value":"g","withShift":"G","withAltGr":"","withShiftAltGr":""},"KeyH":{"value":"h","withShift":"H","withAltGr":"","withShiftAltGr":""},"KeyI":{"value":"i","withShift":"I","withAltGr":"","withShiftAltGr":""},"KeyJ":{"value":"j","withShift":"J","withAltGr":"","withShiftAltGr":""},"KeyK":{"value":"k","withShift":"K","withAltGr":"","withShiftAltGr":""},"KeyL":{"value":"l","withShift":"L","withAltGr":"","withShiftAltGr":""},"KeyM":{"value":"m","withShift":"M","withAltGr":"","withShiftAltGr":""},"KeyN":{"value":"n","withShift":"N","withAltGr":"","withShiftAltGr":""},"KeyO":{"value":"o","withShift":"O","withAltGr":"","withShiftAltGr":""},"KeyP":{"value":"p","withShift":"P","withAltGr":"","withShiftAltGr":""},"KeyQ":{"value":"q","withShift":"Q","withAltGr":"","withShiftAltGr":""},"KeyR":{"value":"r","withShift":"R","withAltGr":"","withShiftAltGr":""},"KeyS":{"value":"s","withShift":"S","withAltGr":"","withShiftAltGr":""},"KeyT":{"value":"t","withShift":"T","withAltGr":"","withShiftAltGr":""},"KeyU":{"value":"u","withShift":"U","withAltGr":"","withShiftAltGr":""},"KeyV":{"value":"v","withShift":"V","withAltGr":"","withShiftAltGr":""},"KeyW":{"value":"w","withShift":"W","withAltGr":"","withShiftAltGr":""},"KeyX":{"value":"x","withShift":"X","withAltGr":"","withShiftAltGr":""},"KeyY":{"value":"y","withShift":"Y","withAltGr":"","withShiftAltGr":""},"KeyZ":{"value":"z","withShift":"Z","withAltGr":"","withShiftAltGr":""},"Digit1":{"value":"1","withShift":"!","withAltGr":"","withShiftAltGr":""},"Digit2":{"value":"2","withShift":"@","withAltGr":"","withShiftAltGr":""},"Digit3":{"value":"3","withShift":"#","withAltGr":"","withShiftAltGr":""},"Digit4":{"value":"4","withShift":"$","withAltGr":"","withShiftAltGr":""},"Digit5":{"value":"5","withShift":"%","withAltGr":"","withShiftAltGr":""},"Digit6":{"value":"6","withShift":"^","withAltGr":"","withShiftAltGr":""},"Digit7":{"value":"7","withShift":"&","withAltGr":"","withShiftAltGr":""},"Digit8":{"value":"8","withShift":"*","withAltGr":"","withShiftAltGr":""},"Digit9":{"value":"9","withShift":"(","withAltGr":"","withShiftAltGr":""},"Digit0":{"value":"0","withShift":")","withAltGr":"","withShiftAltGr":""},"Minus":{"value":"-","withShift":"_","withAltGr":"","withShiftAltGr":""},"Equal":{"value":"=","withShift":"+","withAltGr":"","withShiftAltGr":""},"BracketLeft":{"value":"[","withShift":"{","withAltGr":"","withShiftAltGr":""},"BracketRight":{"value":"]","withShift":"}","withAltGr":"","withShiftAltGr":""},"Backslash":{"value":"\\\\","withShift":"|","withAltGr":"","withShiftAltGr":""},"Semicolon":{"value":";","withShift":":","withAltGr":"","withShiftAltGr":""},"Quote":{"value":"\'","withShift":"\\"","withAltGr":"","withShiftAltGr":""},"Backquote":{"value":"`","withShift":"~","withAltGr":"`","withShiftAltGr":"`"},"Comma":{"value":",","withShift":"<","withAltGr":"","withShiftAltGr":""},"Period":{"value":".","withShift":">","withAltGr":"","withShiftAltGr":""},"Slash":{"value":"/","withShift":"?","withAltGr":"","withShiftAltGr":""},"IntlBackslash":{"value":"","withShift":"","withAltGr":"","withShiftAltGr":""}}}');

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/en-US-pc.json":
/*!*************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/en-US-pc.json ***!
  \*************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"info":{"name":"00000409","id":"","text":"US"},"mapping":{"KeyA":{"vkey":"VK_A","value":"a","withShift":"A"},"KeyB":{"vkey":"VK_B","value":"b","withShift":"B"},"KeyC":{"vkey":"VK_C","value":"c","withShift":"C"},"KeyD":{"vkey":"VK_D","value":"d","withShift":"D"},"KeyE":{"vkey":"VK_E","value":"e","withShift":"E"},"KeyF":{"vkey":"VK_F","value":"f","withShift":"F"},"KeyG":{"vkey":"VK_G","value":"g","withShift":"G"},"KeyH":{"vkey":"VK_H","value":"h","withShift":"H"},"KeyI":{"vkey":"VK_I","value":"i","withShift":"I"},"KeyJ":{"vkey":"VK_J","value":"j","withShift":"J"},"KeyK":{"vkey":"VK_K","value":"k","withShift":"K"},"KeyL":{"vkey":"VK_L","value":"l","withShift":"L"},"KeyM":{"vkey":"VK_M","value":"m","withShift":"M"},"KeyN":{"vkey":"VK_N","value":"n","withShift":"N"},"KeyO":{"vkey":"VK_O","value":"o","withShift":"O"},"KeyP":{"vkey":"VK_P","value":"p","withShift":"P"},"KeyQ":{"vkey":"VK_Q","value":"q","withShift":"Q"},"KeyR":{"vkey":"VK_R","value":"r","withShift":"R"},"KeyS":{"vkey":"VK_S","value":"s","withShift":"S"},"KeyT":{"vkey":"VK_T","value":"t","withShift":"T"},"KeyU":{"vkey":"VK_U","value":"u","withShift":"U"},"KeyV":{"vkey":"VK_V","value":"v","withShift":"V"},"KeyW":{"vkey":"VK_W","value":"w","withShift":"W"},"KeyX":{"vkey":"VK_X","value":"x","withShift":"X"},"KeyY":{"vkey":"VK_Y","value":"y","withShift":"Y"},"KeyZ":{"vkey":"VK_Z","value":"z","withShift":"Z"},"Digit1":{"vkey":"VK_1","value":"1","withShift":"!"},"Digit2":{"vkey":"VK_2","value":"2","withShift":"@"},"Digit3":{"vkey":"VK_3","value":"3","withShift":"#"},"Digit4":{"vkey":"VK_4","value":"4","withShift":"$"},"Digit5":{"vkey":"VK_5","value":"5","withShift":"%"},"Digit6":{"vkey":"VK_6","value":"6","withShift":"^"},"Digit7":{"vkey":"VK_7","value":"7","withShift":"&"},"Digit8":{"vkey":"VK_8","value":"8","withShift":"*"},"Digit9":{"vkey":"VK_9","value":"9","withShift":"("},"Digit0":{"vkey":"VK_0","value":"0","withShift":")"},"Minus":{"vkey":"VK_OEM_MINUS","value":"-","withShift":"_"},"Equal":{"vkey":"VK_OEM_PLUS","value":"=","withShift":"+"},"BracketLeft":{"vkey":"VK_OEM_4","value":"[","withShift":"{"},"BracketRight":{"vkey":"VK_OEM_6","value":"]","withShift":"}"},"Backslash":{"vkey":"VK_OEM_5","value":"\\\\","withShift":"|"},"Semicolon":{"vkey":"VK_OEM_1","value":";","withShift":":"},"Quote":{"vkey":"VK_OEM_7","value":"\'","withShift":"\\""},"Backquote":{"vkey":"VK_OEM_3","value":"`","withShift":"~"},"Comma":{"vkey":"VK_OEM_COMMA","value":",","withShift":"<"},"Period":{"vkey":"VK_OEM_PERIOD","value":".","withShift":">"},"Slash":{"vkey":"VK_OEM_2","value":"/","withShift":"?"},"IntlBackslash":{"vkey":"VK_OEM_102","value":"\\\\","withShift":"|"},"IntlRo":{"vkey":"VK_ABNT_C1"},"IntlYen":{"vkey":"VK_UNKNOWN"}}}');

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/es-Spanish-mac.json":
/*!*******************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/es-Spanish-mac.json ***!
  \*******************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"info":{"id":"com.apple.keylayout.Spanish","lang":"es"},"mapping":{"KeyA":{"value":"a","withShift":"A","withAltGr":"","withShiftAltGr":""},"KeyB":{"value":"b","withShift":"B","withAltGr":"","withShiftAltGr":"<"},"KeyC":{"value":"c","withShift":"C","withAltGr":"","withShiftAltGr":""},"KeyD":{"value":"d","withShift":"D","withAltGr":"","withShiftAltGr":""},"KeyE":{"value":"e","withShift":"E","withAltGr":"","withShiftAltGr":""},"KeyF":{"value":"f","withShift":"F","withAltGr":"","withShiftAltGr":""},"KeyG":{"value":"g","withShift":"G","withAltGr":"@","withShiftAltGr":""},"KeyH":{"value":"h","withShift":"H","withAltGr":"","withShiftAltGr":""},"KeyI":{"value":"i","withShift":"I","withAltGr":"^","withShiftAltGr":""},"KeyJ":{"value":"j","withShift":"J","withAltGr":"","withShiftAltGr":""},"KeyK":{"value":"k","withShift":"K","withAltGr":"","withShiftAltGr":""},"KeyL":{"value":"l","withShift":"L","withAltGr":"","withShiftAltGr":""},"KeyM":{"value":"m","withShift":"M","withAltGr":"","withShiftAltGr":""},"KeyN":{"value":"n","withShift":"N","withAltGr":">","withShiftAltGr":">"},"KeyO":{"value":"o","withShift":"O","withAltGr":"","withShiftAltGr":""},"KeyP":{"value":"p","withShift":"P","withAltGr":"","withShiftAltGr":""},"KeyQ":{"value":"q","withShift":"Q","withAltGr":"","withShiftAltGr":""},"KeyR":{"value":"r","withShift":"R","withAltGr":"","withShiftAltGr":""},"KeyS":{"value":"s","withShift":"S","withAltGr":"","withShiftAltGr":""},"KeyT":{"value":"t","withShift":"T","withAltGr":"","withShiftAltGr":""},"KeyU":{"value":"u","withShift":"U","withAltGr":"","withShiftAltGr":""},"KeyV":{"value":"v","withShift":"V","withAltGr":"","withShiftAltGr":""},"KeyW":{"value":"w","withShift":"W","withAltGr":"","withShiftAltGr":""},"KeyX":{"value":"x","withShift":"X","withAltGr":"","withShiftAltGr":""},"KeyY":{"value":"y","withShift":"Y","withAltGr":"","withShiftAltGr":""},"KeyZ":{"value":"z","withShift":"Z","withAltGr":"","withShiftAltGr":""},"Digit1":{"value":"1","withShift":"","withAltGr":"","withShiftAltGr":""},"Digit2":{"value":"2","withShift":"!","withAltGr":"","withShiftAltGr":""},"Digit3":{"value":"3","withShift":"#","withAltGr":"","withShiftAltGr":""},"Digit4":{"value":"4","withShift":"$","withAltGr":"","withShiftAltGr":""},"Digit5":{"value":"5","withShift":"%","withAltGr":"","withShiftAltGr":""},"Digit6":{"value":"6","withShift":"/","withAltGr":"\\\\","withShiftAltGr":""},"Digit7":{"value":"7","withShift":"&","withAltGr":"|","withShiftAltGr":""},"Digit8":{"value":"8","withShift":"*","withAltGr":"","withShiftAltGr":""},"Digit9":{"value":"9","withShift":"(","withAltGr":"","withShiftAltGr":""},"Digit0":{"value":"0","withShift":")","withAltGr":"","withShiftAltGr":""},"Minus":{"value":"-","withShift":"_","withAltGr":"","withShiftAltGr":""},"Equal":{"value":"=","withShift":"+","withAltGr":"","withShiftAltGr":""},"BracketLeft":{"value":"","withShift":"","withAltGr":"","withShiftAltGr":""},"BracketRight":{"value":"`","withShift":"","withAltGr":"|","withShiftAltGr":""},"Backslash":{"value":"\'","withShift":"\\"","withAltGr":"]","withShiftAltGr":"}"},"Semicolon":{"value":"","withShift":"","withAltGr":"~","withShiftAltGr":""},"Quote":{"value":";","withShift":":","withAltGr":"","withShiftAltGr":""},"Backquote":{"value":"<","withShift":">","withAltGr":"[","withShiftAltGr":"{"},"Comma":{"value":",","withShift":"","withAltGr":"","withShiftAltGr":""},"Period":{"value":".","withShift":"?","withAltGr":"","withShiftAltGr":""},"Slash":{"value":"","withShift":"","withAltGr":"","withShiftAltGr":""},"IntlBackslash":{"value":"[","withShift":"]","withAltGr":"{","withShiftAltGr":"}"}}}');

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/es-Spanish-pc.json":
/*!******************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/es-Spanish-pc.json ***!
  \******************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"info":{"name":"0000040A","id":"","text":"Spanish"},"mapping":{"KeyA":{"vkey":"VK_A","value":"a","withShift":"A"},"KeyB":{"vkey":"VK_B","value":"b","withShift":"B"},"KeyC":{"vkey":"VK_C","value":"c","withShift":"C"},"KeyD":{"vkey":"VK_D","value":"d","withShift":"D"},"KeyE":{"vkey":"VK_E","value":"e","withShift":"E","withAltGr":""},"KeyF":{"vkey":"VK_F","value":"f","withShift":"F"},"KeyG":{"vkey":"VK_G","value":"g","withShift":"G"},"KeyH":{"vkey":"VK_H","value":"h","withShift":"H"},"KeyI":{"vkey":"VK_I","value":"i","withShift":"I"},"KeyJ":{"vkey":"VK_J","value":"j","withShift":"J"},"KeyK":{"vkey":"VK_K","value":"k","withShift":"K"},"KeyL":{"vkey":"VK_L","value":"l","withShift":"L"},"KeyM":{"vkey":"VK_M","value":"m","withShift":"M"},"KeyN":{"vkey":"VK_N","value":"n","withShift":"N"},"KeyO":{"vkey":"VK_O","value":"o","withShift":"O"},"KeyP":{"vkey":"VK_P","value":"p","withShift":"P"},"KeyQ":{"vkey":"VK_Q","value":"q","withShift":"Q"},"KeyR":{"vkey":"VK_R","value":"r","withShift":"R"},"KeyS":{"vkey":"VK_S","value":"s","withShift":"S"},"KeyT":{"vkey":"VK_T","value":"t","withShift":"T"},"KeyU":{"vkey":"VK_U","value":"u","withShift":"U"},"KeyV":{"vkey":"VK_V","value":"v","withShift":"V"},"KeyW":{"vkey":"VK_W","value":"w","withShift":"W"},"KeyX":{"vkey":"VK_X","value":"x","withShift":"X"},"KeyY":{"vkey":"VK_Y","value":"y","withShift":"Y"},"KeyZ":{"vkey":"VK_Z","value":"z","withShift":"Z"},"Digit1":{"vkey":"VK_1","value":"1","withShift":"!","withAltGr":"|"},"Digit2":{"vkey":"VK_2","value":"2","withShift":"\\"","withAltGr":"@"},"Digit3":{"vkey":"VK_3","value":"3","withShift":"","withAltGr":"#"},"Digit4":{"vkey":"VK_4","value":"4","withShift":"$","withAltGr":"~"},"Digit5":{"vkey":"VK_5","value":"5","withShift":"%","withAltGr":""},"Digit6":{"vkey":"VK_6","value":"6","withShift":"&","withAltGr":""},"Digit7":{"vkey":"VK_7","value":"7","withShift":"/"},"Digit8":{"vkey":"VK_8","value":"8","withShift":"("},"Digit9":{"vkey":"VK_9","value":"9","withShift":")"},"Digit0":{"vkey":"VK_0","value":"0","withShift":"="},"Minus":{"vkey":"VK_OEM_4","value":"\'","withShift":"?"},"Equal":{"vkey":"VK_OEM_6","value":"","withShift":""},"BracketLeft":{"vkey":"VK_OEM_1","value":"`","withShift":"^","withAltGr":"["},"BracketRight":{"vkey":"VK_OEM_PLUS","value":"+","withShift":"*","withAltGr":"]"},"Backslash":{"vkey":"VK_OEM_2","value":"","withShift":"","withAltGr":"}"},"Semicolon":{"vkey":"VK_OEM_3","value":"","withShift":""},"Quote":{"vkey":"VK_OEM_7","value":"","withShift":"","withAltGr":"{"},"Backquote":{"vkey":"VK_OEM_5","value":"","withShift":"","withAltGr":"\\\\"},"Comma":{"vkey":"VK_OEM_COMMA","value":",","withShift":";"},"Period":{"vkey":"VK_OEM_PERIOD","value":".","withShift":":"},"Slash":{"vkey":"VK_OEM_MINUS","value":"-","withShift":"_"},"IntlBackslash":{"vkey":"VK_OEM_102","value":"<","withShift":">"},"IntlRo":{"vkey":"VK_ABNT_C1"},"IntlYen":{"vkey":"VK_UNKNOWN"}}}');

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/fr-Bepo-pc.json":
/*!***************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/fr-Bepo-pc.json ***!
  \***************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"info":{"name":"A000040C","id":"00c0","text":"Franais (bpo)"},"mapping":{"KeyA":{"vkey":"VK_A","value":"a","withShift":"A","withAltGr":"","withShiftAltGr":""},"KeyB":{"vkey":"VK_K","value":"k","withShift":"K","withAltGr":"~","withShiftAltGr":""},"KeyC":{"vkey":"VK_X","value":"x","withShift":"X","withAltGr":"}","withShiftAltGr":""},"KeyD":{"vkey":"VK_I","value":"i","withShift":"I","withAltGr":"","withShiftAltGr":""},"KeyE":{"vkey":"VK_P","value":"p","withShift":"P","withAltGr":"&","withShiftAltGr":""},"KeyF":{"vkey":"VK_E","value":"e","withShift":"E","withAltGr":"","withShiftAltGr":""},"KeyG":{"vkey":"VK_OEM_COMMA","value":",","withShift":";","withAltGr":"","withShiftAltGr":""},"KeyH":{"vkey":"VK_C","value":"c","withShift":"C","withAltGr":"","withShiftAltGr":""},"KeyI":{"vkey":"VK_D","value":"d","withShift":"D","withAltGr":"","withShiftAltGr":""},"KeyJ":{"vkey":"VK_T","value":"t","withShift":"T","withAltGr":"","withShiftAltGr":""},"KeyK":{"vkey":"VK_S","value":"s","withShift":"S","withAltGr":"","withShiftAltGr":""},"KeyL":{"vkey":"VK_R","value":"r","withShift":"R","withAltGr":"","withShiftAltGr":""},"KeyM":{"vkey":"VK_Q","value":"q","withShift":"Q","withAltGr":"","withShiftAltGr":""},"KeyN":{"vkey":"VK_OEM_3","value":"\'","withShift":"?","withAltGr":"","withShiftAltGr":""},"KeyO":{"vkey":"VK_L","value":"l","withShift":"L","withAltGr":"/"},"KeyP":{"vkey":"VK_J","value":"j","withShift":"J","withAltGr":"","withShiftAltGr":""},"KeyQ":{"vkey":"VK_B","value":"b","withShift":"B","withAltGr":"|","withShiftAltGr":""},"KeyR":{"vkey":"VK_O","value":"o","withShift":"O","withAltGr":"","withShiftAltGr":""},"KeyS":{"vkey":"VK_U","value":"u","withShift":"U","withAltGr":"","withShiftAltGr":""},"KeyT":{"vkey":"VK_OEM_2","value":"","withShift":"","withAltGr":"`","withShiftAltGr":"`"},"KeyU":{"vkey":"VK_V","value":"v","withShift":"V","withAltGr":""},"KeyV":{"vkey":"VK_OEM_PERIOD","value":".","withShift":":","withAltGr":"","withShiftAltGr":""},"KeyW":{"vkey":"VK_OEM_1","value":"","withShift":"","withAltGr":"","withShiftAltGr":""},"KeyX":{"vkey":"VK_Y","value":"y","withShift":"Y","withAltGr":"{","withShiftAltGr":""},"KeyY":{"vkey":"VK_OEM_4","value":"^","withShift":"!","withAltGr":""},"KeyZ":{"vkey":"VK_OEM_6","value":"","withShift":"","withAltGr":"\\\\"},"Digit1":{"vkey":"VK_1","value":"\\"","withShift":"1","withAltGr":"","withShiftAltGr":""},"Digit2":{"vkey":"VK_2","value":"","withShift":"2","withAltGr":"<","withShiftAltGr":""},"Digit3":{"vkey":"VK_3","value":"","withShift":"3","withAltGr":">","withShiftAltGr":""},"Digit4":{"vkey":"VK_4","value":"(","withShift":"4","withAltGr":"[","withShiftAltGr":""},"Digit5":{"vkey":"VK_5","value":")","withShift":"5","withAltGr":"]","withShiftAltGr":""},"Digit6":{"vkey":"VK_6","value":"@","withShift":"6","withAltGr":"^"},"Digit7":{"vkey":"VK_7","value":"+","withShift":"7","withAltGr":"","withShiftAltGr":""},"Digit8":{"vkey":"VK_8","value":"-","withShift":"8","withAltGr":"","withShiftAltGr":""},"Digit9":{"vkey":"VK_9","value":"/","withShift":"9","withAltGr":"","withShiftAltGr":""},"Digit0":{"vkey":"VK_0","value":"*","withShift":"0","withAltGr":"","withShiftAltGr":""},"Minus":{"vkey":"VK_OEM_MINUS","value":"=","withShift":"","withAltGr":"","withShiftAltGr":""},"Equal":{"vkey":"VK_OEM_PLUS","value":"%","withShift":"`","withAltGr":"","withShiftAltGr":""},"BracketLeft":{"vkey":"VK_Z","value":"z","withShift":"Z","withAltGr":"","withShiftAltGr":""},"BracketRight":{"vkey":"VK_W","value":"w","withShift":"W","withAltGr":""},"Backslash":{"vkey":"VK_OEM_5","value":"","withShift":"","withAltGr":"","withShiftAltGr":","},"Semicolon":{"vkey":"VK_N","value":"n","withShift":"N","withAltGr":"~"},"Quote":{"vkey":"VK_M","value":"m","withShift":"M","withAltGr":"","withShiftAltGr":""},"Backquote":{"vkey":"VK_OEM_7","value":"$","withShift":"#","withAltGr":"","withShiftAltGr":""},"Comma":{"vkey":"VK_G","value":"g","withShift":"G","withAltGr":""},"Period":{"vkey":"VK_H","value":"h","withShift":"H","withAltGr":"","withShiftAltGr":""},"Slash":{"vkey":"VK_F","value":"f","withShift":"F","withAltGr":"","withShiftAltGr":""},"IntlBackslash":{"vkey":"VK_OEM_102","value":"","withShift":"","withAltGr":"/"},"IntlRo":{"vkey":"VK_ABNT_C1"},"IntlYen":{"vkey":"VK_UNKNOWN"}}}');

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/fr-Canadian_French-mac.json":
/*!***************************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/fr-Canadian_French-mac.json ***!
  \***************************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"info":{"id":"com.apple.keylayout.Canadian-CSA","lang":"fr"},"mapping":{"KeyA":{"value":"a","withShift":"A","withAltGr":"","withShiftAltGr":""},"KeyB":{"value":"b","withShift":"B","withAltGr":"","withShiftAltGr":""},"KeyC":{"value":"c","withShift":"C","withAltGr":"","withShiftAltGr":""},"KeyD":{"value":"d","withShift":"D","withAltGr":"","withShiftAltGr":""},"KeyE":{"value":"e","withShift":"E","withAltGr":"","withShiftAltGr":""},"KeyF":{"value":"f","withShift":"F","withAltGr":"","withShiftAltGr":""},"KeyG":{"value":"g","withShift":"G","withAltGr":"","withShiftAltGr":""},"KeyH":{"value":"h","withShift":"H","withAltGr":"","withShiftAltGr":""},"KeyI":{"value":"i","withShift":"I","withAltGr":"","withShiftAltGr":""},"KeyJ":{"value":"j","withShift":"J","withAltGr":"","withShiftAltGr":""},"KeyK":{"value":"k","withShift":"K","withAltGr":"","withShiftAltGr":""},"KeyL":{"value":"l","withShift":"L","withAltGr":"","withShiftAltGr":""},"KeyM":{"value":"m","withShift":"M","withAltGr":"","withShiftAltGr":""},"KeyN":{"value":"n","withShift":"N","withAltGr":"","withShiftAltGr":""},"KeyO":{"value":"o","withShift":"O","withAltGr":"","withShiftAltGr":""},"KeyP":{"value":"p","withShift":"P","withAltGr":"","withShiftAltGr":""},"KeyQ":{"value":"q","withShift":"Q","withAltGr":"","withShiftAltGr":""},"KeyR":{"value":"r","withShift":"R","withAltGr":"","withShiftAltGr":""},"KeyS":{"value":"s","withShift":"S","withAltGr":"","withShiftAltGr":""},"KeyT":{"value":"t","withShift":"T","withAltGr":"","withShiftAltGr":""},"KeyU":{"value":"u","withShift":"U","withAltGr":" ","withShiftAltGr":""},"KeyV":{"value":"v","withShift":"V","withAltGr":"","withShiftAltGr":""},"KeyW":{"value":"w","withShift":"W","withAltGr":"","withShiftAltGr":""},"KeyX":{"value":"x","withShift":"X","withAltGr":"","withShiftAltGr":""},"KeyY":{"value":"y","withShift":"Y","withAltGr":"","withShiftAltGr":""},"KeyZ":{"value":"z","withShift":"Z","withAltGr":"","withShiftAltGr":""},"Digit1":{"value":"1","withShift":"!","withAltGr":"","withShiftAltGr":""},"Digit2":{"value":"2","withShift":"@","withAltGr":"@","withShiftAltGr":""},"Digit3":{"value":"3","withShift":"#","withAltGr":"","withShiftAltGr":""},"Digit4":{"value":"4","withShift":"$","withAltGr":"","withShiftAltGr":""},"Digit5":{"value":"5","withShift":"%","withAltGr":"","withShiftAltGr":""},"Digit6":{"value":"6","withShift":"?","withAltGr":" ","withShiftAltGr":""},"Digit7":{"value":"7","withShift":"&","withAltGr":"{","withShiftAltGr":""},"Digit8":{"value":"8","withShift":"*","withAltGr":"}","withShiftAltGr":""},"Digit9":{"value":"9","withShift":"(","withAltGr":"[","withShiftAltGr":""},"Digit0":{"value":"0","withShift":")","withAltGr":"]","withShiftAltGr":""},"Minus":{"value":"-","withShift":"_","withAltGr":"|","withShiftAltGr":""},"Equal":{"value":"=","withShift":"+","withAltGr":"","withShiftAltGr":""},"BracketLeft":{"value":"^","withShift":"","withAltGr":"`","withShiftAltGr":""},"BracketRight":{"value":"","withShift":"","withAltGr":"~","withShiftAltGr":"~"},"Backslash":{"value":"","withShift":"","withAltGr":"`","withShiftAltGr":"`"},"Semicolon":{"value":";","withShift":":","withAltGr":"","withShiftAltGr":""},"Quote":{"value":"","withShift":"","withAltGr":"\\\\","withShiftAltGr":""},"Backquote":{"value":"","withShift":"","withAltGr":"\\\\","withShiftAltGr":""},"Comma":{"value":",","withShift":"\'","withAltGr":"<","withShiftAltGr":"x"},"Period":{"value":".","withShift":"\\"","withAltGr":">","withShiftAltGr":""},"Slash":{"value":"","withShift":"","withAltGr":"/","withShiftAltGr":""},"IntlBackslash":{"value":"/","withShift":"\\\\","withAltGr":"|","withShiftAltGr":" "}}}');

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/fr-Canadian_French-pc.json":
/*!**************************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/fr-Canadian_French-pc.json ***!
  \**************************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"info":{"name":"00001009","id":"","text":"Canadian French"},"mapping":{"KeyA":{"vkey":"VK_A","value":"a","withShift":"A"},"KeyB":{"vkey":"VK_B","value":"b","withShift":"B"},"KeyC":{"vkey":"VK_C","value":"c","withShift":"C"},"KeyD":{"vkey":"VK_D","value":"d","withShift":"D"},"KeyE":{"vkey":"VK_E","value":"e","withShift":"E"},"KeyF":{"vkey":"VK_F","value":"f","withShift":"F"},"KeyG":{"vkey":"VK_G","value":"g","withShift":"G"},"KeyH":{"vkey":"VK_H","value":"h","withShift":"H"},"KeyI":{"vkey":"VK_I","value":"i","withShift":"I"},"KeyJ":{"vkey":"VK_J","value":"j","withShift":"J"},"KeyK":{"vkey":"VK_K","value":"k","withShift":"K"},"KeyL":{"vkey":"VK_L","value":"l","withShift":"L"},"KeyM":{"vkey":"VK_M","value":"m","withShift":"M","withAltGr":""},"KeyN":{"vkey":"VK_N","value":"n","withShift":"N"},"KeyO":{"vkey":"VK_O","value":"o","withShift":"O","withAltGr":""},"KeyP":{"vkey":"VK_P","value":"p","withShift":"P","withAltGr":""},"KeyQ":{"vkey":"VK_Q","value":"q","withShift":"Q"},"KeyR":{"vkey":"VK_R","value":"r","withShift":"R"},"KeyS":{"vkey":"VK_S","value":"s","withShift":"S"},"KeyT":{"vkey":"VK_T","value":"t","withShift":"T"},"KeyU":{"vkey":"VK_U","value":"u","withShift":"U"},"KeyV":{"vkey":"VK_V","value":"v","withShift":"V"},"KeyW":{"vkey":"VK_W","value":"w","withShift":"W"},"KeyX":{"vkey":"VK_X","value":"x","withShift":"X"},"KeyY":{"vkey":"VK_Y","value":"y","withShift":"Y"},"KeyZ":{"vkey":"VK_Z","value":"z","withShift":"Z"},"Digit1":{"vkey":"VK_1","value":"1","withShift":"!","withAltGr":""},"Digit2":{"vkey":"VK_2","value":"2","withShift":"\\"","withAltGr":"@"},"Digit3":{"vkey":"VK_3","value":"3","withShift":"/","withAltGr":""},"Digit4":{"vkey":"VK_4","value":"4","withShift":"$","withAltGr":""},"Digit5":{"vkey":"VK_5","value":"5","withShift":"%","withAltGr":""},"Digit6":{"vkey":"VK_6","value":"6","withShift":"?","withAltGr":""},"Digit7":{"vkey":"VK_7","value":"7","withShift":"&","withAltGr":""},"Digit8":{"vkey":"VK_8","value":"8","withShift":"*","withAltGr":""},"Digit9":{"vkey":"VK_9","value":"9","withShift":"(","withAltGr":""},"Digit0":{"vkey":"VK_0","value":"0","withShift":")","withAltGr":""},"Minus":{"vkey":"VK_OEM_MINUS","value":"-","withShift":"_","withAltGr":""},"Equal":{"vkey":"VK_OEM_PLUS","value":"=","withShift":"+","withAltGr":""},"BracketLeft":{"vkey":"VK_OEM_4","value":"^","withShift":"^","withAltGr":"["},"BracketRight":{"vkey":"VK_OEM_6","value":"","withShift":"","withAltGr":"]"},"Backslash":{"vkey":"VK_OEM_5","value":"<","withShift":">","withAltGr":"}"},"Semicolon":{"vkey":"VK_OEM_1","value":";","withShift":":","withAltGr":"~"},"Quote":{"vkey":"VK_OEM_3","value":"`","withShift":"`","withAltGr":"{"},"Backquote":{"vkey":"VK_OEM_7","value":"#","withShift":"|","withAltGr":"\\\\"},"Comma":{"vkey":"VK_OEM_COMMA","value":",","withShift":"\'","withAltGr":""},"Period":{"vkey":"VK_OEM_PERIOD","value":".","withShift":"."},"Slash":{"vkey":"VK_OEM_2","value":"","withShift":"","withAltGr":""},"IntlBackslash":{"vkey":"VK_OEM_102","value":"","withShift":"","withAltGr":""},"IntlRo":{"vkey":"VK_ABNT_C1"},"IntlYen":{"vkey":"VK_UNKNOWN"}}}');

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/fr-French-mac.json":
/*!******************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/fr-French-mac.json ***!
  \******************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"info":{"id":"com.apple.keylayout.French","lang":"fr"},"mapping":{"KeyA":{"value":"q","withShift":"Q","withAltGr":"","withShiftAltGr":""},"KeyB":{"value":"b","withShift":"B","withAltGr":"","withShiftAltGr":""},"KeyC":{"value":"c","withShift":"C","withAltGr":"","withShiftAltGr":""},"KeyD":{"value":"d","withShift":"D","withAltGr":"","withShiftAltGr":""},"KeyE":{"value":"e","withShift":"E","withAltGr":"","withShiftAltGr":""},"KeyF":{"value":"f","withShift":"F","withAltGr":"","withShiftAltGr":""},"KeyG":{"value":"g","withShift":"G","withAltGr":"","withShiftAltGr":""},"KeyH":{"value":"h","withShift":"H","withAltGr":"","withShiftAltGr":""},"KeyI":{"value":"i","withShift":"I","withAltGr":"","withShiftAltGr":""},"KeyJ":{"value":"j","withShift":"J","withAltGr":"","withShiftAltGr":""},"KeyK":{"value":"k","withShift":"K","withAltGr":"","withShiftAltGr":""},"KeyL":{"value":"l","withShift":"L","withAltGr":"","withShiftAltGr":"|"},"KeyM":{"value":",","withShift":"?","withAltGr":"","withShiftAltGr":""},"KeyN":{"value":"n","withShift":"N","withAltGr":"~","withShiftAltGr":""},"KeyO":{"value":"o","withShift":"O","withAltGr":"","withShiftAltGr":""},"KeyP":{"value":"p","withShift":"P","withAltGr":"","withShiftAltGr":""},"KeyQ":{"value":"a","withShift":"A","withAltGr":"","withShiftAltGr":""},"KeyR":{"value":"r","withShift":"R","withAltGr":"","withShiftAltGr":""},"KeyS":{"value":"s","withShift":"S","withAltGr":"","withShiftAltGr":""},"KeyT":{"value":"t","withShift":"T","withAltGr":"","withShiftAltGr":""},"KeyU":{"value":"u","withShift":"U","withAltGr":"","withShiftAltGr":""},"KeyV":{"value":"v","withShift":"V","withAltGr":"","withShiftAltGr":""},"KeyW":{"value":"z","withShift":"Z","withAltGr":"","withShiftAltGr":""},"KeyX":{"value":"x","withShift":"X","withAltGr":"","withShiftAltGr":""},"KeyY":{"value":"y","withShift":"Y","withAltGr":"","withShiftAltGr":""},"KeyZ":{"value":"w","withShift":"W","withAltGr":"","withShiftAltGr":""},"Digit1":{"value":"&","withShift":"1","withAltGr":"","withShiftAltGr":""},"Digit2":{"value":"","withShift":"2","withAltGr":"","withShiftAltGr":""},"Digit3":{"value":"\\"","withShift":"3","withAltGr":"","withShiftAltGr":""},"Digit4":{"value":"\'","withShift":"4","withAltGr":"","withShiftAltGr":""},"Digit5":{"value":"(","withShift":"5","withAltGr":"{","withShiftAltGr":"["},"Digit6":{"value":"","withShift":"6","withAltGr":"","withShiftAltGr":""},"Digit7":{"value":"","withShift":"7","withAltGr":"","withShiftAltGr":""},"Digit8":{"value":"!","withShift":"8","withAltGr":"","withShiftAltGr":""},"Digit9":{"value":"","withShift":"9","withAltGr":"","withShiftAltGr":""},"Digit0":{"value":"","withShift":"0","withAltGr":"","withShiftAltGr":""},"Minus":{"value":")","withShift":"","withAltGr":"}","withShiftAltGr":"]"},"Equal":{"value":"-","withShift":"_","withAltGr":"","withShiftAltGr":""},"BracketLeft":{"value":"^","withShift":"","withAltGr":"","withShiftAltGr":""},"BracketRight":{"value":"$","withShift":"*","withAltGr":"","withShiftAltGr":""},"Backslash":{"value":"`","withShift":"","withAltGr":"@","withShiftAltGr":"#"},"Semicolon":{"value":"m","withShift":"M","withAltGr":"","withShiftAltGr":""},"Quote":{"value":"","withShift":"%","withAltGr":"","withShiftAltGr":""},"Backquote":{"value":"<","withShift":">","withAltGr":"","withShiftAltGr":""},"Comma":{"value":";","withShift":".","withAltGr":"","withShiftAltGr":""},"Period":{"value":":","withShift":"/","withAltGr":"","withShiftAltGr":"\\\\"},"Slash":{"value":"=","withShift":"+","withAltGr":"","withShiftAltGr":""},"IntlBackslash":{"value":"@","withShift":"#","withAltGr":"","withShiftAltGr":""}}}');

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/fr-French-pc.json":
/*!*****************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/fr-French-pc.json ***!
  \*****************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"info":{"name":"0000040C","id":"","text":"French"},"mapping":{"KeyA":{"vkey":"VK_Q","value":"q","withShift":"Q"},"KeyB":{"vkey":"VK_B","value":"b","withShift":"B"},"KeyC":{"vkey":"VK_C","value":"c","withShift":"C"},"KeyD":{"vkey":"VK_D","value":"d","withShift":"D"},"KeyE":{"vkey":"VK_E","value":"e","withShift":"E","withAltGr":""},"KeyF":{"vkey":"VK_F","value":"f","withShift":"F"},"KeyG":{"vkey":"VK_G","value":"g","withShift":"G"},"KeyH":{"vkey":"VK_H","value":"h","withShift":"H"},"KeyI":{"vkey":"VK_I","value":"i","withShift":"I"},"KeyJ":{"vkey":"VK_J","value":"j","withShift":"J"},"KeyK":{"vkey":"VK_K","value":"k","withShift":"K"},"KeyL":{"vkey":"VK_L","value":"l","withShift":"L"},"KeyM":{"vkey":"VK_OEM_COMMA","value":",","withShift":"?"},"KeyN":{"vkey":"VK_N","value":"n","withShift":"N"},"KeyO":{"vkey":"VK_O","value":"o","withShift":"O"},"KeyP":{"vkey":"VK_P","value":"p","withShift":"P"},"KeyQ":{"vkey":"VK_A","value":"a","withShift":"A"},"KeyR":{"vkey":"VK_R","value":"r","withShift":"R"},"KeyS":{"vkey":"VK_S","value":"s","withShift":"S"},"KeyT":{"vkey":"VK_T","value":"t","withShift":"T"},"KeyU":{"vkey":"VK_U","value":"u","withShift":"U"},"KeyV":{"vkey":"VK_V","value":"v","withShift":"V"},"KeyW":{"vkey":"VK_Z","value":"z","withShift":"Z"},"KeyX":{"vkey":"VK_X","value":"x","withShift":"X"},"KeyY":{"vkey":"VK_Y","value":"y","withShift":"Y"},"KeyZ":{"vkey":"VK_W","value":"w","withShift":"W"},"Digit1":{"vkey":"VK_1","value":"&","withShift":"1"},"Digit2":{"vkey":"VK_2","value":"","withShift":"2","withAltGr":"~"},"Digit3":{"vkey":"VK_3","value":"\\"","withShift":"3","withAltGr":"#"},"Digit4":{"vkey":"VK_4","value":"\'","withShift":"4","withAltGr":"{"},"Digit5":{"vkey":"VK_5","value":"(","withShift":"5","withAltGr":"["},"Digit6":{"vkey":"VK_6","value":"-","withShift":"6","withAltGr":"|"},"Digit7":{"vkey":"VK_7","value":"","withShift":"7","withAltGr":"`"},"Digit8":{"vkey":"VK_8","value":"_","withShift":"8","withAltGr":"\\\\"},"Digit9":{"vkey":"VK_9","value":"","withShift":"9","withAltGr":"^"},"Digit0":{"vkey":"VK_0","value":"","withShift":"0","withAltGr":"@"},"Minus":{"vkey":"VK_OEM_4","value":")","withShift":"","withAltGr":"]"},"Equal":{"vkey":"VK_OEM_PLUS","value":"=","withShift":"+","withAltGr":"}"},"BracketLeft":{"vkey":"VK_OEM_6","value":"^","withShift":""},"BracketRight":{"vkey":"VK_OEM_1","value":"$","withShift":"","withAltGr":""},"Backslash":{"vkey":"VK_OEM_5","value":"*","withShift":""},"Semicolon":{"vkey":"VK_M","value":"m","withShift":"M"},"Quote":{"vkey":"VK_OEM_3","value":"","withShift":"%"},"Backquote":{"vkey":"VK_OEM_7","value":""},"Comma":{"vkey":"VK_OEM_PERIOD","value":";","withShift":"."},"Period":{"vkey":"VK_OEM_2","value":":","withShift":"/"},"Slash":{"vkey":"VK_OEM_8","value":"!","withShift":""},"IntlBackslash":{"vkey":"VK_OEM_102","value":"<","withShift":">"},"IntlRo":{"vkey":"VK_ABNT_C1"},"IntlYen":{"vkey":"VK_UNKNOWN"}}}');

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/fr-Swiss_French-mac.json":
/*!************************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/fr-Swiss_French-mac.json ***!
  \************************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"info":{"id":"com.apple.keylayout.SwissFrench","lang":"fr"},"mapping":{"KeyA":{"value":"a","withShift":"A","withAltGr":"","withShiftAltGr":""},"KeyB":{"value":"b","withShift":"B","withAltGr":""},"KeyC":{"value":"c","withShift":"C","withAltGr":""},"KeyD":{"value":"d","withShift":"D","withAltGr":"","withShiftAltGr":""},"KeyE":{"value":"e","withShift":"E","withAltGr":"","withShiftAltGr":""},"KeyF":{"value":"f","withShift":"F","withAltGr":"","withShiftAltGr":""},"KeyG":{"value":"g","withShift":"G","withAltGr":"@","withShiftAltGr":""},"KeyH":{"value":"h","withShift":"H","withAltGr":"","withShiftAltGr":""},"KeyI":{"value":"i","withShift":"I","withAltGr":"","withShiftAltGr":""},"KeyJ":{"value":"j","withShift":"J","withAltGr":"","withShiftAltGr":""},"KeyK":{"value":"k","withShift":"K","withAltGr":"","withShiftAltGr":""},"KeyL":{"value":"l","withShift":"L","withAltGr":"","withShiftAltGr":""},"KeyM":{"value":"m","withShift":"M","withAltGr":"","withShiftAltGr":""},"KeyN":{"value":"n","withShift":"N","withAltGr":"~","withShiftAltGr":""},"KeyO":{"value":"o","withShift":"O","withAltGr":"","withShiftAltGr":""},"KeyP":{"value":"p","withShift":"P","withAltGr":"","withShiftAltGr":""},"KeyQ":{"value":"q","withShift":"Q","withAltGr":"","withShiftAltGr":""},"KeyR":{"value":"r","withShift":"R","withAltGr":"","withShiftAltGr":""},"KeyS":{"value":"s","withShift":"S","withAltGr":"","withShiftAltGr":""},"KeyT":{"value":"t","withShift":"T","withAltGr":"","withShiftAltGr":""},"KeyU":{"value":"u","withShift":"U","withAltGr":"","withShiftAltGr":""},"KeyV":{"value":"v","withShift":"V","withAltGr":"","withShiftAltGr":""},"KeyW":{"value":"w","withShift":"W","withAltGr":"","withShiftAltGr":""},"KeyX":{"value":"x","withShift":"X","withAltGr":"","withShiftAltGr":""},"KeyY":{"value":"z","withShift":"Z","withAltGr":"","withShiftAltGr":""},"KeyZ":{"value":"y","withShift":"Y","withAltGr":"","withShiftAltGr":""},"Digit1":{"value":"1","withShift":"+","withAltGr":"","withShiftAltGr":""},"Digit2":{"value":"2","withShift":"\\"","withAltGr":"","withShiftAltGr":""},"Digit3":{"value":"3","withShift":"*","withAltGr":"#","withShiftAltGr":""},"Digit4":{"value":"4","withShift":"","withAltGr":"","withShiftAltGr":""},"Digit5":{"value":"5","withShift":"%","withAltGr":"[","withShiftAltGr":"["},"Digit6":{"value":"6","withShift":"&","withAltGr":"]","withShiftAltGr":"]"},"Digit7":{"value":"7","withShift":"/","withAltGr":"|","withShiftAltGr":"\\\\"},"Digit8":{"value":"8","withShift":"(","withAltGr":"{","withShiftAltGr":""},"Digit9":{"value":"9","withShift":")","withAltGr":"}","withShiftAltGr":""},"Digit0":{"value":"0","withShift":"=","withAltGr":"","withShiftAltGr":""},"Minus":{"value":"\'","withShift":"?","withAltGr":"","withShiftAltGr":""},"Equal":{"value":"^","withShift":"`","withAltGr":"","withShiftAltGr":"^"},"BracketLeft":{"value":"","withShift":"","withAltGr":"","withShiftAltGr":""},"BracketRight":{"value":"","withShift":"!","withAltGr":"","withShiftAltGr":""},"Backslash":{"value":"$","withShift":"","withAltGr":"","withShiftAltGr":""},"Semicolon":{"value":"","withShift":"","withAltGr":"","withShiftAltGr":""},"Quote":{"value":"","withShift":"","withAltGr":"","withShiftAltGr":""},"Backquote":{"value":"<","withShift":">","withAltGr":"","withShiftAltGr":""},"Comma":{"value":",","withShift":";","withAltGr":"","withShiftAltGr":""},"Period":{"value":".","withShift":":","withAltGr":"","withShiftAltGr":""},"Slash":{"value":"-","withShift":"_","withAltGr":"","withShiftAltGr":""},"IntlBackslash":{"value":"","withShift":"","withAltGr":"","withShiftAltGr":""}}}');

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/fr-Swiss_French-pc.json":
/*!***********************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/fr-Swiss_French-pc.json ***!
  \***********************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"info":{"name":"0000100C","id":"","text":"Swiss French"},"mapping":{"KeyA":{"vkey":"VK_A","value":"a","withShift":"A"},"KeyB":{"vkey":"VK_B","value":"b","withShift":"B"},"KeyC":{"vkey":"VK_C","value":"c","withShift":"C"},"KeyD":{"vkey":"VK_D","value":"d","withShift":"D"},"KeyE":{"vkey":"VK_E","value":"e","withShift":"E","withAltGr":""},"KeyF":{"vkey":"VK_F","value":"f","withShift":"F"},"KeyG":{"vkey":"VK_G","value":"g","withShift":"G"},"KeyH":{"vkey":"VK_H","value":"h","withShift":"H"},"KeyI":{"vkey":"VK_I","value":"i","withShift":"I"},"KeyJ":{"vkey":"VK_J","value":"j","withShift":"J"},"KeyK":{"vkey":"VK_K","value":"k","withShift":"K"},"KeyL":{"vkey":"VK_L","value":"l","withShift":"L"},"KeyM":{"vkey":"VK_M","value":"m","withShift":"M"},"KeyN":{"vkey":"VK_N","value":"n","withShift":"N"},"KeyO":{"vkey":"VK_O","value":"o","withShift":"O"},"KeyP":{"vkey":"VK_P","value":"p","withShift":"P"},"KeyQ":{"vkey":"VK_Q","value":"q","withShift":"Q"},"KeyR":{"vkey":"VK_R","value":"r","withShift":"R"},"KeyS":{"vkey":"VK_S","value":"s","withShift":"S"},"KeyT":{"vkey":"VK_T","value":"t","withShift":"T"},"KeyU":{"vkey":"VK_U","value":"u","withShift":"U"},"KeyV":{"vkey":"VK_V","value":"v","withShift":"V"},"KeyW":{"vkey":"VK_W","value":"w","withShift":"W"},"KeyX":{"vkey":"VK_X","value":"x","withShift":"X"},"KeyY":{"vkey":"VK_Z","value":"z","withShift":"Z"},"KeyZ":{"vkey":"VK_Y","value":"y","withShift":"Y"},"Digit1":{"vkey":"VK_1","value":"1","withShift":"+","withAltGr":""},"Digit2":{"vkey":"VK_2","value":"2","withShift":"\\"","withAltGr":"@"},"Digit3":{"vkey":"VK_3","value":"3","withShift":"*","withAltGr":"#"},"Digit4":{"vkey":"VK_4","value":"4","withShift":"","withAltGr":""},"Digit5":{"vkey":"VK_5","value":"5","withShift":"%","withAltGr":""},"Digit6":{"vkey":"VK_6","value":"6","withShift":"&","withAltGr":""},"Digit7":{"vkey":"VK_7","value":"7","withShift":"/","withAltGr":"|"},"Digit8":{"vkey":"VK_8","value":"8","withShift":"(","withAltGr":""},"Digit9":{"vkey":"VK_9","value":"9","withShift":")"},"Digit0":{"vkey":"VK_0","value":"0","withShift":"="},"Minus":{"vkey":"VK_OEM_4","value":"\'","withShift":"?","withAltGr":""},"Equal":{"vkey":"VK_OEM_6","value":"^","withShift":"`","withAltGr":"~"},"BracketLeft":{"vkey":"VK_OEM_1","value":"","withShift":"","withAltGr":"["},"BracketRight":{"vkey":"VK_OEM_3","value":"","withShift":"!","withAltGr":"]"},"Backslash":{"vkey":"VK_OEM_8","value":"$","withShift":"","withAltGr":"}"},"Semicolon":{"vkey":"VK_OEM_7","value":"","withShift":""},"Quote":{"vkey":"VK_OEM_5","value":"","withShift":"","withAltGr":"{"},"Backquote":{"vkey":"VK_OEM_2","value":"","withShift":""},"Comma":{"vkey":"VK_OEM_COMMA","value":",","withShift":";"},"Period":{"vkey":"VK_OEM_PERIOD","value":".","withShift":":"},"Slash":{"vkey":"VK_OEM_MINUS","value":"-","withShift":"_"},"IntlBackslash":{"vkey":"VK_OEM_102","value":"<","withShift":">","withAltGr":"\\\\"},"IntlRo":{"vkey":"VK_ABNT_C1"},"IntlYen":{"vkey":"VK_UNKNOWN"}}}');

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/hu-Hungarian-mac.json":
/*!*********************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/hu-Hungarian-mac.json ***!
  \*********************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"info":{"id":"com.apple.keylayout.Hungarian","lang":"hu"},"mapping":{"KeyA":{"value":"a","withShift":"A","withAltGr":"","withShiftAltGr":""},"KeyB":{"value":"b","withShift":"B","withAltGr":"","withShiftAltGr":""},"KeyC":{"value":"c","withShift":"C","withAltGr":"","withShiftAltGr":""},"KeyD":{"value":"d","withShift":"D","withAltGr":"","withShiftAltGr":""},"KeyE":{"value":"e","withShift":"E","withAltGr":"","withShiftAltGr":""},"KeyF":{"value":"f","withShift":"F","withAltGr":"","withShiftAltGr":""},"KeyG":{"value":"g","withShift":"G","withAltGr":"","withShiftAltGr":""},"KeyH":{"value":"h","withShift":"H","withAltGr":"","withShiftAltGr":""},"KeyI":{"value":"i","withShift":"I","withAltGr":"^","withShiftAltGr":""},"KeyJ":{"value":"j","withShift":"J","withAltGr":"","withShiftAltGr":""},"KeyK":{"value":"k","withShift":"K","withAltGr":"","withShiftAltGr":"&"},"KeyL":{"value":"l","withShift":"L","withAltGr":"","withShiftAltGr":""},"KeyM":{"value":"m","withShift":"M","withAltGr":"","withShiftAltGr":""},"KeyN":{"value":"n","withShift":"N","withAltGr":"~","withShiftAltGr":""},"KeyO":{"value":"o","withShift":"O","withAltGr":"","withShiftAltGr":""},"KeyP":{"value":"p","withShift":"P","withAltGr":"","withShiftAltGr":""},"KeyQ":{"value":"q","withShift":"Q","withAltGr":"@","withShiftAltGr":""},"KeyR":{"value":"r","withShift":"R","withAltGr":"","withShiftAltGr":""},"KeyS":{"value":"s","withShift":"S","withAltGr":"","withShiftAltGr":""},"KeyT":{"value":"t","withShift":"T","withAltGr":"","withShiftAltGr":""},"KeyU":{"value":"u","withShift":"U","withAltGr":"","withShiftAltGr":""},"KeyV":{"value":"v","withShift":"V","withAltGr":"","withShiftAltGr":""},"KeyW":{"value":"w","withShift":"W","withAltGr":"","withShiftAltGr":""},"KeyX":{"value":"x","withShift":"X","withAltGr":"","withShiftAltGr":">"},"KeyY":{"value":"z","withShift":"Z","withAltGr":"","withShiftAltGr":""},"KeyZ":{"value":"y","withShift":"Y","withAltGr":"","withShiftAltGr":"<"},"Digit1":{"value":"1","withShift":"\'","withAltGr":"&","withShiftAltGr":""},"Digit2":{"value":"2","withShift":"\\"","withAltGr":"","withShiftAltGr":""},"Digit3":{"value":"3","withShift":"+","withAltGr":"","withShiftAltGr":"#"},"Digit4":{"value":"4","withShift":"!","withAltGr":"$","withShiftAltGr":"$"},"Digit5":{"value":"5","withShift":"%","withAltGr":"","withShiftAltGr":""},"Digit6":{"value":"6","withShift":"/","withAltGr":"","withShiftAltGr":""},"Digit7":{"value":"7","withShift":"=","withAltGr":"{","withShiftAltGr":""},"Digit8":{"value":"8","withShift":"(","withAltGr":"[","withShiftAltGr":""},"Digit9":{"value":"9","withShift":")","withAltGr":"]","withShiftAltGr":"}"},"Digit0":{"value":"","withShift":"","withAltGr":"}","withShiftAltGr":""},"Minus":{"value":"","withShift":"","withAltGr":"\\\\","withShiftAltGr":""},"Equal":{"value":"","withShift":"","withAltGr":"","withShiftAltGr":""},"BracketLeft":{"value":"","withShift":"","withAltGr":"","withShiftAltGr":""},"BracketRight":{"value":"","withShift":"","withAltGr":"~","withShiftAltGr":""},"Backslash":{"value":"","withShift":"","withAltGr":"`","withShiftAltGr":""},"Semicolon":{"value":"","withShift":"","withAltGr":"","withShiftAltGr":""},"Quote":{"value":"","withShift":"","withAltGr":"^","withShiftAltGr":""},"Backquote":{"value":"","withShift":"","withAltGr":"|","withShiftAltGr":""},"Comma":{"value":",","withShift":"?","withAltGr":"","withShiftAltGr":"*"},"Period":{"value":".","withShift":":","withAltGr":";","withShiftAltGr":""},"Slash":{"value":"-","withShift":"_","withAltGr":"","withShiftAltGr":""},"IntlBackslash":{"value":"0","withShift":"","withAltGr":"","withShiftAltGr":""}}}');

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/hu-Hungarian-pc.json":
/*!********************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/hu-Hungarian-pc.json ***!
  \********************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"info":{"name":"0000040E","id":"","text":"Hungarian"},"mapping":{"KeyA":{"vkey":"VK_A","value":"a","withShift":"A","withAltGr":""},"KeyB":{"vkey":"VK_B","value":"b","withShift":"B","withAltGr":"{"},"KeyC":{"vkey":"VK_C","value":"c","withShift":"C","withAltGr":"&"},"KeyD":{"vkey":"VK_D","value":"d","withShift":"D","withAltGr":""},"KeyE":{"vkey":"VK_E","value":"e","withShift":"E","withAltGr":""},"KeyF":{"vkey":"VK_F","value":"f","withShift":"F","withAltGr":"["},"KeyG":{"vkey":"VK_G","value":"g","withShift":"G","withAltGr":"]"},"KeyH":{"vkey":"VK_H","value":"h","withShift":"H"},"KeyI":{"vkey":"VK_I","value":"i","withShift":"I","withAltGr":""},"KeyJ":{"vkey":"VK_J","value":"j","withShift":"J","withAltGr":""},"KeyK":{"vkey":"VK_K","value":"k","withShift":"K","withAltGr":""},"KeyL":{"vkey":"VK_L","value":"l","withShift":"L","withAltGr":""},"KeyM":{"vkey":"VK_M","value":"m","withShift":"M","withAltGr":"<"},"KeyN":{"vkey":"VK_N","value":"n","withShift":"N","withAltGr":"}"},"KeyO":{"vkey":"VK_O","value":"o","withShift":"O"},"KeyP":{"vkey":"VK_P","value":"p","withShift":"P"},"KeyQ":{"vkey":"VK_Q","value":"q","withShift":"Q","withAltGr":"\\\\"},"KeyR":{"vkey":"VK_R","value":"r","withShift":"R"},"KeyS":{"vkey":"VK_S","value":"s","withShift":"S","withAltGr":""},"KeyT":{"vkey":"VK_T","value":"t","withShift":"T"},"KeyU":{"vkey":"VK_U","value":"u","withShift":"U","withAltGr":""},"KeyV":{"vkey":"VK_V","value":"v","withShift":"V","withAltGr":"@"},"KeyW":{"vkey":"VK_W","value":"w","withShift":"W","withAltGr":"|"},"KeyX":{"vkey":"VK_X","value":"x","withShift":"X","withAltGr":"#"},"KeyY":{"vkey":"VK_Z","value":"z","withShift":"Z"},"KeyZ":{"vkey":"VK_Y","value":"y","withShift":"Y","withAltGr":">"},"Digit1":{"vkey":"VK_1","value":"1","withShift":"\'","withAltGr":"~"},"Digit2":{"vkey":"VK_2","value":"2","withShift":"\\"","withAltGr":""},"Digit3":{"vkey":"VK_3","value":"3","withShift":"+","withAltGr":"^"},"Digit4":{"vkey":"VK_4","value":"4","withShift":"!","withAltGr":""},"Digit5":{"vkey":"VK_5","value":"5","withShift":"%","withAltGr":""},"Digit6":{"vkey":"VK_6","value":"6","withShift":"/","withAltGr":""},"Digit7":{"vkey":"VK_7","value":"7","withShift":"=","withAltGr":"`"},"Digit8":{"vkey":"VK_8","value":"8","withShift":"(","withAltGr":""},"Digit9":{"vkey":"VK_9","value":"9","withShift":")","withAltGr":""},"Digit0":{"vkey":"VK_OEM_3","value":"","withShift":"","withAltGr":""},"Minus":{"vkey":"VK_OEM_2","value":"","withShift":"","withAltGr":""},"Equal":{"vkey":"VK_OEM_PLUS","value":"","withShift":"","withAltGr":""},"BracketLeft":{"vkey":"VK_OEM_4","value":"","withShift":"","withAltGr":""},"BracketRight":{"vkey":"VK_OEM_6","value":"","withShift":"","withAltGr":""},"Backslash":{"vkey":"VK_OEM_5","value":"","withShift":"","withAltGr":""},"Semicolon":{"vkey":"VK_OEM_1","value":"","withShift":"","withAltGr":"$"},"Quote":{"vkey":"VK_OEM_7","value":"","withShift":"","withAltGr":""},"Backquote":{"vkey":"VK_0","value":"0","withShift":""},"Comma":{"vkey":"VK_OEM_COMMA","value":",","withShift":"?","withAltGr":";"},"Period":{"vkey":"VK_OEM_PERIOD","value":".","withShift":":","withAltGr":">"},"Slash":{"vkey":"VK_OEM_MINUS","value":"-","withShift":"_","withAltGr":"*"},"IntlBackslash":{"vkey":"VK_OEM_102","value":"","withShift":"","withAltGr":"<"},"IntlRo":{"vkey":"VK_ABNT_C1"},"IntlYen":{"vkey":"VK_UNKNOWN"}}}');

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/it-Italian-mac.json":
/*!*******************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/it-Italian-mac.json ***!
  \*******************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"info":{"id":"com.apple.keylayout.Italian-Pro","lang":"it"},"mapping":{"KeyA":{"value":"a","withShift":"A","withAltGr":"","withShiftAltGr":""},"KeyB":{"value":"b","withShift":"B","withAltGr":"","withShiftAltGr":""},"KeyC":{"value":"c","withShift":"C","withAltGr":"","withShiftAltGr":""},"KeyD":{"value":"d","withShift":"D","withAltGr":"","withShiftAltGr":""},"KeyE":{"value":"e","withShift":"E","withAltGr":"","withShiftAltGr":""},"KeyF":{"value":"f","withShift":"F","withAltGr":"","withShiftAltGr":""},"KeyG":{"value":"g","withShift":"G","withAltGr":"","withShiftAltGr":""},"KeyH":{"value":"h","withShift":"H","withAltGr":"","withShiftAltGr":""},"KeyI":{"value":"i","withShift":"I","withAltGr":"","withShiftAltGr":""},"KeyJ":{"value":"j","withShift":"J","withAltGr":"","withShiftAltGr":""},"KeyK":{"value":"k","withShift":"K","withAltGr":"","withShiftAltGr":""},"KeyL":{"value":"l","withShift":"L","withAltGr":"","withShiftAltGr":""},"KeyM":{"value":"m","withShift":"M","withAltGr":"","withShiftAltGr":""},"KeyN":{"value":"n","withShift":"N","withAltGr":"","withShiftAltGr":""},"KeyO":{"value":"o","withShift":"O","withAltGr":"","withShiftAltGr":""},"KeyP":{"value":"p","withShift":"P","withAltGr":"","withShiftAltGr":""},"KeyQ":{"value":"q","withShift":"Q","withAltGr":"","withShiftAltGr":""},"KeyR":{"value":"r","withShift":"R","withAltGr":"","withShiftAltGr":""},"KeyS":{"value":"s","withShift":"S","withAltGr":"","withShiftAltGr":""},"KeyT":{"value":"t","withShift":"T","withAltGr":"","withShiftAltGr":""},"KeyU":{"value":"u","withShift":"U","withAltGr":"","withShiftAltGr":""},"KeyV":{"value":"v","withShift":"V","withAltGr":"","withShiftAltGr":""},"KeyW":{"value":"w","withShift":"W","withAltGr":"","withShiftAltGr":""},"KeyX":{"value":"x","withShift":"X","withAltGr":"","withShiftAltGr":""},"KeyY":{"value":"y","withShift":"Y","withAltGr":"","withShiftAltGr":""},"KeyZ":{"value":"z","withShift":"Z","withAltGr":"","withShiftAltGr":" "},"Digit1":{"value":"1","withShift":"!","withAltGr":"","withShiftAltGr":""},"Digit2":{"value":"2","withShift":"\\"","withAltGr":"","withShiftAltGr":""},"Digit3":{"value":"3","withShift":"","withAltGr":"","withShiftAltGr":""},"Digit4":{"value":"4","withShift":"$","withAltGr":"","withShiftAltGr":""},"Digit5":{"value":"5","withShift":"%","withAltGr":"~","withShiftAltGr":""},"Digit6":{"value":"6","withShift":"&","withAltGr":"","withShiftAltGr":""},"Digit7":{"value":"7","withShift":"/","withAltGr":"","withShiftAltGr":""},"Digit8":{"value":"8","withShift":"(","withAltGr":"","withShiftAltGr":""},"Digit9":{"value":"9","withShift":")","withAltGr":"`","withShiftAltGr":" "},"Digit0":{"value":"0","withShift":"=","withAltGr":"","withShiftAltGr":""},"Minus":{"value":"\'","withShift":"?","withAltGr":"","withShiftAltGr":""},"Equal":{"value":"","withShift":"^","withAltGr":"","withShiftAltGr":""},"BracketLeft":{"value":"","withShift":"","withAltGr":"[","withShiftAltGr":"{"},"BracketRight":{"value":"+","withShift":"*","withAltGr":"]","withShiftAltGr":"}"},"Backslash":{"value":"","withShift":"","withAltGr":"","withShiftAltGr":""},"Semicolon":{"value":"","withShift":"","withAltGr":"@","withShiftAltGr":""},"Quote":{"value":"","withShift":"","withAltGr":"#","withShiftAltGr":""},"Backquote":{"value":"<","withShift":">","withAltGr":"","withShiftAltGr":""},"Comma":{"value":",","withShift":";","withAltGr":"","withShiftAltGr":" "},"Period":{"value":".","withShift":":","withAltGr":"","withShiftAltGr":""},"Slash":{"value":"-","withShift":"_","withAltGr":"","withShiftAltGr":""},"IntlBackslash":{"value":"\\\\","withShift":"|","withAltGr":"`","withShiftAltGr":""}}}');

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/it-Italian-pc.json":
/*!******************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/it-Italian-pc.json ***!
  \******************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"info":{"name":"00000410","id":"","text":"Italian"},"mapping":{"KeyA":{"vkey":"VK_A","value":"a","withShift":"A"},"KeyB":{"vkey":"VK_B","value":"b","withShift":"B"},"KeyC":{"vkey":"VK_C","value":"c","withShift":"C"},"KeyD":{"vkey":"VK_D","value":"d","withShift":"D"},"KeyE":{"vkey":"VK_E","value":"e","withShift":"E","withAltGr":""},"KeyF":{"vkey":"VK_F","value":"f","withShift":"F"},"KeyG":{"vkey":"VK_G","value":"g","withShift":"G"},"KeyH":{"vkey":"VK_H","value":"h","withShift":"H"},"KeyI":{"vkey":"VK_I","value":"i","withShift":"I"},"KeyJ":{"vkey":"VK_J","value":"j","withShift":"J"},"KeyK":{"vkey":"VK_K","value":"k","withShift":"K"},"KeyL":{"vkey":"VK_L","value":"l","withShift":"L"},"KeyM":{"vkey":"VK_M","value":"m","withShift":"M"},"KeyN":{"vkey":"VK_N","value":"n","withShift":"N"},"KeyO":{"vkey":"VK_O","value":"o","withShift":"O"},"KeyP":{"vkey":"VK_P","value":"p","withShift":"P"},"KeyQ":{"vkey":"VK_Q","value":"q","withShift":"Q"},"KeyR":{"vkey":"VK_R","value":"r","withShift":"R"},"KeyS":{"vkey":"VK_S","value":"s","withShift":"S"},"KeyT":{"vkey":"VK_T","value":"t","withShift":"T"},"KeyU":{"vkey":"VK_U","value":"u","withShift":"U"},"KeyV":{"vkey":"VK_V","value":"v","withShift":"V"},"KeyW":{"vkey":"VK_W","value":"w","withShift":"W"},"KeyX":{"vkey":"VK_X","value":"x","withShift":"X"},"KeyY":{"vkey":"VK_Y","value":"y","withShift":"Y"},"KeyZ":{"vkey":"VK_Z","value":"z","withShift":"Z"},"Digit1":{"vkey":"VK_1","value":"1","withShift":"!"},"Digit2":{"vkey":"VK_2","value":"2","withShift":"\\""},"Digit3":{"vkey":"VK_3","value":"3","withShift":""},"Digit4":{"vkey":"VK_4","value":"4","withShift":"$"},"Digit5":{"vkey":"VK_5","value":"5","withShift":"%","withAltGr":""},"Digit6":{"vkey":"VK_6","value":"6","withShift":"&"},"Digit7":{"vkey":"VK_7","value":"7","withShift":"/"},"Digit8":{"vkey":"VK_8","value":"8","withShift":"("},"Digit9":{"vkey":"VK_9","value":"9","withShift":")"},"Digit0":{"vkey":"VK_0","value":"0","withShift":"="},"Minus":{"vkey":"VK_OEM_4","value":"\'","withShift":"?"},"Equal":{"vkey":"VK_OEM_6","value":"","withShift":"^"},"BracketLeft":{"vkey":"VK_OEM_1","value":"","withShift":"","withAltGr":"[","withShiftAltGr":"{"},"BracketRight":{"vkey":"VK_OEM_PLUS","value":"+","withShift":"*","withAltGr":"]","withShiftAltGr":"}"},"Backslash":{"vkey":"VK_OEM_2","value":"","withShift":""},"Semicolon":{"vkey":"VK_OEM_3","value":"","withShift":"","withAltGr":"@"},"Quote":{"vkey":"VK_OEM_7","value":"","withShift":"","withAltGr":"#"},"Backquote":{"vkey":"VK_OEM_5","value":"\\\\","withShift":"|"},"Comma":{"vkey":"VK_OEM_COMMA","value":",","withShift":";"},"Period":{"vkey":"VK_OEM_PERIOD","value":".","withShift":":"},"Slash":{"vkey":"VK_OEM_MINUS","value":"-","withShift":"_"},"IntlBackslash":{"vkey":"VK_OEM_102","value":"<","withShift":">"},"IntlRo":{"vkey":"VK_ABNT_C1"},"IntlYen":{"vkey":"VK_UNKNOWN"}}}');

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/nb-Norwegian-mac.json":
/*!*********************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/nb-Norwegian-mac.json ***!
  \*********************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"info":{"id":"com.apple.keylayout.Norwegian","lang":"nb"},"mapping":{"KeyA":{"value":"a","withShift":"A","withAltGr":"","withShiftAltGr":""},"KeyB":{"value":"b","withShift":"B","withAltGr":"","withShiftAltGr":""},"KeyC":{"value":"c","withShift":"C","withAltGr":"","withShiftAltGr":""},"KeyD":{"value":"d","withShift":"D","withAltGr":"","withShiftAltGr":""},"KeyE":{"value":"e","withShift":"E","withAltGr":"","withShiftAltGr":""},"KeyF":{"value":"f","withShift":"F","withAltGr":"","withShiftAltGr":""},"KeyG":{"value":"g","withShift":"G","withAltGr":"","withShiftAltGr":""},"KeyH":{"value":"h","withShift":"H","withAltGr":"","withShiftAltGr":""},"KeyI":{"value":"i","withShift":"I","withAltGr":"","withShiftAltGr":""},"KeyJ":{"value":"j","withShift":"J","withAltGr":"","withShiftAltGr":""},"KeyK":{"value":"k","withShift":"K","withAltGr":"","withShiftAltGr":""},"KeyL":{"value":"l","withShift":"L","withAltGr":"","withShiftAltGr":""},"KeyM":{"value":"m","withShift":"M","withAltGr":"","withShiftAltGr":""},"KeyN":{"value":"n","withShift":"N","withAltGr":"","withShiftAltGr":""},"KeyO":{"value":"o","withShift":"O","withAltGr":"","withShiftAltGr":""},"KeyP":{"value":"p","withShift":"P","withAltGr":"","withShiftAltGr":""},"KeyQ":{"value":"q","withShift":"Q","withAltGr":"","withShiftAltGr":""},"KeyR":{"value":"r","withShift":"R"},"KeyS":{"value":"s","withShift":"S","withAltGr":"","withShiftAltGr":""},"KeyT":{"value":"t","withShift":"T","withAltGr":"","withShiftAltGr":""},"KeyU":{"value":"u","withShift":"U","withAltGr":"","withShiftAltGr":""},"KeyV":{"value":"v","withShift":"V","withAltGr":"","withShiftAltGr":""},"KeyW":{"value":"w","withShift":"W","withAltGr":"","withShiftAltGr":""},"KeyX":{"value":"x","withShift":"X","withAltGr":""},"KeyY":{"value":"y","withShift":"Y","withAltGr":"","withShiftAltGr":""},"KeyZ":{"value":"z","withShift":"Z","withAltGr":"","withShiftAltGr":""},"Digit1":{"value":"1","withShift":"!","withAltGr":"","withShiftAltGr":""},"Digit2":{"value":"2","withShift":"\\"","withAltGr":"","withShiftAltGr":""},"Digit3":{"value":"3","withShift":"#","withAltGr":"","withShiftAltGr":""},"Digit4":{"value":"4","withShift":"$","withAltGr":"","withShiftAltGr":""},"Digit5":{"value":"5","withShift":"%","withAltGr":"","withShiftAltGr":""},"Digit6":{"value":"6","withShift":"&","withAltGr":"","withShiftAltGr":""},"Digit7":{"value":"7","withShift":"/","withAltGr":"|","withShiftAltGr":"\\\\"},"Digit8":{"value":"8","withShift":"(","withAltGr":"[","withShiftAltGr":"{"},"Digit9":{"value":"9","withShift":")","withAltGr":"]","withShiftAltGr":"}"},"Digit0":{"value":"0","withShift":"=","withAltGr":"","withShiftAltGr":""},"Minus":{"value":"+","withShift":"?","withAltGr":"","withShiftAltGr":""},"Equal":{"value":"","withShift":"`","withAltGr":"`"},"BracketLeft":{"value":"","withShift":"","withAltGr":"","withShiftAltGr":""},"BracketRight":{"value":"","withShift":"^","withAltGr":"~","withShiftAltGr":"^"},"Backslash":{"value":"@","withShift":"*","withAltGr":"\'"},"Semicolon":{"value":"","withShift":"","withAltGr":"","withShiftAltGr":""},"Quote":{"value":"","withShift":"","withAltGr":"","withShiftAltGr":""},"Backquote":{"value":"<","withShift":">","withAltGr":"","withShiftAltGr":""},"Comma":{"value":",","withShift":";","withAltGr":"","withShiftAltGr":""},"Period":{"value":".","withShift":":","withAltGr":"","withShiftAltGr":""},"Slash":{"value":"-","withShift":"_","withAltGr":"","withShiftAltGr":""},"IntlBackslash":{"value":"\'","withShift":"","withAltGr":"","withShiftAltGr":""}}}');

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/nb-Norwegian-pc.json":
/*!********************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/nb-Norwegian-pc.json ***!
  \********************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"info":{"name":"00000414","id":"","text":"Norwegian"},"mapping":{"KeyA":{"vkey":"VK_A","value":"a","withShift":"A"},"KeyB":{"vkey":"VK_B","value":"b","withShift":"B"},"KeyC":{"vkey":"VK_C","value":"c","withShift":"C"},"KeyD":{"vkey":"VK_D","value":"d","withShift":"D"},"KeyE":{"vkey":"VK_E","value":"e","withShift":"E","withAltGr":""},"KeyF":{"vkey":"VK_F","value":"f","withShift":"F"},"KeyG":{"vkey":"VK_G","value":"g","withShift":"G"},"KeyH":{"vkey":"VK_H","value":"h","withShift":"H"},"KeyI":{"vkey":"VK_I","value":"i","withShift":"I"},"KeyJ":{"vkey":"VK_J","value":"j","withShift":"J"},"KeyK":{"vkey":"VK_K","value":"k","withShift":"K"},"KeyL":{"vkey":"VK_L","value":"l","withShift":"L"},"KeyM":{"vkey":"VK_M","value":"m","withShift":"M","withAltGr":""},"KeyN":{"vkey":"VK_N","value":"n","withShift":"N"},"KeyO":{"vkey":"VK_O","value":"o","withShift":"O"},"KeyP":{"vkey":"VK_P","value":"p","withShift":"P"},"KeyQ":{"vkey":"VK_Q","value":"q","withShift":"Q"},"KeyR":{"vkey":"VK_R","value":"r","withShift":"R"},"KeyS":{"vkey":"VK_S","value":"s","withShift":"S"},"KeyT":{"vkey":"VK_T","value":"t","withShift":"T"},"KeyU":{"vkey":"VK_U","value":"u","withShift":"U"},"KeyV":{"vkey":"VK_V","value":"v","withShift":"V"},"KeyW":{"vkey":"VK_W","value":"w","withShift":"W"},"KeyX":{"vkey":"VK_X","value":"x","withShift":"X"},"KeyY":{"vkey":"VK_Y","value":"y","withShift":"Y"},"KeyZ":{"vkey":"VK_Z","value":"z","withShift":"Z"},"Digit1":{"vkey":"VK_1","value":"1","withShift":"!"},"Digit2":{"vkey":"VK_2","value":"2","withShift":"\\"","withAltGr":"@"},"Digit3":{"vkey":"VK_3","value":"3","withShift":"#","withAltGr":""},"Digit4":{"vkey":"VK_4","value":"4","withShift":"","withAltGr":"$"},"Digit5":{"vkey":"VK_5","value":"5","withShift":"%","withAltGr":""},"Digit6":{"vkey":"VK_6","value":"6","withShift":"&"},"Digit7":{"vkey":"VK_7","value":"7","withShift":"/","withAltGr":"{"},"Digit8":{"vkey":"VK_8","value":"8","withShift":"(","withAltGr":"["},"Digit9":{"vkey":"VK_9","value":"9","withShift":")","withAltGr":"]"},"Digit0":{"vkey":"VK_0","value":"0","withShift":"=","withAltGr":"}"},"Minus":{"vkey":"VK_OEM_PLUS","value":"+","withShift":"?"},"Equal":{"vkey":"VK_OEM_4","value":"\\\\","withShift":"`","withAltGr":""},"BracketLeft":{"vkey":"VK_OEM_6","value":"","withShift":""},"BracketRight":{"vkey":"VK_OEM_1","value":"","withShift":"^","withAltGr":"~"},"Backslash":{"vkey":"VK_OEM_2","value":"\'","withShift":"*"},"Semicolon":{"vkey":"VK_OEM_3","value":"","withShift":""},"Quote":{"vkey":"VK_OEM_7","value":"","withShift":""},"Backquote":{"vkey":"VK_OEM_5","value":"|","withShift":""},"Comma":{"vkey":"VK_OEM_COMMA","value":",","withShift":";"},"Period":{"vkey":"VK_OEM_PERIOD","value":".","withShift":":"},"Slash":{"vkey":"VK_OEM_MINUS","value":"-","withShift":"_"},"IntlBackslash":{"vkey":"VK_OEM_102","value":"<","withShift":">"},"IntlRo":{"vkey":"VK_ABNT_C1"},"IntlYen":{"vkey":"VK_UNKNOWN"}}}');

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/nl-Dutch-mac.json":
/*!*****************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/nl-Dutch-mac.json ***!
  \*****************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"info":{"id":"com.apple.keylayout.Dutch","lang":"nl"},"mapping":{"KeyA":{"value":"a","withShift":"A","withAltGr":"","withShiftAltGr":""},"KeyB":{"value":"b","withShift":"B","withAltGr":"","withShiftAltGr":""},"KeyC":{"value":"c","withShift":"C","withAltGr":"","withShiftAltGr":""},"KeyD":{"value":"d","withShift":"D","withAltGr":"","withShiftAltGr":""},"KeyE":{"value":"e","withShift":"E","withAltGr":"","withShiftAltGr":""},"KeyF":{"value":"f","withShift":"F","withAltGr":"","withShiftAltGr":""},"KeyG":{"value":"g","withShift":"G","withAltGr":"","withShiftAltGr":""},"KeyH":{"value":"h","withShift":"H","withAltGr":"","withShiftAltGr":""},"KeyI":{"value":"i","withShift":"I","withAltGr":"^","withShiftAltGr":""},"KeyJ":{"value":"j","withShift":"J","withAltGr":"","withShiftAltGr":""},"KeyK":{"value":"k","withShift":"K","withAltGr":"","withShiftAltGr":""},"KeyL":{"value":"l","withShift":"L","withAltGr":"","withShiftAltGr":""},"KeyM":{"value":"m","withShift":"M","withAltGr":"","withShiftAltGr":""},"KeyN":{"value":"n","withShift":"N","withAltGr":"~","withShiftAltGr":""},"KeyO":{"value":"o","withShift":"O","withAltGr":"","withShiftAltGr":""},"KeyP":{"value":"p","withShift":"P","withAltGr":"","withShiftAltGr":""},"KeyQ":{"value":"q","withShift":"Q","withAltGr":"","withShiftAltGr":""},"KeyR":{"value":"r","withShift":"R","withAltGr":"","withShiftAltGr":""},"KeyS":{"value":"s","withShift":"S","withAltGr":"","withShiftAltGr":""},"KeyT":{"value":"t","withShift":"T","withAltGr":"","withShiftAltGr":""},"KeyU":{"value":"u","withShift":"U","withAltGr":"","withShiftAltGr":""},"KeyV":{"value":"v","withShift":"V","withAltGr":"","withShiftAltGr":""},"KeyW":{"value":"w","withShift":"W","withAltGr":"","withShiftAltGr":""},"KeyX":{"value":"x","withShift":"X","withAltGr":"","withShiftAltGr":""},"KeyY":{"value":"y","withShift":"Y","withAltGr":"","withShiftAltGr":""},"KeyZ":{"value":"z","withShift":"Z","withAltGr":"","withShiftAltGr":""},"Digit1":{"value":"1","withShift":"!","withAltGr":"","withShiftAltGr":""},"Digit2":{"value":"2","withShift":"@","withAltGr":"","withShiftAltGr":""},"Digit3":{"value":"3","withShift":"#","withAltGr":"","withShiftAltGr":""},"Digit4":{"value":"4","withShift":"$","withAltGr":"","withShiftAltGr":""},"Digit5":{"value":"5","withShift":"%","withAltGr":"","withShiftAltGr":""},"Digit6":{"value":"6","withShift":"^","withAltGr":"","withShiftAltGr":""},"Digit7":{"value":"7","withShift":"&","withAltGr":"","withShiftAltGr":""},"Digit8":{"value":"8","withShift":"*","withAltGr":"","withShiftAltGr":""},"Digit9":{"value":"9","withShift":"(","withAltGr":"","withShiftAltGr":""},"Digit0":{"value":"0","withShift":")","withAltGr":"","withShiftAltGr":""},"Minus":{"value":"-","withShift":"_","withAltGr":"","withShiftAltGr":""},"Equal":{"value":"=","withShift":"+","withAltGr":"","withShiftAltGr":""},"BracketLeft":{"value":"[","withShift":"{","withAltGr":"","withShiftAltGr":""},"BracketRight":{"value":"]","withShift":"}","withAltGr":"","withShiftAltGr":""},"Backslash":{"value":"\\\\","withShift":"|","withAltGr":"","withShiftAltGr":""},"Semicolon":{"value":";","withShift":":","withAltGr":"","withShiftAltGr":""},"Quote":{"value":"\'","withShift":"\\"","withAltGr":"","withShiftAltGr":""},"Backquote":{"value":"`","withShift":"~","withAltGr":"`","withShiftAltGr":""},"Comma":{"value":",","withShift":"<","withAltGr":"","withShiftAltGr":""},"Period":{"value":".","withShift":">","withAltGr":"","withShiftAltGr":""},"Slash":{"value":"/","withShift":"?","withAltGr":"","withShiftAltGr":""},"IntlBackslash":{"value":"","withShift":""}}}');

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/nl-Dutch-pc.json":
/*!****************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/nl-Dutch-pc.json ***!
  \****************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"info":{"name":"00000413","id":"","text":"Dutch"},"mapping":{"KeyA":{"vkey":"VK_A","value":"a","withShift":"A"},"KeyB":{"vkey":"VK_B","value":"b","withShift":"B"},"KeyC":{"vkey":"VK_C","value":"c","withShift":"C","withAltGr":""},"KeyD":{"vkey":"VK_D","value":"d","withShift":"D"},"KeyE":{"vkey":"VK_E","value":"e","withShift":"E","withAltGr":""},"KeyF":{"vkey":"VK_F","value":"f","withShift":"F"},"KeyG":{"vkey":"VK_G","value":"g","withShift":"G"},"KeyH":{"vkey":"VK_H","value":"h","withShift":"H"},"KeyI":{"vkey":"VK_I","value":"i","withShift":"I"},"KeyJ":{"vkey":"VK_J","value":"j","withShift":"J"},"KeyK":{"vkey":"VK_K","value":"k","withShift":"K"},"KeyL":{"vkey":"VK_L","value":"l","withShift":"L"},"KeyM":{"vkey":"VK_M","value":"m","withShift":"M","withAltGr":""},"KeyN":{"vkey":"VK_N","value":"n","withShift":"N"},"KeyO":{"vkey":"VK_O","value":"o","withShift":"O"},"KeyP":{"vkey":"VK_P","value":"p","withShift":"P"},"KeyQ":{"vkey":"VK_Q","value":"q","withShift":"Q"},"KeyR":{"vkey":"VK_R","value":"r","withShift":"R","withAltGr":""},"KeyS":{"vkey":"VK_S","value":"s","withShift":"S","withAltGr":""},"KeyT":{"vkey":"VK_T","value":"t","withShift":"T"},"KeyU":{"vkey":"VK_U","value":"u","withShift":"U"},"KeyV":{"vkey":"VK_V","value":"v","withShift":"V"},"KeyW":{"vkey":"VK_W","value":"w","withShift":"W"},"KeyX":{"vkey":"VK_X","value":"x","withShift":"X","withAltGr":""},"KeyY":{"vkey":"VK_Y","value":"y","withShift":"Y"},"KeyZ":{"vkey":"VK_Z","value":"z","withShift":"Z","withAltGr":""},"Digit1":{"vkey":"VK_1","value":"1","withShift":"!","withAltGr":""},"Digit2":{"vkey":"VK_2","value":"2","withShift":"\\"","withAltGr":""},"Digit3":{"vkey":"VK_3","value":"3","withShift":"#","withAltGr":""},"Digit4":{"vkey":"VK_4","value":"4","withShift":"$","withAltGr":""},"Digit5":{"vkey":"VK_5","value":"5","withShift":"%","withAltGr":""},"Digit6":{"vkey":"VK_6","value":"6","withShift":"&","withAltGr":""},"Digit7":{"vkey":"VK_7","value":"7","withShift":"_","withAltGr":""},"Digit8":{"vkey":"VK_8","value":"8","withShift":"(","withAltGr":"{"},"Digit9":{"vkey":"VK_9","value":"9","withShift":")","withAltGr":"}"},"Digit0":{"vkey":"VK_0","value":"0","withShift":"\'"},"Minus":{"vkey":"VK_OEM_4","value":"/","withShift":"?","withAltGr":"\\\\"},"Equal":{"vkey":"VK_OEM_2","value":"","withShift":"~","withAltGr":""},"BracketLeft":{"vkey":"VK_OEM_6","value":"","withShift":"^"},"BracketRight":{"vkey":"VK_OEM_1","value":"*","withShift":"|"},"Backslash":{"vkey":"VK_OEM_5","value":"<","withShift":">"},"Semicolon":{"vkey":"VK_OEM_PLUS","value":"+","withShift":""},"Quote":{"vkey":"VK_OEM_3","value":"","withShift":"`"},"Backquote":{"vkey":"VK_OEM_7","value":"@","withShift":"","withAltGr":""},"Comma":{"vkey":"VK_OEM_COMMA","value":",","withShift":";"},"Period":{"vkey":"VK_OEM_PERIOD","value":".","withShift":":","withAltGr":""},"Slash":{"vkey":"VK_OEM_MINUS","value":"-","withShift":"="},"IntlBackslash":{"vkey":"VK_OEM_102","value":"]","withShift":"[","withAltGr":""},"IntlRo":{"vkey":"VK_ABNT_C1"},"IntlYen":{"vkey":"VK_UNKNOWN"}}}');

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/pl-Polish-mac.json":
/*!******************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/pl-Polish-mac.json ***!
  \******************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"info":{"id":"com.apple.keylayout.Polish","lang":"pl"},"mapping":{"KeyA":{"value":"a","withShift":"A","withAltGr":"","withShiftAltGr":""},"KeyB":{"value":"b","withShift":"B","withAltGr":"","withShiftAltGr":""},"KeyC":{"value":"c","withShift":"C","withAltGr":"","withShiftAltGr":""},"KeyD":{"value":"d","withShift":"D","withAltGr":"","withShiftAltGr":""},"KeyE":{"value":"e","withShift":"E","withAltGr":"","withShiftAltGr":""},"KeyF":{"value":"f","withShift":"F","withAltGr":"","withShiftAltGr":""},"KeyG":{"value":"g","withShift":"G","withAltGr":"","withShiftAltGr":""},"KeyH":{"value":"h","withShift":"H","withAltGr":"","withShiftAltGr":""},"KeyI":{"value":"i","withShift":"I","withAltGr":"^","withShiftAltGr":""},"KeyJ":{"value":"j","withShift":"J","withAltGr":"","withShiftAltGr":""},"KeyK":{"value":"k","withShift":"K","withAltGr":"","withShiftAltGr":""},"KeyL":{"value":"l","withShift":"L","withAltGr":"","withShiftAltGr":""},"KeyM":{"value":"m","withShift":"M","withAltGr":"","withShiftAltGr":""},"KeyN":{"value":"n","withShift":"N","withAltGr":"~","withShiftAltGr":""},"KeyO":{"value":"o","withShift":"O","withAltGr":"","withShiftAltGr":""},"KeyP":{"value":"p","withShift":"P","withAltGr":"","withShiftAltGr":""},"KeyQ":{"value":"q","withShift":"Q","withAltGr":"","withShiftAltGr":""},"KeyR":{"value":"r","withShift":"R","withAltGr":"","withShiftAltGr":""},"KeyS":{"value":"s","withShift":"S","withAltGr":"","withShiftAltGr":""},"KeyT":{"value":"t","withShift":"T","withAltGr":"","withShiftAltGr":""},"KeyU":{"value":"u","withShift":"U","withAltGr":"","withShiftAltGr":""},"KeyV":{"value":"v","withShift":"V","withAltGr":"","withShiftAltGr":""},"KeyW":{"value":"w","withShift":"W","withAltGr":"","withShiftAltGr":""},"KeyX":{"value":"x","withShift":"X","withAltGr":"","withShiftAltGr":""},"KeyY":{"value":"z","withShift":"Z","withAltGr":"","withShiftAltGr":""},"KeyZ":{"value":"y","withShift":"Y","withAltGr":"","withShiftAltGr":""},"Digit1":{"value":"1","withShift":"","withAltGr":"&","withShiftAltGr":""},"Digit2":{"value":"2","withShift":"%","withAltGr":"@","withShiftAltGr":""},"Digit3":{"value":"3","withShift":"!","withAltGr":"#","withShiftAltGr":""},"Digit4":{"value":"4","withShift":"?","withAltGr":"","withShiftAltGr":""},"Digit5":{"value":"5","withShift":"+","withAltGr":"`","withShiftAltGr":""},"Digit6":{"value":"6","withShift":"=","withAltGr":"","withShiftAltGr":""},"Digit7":{"value":"7","withShift":":","withAltGr":"","withShiftAltGr":""},"Digit8":{"value":"8","withShift":"_","withAltGr":"","withShiftAltGr":""},"Digit9":{"value":"9","withShift":"/","withAltGr":"\\\\","withShiftAltGr":"|"},"Digit0":{"value":"0","withShift":"\\"","withAltGr":"","withShiftAltGr":""},"Minus":{"value":"","withShift":"","withAltGr":"","withShiftAltGr":""},"Equal":{"value":"[","withShift":"]","withAltGr":"","withShiftAltGr":""},"BracketLeft":{"value":"","withShift":"","withAltGr":"","withShiftAltGr":""},"BracketRight":{"value":"(","withShift":")","withAltGr":"{","withShiftAltGr":"}"},"Backslash":{"value":";","withShift":"$","withAltGr":"\'","withShiftAltGr":"~"},"Semicolon":{"value":"","withShift":"","withAltGr":"","withShiftAltGr":""},"Quote":{"value":"","withShift":"","withAltGr":"","withShiftAltGr":""},"Backquote":{"value":"<","withShift":">","withAltGr":"","withShiftAltGr":""},"Comma":{"value":".","withShift":"","withAltGr":"","withShiftAltGr":""},"Period":{"value":",","withShift":"","withAltGr":"","withShiftAltGr":""},"Slash":{"value":"-","withShift":"","withAltGr":"","withShiftAltGr":""},"IntlBackslash":{"value":"^","withShift":"*","withAltGr":"","withShiftAltGr":""}}}');

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/pl-Polish-pc.json":
/*!*****************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/pl-Polish-pc.json ***!
  \*****************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"info":{"name":"00010415","id":"0007","text":"Polish (214)"},"mapping":{"KeyA":{"vkey":"VK_A","value":"a","withShift":"A"},"KeyB":{"vkey":"VK_B","value":"b","withShift":"B","withAltGr":"{"},"KeyC":{"vkey":"VK_C","value":"c","withShift":"C"},"KeyD":{"vkey":"VK_D","value":"d","withShift":"D","withAltGr":""},"KeyE":{"vkey":"VK_E","value":"e","withShift":"E"},"KeyF":{"vkey":"VK_F","value":"f","withShift":"F"},"KeyG":{"vkey":"VK_G","value":"g","withShift":"G"},"KeyH":{"vkey":"VK_H","value":"h","withShift":"H"},"KeyI":{"vkey":"VK_I","value":"i","withShift":"I"},"KeyJ":{"vkey":"VK_J","value":"j","withShift":"J"},"KeyK":{"vkey":"VK_K","value":"k","withShift":"K"},"KeyL":{"vkey":"VK_L","value":"l","withShift":"L"},"KeyM":{"vkey":"VK_M","value":"m","withShift":"M","withAltGr":""},"KeyN":{"vkey":"VK_N","value":"n","withShift":"N","withAltGr":"}"},"KeyO":{"vkey":"VK_O","value":"o","withShift":"O"},"KeyP":{"vkey":"VK_P","value":"p","withShift":"P"},"KeyQ":{"vkey":"VK_Q","value":"q","withShift":"Q","withAltGr":"\\\\"},"KeyR":{"vkey":"VK_R","value":"r","withShift":"R"},"KeyS":{"vkey":"VK_S","value":"s","withShift":"S","withAltGr":""},"KeyT":{"vkey":"VK_T","value":"t","withShift":"T"},"KeyU":{"vkey":"VK_U","value":"u","withShift":"U","withAltGr":""},"KeyV":{"vkey":"VK_V","value":"v","withShift":"V","withAltGr":"@"},"KeyW":{"vkey":"VK_W","value":"w","withShift":"W","withAltGr":""},"KeyX":{"vkey":"VK_X","value":"x","withShift":"X"},"KeyY":{"vkey":"VK_Z","value":"z","withShift":"Z"},"KeyZ":{"vkey":"VK_Y","value":"y","withShift":"Y"},"Digit1":{"vkey":"VK_1","value":"1","withShift":"!","withAltGr":"~"},"Digit2":{"vkey":"VK_2","value":"2","withShift":"\\"","withAltGr":""},"Digit3":{"vkey":"VK_3","value":"3","withShift":"#","withAltGr":"^"},"Digit4":{"vkey":"VK_4","value":"4","withShift":"","withAltGr":""},"Digit5":{"vkey":"VK_5","value":"5","withShift":"%","withAltGr":""},"Digit6":{"vkey":"VK_6","value":"6","withShift":"&","withAltGr":""},"Digit7":{"vkey":"VK_7","value":"7","withShift":"/","withAltGr":"`"},"Digit8":{"vkey":"VK_8","value":"8","withShift":"(","withAltGr":""},"Digit9":{"vkey":"VK_9","value":"9","withShift":")","withAltGr":""},"Digit0":{"vkey":"VK_0","value":"0","withShift":"=","withAltGr":""},"Minus":{"vkey":"VK_OEM_PLUS","value":"+","withShift":"?","withAltGr":""},"Equal":{"vkey":"VK_OEM_2","value":"\'","withShift":"*","withAltGr":""},"BracketLeft":{"vkey":"VK_OEM_4","value":"","withShift":"","withAltGr":""},"BracketRight":{"vkey":"VK_OEM_6","value":"","withShift":"","withAltGr":""},"Backslash":{"vkey":"VK_OEM_5","value":"","withShift":""},"Semicolon":{"vkey":"VK_OEM_1","value":"","withShift":"","withAltGr":"$"},"Quote":{"vkey":"VK_OEM_7","value":"","withShift":"","withAltGr":""},"Backquote":{"vkey":"VK_OEM_3","value":"","withShift":""},"Comma":{"vkey":"VK_OEM_COMMA","value":",","withShift":";","withAltGr":"<"},"Period":{"vkey":"VK_OEM_PERIOD","value":".","withShift":":","withAltGr":">"},"Slash":{"vkey":"VK_OEM_MINUS","value":"-","withShift":"_"},"IntlBackslash":{"vkey":"VK_OEM_102","value":"<","withShift":">"},"IntlRo":{"vkey":"VK_ABNT_C1"},"IntlYen":{"vkey":"VK_UNKNOWN"}}}');

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/pt-Brazilian-mac.json":
/*!*********************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/pt-Brazilian-mac.json ***!
  \*********************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"info":{"id":"com.apple.keylayout.Brazilian","lang":"pt"},"mapping":{"KeyA":{"value":"a","withShift":"A","withAltGr":"","withShiftAltGr":""},"KeyB":{"value":"b","withShift":"B","withAltGr":"","withShiftAltGr":""},"KeyC":{"value":"c","withShift":"C","withAltGr":"","withShiftAltGr":""},"KeyD":{"value":"d","withShift":"D","withAltGr":"","withShiftAltGr":""},"KeyE":{"value":"e","withShift":"E","withAltGr":"","withShiftAltGr":""},"KeyF":{"value":"f","withShift":"F","withAltGr":"","withShiftAltGr":""},"KeyG":{"value":"g","withShift":"G","withAltGr":"","withShiftAltGr":""},"KeyH":{"value":"h","withShift":"H","withAltGr":"","withShiftAltGr":""},"KeyI":{"value":"i","withShift":"I","withAltGr":"","withShiftAltGr":""},"KeyJ":{"value":"j","withShift":"J","withAltGr":"","withShiftAltGr":""},"KeyK":{"value":"k","withShift":"K","withAltGr":"","withShiftAltGr":""},"KeyL":{"value":"l","withShift":"L","withAltGr":"","withShiftAltGr":""},"KeyM":{"value":"m","withShift":"M","withAltGr":"","withShiftAltGr":""},"KeyN":{"value":"n","withShift":"N","withAltGr":"","withShiftAltGr":""},"KeyO":{"value":"o","withShift":"O","withAltGr":"","withShiftAltGr":""},"KeyP":{"value":"p","withShift":"P","withAltGr":"","withShiftAltGr":""},"KeyQ":{"value":"q","withShift":"Q","withAltGr":"","withShiftAltGr":""},"KeyR":{"value":"r","withShift":"R","withAltGr":"","withShiftAltGr":""},"KeyS":{"value":"s","withShift":"S","withAltGr":"","withShiftAltGr":""},"KeyT":{"value":"t","withShift":"T","withAltGr":"","withShiftAltGr":""},"KeyU":{"value":"u","withShift":"U","withAltGr":"","withShiftAltGr":""},"KeyV":{"value":"v","withShift":"V","withAltGr":"","withShiftAltGr":""},"KeyW":{"value":"w","withShift":"W","withAltGr":"","withShiftAltGr":""},"KeyX":{"value":"x","withShift":"X","withAltGr":"","withShiftAltGr":""},"KeyY":{"value":"y","withShift":"Y","withAltGr":"","withShiftAltGr":""},"KeyZ":{"value":"z","withShift":"Z","withAltGr":"","withShiftAltGr":""},"Digit1":{"value":"1","withShift":"!","withAltGr":"","withShiftAltGr":""},"Digit2":{"value":"2","withShift":"@","withAltGr":"","withShiftAltGr":""},"Digit3":{"value":"3","withShift":"#","withAltGr":"","withShiftAltGr":""},"Digit4":{"value":"4","withShift":"$","withAltGr":"","withShiftAltGr":""},"Digit5":{"value":"5","withShift":"%","withAltGr":"","withShiftAltGr":""},"Digit6":{"value":"6","withShift":"^","withAltGr":"","withShiftAltGr":""},"Digit7":{"value":"7","withShift":"&","withAltGr":"","withShiftAltGr":""},"Digit8":{"value":"8","withShift":"*","withAltGr":"","withShiftAltGr":""},"Digit9":{"value":"9","withShift":"(","withAltGr":"","withShiftAltGr":""},"Digit0":{"value":"0","withShift":")","withAltGr":"","withShiftAltGr":""},"Minus":{"value":"-","withShift":"_","withAltGr":"","withShiftAltGr":""},"Equal":{"value":"=","withShift":"+","withAltGr":"","withShiftAltGr":""},"BracketLeft":{"value":"[","withShift":"{","withAltGr":"","withShiftAltGr":""},"BracketRight":{"value":"]","withShift":"}","withAltGr":"","withShiftAltGr":""},"Backslash":{"value":"\\\\","withShift":"|","withAltGr":"","withShiftAltGr":""},"Semicolon":{"value":";","withShift":":","withAltGr":"","withShiftAltGr":""},"Quote":{"value":"\'","withShift":"\\"","withAltGr":"","withShiftAltGr":""},"Backquote":{"value":"`","withShift":"~","withAltGr":"`","withShiftAltGr":"`"},"Comma":{"value":",","withShift":"<","withAltGr":"","withShiftAltGr":""},"Period":{"value":".","withShift":">","withAltGr":"","withShiftAltGr":""},"Slash":{"value":"/","withShift":"?","withAltGr":"","withShiftAltGr":""},"IntlBackslash":{"value":"","withShift":"","withAltGr":"","withShiftAltGr":""}}}');

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/pt-Portuguese-mac.json":
/*!**********************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/pt-Portuguese-mac.json ***!
  \**********************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"info":{"id":"com.apple.keylayout.Portuguese","lang":"pt"},"mapping":{"KeyA":{"value":"a","withShift":"A","withAltGr":"","withShiftAltGr":""},"KeyB":{"value":"b","withShift":"B","withAltGr":"","withShiftAltGr":""},"KeyC":{"value":"c","withShift":"C","withAltGr":"","withShiftAltGr":""},"KeyD":{"value":"d","withShift":"D","withAltGr":"","withShiftAltGr":""},"KeyE":{"value":"e","withShift":"E","withAltGr":"","withShiftAltGr":""},"KeyF":{"value":"f","withShift":"F","withAltGr":"","withShiftAltGr":""},"KeyG":{"value":"g","withShift":"G","withAltGr":"","withShiftAltGr":""},"KeyH":{"value":"h","withShift":"H","withAltGr":"","withShiftAltGr":""},"KeyI":{"value":"i","withShift":"I","withAltGr":"","withShiftAltGr":""},"KeyJ":{"value":"j","withShift":"J","withAltGr":"","withShiftAltGr":""},"KeyK":{"value":"k","withShift":"K","withAltGr":"","withShiftAltGr":""},"KeyL":{"value":"l","withShift":"L","withAltGr":"","withShiftAltGr":""},"KeyM":{"value":"m","withShift":"M","withAltGr":"","withShiftAltGr":""},"KeyN":{"value":"n","withShift":"N","withAltGr":"","withShiftAltGr":""},"KeyO":{"value":"o","withShift":"O","withAltGr":"","withShiftAltGr":""},"KeyP":{"value":"p","withShift":"P","withAltGr":"","withShiftAltGr":""},"KeyQ":{"value":"q","withShift":"Q","withAltGr":"","withShiftAltGr":""},"KeyR":{"value":"r","withShift":"R","withAltGr":"","withShiftAltGr":""},"KeyS":{"value":"s","withShift":"S","withAltGr":"","withShiftAltGr":""},"KeyT":{"value":"t","withShift":"T","withAltGr":"","withShiftAltGr":""},"KeyU":{"value":"u","withShift":"U","withAltGr":"","withShiftAltGr":""},"KeyV":{"value":"v","withShift":"V","withAltGr":"","withShiftAltGr":""},"KeyW":{"value":"w","withShift":"W","withAltGr":"","withShiftAltGr":""},"KeyX":{"value":"x","withShift":"X","withAltGr":"","withShiftAltGr":""},"KeyY":{"value":"y","withShift":"Y","withAltGr":"","withShiftAltGr":""},"KeyZ":{"value":"z","withShift":"Z","withAltGr":"","withShiftAltGr":""},"Digit1":{"value":"1","withShift":"!","withAltGr":"","withShiftAltGr":""},"Digit2":{"value":"2","withShift":"\\"","withAltGr":"@","withShiftAltGr":""},"Digit3":{"value":"3","withShift":"#","withAltGr":"","withShiftAltGr":""},"Digit4":{"value":"4","withShift":"$","withAltGr":"","withShiftAltGr":""},"Digit5":{"value":"5","withShift":"%","withAltGr":"","withShiftAltGr":""},"Digit6":{"value":"6","withShift":"&","withAltGr":"","withShiftAltGr":""},"Digit7":{"value":"7","withShift":"/","withAltGr":"","withShiftAltGr":""},"Digit8":{"value":"8","withShift":"(","withAltGr":"[","withShiftAltGr":"{"},"Digit9":{"value":"9","withShift":")","withAltGr":"]","withShiftAltGr":"}"},"Digit0":{"value":"0","withShift":"=","withAltGr":"","withShiftAltGr":""},"Minus":{"value":"\'","withShift":"?","withAltGr":"","withShiftAltGr":""},"Equal":{"value":"+","withShift":"*","withAltGr":"","withShiftAltGr":""},"BracketLeft":{"value":"","withShift":"","withAltGr":"","withShiftAltGr":""},"BracketRight":{"value":"","withShift":"`","withAltGr":"","withShiftAltGr":""},"Backslash":{"value":"\\\\","withShift":"|","withAltGr":"","withShiftAltGr":""},"Semicolon":{"value":"","withShift":"","withAltGr":"","withShiftAltGr":""},"Quote":{"value":"~","withShift":"^","withAltGr":"","withShiftAltGr":""},"Backquote":{"value":"<","withShift":">","withAltGr":"","withShiftAltGr":""},"Comma":{"value":",","withShift":";","withAltGr":"","withShiftAltGr":""},"Period":{"value":".","withShift":":","withAltGr":"","withShiftAltGr":""},"Slash":{"value":"-","withShift":"_","withAltGr":"","withShiftAltGr":""},"IntlBackslash":{"value":"","withShift":"","withAltGr":"","withShiftAltGr":""}}}');

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/pt-Portuguese-pc.json":
/*!*********************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/pt-Portuguese-pc.json ***!
  \*********************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"info":{"name":"00000816","id":"","text":"Portuguese"},"mapping":{"KeyA":{"vkey":"VK_A","value":"a","withShift":"A"},"KeyB":{"vkey":"VK_B","value":"b","withShift":"B"},"KeyC":{"vkey":"VK_C","value":"c","withShift":"C"},"KeyD":{"vkey":"VK_D","value":"d","withShift":"D"},"KeyE":{"vkey":"VK_E","value":"e","withShift":"E","withAltGr":""},"KeyF":{"vkey":"VK_F","value":"f","withShift":"F"},"KeyG":{"vkey":"VK_G","value":"g","withShift":"G"},"KeyH":{"vkey":"VK_H","value":"h","withShift":"H"},"KeyI":{"vkey":"VK_I","value":"i","withShift":"I"},"KeyJ":{"vkey":"VK_J","value":"j","withShift":"J"},"KeyK":{"vkey":"VK_K","value":"k","withShift":"K"},"KeyL":{"vkey":"VK_L","value":"l","withShift":"L"},"KeyM":{"vkey":"VK_M","value":"m","withShift":"M"},"KeyN":{"vkey":"VK_N","value":"n","withShift":"N"},"KeyO":{"vkey":"VK_O","value":"o","withShift":"O"},"KeyP":{"vkey":"VK_P","value":"p","withShift":"P"},"KeyQ":{"vkey":"VK_Q","value":"q","withShift":"Q"},"KeyR":{"vkey":"VK_R","value":"r","withShift":"R"},"KeyS":{"vkey":"VK_S","value":"s","withShift":"S"},"KeyT":{"vkey":"VK_T","value":"t","withShift":"T"},"KeyU":{"vkey":"VK_U","value":"u","withShift":"U"},"KeyV":{"vkey":"VK_V","value":"v","withShift":"V"},"KeyW":{"vkey":"VK_W","value":"w","withShift":"W"},"KeyX":{"vkey":"VK_X","value":"x","withShift":"X"},"KeyY":{"vkey":"VK_Y","value":"y","withShift":"Y"},"KeyZ":{"vkey":"VK_Z","value":"z","withShift":"Z"},"Digit1":{"vkey":"VK_1","value":"1","withShift":"!"},"Digit2":{"vkey":"VK_2","value":"2","withShift":"\\"","withAltGr":"@"},"Digit3":{"vkey":"VK_3","value":"3","withShift":"#","withAltGr":""},"Digit4":{"vkey":"VK_4","value":"4","withShift":"$","withAltGr":""},"Digit5":{"vkey":"VK_5","value":"5","withShift":"%","withAltGr":""},"Digit6":{"vkey":"VK_6","value":"6","withShift":"&"},"Digit7":{"vkey":"VK_7","value":"7","withShift":"/","withAltGr":"{"},"Digit8":{"vkey":"VK_8","value":"8","withShift":"(","withAltGr":"["},"Digit9":{"vkey":"VK_9","value":"9","withShift":")","withAltGr":"]"},"Digit0":{"vkey":"VK_0","value":"0","withShift":"=","withAltGr":"}"},"Minus":{"vkey":"VK_OEM_4","value":"\'","withShift":"?"},"Equal":{"vkey":"VK_OEM_6","value":"","withShift":""},"BracketLeft":{"vkey":"VK_OEM_PLUS","value":"+","withShift":"*","withAltGr":""},"BracketRight":{"vkey":"VK_OEM_1","value":"","withShift":"`","withAltGr":"]"},"Backslash":{"vkey":"VK_OEM_2","value":"~","withShift":"^"},"Semicolon":{"vkey":"VK_OEM_3","value":"","withShift":""},"Quote":{"vkey":"VK_OEM_7","value":"","withShift":""},"Backquote":{"vkey":"VK_OEM_5","value":"\\\\","withShift":"|"},"Comma":{"vkey":"VK_OEM_COMMA","value":",","withShift":";"},"Period":{"vkey":"VK_OEM_PERIOD","value":".","withShift":":"},"Slash":{"vkey":"VK_OEM_MINUS","value":"-","withShift":"_"},"IntlBackslash":{"vkey":"VK_OEM_102","value":"<","withShift":">"},"IntlRo":{"vkey":"VK_ABNT_C1"},"IntlYen":{"vkey":"VK_UNKNOWN"}}}');

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/ro-Romanian-mac.json":
/*!********************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/ro-Romanian-mac.json ***!
  \********************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"info":{"id":"com.apple.keylayout.Romanian","lang":"ro"},"mapping":{"KeyA":{"value":"a","withShift":"A","withAltGr":"","withShiftAltGr":""},"KeyB":{"value":"b","withShift":"B","withAltGr":"","withShiftAltGr":""},"KeyC":{"value":"c","withShift":"C","withAltGr":"","withShiftAltGr":""},"KeyD":{"value":"d","withShift":"D","withAltGr":"","withShiftAltGr":"`"},"KeyE":{"value":"e","withShift":"E","withAltGr":"","withShiftAltGr":""},"KeyF":{"value":"f","withShift":"F","withAltGr":"","withShiftAltGr":""},"KeyG":{"value":"g","withShift":"G","withAltGr":"","withShiftAltGr":""},"KeyH":{"value":"h","withShift":"H","withAltGr":"","withShiftAltGr":""},"KeyI":{"value":"i","withShift":"I","withAltGr":"","withShiftAltGr":""},"KeyJ":{"value":"j","withShift":"J","withAltGr":"","withShiftAltGr":""},"KeyK":{"value":"k","withShift":"K","withAltGr":"","withShiftAltGr":""},"KeyL":{"value":"l","withShift":"L","withAltGr":"","withShiftAltGr":""},"KeyM":{"value":"m","withShift":"M","withAltGr":"","withShiftAltGr":""},"KeyN":{"value":"n","withShift":"N","withAltGr":"","withShiftAltGr":""},"KeyO":{"value":"o","withShift":"O","withAltGr":"","withShiftAltGr":""},"KeyP":{"value":"p","withShift":"P","withAltGr":"","withShiftAltGr":""},"KeyQ":{"value":"q","withShift":"Q","withAltGr":"","withShiftAltGr":""},"KeyR":{"value":"r","withShift":"R","withAltGr":"","withShiftAltGr":""},"KeyS":{"value":"s","withShift":"S","withAltGr":"","withShiftAltGr":""},"KeyT":{"value":"t","withShift":"T","withAltGr":"","withShiftAltGr":""},"KeyU":{"value":"u","withShift":"U","withAltGr":"","withShiftAltGr":""},"KeyV":{"value":"v","withShift":"V","withAltGr":"","withShiftAltGr":""},"KeyW":{"value":"w","withShift":"W","withAltGr":"","withShiftAltGr":""},"KeyX":{"value":"x","withShift":"X","withAltGr":"","withShiftAltGr":""},"KeyY":{"value":"y","withShift":"Y","withAltGr":"`","withShiftAltGr":""},"KeyZ":{"value":"z","withShift":"Z","withAltGr":"","withShiftAltGr":""},"Digit1":{"value":"1","withShift":"!","withAltGr":"","withShiftAltGr":""},"Digit2":{"value":"2","withShift":"@","withAltGr":"","withShiftAltGr":""},"Digit3":{"value":"3","withShift":"#","withAltGr":"","withShiftAltGr":""},"Digit4":{"value":"4","withShift":"$","withAltGr":"","withShiftAltGr":""},"Digit5":{"value":"5","withShift":"%","withAltGr":"","withShiftAltGr":""},"Digit6":{"value":"6","withShift":"^","withAltGr":"","withShiftAltGr":""},"Digit7":{"value":"7","withShift":"&","withAltGr":"","withShiftAltGr":""},"Digit8":{"value":"8","withShift":"*","withAltGr":"","withShiftAltGr":""},"Digit9":{"value":"9","withShift":"(","withAltGr":"","withShiftAltGr":""},"Digit0":{"value":"0","withShift":")","withAltGr":"","withShiftAltGr":""},"Minus":{"value":"-","withShift":"_","withAltGr":"","withShiftAltGr":""},"Equal":{"value":"=","withShift":"+","withAltGr":"","withShiftAltGr":""},"BracketLeft":{"value":"","withShift":"","withAltGr":"[","withShiftAltGr":"{"},"BracketRight":{"value":"","withShift":"","withAltGr":"]","withShiftAltGr":"}"},"Backslash":{"value":"","withShift":"","withAltGr":"\\\\","withShiftAltGr":"|"},"Semicolon":{"value":";","withShift":":","withAltGr":"","withShiftAltGr":""},"Quote":{"value":"\'","withShift":"\\"","withAltGr":"","withShiftAltGr":""},"Backquote":{"value":"","withShift":"","withAltGr":"","withShiftAltGr":""},"Comma":{"value":",","withShift":"<","withAltGr":"","withShiftAltGr":""},"Period":{"value":".","withShift":">","withAltGr":"","withShiftAltGr":""},"Slash":{"value":"/","withShift":"?","withAltGr":"","withShiftAltGr":""},"IntlBackslash":{"value":"","withShift":"","withAltGr":"`","withShiftAltGr":"~"}}}');

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/ro-Romanian-pc.json":
/*!*******************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/ro-Romanian-pc.json ***!
  \*******************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"info":{"name":"00010418","id":"00a5","text":"Romanian (Standard)"},"mapping":{"KeyA":{"vkey":"VK_A","value":"a","withShift":"A"},"KeyB":{"vkey":"VK_B","value":"b","withShift":"B"},"KeyC":{"vkey":"VK_C","value":"c","withShift":"C","withAltGr":""},"KeyD":{"vkey":"VK_D","value":"d","withShift":"D","withAltGr":"","withShiftAltGr":""},"KeyE":{"vkey":"VK_E","value":"e","withShift":"E","withAltGr":""},"KeyF":{"vkey":"VK_F","value":"f","withShift":"F"},"KeyG":{"vkey":"VK_G","value":"g","withShift":"G"},"KeyH":{"vkey":"VK_H","value":"h","withShift":"H"},"KeyI":{"vkey":"VK_I","value":"i","withShift":"I"},"KeyJ":{"vkey":"VK_J","value":"j","withShift":"J"},"KeyK":{"vkey":"VK_K","value":"k","withShift":"K"},"KeyL":{"vkey":"VK_L","value":"l","withShift":"L","withAltGr":"","withShiftAltGr":""},"KeyM":{"vkey":"VK_M","value":"m","withShift":"M"},"KeyN":{"vkey":"VK_N","value":"n","withShift":"N"},"KeyO":{"vkey":"VK_O","value":"o","withShift":"O"},"KeyP":{"vkey":"VK_P","value":"p","withShift":"P","withAltGr":""},"KeyQ":{"vkey":"VK_Q","value":"q","withShift":"Q"},"KeyR":{"vkey":"VK_R","value":"r","withShift":"R"},"KeyS":{"vkey":"VK_S","value":"s","withShift":"S","withAltGr":""},"KeyT":{"vkey":"VK_T","value":"t","withShift":"T"},"KeyU":{"vkey":"VK_U","value":"u","withShift":"U"},"KeyV":{"vkey":"VK_V","value":"v","withShift":"V"},"KeyW":{"vkey":"VK_W","value":"w","withShift":"W"},"KeyX":{"vkey":"VK_X","value":"x","withShift":"X"},"KeyY":{"vkey":"VK_Y","value":"y","withShift":"Y"},"KeyZ":{"vkey":"VK_Z","value":"z","withShift":"Z"},"Digit1":{"vkey":"VK_1","value":"1","withShift":"!","withAltGr":"~"},"Digit2":{"vkey":"VK_2","value":"2","withShift":"@","withAltGr":""},"Digit3":{"vkey":"VK_3","value":"3","withShift":"#","withAltGr":"^"},"Digit4":{"vkey":"VK_4","value":"4","withShift":"$","withAltGr":""},"Digit5":{"vkey":"VK_5","value":"5","withShift":"%","withAltGr":""},"Digit6":{"vkey":"VK_6","value":"6","withShift":"^","withAltGr":""},"Digit7":{"vkey":"VK_7","value":"7","withShift":"&","withAltGr":"`"},"Digit8":{"vkey":"VK_8","value":"8","withShift":"*","withAltGr":""},"Digit9":{"vkey":"VK_9","value":"9","withShift":"(","withAltGr":""},"Digit0":{"vkey":"VK_0","value":"0","withShift":")","withAltGr":""},"Minus":{"vkey":"VK_OEM_MINUS","value":"-","withShift":"_","withAltGr":"","withShiftAltGr":""},"Equal":{"vkey":"VK_OEM_PLUS","value":"=","withShift":"+","withAltGr":"","withShiftAltGr":""},"BracketLeft":{"vkey":"VK_OEM_4","value":"","withShift":"","withAltGr":"[","withShiftAltGr":"{"},"BracketRight":{"vkey":"VK_OEM_6","value":"","withShift":"","withAltGr":"]","withShiftAltGr":"}"},"Backslash":{"vkey":"VK_OEM_5","value":"","withShift":"","withAltGr":"\\\\","withShiftAltGr":"|"},"Semicolon":{"vkey":"VK_OEM_1","value":"","withShift":"","withAltGr":";","withShiftAltGr":":"},"Quote":{"vkey":"VK_OEM_7","value":"","withShift":"","withAltGr":"\'","withShiftAltGr":"\\""},"Backquote":{"vkey":"VK_OEM_3","value":"","withShift":"","withAltGr":"`","withShiftAltGr":"~"},"Comma":{"vkey":"VK_OEM_COMMA","value":",","withShift":";","withAltGr":"<","withShiftAltGr":""},"Period":{"vkey":"VK_OEM_PERIOD","value":".","withShift":":","withAltGr":">","withShiftAltGr":""},"Slash":{"vkey":"VK_OEM_2","value":"/","withShift":"?"},"IntlBackslash":{"vkey":"VK_OEM_102","value":"\\\\","withShift":"|"},"IntlRo":{"vkey":"VK_ABNT_C1"},"IntlYen":{"vkey":"VK_UNKNOWN"}}}');

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/sv-Swedish-mac.json":
/*!*******************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/sv-Swedish-mac.json ***!
  \*******************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"info":{"id":"com.apple.keylayout.Swedish","lang":"sv"},"mapping":{"KeyA":{"value":"a","withShift":"A","withAltGr":"","withShiftAltGr":""},"KeyB":{"value":"b","withShift":"B","withAltGr":"","withShiftAltGr":""},"KeyC":{"value":"c","withShift":"C","withAltGr":"","withShiftAltGr":""},"KeyD":{"value":"d","withShift":"D","withAltGr":"","withShiftAltGr":""},"KeyE":{"value":"e","withShift":"E","withAltGr":"","withShiftAltGr":""},"KeyF":{"value":"f","withShift":"F","withAltGr":"","withShiftAltGr":""},"KeyG":{"value":"g","withShift":"G","withAltGr":"","withShiftAltGr":""},"KeyH":{"value":"h","withShift":"H","withAltGr":"","withShiftAltGr":""},"KeyI":{"value":"i","withShift":"I","withAltGr":"","withShiftAltGr":""},"KeyJ":{"value":"j","withShift":"J","withAltGr":"","withShiftAltGr":""},"KeyK":{"value":"k","withShift":"K","withAltGr":"","withShiftAltGr":""},"KeyL":{"value":"l","withShift":"L","withAltGr":"","withShiftAltGr":""},"KeyM":{"value":"m","withShift":"M","withAltGr":"","withShiftAltGr":""},"KeyN":{"value":"n","withShift":"N","withAltGr":"","withShiftAltGr":""},"KeyO":{"value":"o","withShift":"O","withAltGr":"","withShiftAltGr":""},"KeyP":{"value":"p","withShift":"P","withAltGr":"","withShiftAltGr":""},"KeyQ":{"value":"q","withShift":"Q","withAltGr":"","withShiftAltGr":""},"KeyR":{"value":"r","withShift":"R","withAltGr":"","withShiftAltGr":""},"KeyS":{"value":"s","withShift":"S","withAltGr":"","withShiftAltGr":""},"KeyT":{"value":"t","withShift":"T","withAltGr":"","withShiftAltGr":""},"KeyU":{"value":"u","withShift":"U","withAltGr":"","withShiftAltGr":""},"KeyV":{"value":"v","withShift":"V","withAltGr":"","withShiftAltGr":""},"KeyW":{"value":"w","withShift":"W","withAltGr":"","withShiftAltGr":""},"KeyX":{"value":"x","withShift":"X","withAltGr":"","withShiftAltGr":""},"KeyY":{"value":"y","withShift":"Y","withAltGr":"","withShiftAltGr":""},"KeyZ":{"value":"z","withShift":"Z","withAltGr":"","withShiftAltGr":""},"Digit1":{"value":"1","withShift":"!","withAltGr":"","withShiftAltGr":""},"Digit2":{"value":"2","withShift":"\\"","withAltGr":"","withShiftAltGr":""},"Digit3":{"value":"3","withShift":"#","withAltGr":"","withShiftAltGr":""},"Digit4":{"value":"4","withShift":"","withAltGr":"$","withShiftAltGr":""},"Digit5":{"value":"5","withShift":"%","withAltGr":"","withShiftAltGr":""},"Digit6":{"value":"6","withShift":"&","withAltGr":"","withShiftAltGr":""},"Digit7":{"value":"7","withShift":"/","withAltGr":"|","withShiftAltGr":"\\\\"},"Digit8":{"value":"8","withShift":"(","withAltGr":"[","withShiftAltGr":"{"},"Digit9":{"value":"9","withShift":")","withAltGr":"]","withShiftAltGr":"}"},"Digit0":{"value":"0","withShift":"=","withAltGr":"","withShiftAltGr":""},"Minus":{"value":"+","withShift":"?","withAltGr":"","withShiftAltGr":""},"Equal":{"value":"","withShift":"`","withAltGr":"","withShiftAltGr":"`"},"BracketLeft":{"value":"","withShift":"","withAltGr":"","withShiftAltGr":""},"BracketRight":{"value":"","withShift":"^","withAltGr":"~","withShiftAltGr":"^"},"Backslash":{"value":"\'","withShift":"*","withAltGr":"@","withShiftAltGr":""},"Semicolon":{"value":"","withShift":"","withAltGr":"","withShiftAltGr":""},"Quote":{"value":"","withShift":"","withAltGr":"","withShiftAltGr":""},"Backquote":{"value":"<","withShift":">","withAltGr":"","withShiftAltGr":""},"Comma":{"value":",","withShift":";","withAltGr":"","withShiftAltGr":""},"Period":{"value":".","withShift":":","withAltGr":"","withShiftAltGr":""},"Slash":{"value":"-","withShift":"_","withAltGr":"","withShiftAltGr":""},"IntlBackslash":{"value":"","withShift":"","withAltGr":"","withShiftAltGr":""}}}');

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/sv-Swedish-pc.json":
/*!******************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/sv-Swedish-pc.json ***!
  \******************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"info":{"name":"0000041D","id":"","text":"Swedish"},"mapping":{"KeyA":{"vkey":"VK_A","value":"a","withShift":"A"},"KeyB":{"vkey":"VK_B","value":"b","withShift":"B"},"KeyC":{"vkey":"VK_C","value":"c","withShift":"C"},"KeyD":{"vkey":"VK_D","value":"d","withShift":"D"},"KeyE":{"vkey":"VK_E","value":"e","withShift":"E","withAltGr":""},"KeyF":{"vkey":"VK_F","value":"f","withShift":"F"},"KeyG":{"vkey":"VK_G","value":"g","withShift":"G"},"KeyH":{"vkey":"VK_H","value":"h","withShift":"H"},"KeyI":{"vkey":"VK_I","value":"i","withShift":"I"},"KeyJ":{"vkey":"VK_J","value":"j","withShift":"J"},"KeyK":{"vkey":"VK_K","value":"k","withShift":"K"},"KeyL":{"vkey":"VK_L","value":"l","withShift":"L"},"KeyM":{"vkey":"VK_M","value":"m","withShift":"M","withAltGr":""},"KeyN":{"vkey":"VK_N","value":"n","withShift":"N"},"KeyO":{"vkey":"VK_O","value":"o","withShift":"O"},"KeyP":{"vkey":"VK_P","value":"p","withShift":"P"},"KeyQ":{"vkey":"VK_Q","value":"q","withShift":"Q"},"KeyR":{"vkey":"VK_R","value":"r","withShift":"R"},"KeyS":{"vkey":"VK_S","value":"s","withShift":"S"},"KeyT":{"vkey":"VK_T","value":"t","withShift":"T"},"KeyU":{"vkey":"VK_U","value":"u","withShift":"U"},"KeyV":{"vkey":"VK_V","value":"v","withShift":"V"},"KeyW":{"vkey":"VK_W","value":"w","withShift":"W"},"KeyX":{"vkey":"VK_X","value":"x","withShift":"X"},"KeyY":{"vkey":"VK_Y","value":"y","withShift":"Y"},"KeyZ":{"vkey":"VK_Z","value":"z","withShift":"Z"},"Digit1":{"vkey":"VK_1","value":"1","withShift":"!"},"Digit2":{"vkey":"VK_2","value":"2","withShift":"\\"","withAltGr":"@"},"Digit3":{"vkey":"VK_3","value":"3","withShift":"#","withAltGr":""},"Digit4":{"vkey":"VK_4","value":"4","withShift":"","withAltGr":"$"},"Digit5":{"vkey":"VK_5","value":"5","withShift":"%","withAltGr":""},"Digit6":{"vkey":"VK_6","value":"6","withShift":"&"},"Digit7":{"vkey":"VK_7","value":"7","withShift":"/","withAltGr":"{"},"Digit8":{"vkey":"VK_8","value":"8","withShift":"(","withAltGr":"["},"Digit9":{"vkey":"VK_9","value":"9","withShift":")","withAltGr":"]"},"Digit0":{"vkey":"VK_0","value":"0","withShift":"=","withAltGr":"}"},"Minus":{"vkey":"VK_OEM_PLUS","value":"+","withShift":"?","withAltGr":"\\\\"},"Equal":{"vkey":"VK_OEM_4","value":"","withShift":"`"},"BracketLeft":{"vkey":"VK_OEM_6","value":"","withShift":""},"BracketRight":{"vkey":"VK_OEM_1","value":"","withShift":"^","withAltGr":"~"},"Backslash":{"vkey":"VK_OEM_2","value":"\'","withShift":"*"},"Semicolon":{"vkey":"VK_OEM_3","value":"","withShift":""},"Quote":{"vkey":"VK_OEM_7","value":"","withShift":""},"Backquote":{"vkey":"VK_OEM_5","value":"","withShift":""},"Comma":{"vkey":"VK_OEM_COMMA","value":",","withShift":";"},"Period":{"vkey":"VK_OEM_PERIOD","value":".","withShift":":"},"Slash":{"vkey":"VK_OEM_MINUS","value":"-","withShift":"_"},"IntlBackslash":{"vkey":"VK_OEM_102","value":"<","withShift":">","withAltGr":"|"},"IntlRo":{"vkey":"VK_ABNT_C1"},"IntlYen":{"vkey":"VK_UNKNOWN"}}}');

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/tr-Turkish_Q-mac.json":
/*!*********************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/tr-Turkish_Q-mac.json ***!
  \*********************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"info":{"id":"com.apple.keylayout.Turkish-QWERTY-PC","lang":"tr"},"mapping":{"KeyA":{"value":"a","withShift":"A","withAltGr":"","withShiftAltGr":""},"KeyB":{"value":"b","withShift":"B","withAltGr":"","withShiftAltGr":""},"KeyC":{"value":"c","withShift":"C","withAltGr":"","withShiftAltGr":""},"KeyD":{"value":"d","withShift":"D","withAltGr":"","withShiftAltGr":""},"KeyE":{"value":"e","withShift":"E","withAltGr":"","withShiftAltGr":""},"KeyF":{"value":"f","withShift":"F","withAltGr":"","withShiftAltGr":""},"KeyG":{"value":"g","withShift":"G","withAltGr":"","withShiftAltGr":""},"KeyH":{"value":"h","withShift":"H","withAltGr":"^","withShiftAltGr":""},"KeyI":{"value":"","withShift":"I","withAltGr":"i","withShiftAltGr":""},"KeyJ":{"value":"j","withShift":"J","withAltGr":"","withShiftAltGr":""},"KeyK":{"value":"k","withShift":"K","withAltGr":"","withShiftAltGr":""},"KeyL":{"value":"l","withShift":"L","withAltGr":"","withShiftAltGr":""},"KeyM":{"value":"m","withShift":"M","withAltGr":"","withShiftAltGr":""},"KeyN":{"value":"n","withShift":"N","withAltGr":"~","withShiftAltGr":""},"KeyO":{"value":"o","withShift":"O","withAltGr":"","withShiftAltGr":""},"KeyP":{"value":"p","withShift":"P","withAltGr":"","withShiftAltGr":""},"KeyQ":{"value":"q","withShift":"Q","withAltGr":"@","withShiftAltGr":""},"KeyR":{"value":"r","withShift":"R","withAltGr":"","withShiftAltGr":""},"KeyS":{"value":"s","withShift":"S","withAltGr":"","withShiftAltGr":""},"KeyT":{"value":"t","withShift":"T","withAltGr":"","withShiftAltGr":""},"KeyU":{"value":"u","withShift":"U","withAltGr":"","withShiftAltGr":""},"KeyV":{"value":"v","withShift":"V","withAltGr":"","withShiftAltGr":""},"KeyW":{"value":"w","withShift":"W","withAltGr":"","withShiftAltGr":""},"KeyX":{"value":"x","withShift":"X","withAltGr":"","withShiftAltGr":""},"KeyY":{"value":"y","withShift":"Y","withAltGr":"","withShiftAltGr":""},"KeyZ":{"value":"z","withShift":"Z","withAltGr":"","withShiftAltGr":""},"Digit1":{"value":"1","withShift":"!","withAltGr":">","withShiftAltGr":""},"Digit2":{"value":"2","withShift":"\'","withAltGr":"","withShiftAltGr":""},"Digit3":{"value":"3","withShift":"^","withAltGr":"#","withShiftAltGr":""},"Digit4":{"value":"4","withShift":"+","withAltGr":"$","withShiftAltGr":""},"Digit5":{"value":"5","withShift":"%","withAltGr":"","withShiftAltGr":""},"Digit6":{"value":"6","withShift":"&","withAltGr":"","withShiftAltGr":""},"Digit7":{"value":"7","withShift":"/","withAltGr":"{","withShiftAltGr":""},"Digit8":{"value":"8","withShift":"(","withAltGr":"[","withShiftAltGr":""},"Digit9":{"value":"9","withShift":")","withAltGr":"]","withShiftAltGr":""},"Digit0":{"value":"0","withShift":"=","withAltGr":"}","withShiftAltGr":""},"Minus":{"value":"*","withShift":"?","withAltGr":"\\\\","withShiftAltGr":""},"Equal":{"value":"-","withShift":"_","withAltGr":"|","withShiftAltGr":""},"BracketLeft":{"value":"","withShift":"","withAltGr":"","withShiftAltGr":""},"BracketRight":{"value":"","withShift":"","withAltGr":"~","withShiftAltGr":""},"Backslash":{"value":",","withShift":";","withAltGr":"`","withShiftAltGr":""},"Semicolon":{"value":"","withShift":"","withAltGr":"","withShiftAltGr":""},"Quote":{"value":"i","withShift":"","withAltGr":"","withShiftAltGr":""},"Backquote":{"value":"<","withShift":">","withAltGr":"|","withShiftAltGr":""},"Comma":{"value":"","withShift":"","withAltGr":"","withShiftAltGr":""},"Period":{"value":"","withShift":"","withAltGr":"","withShiftAltGr":""},"Slash":{"value":".","withShift":":","withAltGr":"","withShiftAltGr":""},"IntlBackslash":{"value":"\\"","withShift":"","withAltGr":"<"}}}');

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/tr-Turkish_Q-pc.json":
/*!********************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts/tr-Turkish_Q-pc.json ***!
  \********************************************************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"info":{"name":"0000041F","id":"","text":"Turkish Q"},"mapping":{"KeyA":{"vkey":"VK_A","value":"a","withShift":"A","withAltGr":"","withShiftAltGr":""},"KeyB":{"vkey":"VK_B","value":"b","withShift":"B"},"KeyC":{"vkey":"VK_C","value":"c","withShift":"C"},"KeyD":{"vkey":"VK_D","value":"d","withShift":"D"},"KeyE":{"vkey":"VK_E","value":"e","withShift":"E","withAltGr":""},"KeyF":{"vkey":"VK_F","value":"f","withShift":"F"},"KeyG":{"vkey":"VK_G","value":"g","withShift":"G"},"KeyH":{"vkey":"VK_H","value":"h","withShift":"H"},"KeyI":{"vkey":"VK_I","value":"","withShift":"I","withAltGr":"i","withShiftAltGr":""},"KeyJ":{"vkey":"VK_J","value":"j","withShift":"J"},"KeyK":{"vkey":"VK_K","value":"k","withShift":"K"},"KeyL":{"vkey":"VK_L","value":"l","withShift":"L"},"KeyM":{"vkey":"VK_M","value":"m","withShift":"M"},"KeyN":{"vkey":"VK_N","value":"n","withShift":"N"},"KeyO":{"vkey":"VK_O","value":"o","withShift":"O"},"KeyP":{"vkey":"VK_P","value":"p","withShift":"P"},"KeyQ":{"vkey":"VK_Q","value":"q","withShift":"Q","withAltGr":"@"},"KeyR":{"vkey":"VK_R","value":"r","withShift":"R"},"KeyS":{"vkey":"VK_S","value":"s","withShift":"S","withAltGr":""},"KeyT":{"vkey":"VK_T","value":"t","withShift":"T","withAltGr":""},"KeyU":{"vkey":"VK_U","value":"u","withShift":"U"},"KeyV":{"vkey":"VK_V","value":"v","withShift":"V"},"KeyW":{"vkey":"VK_W","value":"w","withShift":"W"},"KeyX":{"vkey":"VK_X","value":"x","withShift":"X"},"KeyY":{"vkey":"VK_Y","value":"y","withShift":"Y"},"KeyZ":{"vkey":"VK_Z","value":"z","withShift":"Z"},"Digit1":{"vkey":"VK_1","value":"1","withShift":"!","withAltGr":">"},"Digit2":{"vkey":"VK_2","value":"2","withShift":"\'","withAltGr":""},"Digit3":{"vkey":"VK_3","value":"3","withShift":"^","withAltGr":"#"},"Digit4":{"vkey":"VK_4","value":"4","withShift":"+","withAltGr":"$"},"Digit5":{"vkey":"VK_5","value":"5","withShift":"%","withAltGr":""},"Digit6":{"vkey":"VK_6","value":"6","withShift":"&"},"Digit7":{"vkey":"VK_7","value":"7","withShift":"/","withAltGr":"{"},"Digit8":{"vkey":"VK_8","value":"8","withShift":"(","withAltGr":"["},"Digit9":{"vkey":"VK_9","value":"9","withShift":")","withAltGr":"]"},"Digit0":{"vkey":"VK_0","value":"0","withShift":"=","withAltGr":"}"},"Minus":{"vkey":"VK_OEM_8","value":"*","withShift":"?","withAltGr":"\\\\"},"Equal":{"vkey":"VK_OEM_MINUS","value":"-","withShift":"_","withAltGr":"|"},"BracketLeft":{"vkey":"VK_OEM_4","value":"","withShift":"","withAltGr":""},"BracketRight":{"vkey":"VK_OEM_6","value":"","withShift":"","withAltGr":"~"},"Backslash":{"vkey":"VK_OEM_COMMA","value":",","withShift":";","withAltGr":"`"},"Semicolon":{"vkey":"VK_OEM_1","value":"","withShift":"","withAltGr":""},"Quote":{"vkey":"VK_OEM_7","value":"i","withShift":""},"Backquote":{"vkey":"VK_OEM_3","value":"\\"","withShift":"","withAltGr":"<"},"Comma":{"vkey":"VK_OEM_2","value":"","withShift":""},"Period":{"vkey":"VK_OEM_5","value":"","withShift":""},"Slash":{"vkey":"VK_OEM_PERIOD","value":".","withShift":":"},"IntlBackslash":{"vkey":"VK_OEM_102","value":"<","withShift":">","withAltGr":"|"},"IntlRo":{"vkey":"VK_ABNT_C1"},"IntlYen":{"vkey":"VK_UNKNOWN"}}}');

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/shared/vscode-languageserver-types.js":
/*!*********************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/shared/vscode-languageserver-types.js ***!
  \*********************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = __webpack_require__(/*! vscode-languageserver-types */ "../node_modules/vscode-languageserver-types/lib/esm/main.js");

/***/ }),

/***/ "../node_modules/css-loader/index.js!../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/style/variables-bright.useable.css":
/*!******************************************************************************************************************************************************!*\
  !*** ../node_modules/css-loader/index.js!../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/style/variables-bright.useable.css ***!
  \******************************************************************************************************************************************************/
/***/ ((module, exports, __webpack_require__) => {

var escape = __webpack_require__(/*! ../../../../../../../../css-loader/lib/url/escape.js */ "../node_modules/css-loader/lib/url/escape.js");
exports = module.exports = __webpack_require__(/*! ../../../../../../../../css-loader/lib/css-base.js */ "../node_modules/css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.id, "/*\nThe following CSS variables define the main public API for styling Theia.\nThese variables should be used by all extensions wherever possible. In other\nwords, extensions should not define custom colors, sizes, etc. unless\nabsolutely necessary. This enables users to adapt the visual theme of Theia\nby changing these variables.\n\nMany variables appear in ordered sequences (0,1,2,...). For most of these\nsequences, colors go from dark to bright for dark themes, and from bright to\ndark for bright themes. A few sequences are used to create contrast against\nthe others, e.g. font and accent colors, and thus their brightness goes the\nother way around.\n\nThroughout Theia, we are mostly following principles from Google's Material\nDesign when selecting colors. We are not, however, following all of MD as it\nis not optimized for dense, information rich UIs.\n*/\n\n\n:root {\n\n  /* Borders */\n\n  --theia-border-width: 1px;\n  --theia-panel-border-width: 2px;\n\n\n  /* UI fonts\n    ---------------------------------------------------\n     The UI font CSS variables are used for the typography all of the Theia\n     user interface elements that are not directly user-generated content.\n  */\n\n  --theia-ui-font-scale-factor: 1.2;\n  --theia-ui-font-size0: calc(var(--theia-ui-font-size1) / var(--theia-ui-font-scale-factor));\n  --theia-ui-font-size1: 13px; /* Base font size */\n  --theia-ui-font-size2: calc(var(--theia-ui-font-size1) * var(--theia-ui-font-scale-factor));\n  --theia-ui-font-size3: calc(var(--theia-ui-font-size2) * var(--theia-ui-font-scale-factor));\n  --theia-ui-icon-font-size: 14px; /* Ensures px perfect FontAwesome icons */\n  --theia-ui-font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n\n  /* Content fonts\n     Content font variables are used for typography of user-generated content.\n  */\n\n  --theia-content-font-size: 13px;\n  --theia-content-line-height: 22px;\n\n  --theia-code-font-size: 13px;\n  --theia-code-line-height: 17px;\n  --theia-code-padding: 5px;\n  --theia-code-font-family: Menlo, Monaco, Consolas, \"Droid Sans Mono\", \"Courier New\", monospace, \"Droid Sans Fallback\";\n  --theia-monospace-font-family: monospace;\n  --theia-ui-padding: 6px;\n\n  /* Icons */\n  --theia-icon-chevron-right: url(" + escape(__webpack_require__(/*! ../icons/chevron-right-light.svg */ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/chevron-right-light.svg")) + ");\n  --theia-icon-loading: url(" + escape(__webpack_require__(/*! ../icons/loading-light.svg */ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/loading-light.svg")) + ");\n  --theia-icon-close: url(" + escape(__webpack_require__(/*! ../icons/close-bright.svg */ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/close-bright.svg")) + ");\n  --theia-icon-arrow-up: url(" + escape(__webpack_require__(/*! ../icons/arrow-up-bright.svg */ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/arrow-up-bright.svg")) + ");\n  --theia-icon-arrow-down: url(" + escape(__webpack_require__(/*! ../icons/arrow-down-bright.svg */ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/arrow-down-bright.svg")) + ");\n  --theia-sprite-y-offset: 0px;\n  --theia-icon-circle: url(" + escape(__webpack_require__(/*! ../icons/circle-bright.svg */ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/circle-bright.svg")) + ");\n  --theia-preloader: url(" + escape(__webpack_require__(/*! ../icons/spinner.gif */ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/spinner.gif")) + ");\n  --theia-icon-case-sensitive: url(" + escape(__webpack_require__(/*! ../icons/case-sensitive.svg */ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/case-sensitive.svg")) + ");\n  --theia-icon-regex: url(" + escape(__webpack_require__(/*! ../icons/regex.svg */ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/regex.svg")) + ");\n  --theia-icon-whole-word: url(" + escape(__webpack_require__(/*! ../icons/whole-word.svg */ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/whole-word.svg")) + ");\n  --theia-icon-refresh: url(" + escape(__webpack_require__(/*! ../icons/Refresh.svg */ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/Refresh.svg")) + ");\n  --theia-icon-expand: url(" + escape(__webpack_require__(/*! ../icons/expand.svg */ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/expand.svg")) + ");\n  --theia-icon-close-all: url(" + escape(__webpack_require__(/*! ../icons/close-all-bright.svg */ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/close-all-bright.svg")) + ");\n  --theia-icon-collapse: url(" + escape(__webpack_require__(/*! ../icons/collapse.svg */ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/collapse.svg")) + ");\n  --theia-icon-collapse-all: url(" + escape(__webpack_require__(/*! ../icons/CollapseAll.svg */ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/CollapseAll.svg")) + ");\n  --theia-icon-remove-all: url(" + escape(__webpack_require__(/*! ../icons/remove-all.svg */ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/remove-all.svg")) + ");\n  --theia-icon-add: url(" + escape(__webpack_require__(/*! ../icons/add.svg */ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/add.svg")) + ");\n  --theia-icon-clear: url(" + escape(__webpack_require__(/*! ../icons/clear-search-results.svg */ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/clear-search-results.svg")) + ");\n  --theia-icon-replace: url(" + escape(__webpack_require__(/*! ../icons/replace.svg */ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/replace.svg")) + ");\n  --theia-icon-replace-all: url(" + escape(__webpack_require__(/*! ../icons/replace-all.svg */ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/replace-all.svg")) + ");\n  --theia-icon-open-file: url(" + escape(__webpack_require__(/*! ../icons/open-file-bright.svg */ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/open-file-bright.svg")) + ");\n  --theia-icon-open-change: url(" + escape(__webpack_require__(/*! ../icons/open-change-bright.svg */ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/open-change-bright.svg")) + ");\n  --theia-icon-preview: url(" + escape(__webpack_require__(/*! ../icons/preview-bright.svg */ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/preview-bright.svg")) + ");\n  --theia-icon-open-json: url(" + escape(__webpack_require__(/*! ../icons/edit-json.svg */ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/edit-json.svg")) + ");\n  --theia-icon-size: 16px;\n\n  /* Scrollbars */\n  --theia-scrollbar-width: 10px;\n  --theia-scrollbar-rail-width: 10px;\n\n  /* Statusbar */\n  --theia-statusBar-font-size: 12px;\n\n  /* Opacity for disabled mod  */\n  --theia-mod-disabled-opacity: 0.4;\n}\n", ""]);

// exports


/***/ }),

/***/ "../node_modules/css-loader/index.js!../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/style/variables-dark.useable.css":
/*!****************************************************************************************************************************************************!*\
  !*** ../node_modules/css-loader/index.js!../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/style/variables-dark.useable.css ***!
  \****************************************************************************************************************************************************/
/***/ ((module, exports, __webpack_require__) => {

var escape = __webpack_require__(/*! ../../../../../../../../css-loader/lib/url/escape.js */ "../node_modules/css-loader/lib/url/escape.js");
exports = module.exports = __webpack_require__(/*! ../../../../../../../../css-loader/lib/css-base.js */ "../node_modules/css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.id, "/*\nThe following CSS variables define the main public API for styling Theia.\nThese variables should be used by all extensions wherever possible. In other\nwords, extensions should not define custom colors, sizes, etc. unless\nabsolutely necessary. This enables users to adapt the visual theme of Theia\nby changing these variables.\n\nMany variables appear in ordered sequences (0,1,2,...). For most of these\nsequences, colors go from dark to bright for dark themes, and from bright to\ndark for bright themes. A few sequences are used to create contrast against\nthe others, e.g. font and accent colors, and thus their brightness goes the\nother way around.\n\nThroughout Theia, we are mostly following principles from Google's Material\nDesign when selecting colors. We are not, however, following all of MD as it\nis not optimized for dense, information rich UIs.\n*/\n\n\n:root {\n\n  /* Borders: Width and color (dark to bright) */\n\n  --theia-border-width: 1px;\n  --theia-panel-border-width: 2px;\n\n\n  /* UI fonts: Family, size and color (bright to dark)\n    ---------------------------------------------------\n     The UI font CSS variables are used for the typography all of the Theia\n     user interface elements that are not directly user-generated content.\n  */\n\n  --theia-ui-font-scale-factor: 1.2;\n  --theia-ui-font-size0: calc(var(--theia-ui-font-size1) / var(--theia-ui-font-scale-factor));\n  --theia-ui-font-size1: 13px; /* Base font size */\n  --theia-ui-font-size2: calc(var(--theia-ui-font-size1) * var(--theia-ui-font-scale-factor));\n  --theia-ui-font-size3: calc(var(--theia-ui-font-size2) * var(--theia-ui-font-scale-factor));\n  --theia-ui-icon-font-size: 14px; /* Ensures px perfect FontAwesome icons */\n  --theia-ui-font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n\n  /* Content fonts: Family, size and color (bright to dark)\n     Content font variables are used for typography of user-generated content.\n  */\n\n  --theia-content-font-size: 13px;\n  --theia-content-line-height: 22px;\n\n  --theia-code-font-size: 13px;\n  --theia-code-line-height: 17px;\n  --theia-code-padding: 5px;\n  --theia-code-font-family: Menlo, Monaco, Consolas, \"Droid Sans Mono\", \"Courier New\", monospace, \"Droid Sans Fallback\";\n  --theia-monospace-font-family: monospace;\n  --theia-ui-padding: 6px;\n\n  /* Icons */\n  --theia-icon-chevron-right: url(" + escape(__webpack_require__(/*! ../icons/chevron-right-dark.svg */ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/chevron-right-dark.svg")) + ");\n  --theia-icon-loading: url(" + escape(__webpack_require__(/*! ../icons/loading-dark.svg */ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/loading-dark.svg")) + ");\n  --theia-icon-close: url(" + escape(__webpack_require__(/*! ../icons/close-dark.svg */ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/close-dark.svg")) + ");\n  --theia-icon-arrow-up: url(" + escape(__webpack_require__(/*! ../icons/arrow-up-dark.svg */ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/arrow-up-dark.svg")) + ");\n  --theia-icon-arrow-down: url(" + escape(__webpack_require__(/*! ../icons/arrow-down-dark.svg */ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/arrow-down-dark.svg")) + ");\n  --theia-sprite-y-offset: -20px;\n  --theia-icon-circle: url(" + escape(__webpack_require__(/*! ../icons/circle-dark.svg */ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/circle-dark.svg")) + ");\n  --theia-preloader: url(" + escape(__webpack_require__(/*! ../icons/spinner.gif */ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/spinner.gif")) + ");\n  --theia-icon-case-sensitive: url(" + escape(__webpack_require__(/*! ../icons/case-sensitive-dark.svg */ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/case-sensitive-dark.svg")) + ");\n  --theia-icon-regex: url(" + escape(__webpack_require__(/*! ../icons/regex-dark.svg */ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/regex-dark.svg")) + ");\n  --theia-icon-whole-word: url(" + escape(__webpack_require__(/*! ../icons/whole-word-dark.svg */ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/whole-word-dark.svg")) + ");\n  --theia-icon-refresh: url(" + escape(__webpack_require__(/*! ../icons/Refresh_inverse.svg */ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/Refresh_inverse.svg")) + ");\n  --theia-icon-expand: url(" + escape(__webpack_require__(/*! ../icons/expand.svg */ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/expand.svg")) + ");\n  --theia-icon-close-all: url(" + escape(__webpack_require__(/*! ../icons/close-all-dark.svg */ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/close-all-dark.svg")) + ");\n  --theia-icon-collapse: url(" + escape(__webpack_require__(/*! ../icons/collapse.svg */ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/collapse.svg")) + ");\n  --theia-icon-collapse-all: url(" + escape(__webpack_require__(/*! ../icons/CollapseAll_inverse.svg */ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/CollapseAll_inverse.svg")) + ");\n  --theia-icon-remove-all: url(" + escape(__webpack_require__(/*! ../icons/remove-all-inverse.svg */ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/remove-all-inverse.svg")) + ");\n  --theia-icon-add: url(" + escape(__webpack_require__(/*! ../icons/add-inverse.svg */ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/add-inverse.svg")) + ");\n  --theia-icon-clear: url(" + escape(__webpack_require__(/*! ../icons/clear-search-results-dark.svg */ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/clear-search-results-dark.svg")) + ");\n  --theia-icon-replace: url(" + escape(__webpack_require__(/*! ../icons/replace-inverse.svg */ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/replace-inverse.svg")) + ");\n  --theia-icon-replace-all: url(" + escape(__webpack_require__(/*! ../icons/replace-all-inverse.svg */ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/replace-all-inverse.svg")) + ");\n  --theia-icon-open-file: url(" + escape(__webpack_require__(/*! ../icons/open-file-dark.svg */ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/open-file-dark.svg")) + ");\n  --theia-icon-open-change: url(" + escape(__webpack_require__(/*! ../icons/open-change-dark.svg */ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/open-change-dark.svg")) + ");\n  --theia-icon-preview: url(" + escape(__webpack_require__(/*! ../icons/preview-dark.svg */ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/preview-dark.svg")) + ");\n  --theia-icon-open-json: url(" + escape(__webpack_require__(/*! ../icons/edit-json-dark.svg */ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/icons/edit-json-dark.svg")) + ");\n  --theia-icon-size: 16px;\n\n  /* Scrollbars */\n  --theia-scrollbar-width: 10px;\n  --theia-scrollbar-rail-width: 10px;\n\n  /* Statusbar */\n  --theia-statusBar-font-size: 12px;\n\n  /* Opacity for disabled mod  */\n  --theia-mod-disabled-opacity: 0.4;\n}\n", ""]);

// exports


/***/ }),

/***/ "../node_modules/css-loader/index.js!../node_modules/@theia/file-search/node_modules/@theia/editor/src/browser/style/index.css":
/*!*************************************************************************************************************************************!*\
  !*** ../node_modules/css-loader/index.js!../node_modules/@theia/file-search/node_modules/@theia/editor/src/browser/style/index.css ***!
  \*************************************************************************************************************************************/
/***/ ((module, exports, __webpack_require__) => {

exports = module.exports = __webpack_require__(/*! ../../../../../../../../css-loader/lib/css-base.js */ "../node_modules/css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.id, "/********************************************************************************\n * Copyright (C) 2020 TypeFox and others.\n *\n * This program and the accompanying materials are made available under the\n * terms of the Eclipse Public License v. 2.0 which is available at\n * http://www.eclipse.org/legal/epl-2.0.\n *\n * This Source Code may also be made available under the following Secondary\n * Licenses when the conditions for such availability set forth in the Eclipse\n * Public License v. 2.0 are satisfied: GNU General Public License, version 2\n * with the GNU Classpath Exception which is available at\n * https://www.gnu.org/software/classpath/license.html.\n *\n * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0\n ********************************************************************************/\n\n.theia-editor {\n    height: 100%;\n}\n", ""]);

// exports


/***/ }),

/***/ "../node_modules/@theia/file-search/lib/browser/file-search-frontend-module.js":
/*!*************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/lib/browser/file-search-frontend-module.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
const inversify_1 = __webpack_require__(/*! @theia/core/shared/inversify */ "../node_modules/@theia/file-search/node_modules/@theia/core/shared/inversify.js");
const common_1 = __webpack_require__(/*! @theia/core/lib/common */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/index.js");
const browser_1 = __webpack_require__(/*! @theia/core/lib/browser */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/index.js");
const quick_file_open_contribution_1 = __webpack_require__(/*! ./quick-file-open-contribution */ "../node_modules/@theia/file-search/lib/browser/quick-file-open-contribution.js");
const quick_file_open_1 = __webpack_require__(/*! ./quick-file-open */ "../node_modules/@theia/file-search/lib/browser/quick-file-open.js");
const file_search_service_1 = __webpack_require__(/*! ../common/file-search-service */ "../node_modules/@theia/file-search/lib/common/file-search-service.js");
const quick_access_1 = __webpack_require__(/*! @theia/core/lib/browser/quick-input/quick-access */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/quick-input/quick-access.js");
exports.default = new inversify_1.ContainerModule((bind) => {
    bind(file_search_service_1.FileSearchService).toDynamicValue(ctx => {
        const provider = ctx.container.get(browser_1.WebSocketConnectionProvider);
        return provider.createProxy(file_search_service_1.fileSearchServicePath);
    }).inSingletonScope();
    bind(quick_file_open_contribution_1.QuickFileOpenFrontendContribution).toSelf().inSingletonScope();
    [common_1.CommandContribution, browser_1.KeybindingContribution, quick_access_1.QuickAccessContribution].forEach(serviceIdentifier => bind(serviceIdentifier).toService(quick_file_open_contribution_1.QuickFileOpenFrontendContribution));
    bind(quick_file_open_1.QuickFileOpenService).toSelf().inSingletonScope();
});


/***/ }),

/***/ "../node_modules/@theia/file-search/lib/browser/quick-file-open-contribution.js":
/*!**************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/lib/browser/quick-file-open-contribution.js ***!
  \**************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.QuickFileOpenFrontendContribution = void 0;
const inversify_1 = __webpack_require__(/*! @theia/core/shared/inversify */ "../node_modules/@theia/file-search/node_modules/@theia/core/shared/inversify.js");
const uri_1 = __webpack_require__(/*! @theia/core/lib/common/uri */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/uri.js");
const quick_file_open_1 = __webpack_require__(/*! ./quick-file-open */ "../node_modules/@theia/file-search/lib/browser/quick-file-open.js");
let QuickFileOpenFrontendContribution = class QuickFileOpenFrontendContribution {
    registerCommands(commands) {
        commands.registerCommand(quick_file_open_1.quickFileOpen, {
            // eslint-disable-next-line @typescript-eslint/no-explicit-any
            execute: (...args) => {
                let fileURI;
                if (args) {
                    [fileURI] = args;
                }
                if (fileURI) {
                    this.quickFileOpenService.openFile(new uri_1.default(fileURI));
                }
                else {
                    this.quickFileOpenService.open();
                }
            }
        });
    }
    registerKeybindings(keybindings) {
        keybindings.registerKeybinding({
            command: quick_file_open_1.quickFileOpen.id,
            keybinding: 'ctrlcmd+p'
        });
    }
    registerQuickAccessProvider() {
        this.quickFileOpenService.registerQuickAccessProvider();
    }
};
__decorate([
    inversify_1.inject(quick_file_open_1.QuickFileOpenService),
    __metadata("design:type", quick_file_open_1.QuickFileOpenService)
], QuickFileOpenFrontendContribution.prototype, "quickFileOpenService", void 0);
QuickFileOpenFrontendContribution = __decorate([
    inversify_1.injectable()
], QuickFileOpenFrontendContribution);
exports.QuickFileOpenFrontendContribution = QuickFileOpenFrontendContribution;


/***/ }),

/***/ "../node_modules/@theia/file-search/lib/browser/quick-file-open.js":
/*!*************************************************************************!*\
  !*** ../node_modules/@theia/file-search/lib/browser/quick-file-open.js ***!
  \*************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var QuickFileOpenService_1;
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.QuickFileOpenService = exports.quickFileOpen = void 0;
const inversify_1 = __webpack_require__(/*! @theia/core/shared/inversify */ "../node_modules/@theia/file-search/node_modules/@theia/core/shared/inversify.js");
const browser_1 = __webpack_require__(/*! @theia/core/lib/browser */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/index.js");
const workspace_service_1 = __webpack_require__(/*! @theia/workspace/lib/browser/workspace-service */ "../node_modules/@theia/file-search/node_modules/@theia/workspace/lib/browser/workspace-service.js");
const uri_1 = __webpack_require__(/*! @theia/core/lib/common/uri */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/uri.js");
const file_search_service_1 = __webpack_require__(/*! ../common/file-search-service */ "../node_modules/@theia/file-search/lib/common/file-search-service.js");
const label_provider_1 = __webpack_require__(/*! @theia/core/lib/browser/label-provider */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/label-provider.js");
const navigation_location_service_1 = __webpack_require__(/*! @theia/editor/lib/browser/navigation/navigation-location-service */ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/navigation/navigation-location-service.js");
const fuzzy = __webpack_require__(/*! @theia/core/shared/fuzzy */ "../node_modules/@theia/file-search/node_modules/@theia/core/shared/fuzzy.js");
const message_service_1 = __webpack_require__(/*! @theia/core/lib/common/message-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/message-service.js");
const browser_2 = __webpack_require__(/*! @theia/filesystem/lib/browser */ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/index.js");
const browser_3 = __webpack_require__(/*! @theia/editor/lib/browser */ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/index.js");
const quick_input_service_1 = __webpack_require__(/*! @theia/core/lib/browser/quick-input/quick-input-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/quick-input/quick-input-service.js");
exports.quickFileOpen = {
    id: 'file-search.openFile',
    category: 'File',
    label: 'Open File...'
};
// Supports patterns of <path><#|:><line><#|:|,><col?>
const LINE_COLON_PATTERN = /\s?[#:\(](?:line )?(\d*)(?:[#:,](\d*))?\)?\s*$/;
let QuickFileOpenService = QuickFileOpenService_1 = class QuickFileOpenService {
    constructor() {
        /**
         * Whether to hide .gitignored (and other ignored) files.
         */
        this.hideIgnoredFiles = true;
        /**
         * Whether the dialog is currently open.
         */
        this.isOpen = false;
        this.updateIsOpen = true;
        this.filterAndRangeDefault = { filter: '', range: undefined };
        /**
         * Tracks the user file search filter and location range e.g. fileFilter:line:column or fileFilter:line,column
         */
        this.filterAndRange = this.filterAndRangeDefault;
    }
    registerQuickAccessProvider() {
        this.quickAccessRegistry.registerQuickAccessProvider({
            getInstance: () => this,
            prefix: QuickFileOpenService_1.PREFIX,
            placeholder: this.getPlaceHolder(),
            helpEntries: [{ description: 'Open File', needsEditor: false }]
        });
    }
    init() {
        var _a;
        (_a = this.quickInputService) === null || _a === void 0 ? void 0 : _a.onHide(() => {
            if (this.updateIsOpen) {
                this.isOpen = false;
            }
            else {
                this.updateIsOpen = true;
            }
        });
    }
    isEnabled() {
        return this.workspaceService.opened;
    }
    open() {
        var _a;
        // Triggering the keyboard shortcut while the dialog is open toggles
        // showing the ignored files.
        if (this.isOpen) {
            this.hideIgnoredFiles = !this.hideIgnoredFiles;
            this.hideQuickPick();
        }
        else {
            this.hideIgnoredFiles = true;
            this.filterAndRange = this.filterAndRangeDefault;
            this.isOpen = true;
        }
        (_a = this.quickInputService) === null || _a === void 0 ? void 0 : _a.open(this.filterAndRange.filter);
    }
    hideQuickPick() {
        var _a;
        this.updateIsOpen = false;
        (_a = this.quickInputService) === null || _a === void 0 ? void 0 : _a.hide();
    }
    /**
     * Get a string (suitable to show to the user) representing the keyboard
     * shortcut used to open the quick file open menu.
     */
    getKeyCommand() {
        const keyCommand = this.keybindingRegistry.getKeybindingsForCommand(exports.quickFileOpen.id);
        if (keyCommand) {
            // We only consider the first keybinding.
            const accel = this.keybindingRegistry.acceleratorFor(keyCommand[0], '+');
            return accel.join(' ');
        }
        return undefined;
    }
    async getPicks(filter, token) {
        const roots = this.workspaceService.tryGetRoots();
        this.filterAndRange = this.splitFilterAndRange(filter);
        const fileFilter = this.filterAndRange.filter;
        const alreadyCollected = new Set();
        const recentlyUsedItems = [];
        const locations = [...this.navigationLocationService.locations()].reverse();
        for (const location of locations) {
            const uriString = location.uri.toString();
            if (location.uri.scheme === 'file' && !alreadyCollected.has(uriString) && fuzzy.test(fileFilter, uriString)) {
                if (recentlyUsedItems.length === 0) {
                    recentlyUsedItems.push({ type: 'separator', label: 'recently opened' });
                }
                const item = this.toItem(fileFilter, location.uri);
                recentlyUsedItems.push(item);
                alreadyCollected.add(uriString);
            }
        }
        if (fileFilter.length > 0) {
            const handler = async (results) => {
                if (token.isCancellationRequested || results.length <= 0) {
                    return [];
                }
                const result = [...recentlyUsedItems];
                const fileSearchResultItems = [];
                for (const fileUri of results) {
                    if (!alreadyCollected.has(fileUri)) {
                        const item = this.toItem(fileFilter, fileUri);
                        fileSearchResultItems.push(item);
                        alreadyCollected.add(fileUri);
                    }
                }
                // Create a copy of the file search results and sort.
                const sortedResults = fileSearchResultItems.slice();
                sortedResults.sort((a, b) => this.compareItems(a, b));
                if (sortedResults.length > 0) {
                    result.unshift({ type: 'separator', label: 'file results' });
                    result.push(...sortedResults);
                }
                // Return the recently used items, followed by the search results.
                return result;
            };
            return this.fileSearchService.find(fileFilter, {
                rootUris: roots.map(r => r.resource.toString()),
                fuzzyMatch: true,
                limit: 200,
                useGitIgnore: this.hideIgnoredFiles,
                excludePatterns: this.hideIgnoredFiles
                    ? Object.keys(this.fsPreferences['files.exclude'])
                    : undefined,
            }, token).then(handler);
        }
        else {
            return roots.length !== 0 ? recentlyUsedItems : [];
        }
    }
    compareItems(left, right) {
        /**
         * Score a given string.
         *
         * @param str the string to score on.
         * @returns the score.
         */
        function score(str) {
            if (!str) {
                return 0;
            }
            // Adjust for whitespaces in the query.
            const querySplit = query.split(file_search_service_1.WHITESPACE_QUERY_SEPARATOR);
            const queryJoin = querySplit.join('');
            // Check exact and partial exact matches.
            let exactMatch = true;
            let partialMatch = false;
            querySplit.forEach(part => {
                const partMatches = str.includes(part);
                exactMatch = exactMatch && partMatches;
                partialMatch = partialMatch || partMatches;
            });
            // Check fuzzy matches.
            const fuzzyMatch = fuzzy.match(queryJoin, str);
            let matchScore = 0;
            // eslint-disable-next-line no-null/no-null
            if (!!fuzzyMatch && matchScore !== null) {
                matchScore = (fuzzyMatch.score === Infinity) ? QuickFileOpenService_1.Scores.max : fuzzyMatch.score;
            }
            // Prioritize exact matches, then partial exact matches, then fuzzy matches.
            if (exactMatch) {
                return matchScore + QuickFileOpenService_1.Scores.exact;
            }
            else if (partialMatch) {
                return matchScore + QuickFileOpenService_1.Scores.partial;
            }
            else {
                // eslint-disable-next-line no-null/no-null
                return (fuzzyMatch === null) ? 0 : matchScore;
            }
        }
        const query = normalize(this.filterAndRange.filter);
        const compareByLabelScore = (l, r) => score(r.label) - score(l.label);
        const compareByLabelIndex = (l, r) => r.label.indexOf(query) - l.label.indexOf(query);
        const compareByLabel = (l, r) => r.label.localeCompare(l.label);
        const compareByPathScore = (l, r) => score(r.uri.path.toString()) - score(l.uri.path.toString());
        const compareByPathIndex = (l, r) => r.uri.path.toString().indexOf(query) - l.uri.path.toString().indexOf(query);
        const compareByPathLabel = (l, r) => r.uri.path.toString().localeCompare(l.uri.path.toString());
        return compareWithDiscriminators(left, right, compareByLabelScore, compareByLabelIndex, compareByLabel, compareByPathScore, compareByPathIndex, compareByPathLabel);
    }
    openFile(uri) {
        const options = this.buildOpenerOptions();
        const closedEditor = this.navigationLocationService.closedEditorsStack.find(editor => editor.uri.path.toString() === uri.path.toString());
        this.openerService.getOpener(uri, options)
            .then(opener => opener.open(uri, options))
            .then(widget => {
            // Attempt to restore the editor state if it exists, and no selection is explicitly requested.
            if (widget instanceof browser_3.EditorWidget && closedEditor && !options.selection) {
                widget.editor.restoreViewState(closedEditor.viewState);
            }
        })
            .catch(error => this.messageService.error(error));
    }
    buildOpenerOptions() {
        return { selection: this.filterAndRange.range };
    }
    toItem(lookFor, uriOrString) {
        const uri = uriOrString instanceof uri_1.default ? uriOrString : new uri_1.default(uriOrString);
        const label = this.labelProvider.getName(uri);
        const description = this.getItemDescription(uri);
        const iconClasses = this.getItemIconClasses(uri);
        return {
            label,
            description,
            highlights: {
                label: quick_input_service_1.findMatches(label, lookFor),
                description: quick_input_service_1.findMatches(description, lookFor)
            },
            iconClasses,
            uri,
            execute: () => this.openFile(uri)
        };
    }
    getItemIconClasses(uri) {
        const icon = this.labelProvider.getIcon(uri);
        return icon !== '' ? [icon + ' file-icon'] : [];
    }
    getItemDescription(uri) {
        const resourcePathLabel = this.labelProvider.getLongName(uri.parent);
        const rootUri = this.workspaceService.getWorkspaceRootUri(uri);
        // Display the path normally if outside any workspace root.
        if (!rootUri) {
            return resourcePathLabel;
        }
        // Compute the multi-root label for the resource.
        if (this.workspaceService.isMultiRootWorkspaceOpened) {
            const rootLabel = this.labelProvider.getName(rootUri);
            return rootUri.path.toString() === uri.parent.path.toString() ? `${rootLabel}` : `${rootLabel}  ${resourcePathLabel}`;
        }
        else {
            return rootUri.toString() === uri.parent.toString() ? '' : resourcePathLabel;
        }
    }
    getPlaceHolder() {
        let placeholder = 'File name to search (append : to go to line).';
        const keybinding = this.getKeyCommand();
        if (keybinding) {
            placeholder += ` (Press ${keybinding} to show/hide ignored files)`;
        }
        return placeholder;
    }
    /**
     * Splits the given expression into a structure of search-file-filter and
     * location-range.
     *
     * @param expression patterns of <path><#|:><line><#|:|,><col?>
     */
    splitFilterAndRange(expression) {
        var _a, _b;
        let filter = expression;
        let range = undefined;
        // Find line and column number from the expression using RegExp.
        const patternMatch = LINE_COLON_PATTERN.exec(expression);
        if (patternMatch) {
            const line = parseInt((_a = patternMatch[1]) !== null && _a !== void 0 ? _a : '', 10);
            if (Number.isFinite(line)) {
                const lineNumber = line > 0 ? line - 1 : 0;
                const column = parseInt((_b = patternMatch[2]) !== null && _b !== void 0 ? _b : '', 10);
                const startColumn = Number.isFinite(column) && column > 0 ? column - 1 : 0;
                const position = browser_3.Position.create(lineNumber, startColumn);
                filter = expression.substr(0, patternMatch.index);
                range = browser_3.Range.create(position, position);
            }
        }
        return { filter, range };
    }
};
QuickFileOpenService.PREFIX = '';
/**
 * The score constants when comparing file search results.
 */
QuickFileOpenService.Scores = {
    max: 1000,
    exact: 500,
    partial: 250 // represents the score assigned to partial matching.
};
__decorate([
    inversify_1.inject(browser_1.KeybindingRegistry),
    __metadata("design:type", browser_1.KeybindingRegistry)
], QuickFileOpenService.prototype, "keybindingRegistry", void 0);
__decorate([
    inversify_1.inject(workspace_service_1.WorkspaceService),
    __metadata("design:type", workspace_service_1.WorkspaceService)
], QuickFileOpenService.prototype, "workspaceService", void 0);
__decorate([
    inversify_1.inject(browser_1.OpenerService),
    __metadata("design:type", Object)
], QuickFileOpenService.prototype, "openerService", void 0);
__decorate([
    inversify_1.inject(quick_input_service_1.QuickInputService),
    inversify_1.optional(),
    __metadata("design:type", Object)
], QuickFileOpenService.prototype, "quickInputService", void 0);
__decorate([
    inversify_1.inject(browser_1.QuickAccessRegistry),
    __metadata("design:type", Object)
], QuickFileOpenService.prototype, "quickAccessRegistry", void 0);
__decorate([
    inversify_1.inject(file_search_service_1.FileSearchService),
    __metadata("design:type", Object)
], QuickFileOpenService.prototype, "fileSearchService", void 0);
__decorate([
    inversify_1.inject(label_provider_1.LabelProvider),
    __metadata("design:type", label_provider_1.LabelProvider)
], QuickFileOpenService.prototype, "labelProvider", void 0);
__decorate([
    inversify_1.inject(navigation_location_service_1.NavigationLocationService),
    __metadata("design:type", navigation_location_service_1.NavigationLocationService)
], QuickFileOpenService.prototype, "navigationLocationService", void 0);
__decorate([
    inversify_1.inject(message_service_1.MessageService),
    __metadata("design:type", message_service_1.MessageService)
], QuickFileOpenService.prototype, "messageService", void 0);
__decorate([
    inversify_1.inject(browser_2.FileSystemPreferences),
    __metadata("design:type", Object)
], QuickFileOpenService.prototype, "fsPreferences", void 0);
__decorate([
    inversify_1.postConstruct(),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", []),
    __metadata("design:returntype", void 0)
], QuickFileOpenService.prototype, "init", null);
QuickFileOpenService = QuickFileOpenService_1 = __decorate([
    inversify_1.injectable()
], QuickFileOpenService);
exports.QuickFileOpenService = QuickFileOpenService;
/**
 * Normalize a given string.
 *
 * @param str the raw string value.
 * @returns the normalized string value.
 */
function normalize(str) {
    return str.trim().toLowerCase();
}
function compareWithDiscriminators(left, right, ...discriminators) {
    let comparisonValue = 0;
    let i = 0;
    while (comparisonValue === 0 && i < discriminators.length) {
        comparisonValue = discriminators[i](left, right);
        i++;
    }
    return comparisonValue;
}


/***/ }),

/***/ "../node_modules/@theia/file-search/lib/common/file-search-service.js":
/*!****************************************************************************!*\
  !*** ../node_modules/@theia/file-search/lib/common/file-search-service.js ***!
  \****************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.WHITESPACE_QUERY_SEPARATOR = exports.FileSearchService = exports.fileSearchServicePath = void 0;
exports.fileSearchServicePath = '/services/search';
exports.FileSearchService = Symbol('FileSearchService');
exports.WHITESPACE_QUERY_SEPARATOR = /\s+/;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/application-package/lib/application-props.js":
/*!***********************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/application-package/lib/application-props.js ***!
  \***********************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ApplicationProps = exports.NpmRegistryProps = exports.GeneratorConfig = exports.BackendApplicationConfig = exports.FrontendApplicationConfig = exports.ElectronFrontendApplicationConfig = void 0;
exports.deepmerge = __webpack_require__(/*! deepmerge */ "../node_modules/@theia/file-search/node_modules/deepmerge/dist/cjs.js");
var ElectronFrontendApplicationConfig;
(function (ElectronFrontendApplicationConfig) {
    ElectronFrontendApplicationConfig.DEFAULT = {
        disallowReloadKeybinding: false,
        windowOptions: {}
    };
})(ElectronFrontendApplicationConfig = exports.ElectronFrontendApplicationConfig || (exports.ElectronFrontendApplicationConfig = {}));
var FrontendApplicationConfig;
(function (FrontendApplicationConfig) {
    FrontendApplicationConfig.DEFAULT = {
        applicationName: 'Eclipse Theia',
        defaultTheme: 'dark',
        defaultIconTheme: 'none',
        electron: ElectronFrontendApplicationConfig.DEFAULT
    };
})(FrontendApplicationConfig = exports.FrontendApplicationConfig || (exports.FrontendApplicationConfig = {}));
var BackendApplicationConfig;
(function (BackendApplicationConfig) {
    BackendApplicationConfig.DEFAULT = {
        singleInstance: false,
    };
})(BackendApplicationConfig = exports.BackendApplicationConfig || (exports.BackendApplicationConfig = {}));
var GeneratorConfig;
(function (GeneratorConfig) {
    GeneratorConfig.DEFAULT = {
        preloadTemplate: ''
    };
})(GeneratorConfig = exports.GeneratorConfig || (exports.GeneratorConfig = {}));
var NpmRegistryProps;
(function (NpmRegistryProps) {
    NpmRegistryProps.DEFAULT = {
        next: false,
        registry: 'https://registry.npmjs.org/'
    };
})(NpmRegistryProps = exports.NpmRegistryProps || (exports.NpmRegistryProps = {}));
var ApplicationProps;
(function (ApplicationProps) {
    let ApplicationTarget;
    (function (ApplicationTarget) {
        ApplicationTarget["browser"] = "browser";
        ApplicationTarget["electron"] = "electron";
    })(ApplicationTarget = ApplicationProps.ApplicationTarget || (ApplicationProps.ApplicationTarget = {}));
    ;
    ApplicationProps.DEFAULT = Object.assign(Object.assign({}, NpmRegistryProps.DEFAULT), { target: 'browser', backend: {
            config: BackendApplicationConfig.DEFAULT
        }, frontend: {
            config: FrontendApplicationConfig.DEFAULT
        }, generator: {
            config: GeneratorConfig.DEFAULT
        } });
})(ApplicationProps = exports.ApplicationProps || (exports.ApplicationProps = {}));


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/application-package/lib/environment.js":
/*!*****************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/application-package/lib/environment.js ***!
  \*****************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.environment = void 0;
const isElectron = __webpack_require__(/*! is-electron */ "../node_modules/is-electron/index.js");
/**
 * The electron specific environment.
 */
class ElectronEnv {
    constructor() {
        /**
         * Environment variable that can be accessed on the `process` to check if running in electron or not.
         */
        this.THEIA_ELECTRON_VERSION = 'THEIA_ELECTRON_VERSION';
    }
    /**
     * `true` if running in electron. Otherwise, `false`.
     *
     * Can be called from both the `main` and the render process. Also works for forked cluster workers.
     */
    is() {
        return isElectron();
    }
    /**
     * `true` if running in Electron in development mode. Otherwise, `false`.
     *
     * Cannot be used from the browser. From the browser, it is always `false`.
     */
    isDevMode() {
        return this.is()
            && typeof process !== 'undefined'
            // `defaultApp` does not exist on the Node.js API, but on electron (`electron.d.ts`).
            && (process.defaultApp || /node_modules[/]electron[/]/.test(process.execPath)); // eslint-disable-line @typescript-eslint/no-explicit-any
    }
    /**
     * Creates and return with a new environment object which always contains the `ELECTRON_RUN_AS_NODE: 1` property pair.
     * This should be used to `spawn` and `fork` a new Node.js process from the Node.js shipped with Electron. Otherwise, a new Electron
     * process will be spawned which [has side-effects](https://github.com/eclipse-theia/theia/issues/5385).
     *
     * If called from the backend and the `env` argument is not defined, it falls back to `process.env` such as Node.js behaves
     * with the [`SpawnOptions`](https://nodejs.org/api/child_process.html#child_process_child_process_spawn_command_args_options).
     * If `env` is defined, it will be shallow-copied.
     *
     * Calling this function from the frontend does not make any sense, hence throw an error.
     */
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    runAsNodeEnv(env) {
        if (typeof process === 'undefined') {
            throw new Error("'process' cannot be undefined.");
        }
        return Object.assign(Object.assign({}, (env === undefined ? process.env : env)), { ELECTRON_RUN_AS_NODE: 1 });
    }
}
const electron = new ElectronEnv();
const environment = { electron };
exports.environment = environment;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/about-dialog.js":
/*!***********************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/about-dialog.js ***!
  \***********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 Ericsson and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.AboutDialog = exports.AboutDialogProps = exports.ABOUT_EXTENSIONS_CLASS = exports.ABOUT_CONTENT_CLASS = void 0;
const React = __webpack_require__(/*! react */ "../node_modules/react/index.js");
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const dialogs_1 = __webpack_require__(/*! ./dialogs */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/dialogs.js");
const react_dialog_1 = __webpack_require__(/*! ./dialogs/react-dialog */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/dialogs/react-dialog.js");
const application_protocol_1 = __webpack_require__(/*! ../common/application-protocol */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/application-protocol.js");
const frontend_application_config_provider_1 = __webpack_require__(/*! ./frontend-application-config-provider */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/frontend-application-config-provider.js");
exports.ABOUT_CONTENT_CLASS = 'theia-aboutDialog';
exports.ABOUT_EXTENSIONS_CLASS = 'theia-aboutExtensions';
let AboutDialogProps = class AboutDialogProps extends dialogs_1.DialogProps {
};
AboutDialogProps = __decorate([
    inversify_1.injectable()
], AboutDialogProps);
exports.AboutDialogProps = AboutDialogProps;
let AboutDialog = class AboutDialog extends react_dialog_1.ReactDialog {
    constructor(props) {
        super({
            title: frontend_application_config_provider_1.FrontendApplicationConfigProvider.get().applicationName,
        });
        this.props = props;
        this.extensionsInfos = [];
        this.appendAcceptButton('Ok');
    }
    async init() {
        this.applicationInfo = await this.appServer.getApplicationInfo();
        this.extensionsInfos = await this.appServer.getExtensionsInfos();
        this.update();
    }
    renderHeader() {
        const applicationInfo = this.applicationInfo;
        return applicationInfo && React.createElement("h3", null,
            applicationInfo.name,
            " ",
            applicationInfo.version);
    }
    renderExtensions() {
        const extensionsInfos = this.extensionsInfos;
        return React.createElement(React.Fragment, null,
            React.createElement("h3", null, "List of extensions"),
            React.createElement("ul", { className: exports.ABOUT_EXTENSIONS_CLASS }, extensionsInfos
                .sort((a, b) => a.name.toLowerCase().localeCompare(b.name.toLowerCase()))
                .map((extension) => React.createElement("li", { key: extension.name },
                extension.name,
                " ",
                extension.version))));
    }
    render() {
        return React.createElement("div", { className: exports.ABOUT_CONTENT_CLASS },
            this.renderHeader(),
            this.renderExtensions());
    }
    onAfterAttach(msg) {
        super.onAfterAttach(msg);
        this.update();
    }
    get value() { return undefined; }
};
__decorate([
    inversify_1.inject(application_protocol_1.ApplicationServer),
    __metadata("design:type", Object)
], AboutDialog.prototype, "appServer", void 0);
__decorate([
    inversify_1.postConstruct(),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", []),
    __metadata("design:returntype", Promise)
], AboutDialog.prototype, "init", null);
AboutDialog = __decorate([
    inversify_1.injectable(),
    __param(0, inversify_1.inject(AboutDialogProps)),
    __metadata("design:paramtypes", [AboutDialogProps])
], AboutDialog);
exports.AboutDialog = AboutDialog;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/authentication-service.js":
/*!*********************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/authentication-service.js ***!
  \*********************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2020 Red Hat, Inc. and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.readAllowedExtensions = exports.AuthenticationServiceImpl = exports.AuthenticationService = void 0;
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
// code copied and modified from https://github.com/microsoft/vscode/blob/1.47.3/src/vs/workbench/services/authentication/browser/authenticationService.ts
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const event_1 = __webpack_require__(/*! ../common/event */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/event.js");
const storage_service_1 = __webpack_require__(/*! ../browser/storage-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/storage-service.js");
const menu_1 = __webpack_require__(/*! ../common/menu */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/menu.js");
const command_1 = __webpack_require__(/*! ../common/command */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/command.js");
const disposable_1 = __webpack_require__(/*! ../common/disposable */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/disposable.js");
exports.AuthenticationService = Symbol('AuthenticationService');
let AuthenticationServiceImpl = class AuthenticationServiceImpl {
    constructor() {
        this.noAccountsCommand = { id: 'noAccounts' };
        this.signInRequestItems = new Map();
        this.authenticationProviders = new Map();
        this.onDidRegisterAuthenticationProviderEmitter = new event_1.Emitter();
        this.onDidRegisterAuthenticationProvider = this.onDidRegisterAuthenticationProviderEmitter.event;
        this.onDidUnregisterAuthenticationProviderEmitter = new event_1.Emitter();
        this.onDidUnregisterAuthenticationProvider = this.onDidUnregisterAuthenticationProviderEmitter.event;
        this.onDidChangeSessionsEmitter = new event_1.Emitter();
        this.onDidChangeSessions = this.onDidChangeSessionsEmitter.event;
    }
    init() {
        const disposableMap = new Map();
        this.onDidChangeSessions(async (e) => {
            if (e.event.added.length > 0) {
                const sessions = await this.getSessions(e.providerId);
                sessions.forEach(session => {
                    if (sessions.find(s => disposableMap.get(s.id))) {
                        return;
                    }
                    const disposables = new disposable_1.DisposableCollection();
                    const commandId = `account-sign-out-${e.providerId}-${session.id}`;
                    const command = this.commands.registerCommand({ id: commandId }, {
                        execute: async () => {
                            this.signOutOfAccount(e.providerId, session.account.label);
                        }
                    });
                    const subSubMenuPath = [...menu_1.ACCOUNTS_SUBMENU, 'account-sub-menu'];
                    this.menus.registerSubmenu(subSubMenuPath, `${session.account.label} (${e.label})`);
                    const menuAction = this.menus.registerMenuAction(subSubMenuPath, {
                        label: 'Sign Out',
                        commandId
                    });
                    disposables.push(menuAction);
                    disposables.push(command);
                    disposableMap.set(session.id, disposables);
                });
            }
            if (e.event.removed.length > 0) {
                e.event.removed.forEach(removed => {
                    const toDispose = disposableMap.get(removed);
                    if (toDispose) {
                        toDispose.dispose();
                        disposableMap.delete(removed);
                    }
                });
            }
        });
        this.commands.registerCommand(this.noAccountsCommand, {
            execute: () => { },
            isEnabled: () => false
        });
    }
    getProviderIds() {
        const providerIds = [];
        this.authenticationProviders.forEach(provider => {
            providerIds.push(provider.id);
        });
        return providerIds;
    }
    isAuthenticationProviderRegistered(id) {
        return this.authenticationProviders.has(id);
    }
    updateAccountsMenuItem() {
        let hasSession = false;
        this.authenticationProviders.forEach(async (provider) => {
            hasSession = hasSession || provider.hasSessions();
        });
        if (hasSession && this.noAccountsMenuItem) {
            this.noAccountsMenuItem.dispose();
            this.noAccountsMenuItem = undefined;
        }
        if (!hasSession && !this.noAccountsMenuItem) {
            this.noAccountsMenuItem = this.menus.registerMenuAction(menu_1.ACCOUNTS_MENU, {
                label: 'You are not signed in to any accounts',
                order: '0',
                commandId: this.noAccountsCommand.id
            });
        }
    }
    registerAuthenticationProvider(id, authenticationProvider) {
        if (this.authenticationProviders.get(id)) {
            throw new Error(`An authentication provider with id '${id}' is already registered.`);
        }
        this.authenticationProviders.set(id, authenticationProvider);
        this.onDidRegisterAuthenticationProviderEmitter.fire({ id, label: authenticationProvider.label });
        this.updateAccountsMenuItem();
        console.log(`An authentication provider with id '${id}' was registered.`);
    }
    unregisterAuthenticationProvider(id) {
        const provider = this.authenticationProviders.get(id);
        if (provider) {
            this.authenticationProviders.delete(id);
            this.onDidUnregisterAuthenticationProviderEmitter.fire({ id, label: provider.label });
            this.updateAccountsMenuItem();
        }
        else {
            console.error(`Failed to unregister an authentication provider. A provider with id '${id}' was not found.`);
        }
    }
    async updateSessions(id, event) {
        const provider = this.authenticationProviders.get(id);
        if (provider) {
            await provider.updateSessionItems(event);
            this.onDidChangeSessionsEmitter.fire({ providerId: id, label: provider.label, event: event });
            this.updateAccountsMenuItem();
            if (event.added) {
                await this.updateNewSessionRequests(provider);
            }
        }
        else {
            console.error(`Failed to update an authentication session. An authentication provider with id '${id}' was not found.`);
        }
    }
    async updateNewSessionRequests(provider) {
        const existingRequestsForProvider = this.signInRequestItems.get(provider.id);
        if (!existingRequestsForProvider) {
            return;
        }
        const sessions = await provider.getSessions();
        Object.keys(existingRequestsForProvider).forEach(requestedScopes => {
            if (sessions.some(session => session.scopes.slice().sort().join('') === requestedScopes)) {
                const sessionRequest = existingRequestsForProvider[requestedScopes];
                if (sessionRequest) {
                    sessionRequest.disposables.forEach(item => item.dispose());
                }
                delete existingRequestsForProvider[requestedScopes];
                if (Object.keys(existingRequestsForProvider).length === 0) {
                    this.signInRequestItems.delete(provider.id);
                }
                else {
                    this.signInRequestItems.set(provider.id, existingRequestsForProvider);
                }
            }
        });
    }
    async requestNewSession(providerId, scopes, extensionId, extensionName) {
        let provider = this.authenticationProviders.get(providerId);
        if (!provider) {
            // Activate has already been called for the authentication provider, but it cannot block on registering itself
            // since this is sync and returns a disposable. So, wait for registration event to fire that indicates the
            // provider is now in the map.
            await new Promise((resolve, _) => {
                this.onDidRegisterAuthenticationProvider(e => {
                    if (e.id === providerId) {
                        provider = this.authenticationProviders.get(providerId);
                        resolve();
                    }
                });
            });
        }
        if (provider) {
            const providerRequests = this.signInRequestItems.get(providerId);
            const scopesList = scopes.sort().join('');
            const extensionHasExistingRequest = providerRequests
                && providerRequests[scopesList]
                && providerRequests[scopesList].requestingExtensionIds.indexOf(extensionId) > -1;
            if (extensionHasExistingRequest) {
                return;
            }
            const menuItem = this.menus.registerMenuAction(menu_1.ACCOUNTS_SUBMENU, {
                label: `Sign in to use ${extensionName} (1)`,
                order: '1',
                commandId: `${extensionId}signIn`,
            });
            const signInCommand = this.commands.registerCommand({ id: `${extensionId}signIn` }, {
                execute: async () => {
                    const session = await this.login(providerId, scopes);
                    // Add extension to allow list since user explicitly signed in on behalf of it
                    const allowList = await readAllowedExtensions(this.storageService, providerId, session.account.label);
                    if (!allowList.find(allowed => allowed.id === extensionId)) {
                        allowList.push({ id: extensionId, name: extensionName });
                        this.storageService.setData(`authentication-trusted-extensions-${providerId}-${session.account.label}`, JSON.stringify(allowList));
                    }
                    // And also set it as the preferred account for the extension
                    this.storageService.setData(`authentication-session-${extensionName}-${providerId}`, session.id);
                }
            });
            if (providerRequests) {
                const existingRequest = providerRequests[scopesList] || { disposables: [], requestingExtensionIds: [] };
                providerRequests[scopesList] = {
                    disposables: [...existingRequest.disposables, menuItem, signInCommand],
                    requestingExtensionIds: [...existingRequest.requestingExtensionIds, extensionId]
                };
                this.signInRequestItems.set(providerId, providerRequests);
            }
            else {
                this.signInRequestItems.set(providerId, {
                    [scopesList]: {
                        disposables: [menuItem, signInCommand],
                        requestingExtensionIds: [extensionId]
                    }
                });
            }
        }
    }
    getLabel(id) {
        const authProvider = this.authenticationProviders.get(id);
        if (authProvider) {
            return authProvider.label;
        }
        else {
            throw new Error(`No authentication provider '${id}' is currently registered.`);
        }
    }
    supportsMultipleAccounts(id) {
        const authProvider = this.authenticationProviders.get(id);
        if (authProvider) {
            return authProvider.supportsMultipleAccounts;
        }
        else {
            throw new Error(`No authentication provider '${id}' is currently registered.`);
        }
    }
    async getSessions(id) {
        const authProvider = this.authenticationProviders.get(id);
        if (authProvider) {
            return authProvider.getSessions();
        }
        else {
            throw new Error(`No authentication provider '${id}' is currently registered.`);
        }
    }
    async login(id, scopes) {
        const authProvider = this.authenticationProviders.get(id);
        if (authProvider) {
            return authProvider.login(scopes);
        }
        else {
            throw new Error(`No authentication provider '${id}' is currently registered.`);
        }
    }
    async logout(id, sessionId) {
        const authProvider = this.authenticationProviders.get(id);
        if (authProvider) {
            return authProvider.logout(sessionId);
        }
        else {
            throw new Error(`No authentication provider '${id}' is currently registered.`);
        }
    }
    async signOutOfAccount(id, accountName) {
        const authProvider = this.authenticationProviders.get(id);
        if (authProvider) {
            return authProvider.signOut(accountName);
        }
        else {
            throw new Error(`No authentication provider '${id}' is currently registered.`);
        }
    }
};
__decorate([
    inversify_1.inject(menu_1.MenuModelRegistry),
    __metadata("design:type", menu_1.MenuModelRegistry)
], AuthenticationServiceImpl.prototype, "menus", void 0);
__decorate([
    inversify_1.inject(command_1.CommandRegistry),
    __metadata("design:type", command_1.CommandRegistry)
], AuthenticationServiceImpl.prototype, "commands", void 0);
__decorate([
    inversify_1.inject(storage_service_1.StorageService),
    __metadata("design:type", Object)
], AuthenticationServiceImpl.prototype, "storageService", void 0);
__decorate([
    inversify_1.postConstruct(),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", []),
    __metadata("design:returntype", void 0)
], AuthenticationServiceImpl.prototype, "init", null);
AuthenticationServiceImpl = __decorate([
    inversify_1.injectable()
], AuthenticationServiceImpl);
exports.AuthenticationServiceImpl = AuthenticationServiceImpl;
async function readAllowedExtensions(storageService, providerId, accountName) {
    let trustedExtensions = [];
    try {
        const trustedExtensionSrc = await storageService.getData(`authentication-trusted-extensions-${providerId}-${accountName}`);
        if (trustedExtensionSrc) {
            trustedExtensions = JSON.parse(trustedExtensionSrc);
        }
    }
    catch (err) {
        console.error(err);
    }
    return trustedExtensions;
}
exports.readAllowedExtensions = readAllowedExtensions;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/breadcrumbs/breadcrumb-popup-container.js":
/*!*************************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/breadcrumbs/breadcrumb-popup-container.js ***!
  \*************************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2019 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.BreadcrumbPopupContainer = exports.BreadcrumbID = exports.BreadcrumbPopupContainerFactory = void 0;
const inversify_1 = __webpack_require__(/*! ../../../shared/inversify */ "../node_modules/@theia/file-search/node_modules/@theia/core/shared/inversify.js");
const common_1 = __webpack_require__(/*! ../../common */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/index.js");
const disposable_1 = __webpack_require__(/*! ../../common/disposable */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/disposable.js");
const context_menu_renderer_1 = __webpack_require__(/*! ../context-menu-renderer */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/context-menu-renderer.js");
const react_renderer_1 = __webpack_require__(/*! ../widgets/react-renderer */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/widgets/react-renderer.js");
const breadcrumbs_constants_1 = __webpack_require__(/*! ./breadcrumbs-constants */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/breadcrumbs/breadcrumbs-constants.js");
exports.BreadcrumbPopupContainerFactory = Symbol('BreadcrumbPopupContainerFactory');
exports.BreadcrumbID = Symbol('BreadcrumbID');
/**
 * This class creates a popup container at the given position
 * so that contributions can attach their HTML elements
 * as children of `BreadcrumbPopupContainer#container`.
 *
 * - `dispose()` is called on blur or on hit on escape
 */
let BreadcrumbPopupContainer = class BreadcrumbPopupContainer {
    constructor() {
        this.onDidDisposeEmitter = new common_1.Emitter();
        this.toDispose = new disposable_1.DisposableCollection(this.onDidDisposeEmitter);
        this.onFocusOut = (event) => {
            if (!(event.relatedTarget instanceof Element) || !this._container.contains(event.relatedTarget)) {
                this.dispose();
            }
        };
        this.escFunction = (event) => {
            if (event.key === 'Escape' || event.key === 'Esc') {
                this.dispose();
            }
        };
    }
    get onDidDispose() {
        return this.onDidDisposeEmitter.event;
    }
    get container() {
        return this._container;
    }
    get isOpen() {
        return this._isOpen;
    }
    init() {
        this._container = this.createPopupDiv(this.position);
        document.addEventListener('keyup', this.escFunction);
        this._container.focus();
        this._isOpen = true;
    }
    createPopupDiv(position) {
        const result = window.document.createElement('div');
        result.className = breadcrumbs_constants_1.Styles.BREADCRUMB_POPUP;
        result.style.left = `${position.x}px`;
        result.style.top = `${position.y}px`;
        result.tabIndex = 0;
        result.addEventListener('focusout', this.onFocusOut);
        this.parent.appendChild(result);
        return result;
    }
    dispose() {
        if (!this.toDispose.disposed) {
            this.onDidDisposeEmitter.fire();
            this.toDispose.dispose();
            this._container.remove();
            this._isOpen = false;
            document.removeEventListener('keyup', this.escFunction);
        }
    }
};
__decorate([
    inversify_1.inject(react_renderer_1.RendererHost),
    __metadata("design:type", Object)
], BreadcrumbPopupContainer.prototype, "parent", void 0);
__decorate([
    inversify_1.inject(exports.BreadcrumbID),
    __metadata("design:type", String)
], BreadcrumbPopupContainer.prototype, "breadcrumbId", void 0);
__decorate([
    inversify_1.inject(context_menu_renderer_1.Coordinate),
    __metadata("design:type", Object)
], BreadcrumbPopupContainer.prototype, "position", void 0);
__decorate([
    inversify_1.postConstruct(),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", []),
    __metadata("design:returntype", void 0)
], BreadcrumbPopupContainer.prototype, "init", null);
BreadcrumbPopupContainer = __decorate([
    inversify_1.injectable()
], BreadcrumbPopupContainer);
exports.BreadcrumbPopupContainer = BreadcrumbPopupContainer;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/breadcrumbs/breadcrumb-renderer.js":
/*!******************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/breadcrumbs/breadcrumb-renderer.js ***!
  \******************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2019 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.DefaultBreadcrumbRenderer = exports.BreadcrumbRenderer = void 0;
const React = __webpack_require__(/*! react */ "../node_modules/react/index.js");
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const breadcrumbs_constants_1 = __webpack_require__(/*! ./breadcrumbs-constants */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/breadcrumbs/breadcrumbs-constants.js");
exports.BreadcrumbRenderer = Symbol('BreadcrumbRenderer');
let DefaultBreadcrumbRenderer = class DefaultBreadcrumbRenderer {
    render(breadcrumb, onMouseDown) {
        return React.createElement("li", { key: breadcrumb.id, title: breadcrumb.longLabel, className: breadcrumbs_constants_1.Styles.BREADCRUMB_ITEM + (!onMouseDown ? '' : ' ' + breadcrumbs_constants_1.Styles.BREADCRUMB_ITEM_HAS_POPUP), onMouseDown: event => onMouseDown && onMouseDown(breadcrumb, event), tabIndex: 0, "data-breadcrumb-id": breadcrumb.id },
            breadcrumb.iconClass && React.createElement("span", { className: breadcrumb.iconClass }),
            " ",
            React.createElement("span", null,
                " ",
                breadcrumb.label));
    }
};
DefaultBreadcrumbRenderer = __decorate([
    inversify_1.injectable()
], DefaultBreadcrumbRenderer);
exports.DefaultBreadcrumbRenderer = DefaultBreadcrumbRenderer;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/breadcrumbs/breadcrumbs-constants.js":
/*!********************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/breadcrumbs/breadcrumbs-constants.js ***!
  \********************************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2019 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.BreadcrumbsContribution = exports.Styles = void 0;
var Styles;
(function (Styles) {
    Styles.BREADCRUMBS = 'theia-breadcrumbs';
    Styles.BREADCRUMB_ITEM = 'theia-breadcrumb-item';
    Styles.BREADCRUMB_POPUP_OVERLAY_CONTAINER = 'theia-breadcrumbs-popups-overlay';
    Styles.BREADCRUMB_POPUP = 'theia-breadcrumbs-popup';
    Styles.BREADCRUMB_ITEM_HAS_POPUP = 'theia-breadcrumb-item-haspopup';
})(Styles = exports.Styles || (exports.Styles = {}));
exports.BreadcrumbsContribution = Symbol('BreadcrumbsContribution');


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/breadcrumbs/breadcrumbs-renderer.js":
/*!*******************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/breadcrumbs/breadcrumbs-renderer.js ***!
  \*******************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2019 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.BreadcrumbsRendererFactory = exports.BreadcrumbsRenderer = void 0;
const React = __webpack_require__(/*! react */ "../node_modules/react/index.js");
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const widgets_1 = __webpack_require__(/*! ../widgets */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/widgets/index.js");
const breadcrumbs_service_1 = __webpack_require__(/*! ./breadcrumbs-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/breadcrumbs/breadcrumbs-service.js");
const breadcrumb_renderer_1 = __webpack_require__(/*! ./breadcrumb-renderer */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/breadcrumbs/breadcrumb-renderer.js");
const perfect_scrollbar_1 = __webpack_require__(/*! perfect-scrollbar */ "../node_modules/perfect-scrollbar/dist/perfect-scrollbar.esm.js");
const common_1 = __webpack_require__(/*! ../../common */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/index.js");
const disposable_1 = __webpack_require__(/*! ../../common/disposable */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/disposable.js");
const core_preferences_1 = __webpack_require__(/*! ../core-preferences */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/core-preferences.js");
const breadcrumbs_constants_1 = __webpack_require__(/*! ./breadcrumbs-constants */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/breadcrumbs/breadcrumbs-constants.js");
const label_provider_1 = __webpack_require__(/*! ../label-provider */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/label-provider.js");
let BreadcrumbsRenderer = class BreadcrumbsRenderer extends widgets_1.ReactRenderer {
    constructor() {
        super(...arguments);
        this.onDidChangeActiveStateEmitter = new common_1.Emitter();
        this.breadcrumbs = [];
        this.toDispose = new disposable_1.DisposableCollection();
        this.refreshCancellationMarker = { canceled: true };
        this.togglePopup = (breadcrumb, event) => {
            var _a;
            event.stopPropagation();
            event.preventDefault();
            let openPopup = true;
            if ((_a = this.popup) === null || _a === void 0 ? void 0 : _a.isOpen) {
                this.popup.dispose();
                // There is a popup open. If the popup is the popup that belongs to the currently clicked breadcrumb
                // just close the popup. If another breadcrumb was clicked, open the new popup immediately.
                openPopup = this.popup.breadcrumbId !== breadcrumb.id;
            }
            else {
                this.popup = undefined;
            }
            if (openPopup) {
                const { currentTarget } = event;
                const breadcrumbElement = currentTarget.closest(`.${breadcrumbs_constants_1.Styles.BREADCRUMB_ITEM}`);
                if (breadcrumbElement) {
                    const { left: x, bottom: y } = breadcrumbElement.getBoundingClientRect();
                    this.breadcrumbsService.openPopup(breadcrumb, { x, y }).then(popup => { this.popup = popup; });
                }
            }
        };
    }
    get onDidChangeActiveState() {
        return this.onDidChangeActiveStateEmitter.event;
    }
    get active() {
        return !!this.breadcrumbs.length;
    }
    get breadCrumbsContainer() {
        var _a;
        return (_a = this.host.firstElementChild) !== null && _a !== void 0 ? _a : undefined;
    }
    init() {
        this.toDispose.push(this.onDidChangeActiveStateEmitter);
        this.toDispose.push(this.breadcrumbsService.onDidChangeBreadcrumbs(uri => {
            var _a;
            if ((_a = this.uri) === null || _a === void 0 ? void 0 : _a.isEqual(uri)) {
                this.refresh(this.uri);
            }
        }));
        this.toDispose.push(this.corePreferences.onPreferenceChanged(change => {
            if (change.preferenceName === 'breadcrumbs.enabled') {
                this.refresh(this.uri);
            }
        }));
        this.toDispose.push(this.labelProvider.onDidChange(() => this.refresh(this.uri)));
    }
    dispose() {
        super.dispose();
        this.toDispose.dispose();
        if (this.popup) {
            this.popup.dispose();
        }
        if (this.scrollbar) {
            this.scrollbar.destroy();
            this.scrollbar = undefined;
        }
    }
    async refresh(uri) {
        this.uri = uri;
        this.refreshCancellationMarker.canceled = true;
        const currentCallCanceled = { canceled: false };
        this.refreshCancellationMarker = currentCallCanceled;
        let breadcrumbs;
        if (uri && this.corePreferences['breadcrumbs.enabled']) {
            breadcrumbs = await this.breadcrumbsService.getBreadcrumbs(uri);
        }
        else {
            breadcrumbs = [];
        }
        if (currentCallCanceled.canceled) {
            return;
        }
        const wasActive = this.active;
        this.breadcrumbs = breadcrumbs;
        const isActive = this.active;
        if (wasActive !== isActive) {
            this.onDidChangeActiveStateEmitter.fire(isActive);
        }
        this.update();
    }
    update() {
        this.render();
        if (!this.scrollbar) {
            this.createScrollbar();
        }
        else {
            this.scrollbar.update();
        }
        this.scrollToEnd();
    }
    createScrollbar() {
        const { breadCrumbsContainer } = this;
        if (breadCrumbsContainer) {
            this.scrollbar = new perfect_scrollbar_1.default(breadCrumbsContainer, {
                handlers: ['drag-thumb', 'keyboard', 'wheel', 'touch'],
                useBothWheelAxes: true,
                scrollXMarginOffset: 4,
                suppressScrollY: true
            });
        }
    }
    scrollToEnd() {
        const { breadCrumbsContainer } = this;
        if (breadCrumbsContainer) {
            breadCrumbsContainer.scrollLeft = breadCrumbsContainer.scrollWidth;
        }
    }
    doRender() {
        return React.createElement("ul", { className: breadcrumbs_constants_1.Styles.BREADCRUMBS }, this.renderBreadcrumbs());
    }
    renderBreadcrumbs() {
        return this.breadcrumbs.map(breadcrumb => this.breadcrumbRenderer.render(breadcrumb, this.togglePopup));
    }
};
__decorate([
    inversify_1.inject(breadcrumbs_service_1.BreadcrumbsService),
    __metadata("design:type", breadcrumbs_service_1.BreadcrumbsService)
], BreadcrumbsRenderer.prototype, "breadcrumbsService", void 0);
__decorate([
    inversify_1.inject(breadcrumb_renderer_1.BreadcrumbRenderer),
    __metadata("design:type", Object)
], BreadcrumbsRenderer.prototype, "breadcrumbRenderer", void 0);
__decorate([
    inversify_1.inject(core_preferences_1.CorePreferences),
    __metadata("design:type", Object)
], BreadcrumbsRenderer.prototype, "corePreferences", void 0);
__decorate([
    inversify_1.inject(label_provider_1.LabelProvider),
    __metadata("design:type", label_provider_1.LabelProvider)
], BreadcrumbsRenderer.prototype, "labelProvider", void 0);
__decorate([
    inversify_1.postConstruct(),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", []),
    __metadata("design:returntype", void 0)
], BreadcrumbsRenderer.prototype, "init", null);
BreadcrumbsRenderer = __decorate([
    inversify_1.injectable()
], BreadcrumbsRenderer);
exports.BreadcrumbsRenderer = BreadcrumbsRenderer;
exports.BreadcrumbsRendererFactory = Symbol('BreadcrumbsRendererFactory');


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/breadcrumbs/breadcrumbs-service.js":
/*!******************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/breadcrumbs/breadcrumbs-service.js ***!
  \******************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2019 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.BreadcrumbsService = void 0;
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const common_1 = __webpack_require__(/*! ../../common */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/index.js");
const breadcrumb_popup_container_1 = __webpack_require__(/*! ./breadcrumb-popup-container */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/breadcrumbs/breadcrumb-popup-container.js");
const breadcrumbs_constants_1 = __webpack_require__(/*! ./breadcrumbs-constants */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/breadcrumbs/breadcrumbs-constants.js");
let BreadcrumbsService = class BreadcrumbsService {
    constructor() {
        this.hasSubscribed = false;
        this.onDidChangeBreadcrumbsEmitter = new common_1.Emitter();
    }
    init() {
        this.createOverlayContainer();
    }
    createOverlayContainer() {
        this.popupsOverlayContainer = window.document.createElement('div');
        this.popupsOverlayContainer.id = breadcrumbs_constants_1.Styles.BREADCRUMB_POPUP_OVERLAY_CONTAINER;
        if (window.document.body) {
            window.document.body.appendChild(this.popupsOverlayContainer);
        }
    }
    /**
     * Subscribe to this event emitter to be notified when the breadcrumbs have changed.
     * The URI is the URI of the editor the breadcrumbs have changed for.
     */
    get onDidChangeBreadcrumbs() {
        // This lazy subscription is to address problems in inversify's instantiation routine
        // related to use of the IconThemeService by different components instantiated by the
        // ContributionProvider.
        if (!this.hasSubscribed) {
            this.subscribeToContributions();
        }
        return this.onDidChangeBreadcrumbsEmitter.event;
    }
    /**
     * Subscribes to the onDidChangeBreadcrumbs events for all contributions.
     */
    subscribeToContributions() {
        this.hasSubscribed = true;
        for (const contribution of this.contributions.getContributions()) {
            contribution.onDidChangeBreadcrumbs(uri => this.onDidChangeBreadcrumbsEmitter.fire(uri));
        }
    }
    /**
     * Returns the breadcrumbs for a given URI, possibly an empty list.
     */
    async getBreadcrumbs(uri) {
        const result = [];
        for (const contribution of await this.prioritizedContributions()) {
            result.push(...await contribution.computeBreadcrumbs(uri));
        }
        return result;
    }
    async prioritizedContributions() {
        const prioritized = await common_1.Prioritizeable.prioritizeAll(this.contributions.getContributions(), contribution => contribution.priority);
        return prioritized.map(p => p.value).reverse();
    }
    /**
     * Opens a popup for the given breadcrumb at the given position.
     */
    async openPopup(breadcrumb, position) {
        const contribution = this.contributions.getContributions().find(c => c.type === breadcrumb.type);
        if (contribution) {
            const popup = this.breadcrumbPopupContainerFactory(this.popupsOverlayContainer, breadcrumb.id, position);
            const popupContent = await contribution.attachPopupContent(breadcrumb, popup.container);
            if (popupContent && popup.isOpen) {
                popup.onDidDispose(() => popupContent.dispose());
            }
            else {
                popupContent === null || popupContent === void 0 ? void 0 : popupContent.dispose();
            }
            return popup;
        }
    }
};
__decorate([
    inversify_1.inject(common_1.ContributionProvider),
    inversify_1.named(breadcrumbs_constants_1.BreadcrumbsContribution),
    __metadata("design:type", Object)
], BreadcrumbsService.prototype, "contributions", void 0);
__decorate([
    inversify_1.inject(breadcrumb_popup_container_1.BreadcrumbPopupContainerFactory),
    __metadata("design:type", Function)
], BreadcrumbsService.prototype, "breadcrumbPopupContainerFactory", void 0);
__decorate([
    inversify_1.postConstruct(),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", []),
    __metadata("design:returntype", void 0)
], BreadcrumbsService.prototype, "init", null);
BreadcrumbsService = __decorate([
    inversify_1.injectable()
], BreadcrumbsService);
exports.BreadcrumbsService = BreadcrumbsService;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/breadcrumbs/index.js":
/*!****************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/breadcrumbs/index.js ***!
  \****************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2019 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
__exportStar(__webpack_require__(/*! ./breadcrumb-popup-container */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/breadcrumbs/breadcrumb-popup-container.js"), exports);
__exportStar(__webpack_require__(/*! ./breadcrumb-renderer */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/breadcrumbs/breadcrumb-renderer.js"), exports);
__exportStar(__webpack_require__(/*! ./breadcrumbs-renderer */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/breadcrumbs/breadcrumbs-renderer.js"), exports);
__exportStar(__webpack_require__(/*! ./breadcrumbs-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/breadcrumbs/breadcrumbs-service.js"), exports);
__exportStar(__webpack_require__(/*! ./breadcrumbs-constants */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/breadcrumbs/breadcrumbs-constants.js"), exports);


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/browser.js":
/*!******************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/browser.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.preventNavigation = exports.parseCssTime = exports.parseCssMagnitude = exports.animationFrame = exports.isBasicWasmSupported = exports.isNative = exports.isIPad = exports.isSafari = exports.isChrome = exports.isWebKit = exports.isFirefox = exports.isOpera = exports.isEdgeOrIE = exports.isEdge = exports.isIE = void 0;
const userAgent = typeof navigator !== 'undefined' ? navigator.userAgent : '';
exports.isIE = (userAgent.indexOf('Trident') >= 0);
exports.isEdge = (userAgent.indexOf('Edge/') >= 0);
exports.isEdgeOrIE = exports.isIE || exports.isEdge;
exports.isOpera = (userAgent.indexOf('Opera') >= 0);
exports.isFirefox = (userAgent.indexOf('Firefox') >= 0);
exports.isWebKit = (userAgent.indexOf('AppleWebKit') >= 0);
exports.isChrome = (userAgent.indexOf('Chrome') >= 0);
exports.isSafari = (userAgent.indexOf('Chrome') === -1) && (userAgent.indexOf('Safari') >= 0);
exports.isIPad = (userAgent.indexOf('iPad') >= 0);
// eslint-disable-next-line @typescript-eslint/no-explicit-any
exports.isNative = typeof window.process !== 'undefined';
// eslint-disable-next-line @typescript-eslint/no-explicit-any
exports.isBasicWasmSupported = typeof window.WebAssembly !== 'undefined';
/**
 * Resolves after the next animation frame if no parameter is given,
 * or after the given number of animation frames.
 */
function animationFrame(n = 1) {
    return new Promise(resolve => {
        function frameFunc() {
            if (n <= 0) {
                resolve();
            }
            else {
                n--;
                requestAnimationFrame(frameFunc);
            }
        }
        frameFunc();
    });
}
exports.animationFrame = animationFrame;
function parseCssMagnitude(value, defaultValue) {
    if (value) {
        let parsed;
        if (value.endsWith('px')) {
            parsed = parseFloat(value.substring(0, value.length - 2));
        }
        else {
            parsed = parseFloat(value);
        }
        if (!isNaN(parsed)) {
            return parsed;
        }
    }
    return defaultValue;
}
exports.parseCssMagnitude = parseCssMagnitude;
function parseCssTime(time, defaultValue) {
    if (time) {
        let parsed;
        if (time.endsWith('ms')) {
            parsed = parseFloat(time.substring(0, time.length - 2));
        }
        else if (time.endsWith('s')) {
            parsed = parseFloat(time.substring(0, time.length - 1)) * 1000;
        }
        else {
            parsed = parseFloat(time);
        }
        if (!isNaN(parsed)) {
            return parsed;
        }
    }
    return defaultValue;
}
exports.parseCssTime = parseCssTime;
function getMonacoEditorScroll(elem) {
    const linesContent = elem.querySelector('.lines-content');
    const viewLines = elem.querySelector('.view-lines');
    // eslint-disable-next-line no-null/no-null
    if (linesContent === null || viewLines === null) {
        return undefined;
    }
    const linesContentStyle = linesContent.style;
    const elemStyle = elem.style;
    const viewLinesStyle = viewLines.style;
    return {
        left: -parseCssMagnitude(linesContentStyle.left, 0),
        top: -parseCssMagnitude(linesContentStyle.top, 0),
        maxLeft: parseCssMagnitude(viewLinesStyle.width, 0) - parseCssMagnitude(elemStyle.width, 0),
        maxTop: parseCssMagnitude(viewLinesStyle.height, 0) - parseCssMagnitude(elemStyle.height, 0)
    };
}
/**
 * Prevent browser back/forward navigation of a mouse wheel event.
 */
function preventNavigation(event) {
    const { currentTarget, deltaX, deltaY } = event;
    const absDeltaX = Math.abs(deltaX);
    const absDeltaY = Math.abs(deltaY);
    let elem = event.target;
    while (elem && elem !== currentTarget) {
        let scroll;
        if (elem.classList.contains('monaco-scrollable-element')) {
            scroll = getMonacoEditorScroll(elem);
        }
        else {
            scroll = {
                left: elem.scrollLeft,
                top: elem.scrollTop,
                maxLeft: elem.scrollWidth - elem.clientWidth,
                maxTop: elem.scrollHeight - elem.clientHeight
            };
        }
        if (scroll) {
            const scrollH = scroll.maxLeft > 0 && (deltaX < 0 && scroll.left > 0 || deltaX > 0 && scroll.left < scroll.maxLeft);
            const scrollV = scroll.maxTop > 0 && (deltaY < 0 && scroll.top > 0 || deltaY > 0 && scroll.top < scroll.maxTop);
            if (scrollH && scrollV || scrollH && absDeltaX > absDeltaY || scrollV && absDeltaY > absDeltaX) {
                // The event is consumed by the scrollable child element
                return;
            }
        }
        elem = elem.parentElement;
    }
    event.preventDefault();
    event.stopPropagation();
}
exports.preventNavigation = preventNavigation;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/clipboard-service.js":
/*!****************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/clipboard-service.js ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2019 RedHat and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ClipboardService = void 0;
exports.ClipboardService = Symbol('ClipboardService');


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/color-registry.js":
/*!*************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/color-registry.js ***!
  \*************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2019 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ColorRegistry = exports.Color = void 0;
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const disposable_1 = __webpack_require__(/*! ../common/disposable */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/disposable.js");
const event_1 = __webpack_require__(/*! ../common/event */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/event.js");
var Color;
(function (Color) {
    function rgba(r, g, b, a = 1) {
        return { r, g, b, a };
    }
    Color.rgba = rgba;
    function hsla(h, s, l, a = 1) {
        return { h, s, l, a };
    }
    Color.hsla = hsla;
    Color.white = rgba(255, 255, 255, 1);
    Color.black = rgba(0, 0, 0, 1);
    function transparent(v, f) {
        return { v, f, kind: 'transparent' };
    }
    Color.transparent = transparent;
    function lighten(v, f) {
        return { v, f, kind: 'lighten' };
    }
    Color.lighten = lighten;
    function darken(v, f) {
        return { v, f, kind: 'darken' };
    }
    Color.darken = darken;
})(Color = exports.Color || (exports.Color = {}));
/**
 * It should be implemented by an extension, e.g. by the monaco extension.
 */
let ColorRegistry = class ColorRegistry {
    constructor() {
        this.onDidChangeEmitter = new event_1.Emitter();
        this.onDidChange = this.onDidChangeEmitter.event;
    }
    fireDidChange() {
        this.onDidChangeEmitter.fire(undefined);
    }
    *getColors() { }
    getCurrentCssVariable(id) {
        const value = this.getCurrentColor(id);
        if (!value) {
            return undefined;
        }
        const name = this.toCssVariableName(id);
        return { name, value };
    }
    toCssVariableName(id, prefix = 'theia') {
        return `--${prefix}-${id.replace(/\./g, '-')}`;
    }
    getCurrentColor(id) {
        return undefined;
    }
    register(...definitions) {
        const result = new disposable_1.DisposableCollection(...definitions.map(definition => this.doRegister(definition)));
        this.fireDidChange();
        return result;
    }
    doRegister(definition) {
        return disposable_1.Disposable.NULL;
    }
};
ColorRegistry = __decorate([
    inversify_1.injectable()
], ColorRegistry);
exports.ColorRegistry = ColorRegistry;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/common-frontend-contribution.js":
/*!***************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/common-frontend-contribution.js ***!
  \***************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.CommonFrontendContribution = exports.RECENT_COMMANDS_STORAGE_KEY = exports.supportPaste = exports.supportCopy = exports.supportCut = exports.CommonCommands = exports.CommonMenus = void 0;
/* eslint-disable max-len, @typescript-eslint/indent */
const debounce = __webpack_require__(/*! lodash.debounce */ "../node_modules/lodash.debounce/index.js");
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const widgets_1 = __webpack_require__(/*! @phosphor/widgets */ "../node_modules/@phosphor/widgets/lib/index.js");
const menu_1 = __webpack_require__(/*! ../common/menu */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/menu.js");
const command_1 = __webpack_require__(/*! ../common/command */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/command.js");
const uri_command_handler_1 = __webpack_require__(/*! ../common/uri-command-handler */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/uri-command-handler.js");
const selection_service_1 = __webpack_require__(/*! ../common/selection-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/selection-service.js");
const message_service_1 = __webpack_require__(/*! ../common/message-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/message-service.js");
const opener_service_1 = __webpack_require__(/*! ../browser/opener-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/opener-service.js");
const application_shell_1 = __webpack_require__(/*! ./shell/application-shell */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/shell/application-shell.js");
const tab_bars_1 = __webpack_require__(/*! ./shell/tab-bars */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/shell/tab-bars.js");
const about_dialog_1 = __webpack_require__(/*! ./about-dialog */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/about-dialog.js");
const browser = __webpack_require__(/*! ./browser */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/browser.js");
const uri_1 = __webpack_require__(/*! ../common/uri */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/uri.js");
const context_key_service_1 = __webpack_require__(/*! ./context-key-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/context-key-service.js");
const os_1 = __webpack_require__(/*! ../common/os */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/os.js");
const resource_context_key_1 = __webpack_require__(/*! ./resource-context-key */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/resource-context-key.js");
const selection_1 = __webpack_require__(/*! ../common/selection */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/selection.js");
const storage_service_1 = __webpack_require__(/*! ./storage-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/storage-service.js");
const navigatable_1 = __webpack_require__(/*! ./navigatable */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/navigatable.js");
const quick_view_service_1 = __webpack_require__(/*! ./quick-input/quick-view-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/quick-input/quick-view-service.js");
const environment_1 = __webpack_require__(/*! @theia/application-package/lib/environment */ "../node_modules/@theia/file-search/node_modules/@theia/application-package/lib/environment.js");
const icon_theme_service_1 = __webpack_require__(/*! ./icon-theme-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/icon-theme-service.js");
const color_registry_1 = __webpack_require__(/*! ./color-registry */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/color-registry.js");
const core_preferences_1 = __webpack_require__(/*! ./core-preferences */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/core-preferences.js");
const theming_1 = __webpack_require__(/*! ./theming */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/theming.js");
const preferences_1 = __webpack_require__(/*! ./preferences */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/preferences/index.js");
const clipboard_service_1 = __webpack_require__(/*! ./clipboard-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/clipboard-service.js");
const encoding_registry_1 = __webpack_require__(/*! ./encoding-registry */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/encoding-registry.js");
const encodings_1 = __webpack_require__(/*! ../common/encodings */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/encodings.js");
const env_variables_1 = __webpack_require__(/*! ../common/env-variables */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/env-variables/index.js");
const authentication_service_1 = __webpack_require__(/*! ./authentication-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/authentication-service.js");
const quick_input_1 = __webpack_require__(/*! ./quick-input */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/quick-input/index.js");
const localization_1 = __webpack_require__(/*! ../common/i18n/localization */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/i18n/localization.js");
const nls_1 = __webpack_require__(/*! ./nls */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/nls.js");
var CommonMenus;
(function (CommonMenus) {
    CommonMenus.FILE = [...menu_1.MAIN_MENU_BAR, '1_file'];
    CommonMenus.FILE_NEW = [...CommonMenus.FILE, '1_new'];
    CommonMenus.FILE_OPEN = [...CommonMenus.FILE, '2_open'];
    CommonMenus.FILE_SAVE = [...CommonMenus.FILE, '3_save'];
    CommonMenus.FILE_AUTOSAVE = [...CommonMenus.FILE, '4_autosave'];
    CommonMenus.FILE_SETTINGS = [...CommonMenus.FILE, '5_settings'];
    CommonMenus.FILE_SETTINGS_SUBMENU = [...CommonMenus.FILE_SETTINGS, '1_settings_submenu'];
    CommonMenus.FILE_SETTINGS_SUBMENU_OPEN = [...CommonMenus.FILE_SETTINGS_SUBMENU, '1_settings_submenu_open'];
    CommonMenus.FILE_SETTINGS_SUBMENU_THEME = [...CommonMenus.FILE_SETTINGS_SUBMENU, '2_settings_submenu_theme'];
    CommonMenus.FILE_CLOSE = [...CommonMenus.FILE, '6_close'];
    CommonMenus.EDIT = [...menu_1.MAIN_MENU_BAR, '2_edit'];
    CommonMenus.EDIT_UNDO = [...CommonMenus.EDIT, '1_undo'];
    CommonMenus.EDIT_CLIPBOARD = [...CommonMenus.EDIT, '2_clipboard'];
    CommonMenus.EDIT_FIND = [...CommonMenus.EDIT, '3_find'];
    CommonMenus.VIEW = [...menu_1.MAIN_MENU_BAR, '4_view'];
    CommonMenus.VIEW_PRIMARY = [...CommonMenus.VIEW, '0_primary'];
    CommonMenus.VIEW_VIEWS = [...CommonMenus.VIEW, '1_views'];
    CommonMenus.VIEW_LAYOUT = [...CommonMenus.VIEW, '2_layout'];
    CommonMenus.VIEW_TOGGLE = [...CommonMenus.VIEW, '3_toggle'];
    CommonMenus.SETTINGS_OPEN = [...menu_1.SETTINGS_MENU, '1_settings_open'];
    CommonMenus.SETTINGS__THEME = [...menu_1.SETTINGS_MENU, '2_settings_theme'];
    // last menu item
    CommonMenus.HELP = [...menu_1.MAIN_MENU_BAR, '9_help'];
})(CommonMenus = exports.CommonMenus || (exports.CommonMenus = {}));
var CommonCommands;
(function (CommonCommands) {
    const FILE_CATEGORY = 'File';
    const VIEW_CATEGORY = 'View';
    CommonCommands.OPEN = {
        id: 'core.open',
    };
    CommonCommands.CUT = {
        id: 'core.cut',
        label: 'Cut'
    };
    CommonCommands.COPY = {
        id: 'core.copy',
        label: 'Copy'
    };
    CommonCommands.PASTE = {
        id: 'core.paste',
        label: 'Paste'
    };
    CommonCommands.COPY_PATH = {
        id: 'core.copy.path',
        label: 'Copy Path'
    };
    CommonCommands.UNDO = {
        id: 'core.undo',
        label: 'Undo'
    };
    CommonCommands.REDO = {
        id: 'core.redo',
        label: 'Redo'
    };
    CommonCommands.SELECT_ALL = {
        id: 'core.selectAll',
        label: 'Select All'
    };
    CommonCommands.FIND = {
        id: 'core.find',
        label: 'Find'
    };
    CommonCommands.REPLACE = {
        id: 'core.replace',
        label: 'Replace'
    };
    CommonCommands.NEXT_TAB = {
        id: 'core.nextTab',
        category: VIEW_CATEGORY,
        label: 'Switch to Next Tab'
    };
    CommonCommands.PREVIOUS_TAB = {
        id: 'core.previousTab',
        category: VIEW_CATEGORY,
        label: 'Switch to Previous Tab'
    };
    CommonCommands.NEXT_TAB_IN_GROUP = {
        id: 'core.nextTabInGroup',
        category: VIEW_CATEGORY,
        label: 'Switch to Next Tab in Group'
    };
    CommonCommands.PREVIOUS_TAB_IN_GROUP = {
        id: 'core.previousTabInGroup',
        category: VIEW_CATEGORY,
        label: 'Switch to Previous Tab in Group'
    };
    CommonCommands.NEXT_TAB_GROUP = {
        id: 'core.nextTabGroup',
        category: VIEW_CATEGORY,
        label: 'Switch to Next Tab Group'
    };
    CommonCommands.PREVIOUS_TAB_GROUP = {
        id: 'core.previousTabBar',
        category: VIEW_CATEGORY,
        label: 'Switch to Previous Tab Group'
    };
    CommonCommands.CLOSE_TAB = {
        id: 'core.close.tab',
        category: VIEW_CATEGORY,
        label: 'Close Tab'
    };
    CommonCommands.CLOSE_OTHER_TABS = {
        id: 'core.close.other.tabs',
        category: VIEW_CATEGORY,
        label: 'Close Other Tabs'
    };
    CommonCommands.CLOSE_RIGHT_TABS = {
        id: 'core.close.right.tabs',
        category: VIEW_CATEGORY,
        label: 'Close Tabs to the Right'
    };
    CommonCommands.CLOSE_ALL_TABS = {
        id: 'core.close.all.tabs',
        category: VIEW_CATEGORY,
        label: 'Close All Tabs'
    };
    CommonCommands.CLOSE_MAIN_TAB = {
        id: 'core.close.main.tab',
        category: VIEW_CATEGORY,
        label: 'Close Tab in Main Area'
    };
    CommonCommands.CLOSE_OTHER_MAIN_TABS = {
        id: 'core.close.other.main.tabs',
        category: VIEW_CATEGORY,
        label: 'Close Other Tabs in Main Area'
    };
    CommonCommands.CLOSE_ALL_MAIN_TABS = {
        id: 'core.close.all.main.tabs',
        category: VIEW_CATEGORY,
        label: 'Close All Tabs in Main Area'
    };
    CommonCommands.COLLAPSE_PANEL = {
        id: 'core.collapse.tab',
        category: VIEW_CATEGORY,
        label: 'Collapse Side Panel'
    };
    CommonCommands.COLLAPSE_ALL_PANELS = {
        id: 'core.collapse.all.tabs',
        category: VIEW_CATEGORY,
        label: 'Collapse All Side Panels'
    };
    CommonCommands.TOGGLE_BOTTOM_PANEL = {
        id: 'core.toggle.bottom.panel',
        category: VIEW_CATEGORY,
        label: 'Toggle Bottom Panel'
    };
    CommonCommands.TOGGLE_STATUS_BAR = {
        id: 'workbench.action.toggleStatusbarVisibility',
        category: VIEW_CATEGORY,
        label: 'Toggle Status Bar Visibility'
    };
    CommonCommands.TOGGLE_MAXIMIZED = {
        id: 'core.toggleMaximized',
        category: VIEW_CATEGORY,
        label: 'Toggle Maximized'
    };
    CommonCommands.OPEN_VIEW = {
        id: 'core.openView',
        category: VIEW_CATEGORY,
        label: 'Open View...'
    };
    CommonCommands.SAVE = {
        id: 'core.save',
        category: FILE_CATEGORY,
        label: 'Save',
    };
    CommonCommands.SAVE_WITHOUT_FORMATTING = {
        id: 'core.saveWithoutFormatting',
        category: FILE_CATEGORY,
        label: 'Save without Formatting',
    };
    CommonCommands.SAVE_ALL = {
        id: 'core.saveAll',
        category: FILE_CATEGORY,
        label: 'Save All',
    };
    CommonCommands.AUTO_SAVE = {
        id: 'textEditor.commands.autosave',
        category: FILE_CATEGORY,
        label: 'Auto Save',
    };
    CommonCommands.ABOUT_COMMAND = {
        id: 'core.about',
        label: 'About'
    };
    CommonCommands.OPEN_PREFERENCES = {
        id: 'preferences:open',
        category: 'Settings',
        label: 'Open Preferences',
    };
    CommonCommands.SELECT_COLOR_THEME = {
        id: 'workbench.action.selectTheme',
        label: 'Color Theme',
        category: 'Preferences'
    };
    CommonCommands.SELECT_ICON_THEME = {
        id: 'workbench.action.selectIconTheme',
        label: 'File Icon Theme',
        category: 'Preferences'
    };
    CommonCommands.CONFIGURE_DISPLAY_LANGUAGE = command_1.Command.toLocalizedCommand({
        id: 'workbench.action.configureLanguage',
        label: 'Configure Display Language'
    }, 'vscode/localizationsActions/configureLocale');
})(CommonCommands = exports.CommonCommands || (exports.CommonCommands = {}));
exports.supportCut = browser.isNative || document.queryCommandSupported('cut');
exports.supportCopy = browser.isNative || document.queryCommandSupported('copy');
// Chrome incorrectly returns true for document.queryCommandSupported('paste')
// when the paste feature is available but the calling script has insufficient
// privileges to actually perform the action
exports.supportPaste = browser.isNative || (!browser.isChrome && document.queryCommandSupported('paste'));
exports.RECENT_COMMANDS_STORAGE_KEY = 'commands';
let CommonFrontendContribution = class CommonFrontendContribution {
    constructor(shell, selectionService, messageService, openerService, aboutDialog, localizationProvider) {
        this.shell = shell;
        this.selectionService = selectionService;
        this.messageService = messageService;
        this.openerService = openerService;
        this.aboutDialog = aboutDialog;
        this.localizationProvider = localizationProvider;
        this.shouldPreventClose = false;
    }
    async configure(app) {
        const configDirUri = await this.environments.getConfigDirUri();
        // Global settings
        this.encodingRegistry.registerOverride({
            encoding: encodings_1.UTF8,
            parent: new uri_1.default(configDirUri)
        });
        this.contextKeyService.createKey('isLinux', os_1.OS.type() === os_1.OS.Type.Linux);
        this.contextKeyService.createKey('isMac', os_1.OS.type() === os_1.OS.Type.OSX);
        this.contextKeyService.createKey('isWindows', os_1.OS.type() === os_1.OS.Type.Windows);
        this.contextKeyService.createKey('isWeb', !this.isElectron());
        this.initResourceContextKeys();
        this.registerCtrlWHandling();
        this.updateStyles();
        this.updateThemeFromPreference('workbench.colorTheme');
        this.updateThemeFromPreference('workbench.iconTheme');
        this.preferences.onPreferenceChanged(e => this.handlePreferenceChange(e, app));
        this.themeService.onDidColorThemeChange(() => this.updateThemePreference('workbench.colorTheme'));
        this.iconThemes.onDidChangeCurrent(() => this.updateThemePreference('workbench.iconTheme'));
        app.shell.leftPanelHandler.addBottomMenu({
            id: 'settings-menu',
            iconClass: 'codicon codicon-settings-gear',
            title: 'Settings',
            menuPath: menu_1.SETTINGS_MENU,
            order: 0,
        });
        const accountsMenu = {
            id: 'accounts-menu',
            iconClass: 'codicon codicon-person',
            title: 'Accounts',
            menuPath: menu_1.ACCOUNTS_MENU,
            order: 1,
        };
        this.authenticationService.onDidRegisterAuthenticationProvider(() => {
            app.shell.leftPanelHandler.addBottomMenu(accountsMenu);
        });
        this.authenticationService.onDidUnregisterAuthenticationProvider(() => {
            if (this.authenticationService.getProviderIds().length === 0) {
                app.shell.leftPanelHandler.removeBottomMenu(accountsMenu.id);
            }
        });
    }
    updateStyles() {
        document.body.classList.remove('theia-editor-highlightModifiedTabs');
        if (this.preferences['workbench.editor.highlightModifiedTabs']) {
            document.body.classList.add('theia-editor-highlightModifiedTabs');
        }
    }
    updateThemePreference(preferenceName) {
        const inspect = this.preferenceService.inspect(preferenceName);
        const workspaceValue = inspect && inspect.workspaceValue;
        const userValue = inspect && inspect.globalValue;
        const value = workspaceValue || userValue;
        const newValue = preferenceName === 'workbench.colorTheme' ? this.themeService.getCurrentTheme().id : this.iconThemes.current;
        if (newValue !== value) {
            const scope = workspaceValue !== undefined ? preferences_1.PreferenceScope.Workspace : preferences_1.PreferenceScope.User;
            this.preferenceService.set(preferenceName, newValue, scope);
        }
    }
    updateThemeFromPreference(preferenceName) {
        const inspect = this.preferenceService.inspect(preferenceName);
        const workspaceValue = inspect && inspect.workspaceValue;
        const userValue = inspect && inspect.globalValue;
        const value = workspaceValue || userValue;
        if (value !== undefined) {
            if (preferenceName === 'workbench.colorTheme') {
                this.themeService.setCurrentTheme(value || this.themeService.defaultTheme.id);
            }
            else {
                this.iconThemes.current = value || this.iconThemes.default.id;
            }
        }
    }
    handlePreferenceChange(e, app) {
        switch (e.preferenceName) {
            case 'workbench.editor.highlightModifiedTabs': {
                this.updateStyles();
                break;
            }
            case 'workbench.colorTheme':
            case 'workbench.iconTheme': {
                this.updateThemeFromPreference(e.preferenceName);
                break;
            }
            case 'window.menuBarVisibility': {
                const { newValue } = e;
                const mainMenuId = 'main-menu';
                if (newValue === 'compact') {
                    this.shell.leftPanelHandler.addTopMenu({
                        id: mainMenuId,
                        iconClass: 'codicon codicon-menu',
                        title: 'Application Menu',
                        menuPath: ['menubar'],
                        order: 0,
                    });
                }
                else {
                    app.shell.leftPanelHandler.removeTopMenu(mainMenuId);
                }
                break;
            }
        }
    }
    onStart() {
        this.storageService.getData(exports.RECENT_COMMANDS_STORAGE_KEY, { recent: [] })
            .then(tasks => this.commandRegistry.recent = tasks.recent);
    }
    onStop() {
        const recent = this.commandRegistry.recent;
        this.storageService.setData(exports.RECENT_COMMANDS_STORAGE_KEY, { recent });
    }
    initResourceContextKeys() {
        const updateContextKeys = () => {
            const selection = this.selectionService.selection;
            const resourceUri = navigatable_1.Navigatable.is(selection) && selection.getResourceUri() || selection_1.UriSelection.getUri(selection);
            this.resourceContextKey.set(resourceUri);
        };
        updateContextKeys();
        this.selectionService.onSelectionChanged(updateContextKeys);
    }
    registerMenus(registry) {
        registry.registerSubmenu(CommonMenus.FILE, 'File');
        registry.registerSubmenu(CommonMenus.EDIT, 'Edit');
        registry.registerSubmenu(CommonMenus.VIEW, 'View');
        registry.registerSubmenu(CommonMenus.HELP, 'Help');
        registry.registerMenuAction(CommonMenus.FILE_SAVE, {
            commandId: CommonCommands.SAVE.id
        });
        registry.registerMenuAction(CommonMenus.FILE_SAVE, {
            commandId: CommonCommands.SAVE_ALL.id
        });
        registry.registerMenuAction(CommonMenus.FILE_AUTOSAVE, {
            commandId: CommonCommands.AUTO_SAVE.id
        });
        registry.registerSubmenu(CommonMenus.FILE_SETTINGS_SUBMENU, 'Settings');
        registry.registerMenuAction(CommonMenus.EDIT_UNDO, {
            commandId: CommonCommands.UNDO.id,
            order: '0'
        });
        registry.registerMenuAction(CommonMenus.EDIT_UNDO, {
            commandId: CommonCommands.REDO.id,
            order: '1'
        });
        registry.registerMenuAction(CommonMenus.EDIT_FIND, {
            commandId: CommonCommands.FIND.id,
            order: '0'
        });
        registry.registerMenuAction(CommonMenus.EDIT_FIND, {
            commandId: CommonCommands.REPLACE.id,
            order: '1'
        });
        registry.registerMenuAction(CommonMenus.EDIT_CLIPBOARD, {
            commandId: CommonCommands.CUT.id,
            order: '0'
        });
        registry.registerMenuAction(CommonMenus.EDIT_CLIPBOARD, {
            commandId: CommonCommands.COPY.id,
            order: '1'
        });
        registry.registerMenuAction(CommonMenus.EDIT_CLIPBOARD, {
            commandId: CommonCommands.PASTE.id,
            order: '2'
        });
        registry.registerMenuAction(CommonMenus.EDIT_CLIPBOARD, {
            commandId: CommonCommands.COPY_PATH.id,
            order: '3'
        });
        registry.registerMenuAction(CommonMenus.VIEW_LAYOUT, {
            commandId: CommonCommands.TOGGLE_BOTTOM_PANEL.id,
            order: '0'
        });
        registry.registerMenuAction(CommonMenus.VIEW_LAYOUT, {
            commandId: CommonCommands.TOGGLE_STATUS_BAR.id,
            order: '1',
            label: 'Toggle Status Bar'
        });
        registry.registerMenuAction(CommonMenus.VIEW_LAYOUT, {
            commandId: CommonCommands.COLLAPSE_ALL_PANELS.id,
            order: '2'
        });
        registry.registerMenuAction(tab_bars_1.SHELL_TABBAR_CONTEXT_MENU, {
            commandId: CommonCommands.CLOSE_TAB.id,
            label: 'Close',
            order: '0'
        });
        registry.registerMenuAction(tab_bars_1.SHELL_TABBAR_CONTEXT_MENU, {
            commandId: CommonCommands.CLOSE_OTHER_TABS.id,
            label: 'Close Others',
            order: '1'
        });
        registry.registerMenuAction(tab_bars_1.SHELL_TABBAR_CONTEXT_MENU, {
            commandId: CommonCommands.CLOSE_RIGHT_TABS.id,
            label: 'Close to the Right',
            order: '2'
        });
        registry.registerMenuAction(tab_bars_1.SHELL_TABBAR_CONTEXT_MENU, {
            commandId: CommonCommands.CLOSE_ALL_TABS.id,
            label: 'Close All',
            order: '3'
        });
        registry.registerMenuAction(tab_bars_1.SHELL_TABBAR_CONTEXT_MENU, {
            commandId: CommonCommands.COLLAPSE_PANEL.id,
            label: 'Collapse',
            order: '4'
        });
        registry.registerMenuAction(tab_bars_1.SHELL_TABBAR_CONTEXT_MENU, {
            commandId: CommonCommands.TOGGLE_MAXIMIZED.id,
            label: 'Toggle Maximized',
            order: '5'
        });
        registry.registerMenuAction(CommonMenus.HELP, {
            commandId: CommonCommands.ABOUT_COMMAND.id,
            label: 'About',
            order: '9'
        });
        registry.registerMenuAction(CommonMenus.VIEW_PRIMARY, {
            commandId: CommonCommands.OPEN_VIEW.id
        });
        registry.registerMenuAction(CommonMenus.FILE_SETTINGS_SUBMENU_THEME, {
            commandId: CommonCommands.SELECT_COLOR_THEME.id
        });
        registry.registerMenuAction(CommonMenus.FILE_SETTINGS_SUBMENU_THEME, {
            commandId: CommonCommands.SELECT_ICON_THEME.id
        });
        registry.registerMenuAction(CommonMenus.SETTINGS__THEME, {
            commandId: CommonCommands.SELECT_COLOR_THEME.id
        });
        registry.registerMenuAction(CommonMenus.SETTINGS__THEME, {
            commandId: CommonCommands.SELECT_ICON_THEME.id
        });
    }
    registerCommands(commandRegistry) {
        commandRegistry.registerCommand(CommonCommands.OPEN, uri_command_handler_1.UriAwareCommandHandler.MultiSelect(this.selectionService, {
            execute: uris => uris.map(uri => opener_service_1.open(this.openerService, uri)),
        }));
        commandRegistry.registerCommand(CommonCommands.CUT, {
            execute: () => {
                if (exports.supportCut) {
                    document.execCommand('cut');
                }
                else {
                    this.messageService.warn("Please use the browser's cut command or shortcut.");
                }
            }
        });
        commandRegistry.registerCommand(CommonCommands.COPY, {
            execute: () => {
                if (exports.supportCopy) {
                    document.execCommand('copy');
                }
                else {
                    this.messageService.warn("Please use the browser's copy command or shortcut.");
                }
            }
        });
        commandRegistry.registerCommand(CommonCommands.PASTE, {
            execute: () => {
                if (exports.supportPaste) {
                    document.execCommand('paste');
                }
                else {
                    this.messageService.warn("Please use the browser's paste command or shortcut.");
                }
            }
        });
        commandRegistry.registerCommand(CommonCommands.COPY_PATH, uri_command_handler_1.UriAwareCommandHandler.MultiSelect(this.selectionService, {
            execute: async (uris) => {
                if (uris.length) {
                    const lineDelimiter = os_1.isWindows ? '\r\n' : '\n';
                    const text = uris.map(resource => resource.path).join(lineDelimiter);
                    await this.clipboardService.writeText(text);
                }
                else {
                    await this.messageService.info('Open a file first to copy its path');
                }
            }
        }));
        commandRegistry.registerCommand(CommonCommands.UNDO, {
            execute: () => document.execCommand('undo')
        });
        commandRegistry.registerCommand(CommonCommands.REDO, {
            execute: () => document.execCommand('redo')
        });
        commandRegistry.registerCommand(CommonCommands.SELECT_ALL, {
            execute: () => document.execCommand('selectAll')
        });
        commandRegistry.registerCommand(CommonCommands.FIND, {
            execute: () => { }
        });
        commandRegistry.registerCommand(CommonCommands.REPLACE, {
            execute: () => { }
        });
        commandRegistry.registerCommand(CommonCommands.NEXT_TAB, {
            isEnabled: () => this.shell.currentTabBar !== undefined,
            execute: () => this.shell.activateNextTab()
        });
        commandRegistry.registerCommand(CommonCommands.PREVIOUS_TAB, {
            isEnabled: () => this.shell.currentTabBar !== undefined,
            execute: () => this.shell.activatePreviousTab()
        });
        commandRegistry.registerCommand(CommonCommands.NEXT_TAB_IN_GROUP, {
            isEnabled: () => this.shell.nextTabIndexInTabBar() !== -1,
            execute: () => this.shell.activateNextTabInTabBar()
        });
        commandRegistry.registerCommand(CommonCommands.PREVIOUS_TAB_IN_GROUP, {
            isEnabled: () => this.shell.previousTabIndexInTabBar() !== -1,
            execute: () => this.shell.activatePreviousTabInTabBar()
        });
        commandRegistry.registerCommand(CommonCommands.NEXT_TAB_GROUP, {
            isEnabled: () => this.shell.nextTabBar() !== undefined,
            execute: () => this.shell.activateNextTabBar()
        });
        commandRegistry.registerCommand(CommonCommands.PREVIOUS_TAB_GROUP, {
            isEnabled: () => this.shell.previousTabBar() !== undefined,
            execute: () => this.shell.activatePreviousTabBar()
        });
        commandRegistry.registerCommand(CommonCommands.CLOSE_TAB, {
            isEnabled: (event) => {
                const tabBar = this.shell.findTabBar(event);
                if (!tabBar) {
                    return false;
                }
                const currentTitle = this.shell.findTitle(tabBar, event);
                return currentTitle !== undefined && currentTitle.closable;
            },
            execute: (event) => {
                const tabBar = this.shell.findTabBar(event);
                const currentTitle = this.shell.findTitle(tabBar, event);
                this.shell.closeTabs(tabBar, title => title === currentTitle);
            }
        });
        commandRegistry.registerCommand(CommonCommands.CLOSE_OTHER_TABS, {
            isEnabled: (event) => {
                const tabBar = this.shell.findTabBar(event);
                if (!tabBar) {
                    return false;
                }
                const currentTitle = this.shell.findTitle(tabBar, event);
                return tabBar.titles.some(title => title !== currentTitle && title.closable);
            },
            execute: (event) => {
                const tabBar = this.shell.findTabBar(event);
                const currentTitle = this.shell.findTitle(tabBar, event);
                this.shell.closeTabs(tabBar, title => title !== currentTitle && title.closable);
            }
        });
        commandRegistry.registerCommand(CommonCommands.CLOSE_RIGHT_TABS, {
            isEnabled: (event) => {
                const tabBar = this.shell.findTabBar(event);
                if (!tabBar) {
                    return false;
                }
                const currentIndex = this.findTitleIndex(tabBar, event);
                return tabBar.titles.some((title, index) => index > currentIndex && title.closable);
            },
            isVisible: (event) => {
                const area = this.findTabArea(event);
                return area !== undefined && area !== 'left' && area !== 'right';
            },
            execute: (event) => {
                const tabBar = this.shell.findTabBar(event);
                const currentIndex = this.findTitleIndex(tabBar, event);
                this.shell.closeTabs(tabBar, (title, index) => index > currentIndex && title.closable);
            }
        });
        commandRegistry.registerCommand(CommonCommands.CLOSE_ALL_TABS, {
            isEnabled: (event) => {
                const tabBar = this.shell.findTabBar(event);
                return tabBar !== undefined && tabBar.titles.some(title => title.closable);
            },
            execute: (event) => this.shell.closeTabs(this.shell.findTabBar(event), title => title.closable)
        });
        commandRegistry.registerCommand(CommonCommands.CLOSE_MAIN_TAB, {
            isEnabled: () => {
                const currentWidget = this.shell.getCurrentWidget('main');
                return currentWidget !== undefined && currentWidget.title.closable;
            },
            execute: () => this.shell.getCurrentWidget('main').close()
        });
        commandRegistry.registerCommand(CommonCommands.CLOSE_OTHER_MAIN_TABS, {
            isEnabled: () => {
                const currentWidget = this.shell.getCurrentWidget('main');
                return currentWidget !== undefined &&
                    this.shell.mainAreaTabBars.some(tb => tb.titles.some(title => title.owner !== currentWidget && title.closable));
            },
            execute: () => {
                const currentWidget = this.shell.getCurrentWidget('main');
                this.shell.closeTabs('main', title => title.owner !== currentWidget && title.closable);
            }
        });
        commandRegistry.registerCommand(CommonCommands.CLOSE_ALL_MAIN_TABS, {
            isEnabled: () => this.shell.mainAreaTabBars.some(tb => tb.titles.some(title => title.closable)),
            execute: () => this.shell.closeTabs('main', title => title.closable)
        });
        commandRegistry.registerCommand(CommonCommands.COLLAPSE_PANEL, {
            isEnabled: (event) => application_shell_1.ApplicationShell.isSideArea(this.findTabArea(event)),
            isVisible: (event) => application_shell_1.ApplicationShell.isSideArea(this.findTabArea(event)),
            execute: (event) => this.shell.collapsePanel(this.findTabArea(event))
        });
        commandRegistry.registerCommand(CommonCommands.COLLAPSE_ALL_PANELS, {
            execute: () => {
                this.shell.collapsePanel('left');
                this.shell.collapsePanel('right');
                this.shell.collapsePanel('bottom');
            }
        });
        commandRegistry.registerCommand(CommonCommands.TOGGLE_BOTTOM_PANEL, {
            isEnabled: () => this.shell.getWidgets('bottom').length > 0,
            execute: () => {
                if (this.shell.isExpanded('bottom')) {
                    this.shell.collapsePanel('bottom');
                }
                else {
                    this.shell.expandPanel('bottom');
                }
            }
        });
        commandRegistry.registerCommand(CommonCommands.TOGGLE_STATUS_BAR, {
            execute: () => this.preferenceService.updateValue('workbench.statusBar.visible', !this.preferences['workbench.statusBar.visible'])
        });
        commandRegistry.registerCommand(CommonCommands.TOGGLE_MAXIMIZED, {
            isEnabled: (event) => this.canToggleMaximized(event),
            isVisible: (event) => this.canToggleMaximized(event),
            execute: (event) => this.toggleMaximized(event)
        });
        commandRegistry.registerCommand(CommonCommands.SAVE, {
            execute: () => this.shell.save({ formatType: 1 /* ON */ })
        });
        commandRegistry.registerCommand(CommonCommands.SAVE_WITHOUT_FORMATTING, {
            execute: () => this.shell.save({ formatType: 2 /* OFF */ })
        });
        commandRegistry.registerCommand(CommonCommands.SAVE_ALL, {
            execute: () => this.shell.saveAll({ formatType: 3 /* DIRTY */ })
        });
        commandRegistry.registerCommand(CommonCommands.ABOUT_COMMAND, {
            execute: () => this.openAbout()
        });
        commandRegistry.registerCommand(CommonCommands.OPEN_VIEW, {
            execute: () => { var _a; return (_a = this.quickInputService) === null || _a === void 0 ? void 0 : _a.open(quick_view_service_1.QuickViewService.PREFIX); }
        });
        commandRegistry.registerCommand(CommonCommands.SELECT_COLOR_THEME, {
            execute: () => this.selectColorTheme()
        });
        commandRegistry.registerCommand(CommonCommands.SELECT_ICON_THEME, {
            execute: () => this.selectIconTheme()
        });
        commandRegistry.registerCommand(CommonCommands.CONFIGURE_DISPLAY_LANGUAGE, {
            execute: () => this.configureDisplayLanguage()
        });
    }
    findTabArea(event) {
        const tabBar = this.shell.findTabBar(event);
        if (tabBar) {
            return this.shell.getAreaFor(tabBar);
        }
        return this.shell.currentTabArea;
    }
    /**
     * Finds the index of the selected title from the tab-bar.
     * @param tabBar: used for providing an array of titles.
     * @returns the index of the selected title if it is available in the tab-bar, else returns the index of currently-selected title.
     */
    findTitleIndex(tabBar, event) {
        if (event) {
            const targetTitle = this.shell.findTitle(tabBar, event);
            return targetTitle ? tabBar.titles.indexOf(targetTitle) : tabBar.currentIndex;
        }
        return tabBar.currentIndex;
    }
    canToggleMaximized(event) {
        if ((event === null || event === void 0 ? void 0 : event.target) instanceof HTMLElement) {
            const widget = this.shell.findWidgetForElement(event.target);
            if (widget) {
                return this.shell.mainPanel.contains(widget) || this.shell.bottomPanel.contains(widget);
            }
        }
        return this.shell.canToggleMaximized();
    }
    /**
     * Maximize the bottom or the main dockpanel based on the widget.
     * @param event used to find the selected widget.
     */
    toggleMaximized(event) {
        if ((event === null || event === void 0 ? void 0 : event.target) instanceof HTMLElement) {
            const widget = this.shell.findWidgetForElement(event.target);
            if (widget) {
                if (this.shell.mainPanel.contains(widget)) {
                    this.shell.mainPanel.toggleMaximized();
                }
                else if (this.shell.bottomPanel.contains(widget)) {
                    this.shell.bottomPanel.toggleMaximized();
                }
                if (widget instanceof widgets_1.TabBar) {
                    // reveals the widget when maximized.
                    const title = this.shell.findTitle(widget, event);
                    if (title) {
                        this.shell.revealWidget(title.owner.id);
                    }
                }
            }
        }
        else {
            this.shell.toggleMaximized();
        }
    }
    isElectron() {
        return environment_1.environment.electron.is();
    }
    registerKeybindings(registry) {
        if (exports.supportCut) {
            registry.registerKeybinding({
                command: CommonCommands.CUT.id,
                keybinding: 'ctrlcmd+x'
            });
        }
        if (exports.supportCopy) {
            registry.registerKeybinding({
                command: CommonCommands.COPY.id,
                keybinding: 'ctrlcmd+c'
            });
        }
        if (exports.supportPaste) {
            registry.registerKeybinding({
                command: CommonCommands.PASTE.id,
                keybinding: 'ctrlcmd+v'
            });
        }
        registry.registerKeybinding({
            command: CommonCommands.COPY_PATH.id,
            keybinding: os_1.isWindows ? 'shift+alt+c' : 'ctrlcmd+alt+c',
            when: '!editorFocus'
        });
        registry.registerKeybindings(
        // Edition
        {
            command: CommonCommands.UNDO.id,
            keybinding: 'ctrlcmd+z'
        }, {
            command: CommonCommands.REDO.id,
            keybinding: 'ctrlcmd+shift+z'
        }, {
            command: CommonCommands.SELECT_ALL.id,
            keybinding: 'ctrlcmd+a'
        }, {
            command: CommonCommands.FIND.id,
            keybinding: 'ctrlcmd+f'
        }, {
            command: CommonCommands.REPLACE.id,
            keybinding: 'ctrlcmd+alt+f'
        }, 
        // Tabs
        {
            command: CommonCommands.NEXT_TAB.id,
            keybinding: 'ctrlcmd+tab'
        }, {
            command: CommonCommands.NEXT_TAB.id,
            keybinding: 'ctrlcmd+alt+d'
        }, {
            command: CommonCommands.PREVIOUS_TAB.id,
            keybinding: 'ctrlcmd+shift+tab'
        }, {
            command: CommonCommands.PREVIOUS_TAB.id,
            keybinding: 'ctrlcmd+alt+a'
        }, {
            command: CommonCommands.CLOSE_MAIN_TAB.id,
            keybinding: this.isElectron() ? (os_1.isWindows ? 'ctrl+f4' : 'ctrlcmd+w') : 'alt+w'
        }, {
            command: CommonCommands.CLOSE_OTHER_MAIN_TABS.id,
            keybinding: 'ctrlcmd+alt+t'
        }, {
            command: CommonCommands.CLOSE_ALL_MAIN_TABS.id,
            keybinding: this.isElectron() ? 'ctrlCmd+k ctrlCmd+w' : 'alt+shift+w'
        }, 
        // Panels
        {
            command: CommonCommands.COLLAPSE_PANEL.id,
            keybinding: 'alt+c'
        }, {
            command: CommonCommands.TOGGLE_BOTTOM_PANEL.id,
            keybinding: 'ctrlcmd+j',
        }, {
            command: CommonCommands.COLLAPSE_ALL_PANELS.id,
            keybinding: 'alt+shift+c',
        }, {
            command: CommonCommands.TOGGLE_MAXIMIZED.id,
            keybinding: 'alt+m',
        }, 
        // Saving
        {
            command: CommonCommands.SAVE.id,
            keybinding: 'ctrlcmd+s'
        }, {
            command: CommonCommands.SAVE_WITHOUT_FORMATTING.id,
            keybinding: 'ctrlcmd+k s'
        }, {
            command: CommonCommands.SAVE_ALL.id,
            keybinding: 'ctrlcmd+alt+s'
        }, 
        // Theming
        {
            command: CommonCommands.SELECT_COLOR_THEME.id,
            keybinding: 'ctrlcmd+k ctrlcmd+t'
        });
    }
    async openAbout() {
        this.aboutDialog.open();
    }
    /**
     * registers event listener which make sure that
     * window doesn't get closed if CMD/CTRL W is pressed.
     * Too many users have that in their muscle memory.
     * Chrome doesn't let us rebind or prevent default the keybinding, so this
     * at least doesn't close the window immediately.
     */
    registerCtrlWHandling() {
        function isCtrlCmd(event) {
            return (os_1.isOSX && event.metaKey) || (!os_1.isOSX && event.ctrlKey);
        }
        window.document.addEventListener('keydown', event => {
            this.shouldPreventClose = isCtrlCmd(event) && event.code === 'KeyW';
        });
        window.document.addEventListener('keyup', () => {
            this.shouldPreventClose = false;
        });
    }
    onWillStop() {
        try {
            if (this.shouldPreventClose || this.shell.canSaveAll()) {
                return true;
            }
        }
        finally {
            this.shouldPreventClose = false;
        }
    }
    async configureDisplayLanguage() {
        var _a;
        const availableLanguages = await this.localizationProvider.getAvailableLanguages();
        const items = [];
        for (const additionalLanguage of ['en', ...availableLanguages]) {
            items.push({
                label: additionalLanguage,
                execute: () => {
                    if (additionalLanguage !== nls_1.nls.locale) {
                        window.localStorage.setItem(nls_1.nls.localeId, additionalLanguage);
                        window.location.reload();
                    }
                }
            });
        }
        (_a = this.quickInputService) === null || _a === void 0 ? void 0 : _a.showQuickPick(items, {
            placeholder: CommonCommands.CONFIGURE_DISPLAY_LANGUAGE.label,
            activeItem: items.find(item => item.label === (nls_1.nls.locale || 'en'))
        });
    }
    selectIconTheme() {
        var _a;
        let resetTo = this.iconThemes.current;
        const previewTheme = debounce((id) => this.iconThemes.current = id, 200);
        let items = [];
        for (const iconTheme of this.iconThemes.definitions) {
            items.push({
                id: iconTheme.id,
                label: iconTheme.label,
                description: iconTheme.description,
            });
        }
        items = items.sort((a, b) => {
            if (a.id === 'none') {
                return -1;
            }
            return a.label.localeCompare(b.label);
        });
        (_a = this.quickInputService) === null || _a === void 0 ? void 0 : _a.showQuickPick(items, {
            placeholder: 'Select File Icon Theme',
            activeItem: items.find(item => item.id === resetTo),
            onDidChangeSelection: (quickPick, selectedItems) => {
                resetTo = undefined;
                previewTheme(selectedItems[0].id);
            },
            onDidChangeActive: (quickPick, activeItems) => {
                previewTheme(activeItems[0].id);
            },
            onDidHide: () => {
                if (resetTo) {
                    this.iconThemes.current = resetTo;
                }
            }
        });
    }
    selectColorTheme() {
        var _a;
        let resetTo = this.themeService.getCurrentTheme().id;
        const previewTheme = debounce((id) => this.themeService.setCurrentTheme(id), 200);
        const itemsByTheme = { light: [], dark: [], hc: [] };
        for (const theme of this.themeService.getThemes().sort((a, b) => a.label.localeCompare(b.label))) {
            const themeItems = itemsByTheme[theme.type];
            if (themeItems.length === 0) {
                themeItems.push({
                    type: 'separator',
                    label: (theme.type === 'hc' ? 'high contrast' : theme.type) + ' themes'
                });
            }
            themeItems.push({
                id: theme.id,
                label: theme.label,
                description: theme.description,
            });
        }
        const items = [...itemsByTheme.light, ...itemsByTheme.dark, ...itemsByTheme.hc];
        (_a = this.quickInputService) === null || _a === void 0 ? void 0 : _a.showQuickPick(items, {
            placeholder: 'Select Color Theme (Up/Down Keys to Preview)',
            activeItem: items.find((item) => item.id === resetTo),
            // eslint-disable-next-line @typescript-eslint/no-explicit-any
            onDidChangeSelection: (quickPick, selectedItems) => {
                resetTo = undefined;
                previewTheme(selectedItems[0].id);
            },
            // eslint-disable-next-line @typescript-eslint/no-explicit-any
            onDidChangeActive: (quickPick, activeItems) => {
                previewTheme(activeItems[0].id);
            },
            onDidHide: () => {
                if (resetTo) {
                    this.themeService.setCurrentTheme(resetTo);
                }
            }
        });
    }
    registerColors(colors) {
        colors.register(
        // Base Colors should be aligned with https://code.visualstudio.com/api/references/theme-color#base-colors
        // if not yet contributed by Monaco, check runtime css variables to learn
        { id: 'selection.background', defaults: { dark: '#217daf', light: '#c0dbf1' }, description: 'Overall border color for focused elements. This color is only used if not overridden by a component.' }, { id: 'icon.foreground', defaults: { dark: '#C5C5C5', light: '#424242', hc: '#FFFFFF' }, description: 'The default color for icons in the workbench.' }, 
        // Window border colors should be aligned with https://code.visualstudio.com/api/references/theme-color#window-border
        {
            id: 'window.activeBorder', defaults: {
                hc: 'contrastBorder'
            }, description: 'The color used for the border of the window when it is active.'
        }, {
            id: 'window.inactiveBorder', defaults: {
                hc: 'contrastBorder'
            },
            description: 'The color used for the border of the window when it is inactive.'
        }, 
        // Buttons should be aligned with https://code.visualstudio.com/api/references/theme-color#button-control
        // if not yet contributed by Monaco, check runtime css variables to learn
        { id: 'button.foreground', defaults: { dark: color_registry_1.Color.white, light: color_registry_1.Color.white, hc: color_registry_1.Color.white }, description: 'Button foreground color.' }, { id: 'button.background', defaults: { dark: '#0E639C', light: '#007ACC' }, description: 'Button background color.' }, { id: 'button.hoverBackground', defaults: { dark: color_registry_1.Color.lighten('button.background', 0.2), light: color_registry_1.Color.darken('button.background', 0.2) }, description: 'Button background color when hovering.' }, 
        // Activity Bar colors should be aligned with https://code.visualstudio.com/api/references/theme-color#activity-bar
        {
            id: 'activityBar.background', defaults: {
                dark: '#333333',
                light: '#2C2C2C',
                hc: '#000000'
            }, description: 'Activity bar background color. The activity bar is showing on the far left or right and allows to switch between views of the side bar.'
        }, {
            id: 'activityBar.foreground', defaults: {
                dark: color_registry_1.Color.white,
                light: color_registry_1.Color.white,
                hc: color_registry_1.Color.white
            }, description: 'Activity bar item foreground color when it is active. The activity bar is showing on the far left or right and allows to switch between views of the side bar.',
        }, {
            id: 'activityBar.inactiveForeground', defaults: {
                dark: color_registry_1.Color.transparent('activityBar.foreground', 0.4),
                light: color_registry_1.Color.transparent('activityBar.foreground', 0.4),
                hc: color_registry_1.Color.white
            }, description: 'Activity bar item foreground color when it is inactive. The activity bar is showing on the far left or right and allows to switch between views of the side bar.'
        }, {
            id: 'activityBar.border', defaults: {
                hc: 'contrastBorder'
            }, description: 'Activity bar border color separating to the side bar. The activity bar is showing on the far left or right and allows to switch between views of the side bar.'
        }, {
            id: 'activityBar.activeBorder', defaults: {
                dark: 'activityBar.foreground',
                light: 'activityBar.foreground',
            }, description: 'Activity bar border color for the active item. The activity bar is showing on the far left or right and allows to switch between views of the side bar.'
        }, {
            id: 'activityBar.activeFocusBorder',
            description: 'Activity bar focus border color for the active item. The activity bar is showing on the far left or right and allows to switch between views of the side bar.'
        }, { id: 'activityBar.activeBackground', description: 'Activity bar background color for the active item. The activity bar is showing on the far left or right and allows to switch between views of the side bar.' }, {
            id: 'activityBar.dropBackground', defaults: {
                dark: color_registry_1.Color.transparent('#ffffff', 0.12),
                light: color_registry_1.Color.transparent('#ffffff', 0.12),
                hc: color_registry_1.Color.transparent('#ffffff', 0.12),
            }, description: 'Drag and drop feedback color for the activity bar items. The color should have transparency so that the activity bar entries can still shine through. The activity bar is showing on the far left or right and allows to switch between views of the side bar.'
        }, {
            id: 'activityBarBadge.background', defaults: {
                dark: '#007ACC',
                light: '#007ACC',
                hc: '#000000'
            }, description: 'Activity notification badge background color. The activity bar is showing on the far left or right and allows to switch between views of the side bar.'
        }, {
            id: 'activityBarBadge.foreground', defaults: {
                dark: color_registry_1.Color.white,
                light: color_registry_1.Color.white,
                hc: color_registry_1.Color.white
            }, description: 'Activity notification badge foreground color. The activity bar is showing on the far left or right and allows to switch between views of the side bar.'
        }, 
        // Side Bar should be aligned with https://code.visualstudio.com/api/references/theme-color#side-bar
        // if not yet contributed by Monaco, check runtime css variables to learn
        { id: 'sideBar.background', defaults: { dark: '#252526', light: '#F3F3F3', hc: '#000000' }, description: 'Side bar background color. The side bar is the container for views like explorer and search.' }, { id: 'sideBar.foreground', description: 'Side bar foreground color. The side bar is the container for views like explorer and search.' }, { id: 'sideBarSectionHeader.background', defaults: { dark: '#80808033', light: '#80808033' }, description: 'Side bar section header background color. The side bar is the container for views like explorer and search.' }, { id: 'sideBarSectionHeader.foreground', description: 'Side bar foreground color. The side bar is the container for views like explorer and search.' }, { id: 'sideBarSectionHeader.border', defaults: { hc: '#6FC3DF' }, description: 'Side bar section header border color. The side bar is the container for views like explorer and search.' }, 
        // Lists and Trees colors should be aligned with https://code.visualstudio.com/api/references/theme-color#lists-and-trees
        // if not yet contributed by Monaco, check runtime css variables to learn.
        // TODO: Following are not yet supported/no respective elements in theia:
        // list.focusBackground, list.focusForeground, list.inactiveFocusBackground, list.filterMatchBorder,
        // list.dropBackground, listFilterWidget.outline, listFilterWidget.noMatchesOutline
        // list.invalidItemForeground,
        // list.warningForeground, list.errorForeground => tree node needs an respective class
        { id: 'list.activeSelectionBackground', defaults: { dark: '#094771', light: '#0074E8' }, description: 'List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.' }, { id: 'list.activeSelectionForeground', defaults: { dark: '#FFF', light: '#FFF' }, description: 'List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.' }, { id: 'list.inactiveSelectionBackground', defaults: { dark: '#37373D', light: '#E4E6F1' }, description: 'List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.' }, { id: 'list.inactiveSelectionForeground', description: 'List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.' }, { id: 'list.hoverBackground', defaults: { dark: '#2A2D2E', light: '#F0F0F0' }, description: 'List/Tree background when hovering over items using the mouse.' }, { id: 'list.hoverForeground', description: 'List/Tree foreground when hovering over items using the mouse.' }, { id: 'list.filterMatchBackground', defaults: { dark: 'editor.findMatchHighlightBackground', light: 'editor.findMatchHighlightBackground' }, description: 'Background color of the filtered match.' }, { id: 'list.highlightForeground', defaults: { dark: '#18A3FF', light: '#0066BF', hc: 'focusBorder' }, description: 'List/Tree foreground color of the match highlights when searching inside the list/tree.' }, { id: 'list.focusHighlightForeground', defaults: { dark: 'list.highlightForeground', light: 'list.activeSelectionForeground', hc: 'list.highlightForeground' }, description: 'List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree.' }, { id: 'tree.inactiveIndentGuidesStroke', defaults: { dark: color_registry_1.Color.transparent('tree.indentGuidesStroke', 0.4), light: color_registry_1.Color.transparent('tree.indentGuidesStroke', 0.4), hc: color_registry_1.Color.transparent('tree.indentGuidesStroke', 0.4) }, description: 'Tree stroke color for the inactive indentation guides.' }, 
        // Editor Group & Tabs colors should be aligned with https://code.visualstudio.com/api/references/theme-color#editor-groups-tabs
        {
            id: 'editorGroup.border',
            defaults: {
                dark: '#444444',
                light: '#E7E7E7',
                hc: 'contrastBorder'
            },
            description: 'Color to separate multiple editor groups from each other. Editor groups are the containers of editors.'
        }, {
            id: 'editorGroup.dropBackground',
            defaults: {
                dark: color_registry_1.Color.transparent('#53595D', 0.5),
                light: color_registry_1.Color.transparent('#2677CB', 0.18)
            },
            description: 'Background color when dragging editors around. The color should have transparency so that the editor contents can still shine through.'
        }, {
            id: 'editorGroupHeader.tabsBackground',
            defaults: {
                dark: '#252526',
                light: '#F3F3F3'
            },
            description: 'Background color of the editor group title header when tabs are enabled. Editor groups are the containers of editors.'
        }, {
            id: 'editorGroupHeader.tabsBorder',
            defaults: {
                hc: 'contrastBorder'
            },
            description: 'Border color of the editor group title header when tabs are enabled. Editor groups are the containers of editors.'
        }, {
            id: 'tab.activeBackground',
            defaults: {
                dark: 'editor.background',
                light: 'editor.background',
                hc: 'editor.background'
            },
            description: 'Active tab background color. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.'
        }, {
            id: 'tab.unfocusedActiveBackground',
            defaults: {
                dark: 'tab.activeBackground',
                light: 'tab.activeBackground',
                hc: 'tab.activeBackground'
            },
            description: 'Active tab background color in an unfocused group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.'
        }, {
            id: 'tab.inactiveBackground',
            defaults: {
                dark: '#2D2D2D',
                light: '#ECECEC'
            },
            description: 'Inactive tab background color. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.'
        }, {
            id: 'tab.activeForeground',
            defaults: {
                dark: color_registry_1.Color.white,
                light: '#333333',
                hc: color_registry_1.Color.white
            }, description: 'Active tab foreground color in an active group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.'
        }, {
            id: 'tab.inactiveForeground', defaults: {
                dark: color_registry_1.Color.transparent('tab.activeForeground', 0.5),
                light: color_registry_1.Color.transparent('tab.activeForeground', 0.7),
                hc: color_registry_1.Color.white
            }, description: 'Inactive tab foreground color in an active group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.'
        }, {
            id: 'tab.unfocusedActiveForeground', defaults: {
                dark: color_registry_1.Color.transparent('tab.activeForeground', 0.5),
                light: color_registry_1.Color.transparent('tab.activeForeground', 0.7),
                hc: color_registry_1.Color.white
            }, description: 'Active tab foreground color in an unfocused group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.'
        }, {
            id: 'tab.unfocusedInactiveForeground', defaults: {
                dark: color_registry_1.Color.transparent('tab.inactiveForeground', 0.5),
                light: color_registry_1.Color.transparent('tab.inactiveForeground', 0.5),
                hc: color_registry_1.Color.white
            }, description: 'Inactive tab foreground color in an unfocused group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.'
        }, {
            id: 'tab.border', defaults: {
                dark: '#252526',
                light: '#F3F3F3',
                hc: 'contrastBorder'
            }, description: 'Border to separate tabs from each other. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.'
        }, {
            id: 'tab.activeBorder',
            description: 'Border on the bottom of an active tab. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.'
        }, {
            id: 'tab.unfocusedActiveBorder',
            defaults: {
                dark: color_registry_1.Color.transparent('tab.activeBorder', 0.5),
                light: color_registry_1.Color.transparent('tab.activeBorder', 0.7)
            },
            description: 'Border on the bottom of an active tab in an unfocused group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.'
        }, {
            id: 'tab.activeBorderTop',
            defaults: {
                dark: 'focusBorder',
                light: 'focusBorder'
            },
            description: 'Border to the top of an active tab. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.'
        }, {
            id: 'tab.unfocusedActiveBorderTop', defaults: {
                dark: color_registry_1.Color.transparent('tab.activeBorderTop', 0.5),
                light: color_registry_1.Color.transparent('tab.activeBorderTop', 0.7)
            }, description: 'Border to the top of an active tab in an unfocused group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.'
        }, {
            id: 'tab.hoverBackground',
            description: 'Tab background color when hovering. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.'
        }, {
            id: 'tab.unfocusedHoverBackground', defaults: {
                dark: color_registry_1.Color.transparent('tab.hoverBackground', 0.5),
                light: color_registry_1.Color.transparent('tab.hoverBackground', 0.7)
            }, description: 'Tab background color in an unfocused group when hovering. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.'
        }, {
            id: 'tab.hoverBorder',
            description: 'Border to highlight tabs when hovering. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.'
        }, {
            id: 'tab.unfocusedHoverBorder', defaults: {
                dark: color_registry_1.Color.transparent('tab.hoverBorder', 0.5),
                light: color_registry_1.Color.transparent('tab.hoverBorder', 0.7)
            }, description: 'Border to highlight tabs in an unfocused group when hovering. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.'
        }, {
            id: 'tab.activeModifiedBorder', defaults: {
                dark: '#3399CC',
                light: '#33AAEE'
            }, description: 'Border on the top of modified (dirty) active tabs in an active group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.'
        }, {
            id: 'tab.inactiveModifiedBorder', defaults: {
                dark: color_registry_1.Color.transparent('tab.activeModifiedBorder', 0.5),
                light: color_registry_1.Color.transparent('tab.activeModifiedBorder', 0.5),
                hc: color_registry_1.Color.white
            }, description: 'Border on the top of modified (dirty) inactive tabs in an active group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.'
        }, {
            id: 'tab.unfocusedActiveModifiedBorder', defaults: {
                dark: color_registry_1.Color.transparent('tab.activeModifiedBorder', 0.5),
                light: color_registry_1.Color.transparent('tab.activeModifiedBorder', 0.7),
                hc: color_registry_1.Color.white
            }, description: 'Border on the top of modified (dirty) active tabs in an unfocused group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.'
        }, {
            id: 'tab.unfocusedInactiveModifiedBorder', defaults: {
                dark: color_registry_1.Color.transparent('tab.inactiveModifiedBorder', 0.5),
                light: color_registry_1.Color.transparent('tab.inactiveModifiedBorder', 0.5),
                hc: color_registry_1.Color.white
            }, description: 'Border on the top of modified (dirty) inactive tabs in an unfocused group. Tabs are the containers for editors in the editor area. Multiple tabs can be opened in one editor group. There can be multiple editor groups.'
        }, 
        // Status bar colors should be aligned with https://code.visualstudio.com/api/references/theme-color#status-bar-colors
        // Not yet supported:
        // statusBarItem.prominentForeground, statusBarItem.prominentBackground, statusBarItem.prominentHoverBackground
        {
            id: 'statusBar.foreground', defaults: {
                dark: '#FFFFFF',
                light: '#FFFFFF',
                hc: '#FFFFFF'
            }, description: 'Status bar foreground color when a workspace is opened. The status bar is shown in the bottom of the window.'
        }, {
            id: 'statusBar.background', defaults: {
                dark: '#007ACC',
                light: '#007ACC'
            }, description: 'Status bar background color when a workspace is opened. The status bar is shown in the bottom of the window.'
        }, {
            id: 'statusBar.noFolderForeground', defaults: {
                dark: 'statusBar.foreground',
                light: 'statusBar.foreground',
                hc: 'statusBar.foreground'
            }, description: 'Status bar foreground color when no folder is opened. The status bar is shown in the bottom of the window.'
        }, {
            id: 'statusBar.noFolderBackground', defaults: {
                dark: '#68217A',
                light: '#68217A'
            }, description: 'Status bar background color when no folder is opened. The status bar is shown in the bottom of the window.'
        }, {
            id: 'statusBar.border', defaults: {
                hc: 'contrastBorder'
            }, description: 'Status bar border color separating to the sidebar and editor. The status bar is shown in the bottom of the window.'
        }, {
            id: 'statusBar.noFolderBorder', defaults: {
                dark: 'statusBar.border',
                light: 'statusBar.border',
                hc: 'statusBar.border'
            }, description: 'Status bar border color separating to the sidebar and editor when no folder is opened. The status bar is shown in the bottom of the window.'
        }, {
            id: 'statusBarItem.activeBackground', defaults: {
                dark: color_registry_1.Color.rgba(255, 255, 255, 0.18),
                light: color_registry_1.Color.rgba(255, 255, 255, 0.18),
                hc: color_registry_1.Color.rgba(255, 255, 255, 0.18)
            }, description: 'Status bar item background color when clicking. The status bar is shown in the bottom of the window.'
        }, {
            id: 'statusBarItem.hoverBackground', defaults: {
                dark: color_registry_1.Color.rgba(255, 255, 255, 0.12),
                light: color_registry_1.Color.rgba(255, 255, 255, 0.12),
                hc: color_registry_1.Color.rgba(255, 255, 255, 0.12)
            }, description: 'Status bar item background color when hovering. The status bar is shown in the bottom of the window.'
        }, 
        // Quickinput colors should be aligned with https://code.visualstudio.com/api/references/theme-color#quick-picker
        // if not yet contributed by Monaco, check runtime css variables to learn.
        {
            id: 'quickInput.background', defaults: {
                dark: 'sideBar.background',
                light: 'sideBar.background',
                hc: 'sideBar.background'
            }, description: 'Quick Input background color. The Quick Input widget is the container for views like the color theme picker.'
        }, {
            id: 'quickInput.foreground', defaults: {
                dark: 'sideBar.foreground',
                light: 'sideBar.foreground',
                hc: 'sideBar.foreground'
            }, description: 'Quick Input foreground color. The Quick Input widget is the container for views like the color theme picker.'
        }, {
            id: 'quickInput.list.focusBackground', defaults: {
                dark: undefined,
                light: undefined,
                hc: undefined
            }, description: 'quickInput.list.focusBackground deprecation. Please use quickInputList.focusBackground instead'
        }, {
            id: 'quickInputList.focusForeground', defaults: {
                dark: 'list.activeSelectionForeground',
                light: 'list.activeSelectionForeground',
                hc: 'list.activeSelectionForeground'
            }, description: 'Quick picker foreground color for the focused item'
        }, {
            id: 'quickInputList.focusBackground', defaults: {
                dark: 'list.activeSelectionBackground',
                light: 'list.activeSelectionBackground',
                hc: undefined
            }, description: 'Quick picker background color for the focused item.'
        }, 
        // Panel colors should be aligned with https://code.visualstudio.com/api/references/theme-color#panel-colors
        {
            id: 'panel.background', defaults: {
                dark: 'editor.background', light: 'editor.background', hc: 'editor.background'
            }, description: 'Panel background color. Panels are shown below the editor area and contain views like output and integrated terminal.'
        }, {
            id: 'panel.border', defaults: {
                dark: color_registry_1.Color.transparent('#808080', 0.35), light: color_registry_1.Color.transparent('#808080', 0.35), hc: 'contrastBorder'
            }, description: 'Panel border color to separate the panel from the editor. Panels are shown below the editor area and contain views like output and integrated terminal.'
        }, {
            id: 'panel.dropBackground', defaults: {
                dark: color_registry_1.Color.rgba(255, 255, 255, 0.12), light: color_registry_1.Color.transparent('#2677CB', 0.18), hc: color_registry_1.Color.rgba(255, 255, 255, 0.12)
            }, description: 'Drag and drop feedback color for the panel title items. The color should have transparency so that the panel entries can still shine through. Panels are shown below the editor area and contain views like output and integrated terminal.'
        }, {
            id: 'panelTitle.activeForeground', defaults: {
                dark: '#E7E7E7', light: '#424242', hc: color_registry_1.Color.white
            }, description: 'Title color for the active panel. Panels are shown below the editor area and contain views like output and integrated terminal.'
        }, {
            id: 'panelTitle.inactiveForeground', defaults: {
                dark: color_registry_1.Color.transparent('panelTitle.activeForeground', 0.6), light: color_registry_1.Color.transparent('panelTitle.activeForeground', 0.75), hc: color_registry_1.Color.white
            }, description: 'Title color for the inactive panel. Panels are shown below the editor area and contain views like output and integrated terminal.'
        }, {
            id: 'panelTitle.activeBorder', defaults: {
                dark: 'panelTitle.activeForeground', light: 'panelTitle.activeForeground', hc: 'contrastBorder'
            }, description: 'Border color for the active panel title. Panels are shown below the editor area and contain views like output and integrated terminal.'
        }, {
            id: 'panelInput.border', defaults: { light: '#ddd' },
            description: 'Input box border for inputs in the panel.'
        }, {
            id: 'imagePreview.border', defaults: {
                dark: color_registry_1.Color.transparent('#808080', 0.35), light: color_registry_1.Color.transparent('#808080', 0.35), hc: 'contrastBorder'
            }, description: 'Border color for image in image preview.'
        }, 
        // Title Bar colors should be aligned with https://code.visualstudio.com/api/references/theme-color#title-bar-colors
        {
            id: 'titleBar.activeForeground', defaults: {
                dark: '#CCCCCC',
                light: '#333333',
                hc: '#FFFFFF'
            }, description: 'Title bar foreground when the window is active. Note that this color is currently only supported on macOS.'
        }, {
            id: 'titleBar.inactiveForeground', defaults: {
                dark: color_registry_1.Color.transparent('titleBar.activeForeground', 0.6),
                light: color_registry_1.Color.transparent('titleBar.activeForeground', 0.6)
            }, description: 'Title bar foreground when the window is inactive. Note that this color is currently only supported on macOS.'
        }, {
            id: 'titleBar.activeBackground', defaults: {
                dark: '#3C3C3C',
                light: '#DDDDDD',
                hc: '#000000'
            }, description: 'Title bar background when the window is active. Note that this color is currently only supported on macOS.'
        }, {
            id: 'titleBar.inactiveBackground', defaults: {
                dark: color_registry_1.Color.transparent('titleBar.activeBackground', 0.6),
                light: color_registry_1.Color.transparent('titleBar.activeBackground', 0.6)
            }, description: 'Title bar background when the window is inactive. Note that this color is currently only supported on macOS.'
        }, {
            id: 'titleBar.border', defaults: {
                hc: 'contrastBorder'
            }, description: 'Title bar border color. Note that this color is currently only supported on macOS.'
        }, 
        // Menu Bar colors should be aligned with https://code.visualstudio.com/api/references/theme-color#menu-bar-colors
        {
            id: 'menubar.selectionForeground', defaults: {
                dark: 'titleBar.activeForeground',
                light: 'titleBar.activeForeground',
                hc: 'titleBar.activeForeground'
            }, description: 'Foreground color of the selected menu item in the menubar.'
        }, {
            id: 'menubar.selectionBackground', defaults: {
                dark: color_registry_1.Color.transparent('#ffffff', 0.1),
                light: color_registry_1.Color.transparent('#000000', 0.1)
            }, description: 'Background color of the selected menu item in the menubar.'
        }, {
            id: 'menubar.selectionBorder', defaults: {
                hc: 'activeContrastBorder'
            }, description: 'Border color of the selected menu item in the menubar.'
        }, {
            id: 'menu.border', defaults: {
                hc: 'contrastBorder'
            }, description: 'Border color of menus.'
        }, {
            id: 'menu.foreground', defaults: {
                dark: 'dropdown.foreground', light: 'foreground', hc: 'dropdown.foreground'
            },
            description: 'Foreground color of menu items.'
        }, {
            id: 'menu.background', defaults: {
                dark: 'dropdown.background', light: 'dropdown.background', hc: 'dropdown.background'
            }, description: 'Background color of menu items.'
        }, {
            id: 'menu.selectionForeground', defaults: {
                dark: 'list.activeSelectionForeground', light: 'list.activeSelectionForeground', hc: 'list.activeSelectionForeground'
            }, description: 'Foreground color of the selected menu item in menus.'
        }, {
            id: 'menu.selectionBackground', defaults: { dark: 'list.activeSelectionBackground', light: 'list.activeSelectionBackground', hc: 'list.activeSelectionBackground' },
            description: 'Background color of the selected menu item in menus.'
        }, {
            id: 'menu.selectionBorder', defaults: {
                hc: 'activeContrastBorder'
            }, description: 'Border color of the selected menu item in menus.'
        }, {
            id: 'menu.separatorBackground', defaults: {
                dark: '#BBBBBB', light: '#888888', hc: 'contrastBorder'
            },
            description: 'Color of a separator menu item in menus.'
        }, 
        // Welcome Page colors should be aligned with https://code.visualstudio.com/api/references/theme-color#welcome-page
        { id: 'welcomePage.background', description: 'Background color for the Welcome page.' }, { id: 'welcomePage.buttonBackground', defaults: { dark: color_registry_1.Color.rgba(0, 0, 0, .2), light: color_registry_1.Color.rgba(0, 0, 0, .04), hc: color_registry_1.Color.black }, description: 'Background color for the buttons on the Welcome page.' }, { id: 'welcomePage.buttonHoverBackground', defaults: { dark: color_registry_1.Color.rgba(200, 235, 255, .072), light: color_registry_1.Color.rgba(0, 0, 0, .10) }, description: 'Hover background color for the buttons on the Welcome page.' }, { id: 'walkThrough.embeddedEditorBackground', defaults: { dark: color_registry_1.Color.rgba(0, 0, 0, .4), light: '#f4f4f4' }, description: 'Background color for the embedded editors on the Interactive Playground.' }, 
        // Settings Editor colors should be aligned with https://code.visualstudio.com/api/references/theme-color#settings-editor-colors
        {
            id: 'settings.headerForeground', defaults: {
                light: '#444444', dark: '#e7e7e7', hc: '#ffffff'
            }, description: 'The foreground color for a section header or active title.'
        }, {
            id: 'settings.modifiedItemIndicator', defaults: {
                light: color_registry_1.Color.rgba(102, 175, 224),
                dark: color_registry_1.Color.rgba(12, 125, 157),
                hc: color_registry_1.Color.rgba(0, 73, 122)
            }, description: 'The color of the modified setting indicator.'
        }, {
            id: 'settings.dropdownBackground', defaults: { dark: 'dropdown.background', light: 'dropdown.background', hc: 'dropdown.background' },
            description: 'Settings editor dropdown background.'
        }, {
            id: 'settings.dropdownForeground', defaults: {
                dark: 'dropdown.foreground', light: 'dropdown.foreground', hc: 'dropdown.foreground'
            }, description: 'Settings editor dropdown foreground.'
        }, {
            id: 'settings.dropdownBorder', defaults: {
                dark: 'dropdown.border', light: 'dropdown.border', hc: 'dropdown.border'
            }, description: 'Settings editor dropdown border.'
        }, {
            id: 'settings.dropdownListBorder', defaults: {
                dark: 'editorWidget.border', light: 'editorWidget.border', hc: 'editorWidget.border'
            }, description: 'Settings editor dropdown list border. This surrounds the options and separates the options from the description.'
        }, {
            id: 'settings.checkboxBackground', defaults: {
                dark: 'checkbox.background', light: 'checkbox.background', hc: 'checkbox.background'
            }, description: 'Settings editor checkbox background.'
        }, {
            id: 'settings.checkboxForeground', defaults: {
                dark: 'checkbox.foreground', light: 'checkbox.foreground', hc: 'checkbox.foreground'
            }, description: 'Settings editor checkbox foreground.'
        }, {
            id: 'settings.checkboxBorder', defaults: {
                dark: 'checkbox.border', light: 'checkbox.border', hc: 'checkbox.border'
            }, description: 'Settings editor checkbox border.'
        }, {
            id: 'settings.textInputBackground', defaults: {
                dark: 'input.background', light: 'input.background', hc: 'input.background'
            }, description: 'Settings editor text input box background.'
        }, {
            id: 'settings.textInputForeground', defaults: {
                dark: 'input.foreground', light: 'input.foreground', hc: 'input.foreground'
            }, description: 'Settings editor text input box foreground.'
        }, {
            id: 'settings.textInputBorder', defaults: {
                dark: 'input.border', light: 'input.border', hc: 'input.border'
            }, description: 'Settings editor text input box border.'
        }, {
            id: 'settings.numberInputBackground', defaults: {
                dark: 'input.background', light: 'input.background', hc: 'input.background'
            }, description: 'Settings editor number input box background.'
        }, {
            id: 'settings.numberInputForeground', defaults: {
                dark: 'input.foreground', light: 'input.foreground', hc: 'input.foreground'
            }, description: 'Settings editor number input box foreground.'
        }, {
            id: 'settings.numberInputBorder', defaults: {
                dark: 'input.border', light: 'input.border', hc: 'input.border'
            }, description: 'Settings editor number input box border.'
        }, 
        // Theia Variable colors
        {
            id: 'variable.name.color', defaults: {
                dark: '#C586C0',
                light: '#9B46B0',
                hc: '#C586C0'
            },
            description: 'Color of a variable name.'
        }, {
            id: 'variable.value.color', defaults: {
                dark: color_registry_1.Color.rgba(204, 204, 204, 0.6),
                light: color_registry_1.Color.rgba(108, 108, 108, 0.8),
                hc: color_registry_1.Color.rgba(204, 204, 204, 0.6)
            },
            description: 'Color of a variable value.'
        }, {
            id: 'variable.number.variable.color', defaults: {
                dark: '#B5CEA8',
                light: '#09885A',
                hc: '#B5CEA8'
            },
            description: 'Value color of a number variable'
        }, {
            id: 'variable.boolean.variable.color', defaults: {
                dark: '#4E94CE',
                light: '#0000FF',
                hc: '#4E94CE'
            },
            description: 'Value color of a boolean variable'
        }, {
            id: 'variable.string.variable.color', defaults: {
                dark: '#CE9178',
                light: '#A31515',
                hc: '#CE9178'
            },
            description: 'Value color of a string variable'
        }, 
        // Theia ANSI colors
        {
            id: 'ansi.black.color', defaults: {
                dark: '#A0A0A0',
                light: color_registry_1.Color.rgba(128, 128, 128),
                hc: '#A0A0A0'
            },
            description: 'ANSI black color'
        }, {
            id: 'ansi.red.color', defaults: {
                dark: '#A74747',
                light: '#BE1717',
                hc: '#A74747'
            },
            description: 'ANSI red color'
        }, {
            id: 'ansi.green.color', defaults: {
                dark: '#348F34',
                light: '#338A2F',
                hc: '#348F34'
            },
            description: 'ANSI green color'
        }, {
            id: 'ansi.yellow.color', defaults: {
                dark: '#5F4C29',
                light: '#BEB817',
                hc: '#5F4C29'
            },
            description: 'ANSI yellow color'
        }, {
            id: 'ansi.blue.color', defaults: {
                dark: '#6286BB',
                light: color_registry_1.Color.rgba(0, 0, 139),
                hc: '#6286BB'
            },
            description: 'ANSI blue color'
        }, {
            id: 'ansi.magenta.color', defaults: {
                dark: '#914191',
                light: color_registry_1.Color.rgba(139, 0, 139),
                hc: '#914191'
            },
            description: 'ANSI magenta color'
        }, {
            id: 'ansi.cyan.color', defaults: {
                dark: '#218D8D',
                light: color_registry_1.Color.rgba(0, 139, 139),
                hc: '#218D8D'
            },
            description: 'ANSI cyan color'
        }, {
            id: 'ansi.white.color', defaults: {
                dark: '#707070',
                light: '#BDBDBD',
                hc: '#707070'
            },
            description: 'ANSI white color'
        }, 
        // Theia defaults
        // Base
        {
            id: 'errorBackground',
            defaults: {
                dark: 'inputValidation.errorBackground',
                light: 'inputValidation.errorBackground',
                hc: 'inputValidation.errorBackground'
            }, description: 'Background color of error widgets (like alerts or notifications).'
        }, {
            id: 'successBackground',
            defaults: {
                dark: 'editorGutter.addedBackground',
                light: 'editorGutter.addedBackground',
                hc: 'editorGutter.addedBackground'
            }, description: 'Background color of success widgets (like alerts or notifications).'
        }, {
            id: 'warningBackground',
            defaults: {
                dark: 'editorWarning.foreground',
                light: 'editorWarning.foreground',
                hc: 'editorWarning.border'
            }, description: 'Background color of warning widgets (like alerts or notifications).'
        }, {
            id: 'warningForeground',
            defaults: {
                dark: 'inputValidation.warningBackground',
                light: 'inputValidation.warningBackground',
                hc: 'inputValidation.warningBackground'
            }, description: 'Foreground color of warning widgets (like alerts or notifications).'
        }, 
        // Statusbar
        {
            id: 'statusBar.offlineBackground',
            defaults: {
                dark: 'editorWarning.foreground',
                light: 'editorWarning.foreground',
                hc: 'editorWarning.foreground'
            }, description: 'Background of hovered statusbar item in case the theia server is offline.'
        }, {
            id: 'statusBar.offlineForeground',
            defaults: {
                dark: 'editor.background',
                light: 'editor.background',
                hc: 'editor.background'
            }, description: 'Background of hovered statusbar item in case the theia server is offline.'
        }, {
            id: 'statusBarItem.offlineHoverBackground',
            defaults: {
                dark: color_registry_1.Color.lighten('statusBar.offlineBackground', 0.4),
                light: color_registry_1.Color.lighten('statusBar.offlineBackground', 0.4),
                hc: color_registry_1.Color.lighten('statusBar.offlineBackground', 0.4)
            }, description: 'Background of hovered statusbar item in case the theia server is offline.'
        }, {
            id: 'statusBarItem.offlineActiveBackground',
            defaults: {
                dark: color_registry_1.Color.lighten('statusBar.offlineBackground', 0.6),
                light: color_registry_1.Color.lighten('statusBar.offlineBackground', 0.6),
                hc: color_registry_1.Color.lighten('statusBar.offlineBackground', 0.6)
            }, description: 'Background of active statusbar item in case the theia server is offline.'
        }, 
        // Buttons
        {
            id: 'secondaryButton.foreground',
            defaults: {
                dark: 'dropdown.foreground',
                light: 'dropdown.foreground',
                hc: 'dropdown.foreground'
            }, description: 'Foreground color of secondary buttons.'
        }, {
            id: 'secondaryButton.disabledForeground',
            defaults: {
                dark: color_registry_1.Color.transparent('secondaryButton.foreground', 0.5),
                light: color_registry_1.Color.transparent('secondaryButton.foreground', 0.5),
                hc: color_registry_1.Color.transparent('secondaryButton.foreground', 0.5),
            }, description: 'Foreground color of secondary buttons.'
        }, {
            id: 'secondaryButton.background',
            defaults: {
                dark: color_registry_1.Color.lighten('dropdown.background', 0.5),
                light: color_registry_1.Color.lighten('dropdown.background', 0.5)
            }, description: 'Background color of secondary buttons.'
        }, {
            id: 'secondaryButton.hoverBackground',
            defaults: {
                dark: color_registry_1.Color.lighten('secondaryButton.background', 0.2),
                light: color_registry_1.Color.lighten('secondaryButton.background', 0.2)
            }, description: 'Background color when hovering secondary buttons.'
        }, {
            id: 'secondaryButton.disabledBackground',
            defaults: {
                dark: color_registry_1.Color.transparent('secondaryButton.background', 0.6),
                light: color_registry_1.Color.transparent('secondaryButton.background', 0.6)
            }, description: 'Background color when hovering secondary buttons.'
        }, {
            id: 'button.disabledForeground',
            defaults: {
                dark: color_registry_1.Color.transparent('button.foreground', 0.5),
                light: color_registry_1.Color.transparent('button.foreground', 0.5),
                hc: color_registry_1.Color.transparent('button.foreground', 0.5)
            }, description: 'Foreground color of secondary buttons.'
        }, {
            id: 'button.disabledBackground',
            defaults: {
                dark: color_registry_1.Color.transparent('button.background', 0.5),
                light: color_registry_1.Color.transparent('button.background', 0.5)
            }, description: 'Background color of secondary buttons.'
        }, {
            id: 'editorGutter.commentRangeForeground',
            defaults: {
                dark: '#c5c5c5',
                light: '#c5c5c5',
                hc: '#c5c5c5'
            }, description: 'Editor gutter decoration color for commenting ranges.'
        }, {
            id: 'breadcrumb.foreground',
            defaults: {
                dark: color_registry_1.Color.transparent('foreground', 0.8),
                light: color_registry_1.Color.transparent('foreground', 0.8),
                hc: color_registry_1.Color.transparent('foreground', 0.8),
            },
            description: 'Color of breadcrumb item text'
        }, {
            id: 'breadcrumb.background',
            defaults: {
                dark: 'editor.background',
                light: 'editor.background',
                hc: 'editor.background',
            },
            description: 'Color of breadcrumb item background'
        }, {
            id: 'breadcrumb.focusForeground',
            defaults: {
                dark: color_registry_1.Color.lighten('foreground', 0.1),
                light: color_registry_1.Color.darken('foreground', 0.2),
                hc: color_registry_1.Color.lighten('foreground', 0.1),
            },
            description: 'Color of breadcrumb item text when focused'
        }, {
            id: 'breadcrumb.activeSelectionForeground',
            defaults: {
                dark: color_registry_1.Color.lighten('foreground', 0.1),
                light: color_registry_1.Color.darken('foreground', 0.2),
                hc: color_registry_1.Color.lighten('foreground', 0.1),
            },
            description: 'Color of selected breadcrumb item'
        }, {
            id: 'breadcrumbPicker.background',
            defaults: {
                dark: 'editorWidget.background',
                light: 'editorWidget.background',
                hc: 'editorWidget.background',
            },
            description: 'Background color of breadcrumb item picker'
        });
    }
};
__decorate([
    inversify_1.inject(context_key_service_1.ContextKeyService),
    __metadata("design:type", context_key_service_1.ContextKeyService)
], CommonFrontendContribution.prototype, "contextKeyService", void 0);
__decorate([
    inversify_1.inject(resource_context_key_1.ResourceContextKey),
    __metadata("design:type", resource_context_key_1.ResourceContextKey)
], CommonFrontendContribution.prototype, "resourceContextKey", void 0);
__decorate([
    inversify_1.inject(command_1.CommandRegistry),
    __metadata("design:type", command_1.CommandRegistry)
], CommonFrontendContribution.prototype, "commandRegistry", void 0);
__decorate([
    inversify_1.inject(storage_service_1.StorageService),
    __metadata("design:type", Object)
], CommonFrontendContribution.prototype, "storageService", void 0);
__decorate([
    inversify_1.inject(quick_input_1.QuickInputService),
    inversify_1.optional(),
    __metadata("design:type", Object)
], CommonFrontendContribution.prototype, "quickInputService", void 0);
__decorate([
    inversify_1.inject(icon_theme_service_1.IconThemeService),
    __metadata("design:type", icon_theme_service_1.IconThemeService)
], CommonFrontendContribution.prototype, "iconThemes", void 0);
__decorate([
    inversify_1.inject(theming_1.ThemeService),
    __metadata("design:type", theming_1.ThemeService)
], CommonFrontendContribution.prototype, "themeService", void 0);
__decorate([
    inversify_1.inject(core_preferences_1.CorePreferences),
    __metadata("design:type", Object)
], CommonFrontendContribution.prototype, "preferences", void 0);
__decorate([
    inversify_1.inject(preferences_1.PreferenceService),
    __metadata("design:type", Object)
], CommonFrontendContribution.prototype, "preferenceService", void 0);
__decorate([
    inversify_1.inject(clipboard_service_1.ClipboardService),
    __metadata("design:type", Object)
], CommonFrontendContribution.prototype, "clipboardService", void 0);
__decorate([
    inversify_1.inject(encoding_registry_1.EncodingRegistry),
    __metadata("design:type", encoding_registry_1.EncodingRegistry)
], CommonFrontendContribution.prototype, "encodingRegistry", void 0);
__decorate([
    inversify_1.inject(env_variables_1.EnvVariablesServer),
    __metadata("design:type", Object)
], CommonFrontendContribution.prototype, "environments", void 0);
__decorate([
    inversify_1.inject(authentication_service_1.AuthenticationService),
    __metadata("design:type", Object)
], CommonFrontendContribution.prototype, "authenticationService", void 0);
CommonFrontendContribution = __decorate([
    inversify_1.injectable(),
    __param(0, inversify_1.inject(application_shell_1.ApplicationShell)),
    __param(1, inversify_1.inject(selection_service_1.SelectionService)),
    __param(2, inversify_1.inject(message_service_1.MessageService)),
    __param(3, inversify_1.inject(opener_service_1.OpenerService)),
    __param(4, inversify_1.inject(about_dialog_1.AboutDialog)),
    __param(5, inversify_1.inject(localization_1.AsyncLocalizationProvider)),
    __metadata("design:paramtypes", [application_shell_1.ApplicationShell,
        selection_service_1.SelectionService,
        message_service_1.MessageService, Object, about_dialog_1.AboutDialog, Object])
], CommonFrontendContribution);
exports.CommonFrontendContribution = CommonFrontendContribution;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/context-key-service.js":
/*!******************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/context-key-service.js ***!
  \******************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2019 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ContextKeyService = exports.ContextKey = void 0;
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const event_1 = __webpack_require__(/*! ../common/event */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/event.js");
var ContextKey;
(function (ContextKey) {
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    ContextKey.None = Object.freeze({
        set: () => { },
        reset: () => { },
        get: () => undefined
    });
})(ContextKey = exports.ContextKey || (exports.ContextKey = {}));
let ContextKeyService = class ContextKeyService {
    constructor() {
        this.onDidChangeEmitter = new event_1.Emitter();
        this.onDidChange = this.onDidChangeEmitter.event;
    }
    fireDidChange(event) {
        this.onDidChangeEmitter.fire(event);
    }
    createKey(key, defaultValue) {
        return ContextKey.None;
    }
    /**
     * It should be implemented by an extension, e.g. by the monaco extension.
     */
    match(expression, context) {
        return true;
    }
    /**
     * It should be implemented by an extension, e.g. by the monaco extension.
     */
    parseKeys(expression) {
        return new Set();
    }
};
ContextKeyService = __decorate([
    inversify_1.injectable()
], ContextKeyService);
exports.ContextKeyService = ContextKeyService;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/context-menu-renderer.js":
/*!********************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/context-menu-renderer.js ***!
  \********************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.RenderContextMenuOptions = exports.ContextMenuRenderer = exports.ContextMenuAccess = exports.coordinateFromAnchor = exports.toAnchor = exports.Coordinate = void 0;
/* eslint-disable @typescript-eslint/no-explicit-any */
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const disposable_1 = __webpack_require__(/*! ../common/disposable */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/disposable.js");
exports.Coordinate = Symbol('Coordinate');
function toAnchor(anchor) {
    return anchor instanceof HTMLElement ? { x: anchor.offsetLeft, y: anchor.offsetTop } : anchor;
}
exports.toAnchor = toAnchor;
function coordinateFromAnchor(anchor) {
    const { x, y } = anchor instanceof MouseEvent ? { x: anchor.clientX, y: anchor.clientY } : anchor;
    return { x, y };
}
exports.coordinateFromAnchor = coordinateFromAnchor;
class ContextMenuAccess {
    constructor(toClose) {
        this.toDispose = new disposable_1.DisposableCollection();
        this.onDispose = this.toDispose.onDispose;
        this.toDispose.push(toClose);
    }
    get disposed() {
        return this.toDispose.disposed;
    }
    dispose() {
        this.toDispose.dispose();
    }
}
exports.ContextMenuAccess = ContextMenuAccess;
let ContextMenuRenderer = class ContextMenuRenderer {
    constructor() {
        this.toDisposeOnSetCurrent = new disposable_1.DisposableCollection();
    }
    /**
     * Currently opened context menu.
     * Rendering a new context menu will close the current.
     */
    get current() {
        return this._current;
    }
    setCurrent(current) {
        if (this._current === current) {
            return;
        }
        this.toDisposeOnSetCurrent.dispose();
        this._current = current;
        if (current) {
            this.toDisposeOnSetCurrent.push(current.onDispose(() => {
                this._current = undefined;
            }));
            this.toDisposeOnSetCurrent.push(current);
        }
    }
    render(menuPathOrOptions, anchor, onHide) {
        const resolvedOptions = RenderContextMenuOptions.resolve(menuPathOrOptions, anchor, onHide);
        const access = this.doRender(resolvedOptions);
        this.setCurrent(access);
        return access;
    }
};
ContextMenuRenderer = __decorate([
    inversify_1.injectable()
], ContextMenuRenderer);
exports.ContextMenuRenderer = ContextMenuRenderer;
var RenderContextMenuOptions;
(function (RenderContextMenuOptions) {
    function resolve(menuPathOrOptions, anchor, onHide) {
        let menuPath;
        let args;
        if (Array.isArray(menuPathOrOptions)) {
            menuPath = menuPathOrOptions;
            args = [anchor];
        }
        else {
            menuPath = menuPathOrOptions.menuPath;
            anchor = menuPathOrOptions.anchor;
            onHide = menuPathOrOptions.onHide;
            args = menuPathOrOptions.args ? [...menuPathOrOptions.args, anchor] : [anchor];
        }
        return {
            menuPath,
            anchor: anchor,
            onHide,
            args
        };
    }
    RenderContextMenuOptions.resolve = resolve;
})(RenderContextMenuOptions = exports.RenderContextMenuOptions || (exports.RenderContextMenuOptions = {}));


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/core-preferences.js":
/*!***************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/core-preferences.js ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 Google and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.bindCorePreferences = exports.createCorePreferences = exports.CorePreferences = exports.CorePreferenceContribution = exports.corePreferenceSchema = void 0;
const preferences_1 = __webpack_require__(/*! ./preferences */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/preferences/index.js");
const supported_encodings_1 = __webpack_require__(/*! ./supported-encodings */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/supported-encodings.js");
const frontend_application_config_provider_1 = __webpack_require__(/*! ./frontend-application-config-provider */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/frontend-application-config-provider.js");
const os_1 = __webpack_require__(/*! ../common/os */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/os.js");
exports.corePreferenceSchema = {
    'type': 'object',
    properties: {
        'application.confirmExit': {
            type: 'string',
            enum: [
                'never',
                'ifRequired',
                'always',
            ],
            default: 'ifRequired',
            description: 'When to confirm before closing the application window.',
        },
        'breadcrumbs.enabled': {
            'type': 'boolean',
            'default': true,
            'description': 'Enable/disable navigation breadcrumbs.',
            'scope': 'application'
        },
        'files.encoding': {
            'type': 'string',
            'enum': Object.keys(supported_encodings_1.SUPPORTED_ENCODINGS),
            'default': 'utf8',
            'description': 'The default character set encoding to use when reading and writing files. This setting can also be configured per language.',
            'scope': 'language-overridable',
            'enumDescriptions': Object.keys(supported_encodings_1.SUPPORTED_ENCODINGS).map(key => supported_encodings_1.SUPPORTED_ENCODINGS[key].labelLong),
            'included': Object.keys(supported_encodings_1.SUPPORTED_ENCODINGS).length > 1
        },
        'keyboard.dispatch': {
            type: 'string',
            enum: [
                'code',
                'keyCode',
            ],
            default: 'code',
            description: 'Whether to interpret keypresses by the `code` of the physical key, or by the `keyCode` provided by the OS.'
        },
        'window.menuBarVisibility': {
            type: 'string',
            enum: ['classic', 'visible', 'hidden', 'compact'],
            markdownEnumDescriptions: [
                'Menu is displayed at the top of the window and only hidden in full screen mode.',
                'Menu is always visible at the top of the window even in full screen mode.',
                'Menu is always hidden.',
                'Menu is displayed as a compact button in the sidebar.'
            ],
            default: 'classic',
            scope: 'application',
            markdownDescription: `Control the visibility of the menu bar.
            A setting of 'compact' will move the menu into the sidebar.`,
            included: !os_1.isOSX
        },
        'workbench.list.openMode': {
            type: 'string',
            enum: [
                'singleClick',
                'doubleClick'
            ],
            default: 'singleClick',
            description: 'Controls how to open items in trees using the mouse.'
        },
        'workbench.editor.highlightModifiedTabs': {
            'type': 'boolean',
            'description': 'Controls whether a top border is drawn on modified (dirty) editor tabs or not.',
            'default': false
        },
        'workbench.editor.closeOnFileDelete': {
            'type': 'boolean',
            // eslint-disable-next-line max-len
            'description': 'Controls whether editors showing a file that was opened during the session should close automatically when getting deleted or renamed by some other process. Disabling this will keep the editor open  on such an event. Note that deleting from within the application will always close the editor and that dirty files will never close to preserve your data.',
            'default': false
        },
        'workbench.commandPalette.history': {
            type: 'number',
            default: 50,
            minimum: 0,
            description: 'Controls the number of recently used commands to keep in history for the command palette. Set to 0 to disable command history.'
        },
        'workbench.colorTheme': {
            type: 'string',
            default: frontend_application_config_provider_1.FrontendApplicationConfigProvider.get().defaultTheme,
            description: 'Specifies the color theme used in the workbench.'
        },
        'workbench.iconTheme': {
            type: ['string', 'null'],
            default: frontend_application_config_provider_1.FrontendApplicationConfigProvider.get().defaultIconTheme,
            description: "Specifies the icon theme used in the workbench or 'null' to not show any file icons."
        },
        'workbench.silentNotifications': {
            type: 'boolean',
            default: false,
            description: 'Controls whether to suppress notification popups.'
        },
        'workbench.statusBar.visible': {
            type: 'boolean',
            default: true,
            description: 'Controls the visibility of the status bar at the bottom of the workbench.'
        },
        'workbench.tree.renderIndentGuides': {
            type: 'string',
            enum: ['onHover', 'none', 'always'],
            default: 'onHover',
            description: 'Controls whether the tree should render indent guides.'
        },
    }
};
exports.CorePreferenceContribution = Symbol('CorePreferenceContribution');
exports.CorePreferences = Symbol('CorePreferences');
function createCorePreferences(preferences, schema = exports.corePreferenceSchema) {
    return preferences_1.createPreferenceProxy(preferences, schema);
}
exports.createCorePreferences = createCorePreferences;
function bindCorePreferences(bind) {
    bind(exports.CorePreferences).toDynamicValue(ctx => {
        const preferences = ctx.container.get(preferences_1.PreferenceService);
        const contribution = ctx.container.get(exports.CorePreferenceContribution);
        return createCorePreferences(preferences, contribution.schema);
    }).inSingletonScope();
    bind(exports.CorePreferenceContribution).toConstantValue({ schema: exports.corePreferenceSchema });
    bind(preferences_1.PreferenceContribution).toService(exports.CorePreferenceContribution);
}
exports.bindCorePreferences = bindCorePreferences;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/dialogs.js":
/*!******************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/dialogs.js ***!
  \******************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
var DialogOverlayService_1;
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.SingleTextInputDialog = exports.SingleTextInputDialogProps = exports.ConfirmDialog = exports.ConfirmDialogProps = exports.AbstractDialog = exports.DialogOverlayService = exports.DialogError = exports.DialogProps = void 0;
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const common_1 = __webpack_require__(/*! ../common */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/index.js");
const keys_1 = __webpack_require__(/*! ./keyboard/keys */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/keyboard/keys.js");
const widgets_1 = __webpack_require__(/*! ./widgets */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/widgets/index.js");
let DialogProps = class DialogProps {
};
DialogProps = __decorate([
    inversify_1.injectable()
], DialogProps);
exports.DialogProps = DialogProps;
var DialogError;
(function (DialogError) {
    function getResult(error) {
        if (typeof error === 'string') {
            return !error.length;
        }
        if (typeof error === 'boolean') {
            return error;
        }
        return error.result;
    }
    DialogError.getResult = getResult;
    function getMessage(error) {
        if (typeof error === 'string') {
            return error;
        }
        if (typeof error === 'boolean') {
            return '';
        }
        return error.message;
    }
    DialogError.getMessage = getMessage;
})(DialogError = exports.DialogError || (exports.DialogError = {}));
let DialogOverlayService = DialogOverlayService_1 = class DialogOverlayService {
    constructor() {
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        this.dialogs = [];
        widgets_1.addKeyListener(document.body, keys_1.Key.ENTER, e => this.handleEnter(e));
        widgets_1.addKeyListener(document.body, keys_1.Key.ESCAPE, e => this.handleEscape(e));
    }
    static get() {
        return DialogOverlayService_1.INSTANCE;
    }
    initialize() {
        DialogOverlayService_1.INSTANCE = this;
    }
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    get currentDialog() {
        return this.dialogs[0];
    }
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    push(dialog) {
        this.dialogs.unshift(dialog);
        return common_1.Disposable.create(() => {
            const index = this.dialogs.indexOf(dialog);
            if (index > -1) {
                this.dialogs.splice(index, 1);
            }
        });
    }
    handleEscape(event) {
        const dialog = this.currentDialog;
        if (dialog) {
            return dialog['handleEscape'](event);
        }
        return false;
    }
    handleEnter(event) {
        const dialog = this.currentDialog;
        if (dialog) {
            return dialog['handleEnter'](event);
        }
        return false;
    }
};
DialogOverlayService = DialogOverlayService_1 = __decorate([
    inversify_1.injectable(),
    __metadata("design:paramtypes", [])
], DialogOverlayService);
exports.DialogOverlayService = DialogOverlayService;
let AbstractDialog = class AbstractDialog extends widgets_1.BaseWidget {
    constructor(props) {
        super();
        this.props = props;
        this.validateCancellationSource = new common_1.CancellationTokenSource();
        this.acceptCancellationSource = new common_1.CancellationTokenSource();
        this.id = 'theia-dialog-shell';
        this.addClass('dialogOverlay');
        this.toDispose.push(common_1.Disposable.create(() => {
            if (this.reject) {
                widgets_1.Widget.detach(this);
            }
        }));
        const container = document.createElement('div');
        container.classList.add('dialogBlock');
        if (props.maxWidth === undefined) {
            container.setAttribute('style', 'max-width: none');
        }
        else {
            container.setAttribute('style', `max-width: ${props.maxWidth}px; min-width: 0px`);
        }
        this.node.appendChild(container);
        const titleContentNode = document.createElement('div');
        titleContentNode.classList.add('dialogTitle');
        container.appendChild(titleContentNode);
        this.titleNode = document.createElement('div');
        this.titleNode.textContent = props.title;
        titleContentNode.appendChild(this.titleNode);
        this.closeCrossNode = document.createElement('i');
        this.closeCrossNode.classList.add(...widgets_1.codiconArray('close'));
        this.closeCrossNode.classList.add('closeButton');
        titleContentNode.appendChild(this.closeCrossNode);
        this.contentNode = document.createElement('div');
        this.contentNode.classList.add('dialogContent');
        if (props.wordWrap !== undefined) {
            this.contentNode.setAttribute('style', `word-wrap: ${props.wordWrap}`);
        }
        container.appendChild(this.contentNode);
        this.controlPanel = document.createElement('div');
        this.controlPanel.classList.add('dialogControl');
        container.appendChild(this.controlPanel);
        this.errorMessageNode = document.createElement('div');
        this.errorMessageNode.classList.add('error');
        this.errorMessageNode.setAttribute('style', 'flex: 2');
        this.controlPanel.appendChild(this.errorMessageNode);
        this.update();
    }
    appendCloseButton(text = 'Cancel') {
        this.closeButton = this.createButton(text);
        this.controlPanel.appendChild(this.closeButton);
        this.closeButton.classList.add('secondary');
        return this.closeButton;
    }
    appendAcceptButton(text = 'OK') {
        this.acceptButton = this.createButton(text);
        this.controlPanel.appendChild(this.acceptButton);
        this.acceptButton.classList.add('main');
        return this.acceptButton;
    }
    createButton(text) {
        const button = document.createElement('button');
        button.classList.add('theia-button');
        button.textContent = text;
        return button;
    }
    onAfterAttach(msg) {
        super.onAfterAttach(msg);
        if (this.closeButton) {
            this.addCloseAction(this.closeButton, 'click');
        }
        if (this.acceptButton) {
            this.addAcceptAction(this.acceptButton, 'click');
        }
        this.addCloseAction(this.closeCrossNode, 'click');
        // TODO: use DI always to create dialog instances
        this.toDisposeOnDetach.push(DialogOverlayService.get().push(this));
    }
    handleEscape(event) {
        this.close();
    }
    handleEnter(event) {
        if (event.target instanceof HTMLTextAreaElement) {
            return false;
        }
        this.accept();
    }
    onActivateRequest(msg) {
        super.onActivateRequest(msg);
        if (this.acceptButton) {
            this.acceptButton.focus();
        }
    }
    open() {
        if (this.resolve) {
            return Promise.reject(new Error('The dialog is already opened.'));
        }
        this.activeElement = window.document.activeElement;
        return new Promise((resolve, reject) => {
            this.resolve = resolve;
            this.reject = reject;
            this.toDisposeOnDetach.push(common_1.Disposable.create(() => {
                this.resolve = undefined;
                this.reject = undefined;
            }));
            widgets_1.Widget.attach(this, document.body);
            this.activate();
        });
    }
    close() {
        if (this.resolve) {
            if (this.activeElement) {
                this.activeElement.focus({ preventScroll: true });
            }
            this.resolve(undefined);
        }
        this.activeElement = undefined;
        super.close();
    }
    onUpdateRequest(msg) {
        super.onUpdateRequest(msg);
        this.validate();
    }
    async validate() {
        if (!this.resolve) {
            return;
        }
        this.validateCancellationSource.cancel();
        this.validateCancellationSource = new common_1.CancellationTokenSource();
        const token = this.validateCancellationSource.token;
        const value = this.value;
        const error = await this.isValid(value, 'preview');
        if (token.isCancellationRequested) {
            return;
        }
        this.setErrorMessage(error);
    }
    async accept() {
        if (!this.resolve) {
            return;
        }
        this.acceptCancellationSource.cancel();
        this.acceptCancellationSource = new common_1.CancellationTokenSource();
        const token = this.acceptCancellationSource.token;
        const value = this.value;
        const error = await this.isValid(value, 'open');
        if (token.isCancellationRequested) {
            return;
        }
        if (!DialogError.getResult(error)) {
            this.setErrorMessage(error);
        }
        else {
            this.resolve(value);
            widgets_1.Widget.detach(this);
        }
    }
    /**
     * Return a string of zero-length or true if valid.
     */
    isValid(value, mode) {
        return '';
    }
    setErrorMessage(error) {
        if (this.acceptButton) {
            this.acceptButton.disabled = !DialogError.getResult(error);
        }
        this.errorMessageNode.innerText = DialogError.getMessage(error);
    }
    addCloseAction(element, ...additionalEventTypes) {
        this.addKeyListener(element, keys_1.Key.ENTER, () => this.close(), ...additionalEventTypes);
    }
    addAcceptAction(element, ...additionalEventTypes) {
        this.addKeyListener(element, keys_1.Key.ENTER, () => this.accept(), ...additionalEventTypes);
    }
};
AbstractDialog = __decorate([
    inversify_1.injectable(),
    __param(0, inversify_1.inject(DialogProps)),
    __metadata("design:paramtypes", [DialogProps])
], AbstractDialog);
exports.AbstractDialog = AbstractDialog;
let ConfirmDialogProps = class ConfirmDialogProps extends DialogProps {
};
ConfirmDialogProps = __decorate([
    inversify_1.injectable()
], ConfirmDialogProps);
exports.ConfirmDialogProps = ConfirmDialogProps;
let ConfirmDialog = class ConfirmDialog extends AbstractDialog {
    constructor(props) {
        super(props);
        this.props = props;
        this.confirmed = true;
        this.contentNode.appendChild(this.createMessageNode(this.props.msg));
        this.appendCloseButton(props.cancel);
        this.appendAcceptButton(props.ok);
    }
    onCloseRequest(msg) {
        super.onCloseRequest(msg);
        this.confirmed = false;
        this.accept();
    }
    get value() {
        return this.confirmed;
    }
    createMessageNode(msg) {
        if (typeof msg === 'string') {
            const messageNode = document.createElement('div');
            messageNode.textContent = msg;
            return messageNode;
        }
        return msg;
    }
};
ConfirmDialog = __decorate([
    __param(0, inversify_1.inject(ConfirmDialogProps)),
    __metadata("design:paramtypes", [ConfirmDialogProps])
], ConfirmDialog);
exports.ConfirmDialog = ConfirmDialog;
let SingleTextInputDialogProps = class SingleTextInputDialogProps extends DialogProps {
};
SingleTextInputDialogProps = __decorate([
    inversify_1.injectable()
], SingleTextInputDialogProps);
exports.SingleTextInputDialogProps = SingleTextInputDialogProps;
let SingleTextInputDialog = class SingleTextInputDialog extends AbstractDialog {
    constructor(props) {
        super(props);
        this.props = props;
        this.inputField = document.createElement('input');
        this.inputField.type = 'text';
        this.inputField.className = 'theia-input';
        this.inputField.spellcheck = false;
        this.inputField.setAttribute('style', 'flex: 0;');
        this.inputField.value = props.initialValue || '';
        if (props.initialSelectionRange) {
            this.inputField.setSelectionRange(props.initialSelectionRange.start, props.initialSelectionRange.end, props.initialSelectionRange.direction);
        }
        else {
            this.inputField.select();
        }
        this.contentNode.appendChild(this.inputField);
        this.appendAcceptButton(props.confirmButtonLabel);
    }
    get value() {
        return this.inputField.value;
    }
    isValid(value, mode) {
        if (this.props.validate) {
            return this.props.validate(value, mode);
        }
        return super.isValid(value, mode);
    }
    onAfterAttach(msg) {
        super.onAfterAttach(msg);
        this.addUpdateListener(this.inputField, 'input');
    }
    onActivateRequest(msg) {
        this.inputField.focus();
    }
    handleEnter(event) {
        if (event.target instanceof HTMLInputElement) {
            return super.handleEnter(event);
        }
        return false;
    }
};
SingleTextInputDialog = __decorate([
    __param(0, inversify_1.inject(SingleTextInputDialogProps)),
    __metadata("design:paramtypes", [SingleTextInputDialogProps])
], SingleTextInputDialog);
exports.SingleTextInputDialog = SingleTextInputDialog;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/dialogs/react-dialog.js":
/*!*******************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/dialogs/react-dialog.js ***!
  \*******************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2019 Ericsson and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ReactDialog = void 0;
const React = __webpack_require__(/*! react */ "../node_modules/react/index.js");
const ReactDOM = __webpack_require__(/*! react-dom */ "../node_modules/react-dom/index.js");
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const common_1 = __webpack_require__(/*! ../../common */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/index.js");
const dialogs_1 = __webpack_require__(/*! ../dialogs */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/dialogs.js");
let ReactDialog = class ReactDialog extends dialogs_1.AbstractDialog {
    constructor(props) {
        super(props);
        this.props = props;
        this.onRender = new common_1.DisposableCollection();
        this.toDispose.push(common_1.Disposable.create(() => {
            ReactDOM.unmountComponentAtNode(this.contentNode);
        }));
    }
    onUpdateRequest(msg) {
        super.onUpdateRequest(msg);
        ReactDOM.render(React.createElement(React.Fragment, null, this.render()), this.contentNode, () => this.onRender.dispose());
    }
};
ReactDialog = __decorate([
    inversify_1.injectable(),
    __param(0, inversify_1.inject(dialogs_1.DialogProps)),
    __metadata("design:paramtypes", [dialogs_1.DialogProps])
], ReactDialog);
exports.ReactDialog = ReactDialog;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/diff-uris.js":
/*!********************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/diff-uris.js ***!
  \********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.DiffUriLabelProviderContribution = exports.DiffUris = void 0;
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const uri_1 = __webpack_require__(/*! ../common/uri */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/uri.js");
const label_provider_1 = __webpack_require__(/*! ./label-provider */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/label-provider.js");
const widgets_1 = __webpack_require__(/*! ./widgets */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/widgets/index.js");
var DiffUris;
(function (DiffUris) {
    DiffUris.DIFF_SCHEME = 'diff';
    function encode(left, right, label) {
        const diffUris = [
            left.toString(),
            right.toString()
        ];
        const diffUriStr = JSON.stringify(diffUris);
        return new uri_1.default().withScheme(DiffUris.DIFF_SCHEME).withPath(label || '').withQuery(diffUriStr);
    }
    DiffUris.encode = encode;
    function decode(uri) {
        if (uri.scheme !== DiffUris.DIFF_SCHEME) {
            throw new Error((`The URI must have scheme "diff". The URI was: ${uri}.`));
        }
        const diffUris = JSON.parse(uri.query);
        return diffUris.map(s => new uri_1.default(s));
    }
    DiffUris.decode = decode;
    function isDiffUri(uri) {
        return uri.scheme === DiffUris.DIFF_SCHEME;
    }
    DiffUris.isDiffUri = isDiffUri;
})(DiffUris = exports.DiffUris || (exports.DiffUris = {}));
let DiffUriLabelProviderContribution = class DiffUriLabelProviderContribution {
    constructor(labelProvider) {
        this.labelProvider = labelProvider;
    }
    canHandle(element) {
        if (element instanceof uri_1.default && DiffUris.isDiffUri(element)) {
            return 20;
        }
        return 0;
    }
    getLongName(uri) {
        const label = uri.path.toString();
        if (label) {
            return label;
        }
        const [left, right] = DiffUris.decode(uri);
        const leftLongName = this.labelProvider.getLongName(left);
        const rightLongName = this.labelProvider.getLongName(right);
        if (leftLongName === rightLongName) {
            return leftLongName;
        }
        return `${leftLongName}  ${rightLongName}`;
    }
    getName(uri) {
        const label = uri.path.toString();
        if (label) {
            return label;
        }
        const [left, right] = DiffUris.decode(uri);
        if (left.path.toString() === right.path.toString() && left.query && right.query) {
            const prefix = left.displayName ? `${left.displayName}: ` : '';
            return `${prefix}${left.query}  ${right.query}`;
        }
        else {
            let title;
            if (uri.displayName && left.path.toString() !== right.path.toString() && left.displayName !== uri.displayName) {
                title = `${uri.displayName}: `;
            }
            else {
                title = '';
            }
            const leftLongName = this.labelProvider.getName(left);
            const rightLongName = this.labelProvider.getName(right);
            if (leftLongName === rightLongName) {
                return leftLongName;
            }
            return `${title}${leftLongName}  ${rightLongName}`;
        }
    }
    getIcon(uri) {
        return widgets_1.codicon('split-horizontal');
    }
    affects(diffUri, event) {
        for (const uri of DiffUris.decode(diffUri)) {
            if (event.affects(uri)) {
                return true;
            }
        }
        return false;
    }
};
DiffUriLabelProviderContribution = __decorate([
    inversify_1.injectable(),
    __param(0, inversify_1.inject(label_provider_1.LabelProvider)),
    __metadata("design:paramtypes", [label_provider_1.LabelProvider])
], DiffUriLabelProviderContribution);
exports.DiffUriLabelProviderContribution = DiffUriLabelProviderContribution;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/encoding-registry.js":
/*!****************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/encoding-registry.js ***!
  \****************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2020 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.EncodingRegistry = void 0;
// based on https://github.com/microsoft/vscode/blob/04c36be045a94fee58e5f8992d3e3fd980294a84/src/vs/workbench/services/textfile/browser/textFileService.ts#L491
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const disposable_1 = __webpack_require__(/*! ../common/disposable */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/disposable.js");
const core_preferences_1 = __webpack_require__(/*! ./core-preferences */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/core-preferences.js");
const encoding_service_1 = __webpack_require__(/*! ../common/encoding-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/encoding-service.js");
const encodings_1 = __webpack_require__(/*! ../common/encodings */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/encodings.js");
let EncodingRegistry = class EncodingRegistry {
    constructor() {
        this.encodingOverrides = [];
    }
    registerOverride(override) {
        this.encodingOverrides.push(override);
        return disposable_1.Disposable.create(() => {
            const index = this.encodingOverrides.indexOf(override);
            if (index !== -1) {
                this.encodingOverrides.splice(index, 1);
            }
        });
    }
    getEncodingForResource(resource, preferredEncoding) {
        let fileEncoding;
        const override = this.getEncodingOverride(resource);
        if (override) {
            fileEncoding = override; // encoding override always wins
        }
        else if (preferredEncoding) {
            fileEncoding = preferredEncoding; // preferred encoding comes second
        }
        else {
            fileEncoding = this.preferences.get('files.encoding', undefined, resource.toString());
        }
        if (!fileEncoding || !this.encodingService.exists(fileEncoding)) {
            return encodings_1.UTF8; // the default is UTF 8
        }
        return this.encodingService.toIconvEncoding(fileEncoding);
    }
    getEncodingOverride(resource) {
        if (this.encodingOverrides && this.encodingOverrides.length) {
            for (const override of this.encodingOverrides) {
                if (override.parent && resource.isEqualOrParent(override.parent)) {
                    return override.encoding;
                }
                if (override.extension && resource.path.ext === `.${override.extension}`) {
                    return override.encoding;
                }
                if (override.scheme && override.scheme === resource.scheme) {
                    return override.encoding;
                }
            }
        }
        return undefined;
    }
};
__decorate([
    inversify_1.inject(core_preferences_1.CorePreferences),
    __metadata("design:type", Object)
], EncodingRegistry.prototype, "preferences", void 0);
__decorate([
    inversify_1.inject(encoding_service_1.EncodingService),
    __metadata("design:type", encoding_service_1.EncodingService)
], EncodingRegistry.prototype, "encodingService", void 0);
EncodingRegistry = __decorate([
    inversify_1.injectable()
], EncodingRegistry);
exports.EncodingRegistry = EncodingRegistry;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/endpoint.js":
/*!*******************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/endpoint.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Endpoint = void 0;
const uri_1 = __webpack_require__(/*! ../common/uri */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/uri.js");
/**
 * An endpoint provides URLs for http and ws, based on configuration and defaults.
 */
class Endpoint {
    constructor(options = {}, location = self.location) {
        this.options = options;
        this.location = location;
    }
    getWebSocketUrl() {
        return new uri_1.default(`${this.wsScheme}//${this.host}${this.pathname}${this.path}`);
    }
    getRestUrl() {
        return new uri_1.default(`${this.httpScheme}//${this.host}${this.pathname}${this.path}`);
    }
    get pathname() {
        if (this.location.protocol === Endpoint.PROTO_FILE) {
            return '';
        }
        if (this.location.pathname === '/') {
            return '';
        }
        if (this.location.pathname.endsWith('/')) {
            return this.location.pathname.substr(0, this.location.pathname.length - 1);
        }
        return this.location.pathname;
    }
    get host() {
        if (this.options.host) {
            return this.options.host;
        }
        if (this.location.host) {
            return this.location.host;
        }
        return 'localhost:' + this.port;
    }
    get port() {
        return this.getSearchParam('port', '3000');
    }
    getSearchParam(name, defaultValue) {
        const search = this.location.search;
        if (!search) {
            return defaultValue;
        }
        return search.substr(1).split('&')
            .filter(value => value.startsWith(name + '='))
            .map(value => {
            const encoded = value.substr(name.length + 1);
            return decodeURIComponent(encoded);
        })[0] || defaultValue;
    }
    get wsScheme() {
        if (this.options.wsScheme) {
            return this.options.wsScheme;
        }
        return this.httpScheme === Endpoint.PROTO_HTTPS ? Endpoint.PROTO_WSS : Endpoint.PROTO_WS;
    }
    /**
     * The HTTP/HTTPS scheme of the endpoint, or the user defined one.
     * See: `Endpoint.Options.httpScheme`.
     */
    get httpScheme() {
        if (this.options.httpScheme) {
            return this.options.httpScheme;
        }
        if (this.location.protocol === Endpoint.PROTO_HTTP ||
            this.location.protocol === Endpoint.PROTO_HTTPS) {
            return this.location.protocol;
        }
        return Endpoint.PROTO_HTTP;
    }
    get path() {
        if (this.options.path) {
            if (this.options.path.startsWith('/')) {
                return this.options.path;
            }
            else {
                return '/' + this.options.path;
            }
        }
        return this.options.path || '';
    }
}
exports.Endpoint = Endpoint;
Endpoint.PROTO_HTTPS = 'https:';
Endpoint.PROTO_HTTP = 'http:';
Endpoint.PROTO_WS = 'ws:';
Endpoint.PROTO_WSS = 'wss:';
Endpoint.PROTO_FILE = 'file:';
(function (Endpoint) {
    class Options {
    }
    Endpoint.Options = Options;
    // Necessary for running tests with dependency on TS lib on node
    // FIXME figure out how to mock with ts-node
    class Location {
    }
    Endpoint.Location = Location;
})(Endpoint = exports.Endpoint || (exports.Endpoint = {}));


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/frontend-application-config-provider.js":
/*!***********************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/frontend-application-config-provider.js ***!
  \***********************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.FrontendApplicationConfigProvider = void 0;
const application_props_1 = __webpack_require__(/*! @theia/application-package/lib/application-props */ "../node_modules/@theia/file-search/node_modules/@theia/application-package/lib/application-props.js");
class FrontendApplicationConfigProvider {
    static get() {
        const config = FrontendApplicationConfigProvider.doGet();
        if (config === undefined) {
            throw new Error('The configuration is not set. Did you call FrontendApplicationConfigProvider#set?');
        }
        return config;
    }
    static set(config) {
        if (FrontendApplicationConfigProvider.doGet() !== undefined) {
            throw new Error('The configuration is already set.');
        }
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        const globalObject = window;
        const key = FrontendApplicationConfigProvider.KEY;
        globalObject[key] = application_props_1.deepmerge(application_props_1.FrontendApplicationConfig.DEFAULT, config);
    }
    static doGet() {
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        const globalObject = window;
        const key = FrontendApplicationConfigProvider.KEY;
        return globalObject[key];
    }
}
exports.FrontendApplicationConfigProvider = FrontendApplicationConfigProvider;
FrontendApplicationConfigProvider.KEY = Symbol('FrontendApplicationConfigProvider');


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/frontend-application-state.js":
/*!*************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/frontend-application-state.js ***!
  \*************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.FrontendApplicationStateService = void 0;
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const event_1 = __webpack_require__(/*! ../common/event */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/event.js");
const promise_util_1 = __webpack_require__(/*! ../common/promise-util */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/promise-util.js");
const logger_1 = __webpack_require__(/*! ../common/logger */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/logger.js");
let FrontendApplicationStateService = class FrontendApplicationStateService {
    constructor() {
        this._state = 'init';
        this.deferred = {};
        this.stateChanged = new event_1.Emitter();
    }
    get state() {
        return this._state;
    }
    set state(state) {
        if (state !== this._state) {
            if (this.deferred[this._state] === undefined) {
                this.deferred[this._state] = new promise_util_1.Deferred();
            }
            const oldState = this._state;
            this._state = state;
            if (this.deferred[state] === undefined) {
                this.deferred[state] = new promise_util_1.Deferred();
            }
            this.deferred[state].resolve();
            this.logger.info(`Changed application state from '${oldState}' to '${this._state}'.`);
            this.stateChanged.fire(state);
        }
    }
    get onStateChanged() {
        return this.stateChanged.event;
    }
    reachedState(state) {
        if (this.deferred[state] === undefined) {
            this.deferred[state] = new promise_util_1.Deferred();
        }
        return this.deferred[state].promise;
    }
    reachedAnyState(...states) {
        return Promise.race(states.map(s => this.reachedState(s)));
    }
};
__decorate([
    inversify_1.inject(logger_1.ILogger),
    __metadata("design:type", Object)
], FrontendApplicationStateService.prototype, "logger", void 0);
FrontendApplicationStateService = __decorate([
    inversify_1.injectable()
], FrontendApplicationStateService);
exports.FrontendApplicationStateService = FrontendApplicationStateService;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/frontend-application.js":
/*!*******************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/frontend-application.js ***!
  \*******************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.FrontendApplication = exports.DefaultFrontendApplicationContribution = exports.FrontendApplicationContribution = void 0;
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const common_1 = __webpack_require__(/*! ../common */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/index.js");
const keybinding_1 = __webpack_require__(/*! ./keybinding */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/keybinding.js");
const widgets_1 = __webpack_require__(/*! ./widgets */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/widgets/index.js");
const application_shell_1 = __webpack_require__(/*! ./shell/application-shell */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/shell/application-shell.js");
const shell_layout_restorer_1 = __webpack_require__(/*! ./shell/shell-layout-restorer */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/shell/shell-layout-restorer.js");
const frontend_application_state_1 = __webpack_require__(/*! ./frontend-application-state */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/frontend-application-state.js");
const browser_1 = __webpack_require__(/*! ./browser */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/browser.js");
const core_preferences_1 = __webpack_require__(/*! ./core-preferences */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/core-preferences.js");
const window_service_1 = __webpack_require__(/*! ./window/window-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/window/window-service.js");
/**
 * Clients can implement to get a callback for contributing widgets to a shell on start.
 */
exports.FrontendApplicationContribution = Symbol('FrontendApplicationContribution');
const TIMER_WARNING_THRESHOLD = 100;
/**
 * Default frontend contribution that can be extended by clients if they do not want to implement any of the
 * methods from the interface but still want to contribute to the frontend application.
 */
let DefaultFrontendApplicationContribution = class DefaultFrontendApplicationContribution {
    initialize() {
        // NOOP
    }
};
DefaultFrontendApplicationContribution = __decorate([
    inversify_1.injectable()
], DefaultFrontendApplicationContribution);
exports.DefaultFrontendApplicationContribution = DefaultFrontendApplicationContribution;
let FrontendApplication = class FrontendApplication {
    constructor(commands, menus, keybindings, layoutRestorer, contributions, _shell, stateService) {
        this.commands = commands;
        this.menus = menus;
        this.keybindings = keybindings;
        this.layoutRestorer = layoutRestorer;
        this.contributions = contributions;
        this._shell = _shell;
        this.stateService = stateService;
        /* vvv HOTFIX begin vvv
         *
         * This is a hotfix against issues eclipse/theia#6459 and gitpod-io/gitpod#875 .
         * It should be reverted after Theia was updated to the newer Monaco.
         */
        this.inComposition = false;
    }
    get shell() {
        return this._shell;
    }
    /**
     * Start the frontend application.
     *
     * Start up consists of the following steps:
     * - start frontend contributions
     * - attach the application shell to the host element
     * - initialize the application shell layout
     * - reveal the application shell if it was hidden by a startup indicator
     */
    async start() {
        await this.startContributions();
        this.stateService.state = 'started_contributions';
        const host = await this.getHost();
        this.attachShell(host);
        await browser_1.animationFrame();
        this.stateService.state = 'attached_shell';
        await this.initializeLayout();
        this.stateService.state = 'initialized_layout';
        await this.fireOnDidInitializeLayout();
        await this.revealShell(host);
        this.registerEventListeners();
        this.stateService.state = 'ready';
    }
    /**
     * Return a promise to the host element to which the application shell is attached.
     */
    getHost() {
        if (document.body) {
            return Promise.resolve(document.body);
        }
        return new Promise(resolve => window.addEventListener('load', () => resolve(document.body), { once: true }));
    }
    /**
     * Return an HTML element that indicates the startup phase, e.g. with an animation or a splash screen.
     */
    getStartupIndicator(host) {
        const startupElements = host.getElementsByClassName('theia-preload');
        return startupElements.length === 0 ? undefined : startupElements[0];
    }
    /**
     * Register composition related event listeners.
     */
    registerCompositionEventListeners() {
        window.document.addEventListener('compositionstart', event => {
            this.inComposition = true;
        });
        window.document.addEventListener('compositionend', event => {
            this.inComposition = false;
        });
    }
    /* ^^^ HOTFIX end ^^^ */
    /**
     * Register global event listeners.
     */
    registerEventListeners() {
        this.registerCompositionEventListeners(); /* Hotfix. See above. */
        this.windowsService.onUnload(() => {
            this.stateService.state = 'closing_window';
            this.layoutRestorer.storeLayout(this);
            this.stopContributions();
        });
        window.addEventListener('resize', () => this.shell.update());
        document.addEventListener('keydown', event => {
            if (this.inComposition !== true) {
                this.keybindings.run(event);
            }
        }, true);
        document.addEventListener('touchmove', event => { event.preventDefault(); }, { passive: false });
        // Prevent forward/back navigation by scrolling in OS X
        if (common_1.isOSX) {
            document.body.addEventListener('wheel', browser_1.preventNavigation, { passive: false });
        }
        // Prevent the default browser behavior when dragging and dropping files into the window.
        window.addEventListener('dragover', event => {
            event.preventDefault();
        }, false);
        window.addEventListener('drop', event => {
            event.preventDefault();
        }, false);
    }
    /**
     * Attach the application shell to the host element. If a startup indicator is present, the shell is
     * inserted before that indicator so it is not visible yet.
     */
    attachShell(host) {
        const ref = this.getStartupIndicator(host);
        widgets_1.Widget.attach(this.shell, host, ref);
    }
    /**
     * If a startup indicator is present, it is first hidden with the `theia-hidden` CSS class and then
     * removed after a while. The delay until removal is taken from the CSS transition duration.
     */
    revealShell(host) {
        const startupElem = this.getStartupIndicator(host);
        if (startupElem) {
            return new Promise(resolve => {
                window.requestAnimationFrame(() => {
                    startupElem.classList.add('theia-hidden');
                    const preloadStyle = window.getComputedStyle(startupElem);
                    const transitionDuration = browser_1.parseCssTime(preloadStyle.transitionDuration, 0);
                    window.setTimeout(() => {
                        const parent = startupElem.parentElement;
                        if (parent) {
                            parent.removeChild(startupElem);
                        }
                        resolve();
                    }, transitionDuration);
                });
            });
        }
        else {
            return Promise.resolve();
        }
    }
    /**
     * Initialize the shell layout either using the layout restorer service or, if no layout has
     * been stored, by creating the default layout.
     */
    async initializeLayout() {
        if (!await this.restoreLayout()) {
            // Fallback: Create the default shell layout
            await this.createDefaultLayout();
        }
        await this.shell.pendingUpdates;
    }
    /**
     * Try to restore the shell layout from the storage service. Resolves to `true` if successful.
     */
    async restoreLayout() {
        try {
            return await this.layoutRestorer.restoreLayout(this);
        }
        catch (error) {
            if (shell_layout_restorer_1.ApplicationShellLayoutMigrationError.is(error)) {
                console.warn(error.message);
                console.info('Initializing the default layout instead...');
            }
            else {
                console.error('Could not restore layout', error);
            }
            return false;
        }
    }
    /**
     * Let the frontend application contributions initialize the shell layout. Override this
     * method in order to create an application-specific custom layout.
     */
    async createDefaultLayout() {
        for (const contribution of this.contributions.getContributions()) {
            if (contribution.initializeLayout) {
                await this.measure(contribution.constructor.name + '.initializeLayout', () => contribution.initializeLayout(this));
            }
        }
    }
    async fireOnDidInitializeLayout() {
        for (const contribution of this.contributions.getContributions()) {
            if (contribution.onDidInitializeLayout) {
                await this.measure(contribution.constructor.name + '.onDidInitializeLayout', () => contribution.onDidInitializeLayout(this));
            }
        }
    }
    /**
     * Initialize and start the frontend application contributions.
     */
    async startContributions() {
        for (const contribution of this.contributions.getContributions()) {
            if (contribution.initialize) {
                try {
                    await this.measure(contribution.constructor.name + '.initialize', () => contribution.initialize());
                }
                catch (error) {
                    console.error('Could not initialize contribution', error);
                }
            }
        }
        for (const contribution of this.contributions.getContributions()) {
            if (contribution.configure) {
                try {
                    await this.measure(contribution.constructor.name + '.configure', () => contribution.configure(this));
                }
                catch (error) {
                    console.error('Could not configure contribution', error);
                }
            }
        }
        /**
         * FIXME:
         * - decouple commands & menus
         * - consider treat commands, keybindings and menus as frontend application contributions
         */
        await this.measure('commands.onStart', () => this.commands.onStart());
        await this.measure('keybindings.onStart', () => this.keybindings.onStart());
        await this.measure('menus.onStart', () => this.menus.onStart());
        for (const contribution of this.contributions.getContributions()) {
            if (contribution.onStart) {
                try {
                    await this.measure(contribution.constructor.name + '.onStart', () => contribution.onStart(this));
                }
                catch (error) {
                    console.error('Could not start contribution', error);
                }
            }
        }
    }
    /**
     * Stop the frontend application contributions. This is called when the window is unloaded.
     */
    stopContributions() {
        console.info('>>> Stopping frontend contributions...');
        for (const contribution of this.contributions.getContributions()) {
            if (contribution.onStop) {
                try {
                    contribution.onStop(this);
                }
                catch (error) {
                    console.error('Could not stop contribution', error);
                }
            }
        }
        console.info('<<< All frontend contributions have been stopped.');
    }
    async measure(name, fn) {
        const startMark = name + '-start';
        const endMark = name + '-end';
        performance.mark(startMark);
        const result = await fn();
        performance.mark(endMark);
        performance.measure(name, startMark, endMark);
        for (const item of performance.getEntriesByName(name)) {
            const contribution = `Frontend ${item.name}`;
            if (item.duration > TIMER_WARNING_THRESHOLD) {
                console.warn(`${contribution} is slow, took: ${item.duration.toFixed(1)} ms`);
            }
            else {
                console.debug(`${contribution} took: ${item.duration.toFixed(1)} ms`);
            }
        }
        performance.clearMeasures(name);
        return result;
    }
};
__decorate([
    inversify_1.inject(core_preferences_1.CorePreferences),
    __metadata("design:type", Object)
], FrontendApplication.prototype, "corePreferences", void 0);
__decorate([
    inversify_1.inject(window_service_1.WindowService),
    __metadata("design:type", Object)
], FrontendApplication.prototype, "windowsService", void 0);
FrontendApplication = __decorate([
    inversify_1.injectable(),
    __param(0, inversify_1.inject(common_1.CommandRegistry)),
    __param(1, inversify_1.inject(common_1.MenuModelRegistry)),
    __param(2, inversify_1.inject(keybinding_1.KeybindingRegistry)),
    __param(3, inversify_1.inject(shell_layout_restorer_1.ShellLayoutRestorer)),
    __param(4, inversify_1.inject(common_1.ContributionProvider)), __param(4, inversify_1.named(exports.FrontendApplicationContribution)),
    __param(5, inversify_1.inject(application_shell_1.ApplicationShell)),
    __param(6, inversify_1.inject(frontend_application_state_1.FrontendApplicationStateService)),
    __metadata("design:paramtypes", [common_1.CommandRegistry,
        common_1.MenuModelRegistry,
        keybinding_1.KeybindingRegistry,
        shell_layout_restorer_1.ShellLayoutRestorer, Object, application_shell_1.ApplicationShell,
        frontend_application_state_1.FrontendApplicationStateService])
], FrontendApplication);
exports.FrontendApplication = FrontendApplication;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/icon-theme-service.js":
/*!*****************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/icon-theme-service.js ***!
  \*****************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2019 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.IconThemeService = exports.NoneIconTheme = void 0;
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const event_1 = __webpack_require__(/*! ../common/event */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/event.js");
const disposable_1 = __webpack_require__(/*! ../common/disposable */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/disposable.js");
const frontend_application_config_provider_1 = __webpack_require__(/*! ./frontend-application-config-provider */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/frontend-application-config-provider.js");
let NoneIconTheme = class NoneIconTheme {
    constructor() {
        this.id = 'none';
        this.label = 'None';
        this.description = 'Disable file icons';
        this.hasFileIcons = true;
        this.hasFolderIcons = true;
        this.onDidChangeEmitter = new event_1.Emitter();
        this.onDidChange = this.onDidChangeEmitter.event;
        this.toDeactivate = new disposable_1.DisposableCollection();
    }
    activate() {
        if (this.toDeactivate.disposed) {
            this.toDeactivate.push(disposable_1.Disposable.create(() => this.fireDidChange()));
            this.fireDidChange();
        }
        return this.toDeactivate;
    }
    fireDidChange() {
        this.onDidChangeEmitter.fire({ affects: () => true });
    }
    canHandle() {
        if (this.toDeactivate.disposed) {
            return 0;
        }
        return Number.MAX_SAFE_INTEGER;
    }
    getIcon() {
        return '';
    }
};
NoneIconTheme = __decorate([
    inversify_1.injectable()
], NoneIconTheme);
exports.NoneIconTheme = NoneIconTheme;
let IconThemeService = class IconThemeService {
    constructor() {
        this.onDidChangeEmitter = new event_1.Emitter();
        this.onDidChange = this.onDidChangeEmitter.event;
        this._iconThemes = new Map();
        this.onDidChangeCurrentEmitter = new event_1.Emitter();
        this.onDidChangeCurrent = this.onDidChangeCurrentEmitter.event;
        this.toDeactivate = new disposable_1.DisposableCollection();
    }
    get ids() {
        return this._iconThemes.keys();
    }
    get definitions() {
        return this._iconThemes.values();
    }
    getDefinition(id) {
        return this._iconThemes.get(id);
    }
    init() {
        this.register(this.noneIconTheme);
    }
    register(iconTheme) {
        if (this._iconThemes.has(iconTheme.id)) {
            console.warn(new Error(`Icon theme '${iconTheme.id}' has already been registered, skipping.`));
            return disposable_1.Disposable.NULL;
        }
        this._iconThemes.set(iconTheme.id, iconTheme);
        this.onDidChangeEmitter.fire(undefined);
        if (this.toDeactivate.disposed
            && window.localStorage.getItem('iconTheme') === iconTheme.id) {
            this.setCurrent(iconTheme);
        }
        return disposable_1.Disposable.create(() => this.unregister(iconTheme.id));
    }
    unregister(id) {
        const iconTheme = this._iconThemes.get(id);
        if (!iconTheme) {
            return undefined;
        }
        this._iconThemes.delete(id);
        if (window.localStorage.getItem('iconTheme') === id) {
            window.localStorage.removeItem('iconTheme');
            this.onDidChangeCurrentEmitter.fire(this.default.id);
        }
        this.onDidChangeEmitter.fire(undefined);
        return iconTheme;
    }
    get current() {
        return this.getCurrent().id;
    }
    set current(id) {
        const newCurrent = this._iconThemes.get(id) || this.default;
        if (this.getCurrent().id !== newCurrent.id) {
            this.setCurrent(newCurrent);
        }
    }
    getCurrent() {
        const id = window.localStorage.getItem('iconTheme');
        return id && this._iconThemes.get(id) || this.default;
    }
    setCurrent(current) {
        window.localStorage.setItem('iconTheme', current.id);
        this.toDeactivate.dispose();
        this.toDeactivate.push(current.activate());
        this.onDidChangeCurrentEmitter.fire(current.id);
    }
    get default() {
        return this._iconThemes.get(frontend_application_config_provider_1.FrontendApplicationConfigProvider.get().defaultIconTheme) || this.noneIconTheme;
    }
    load() {
        return window.localStorage.getItem('iconTheme') || undefined;
    }
};
__decorate([
    inversify_1.inject(NoneIconTheme),
    __metadata("design:type", NoneIconTheme)
], IconThemeService.prototype, "noneIconTheme", void 0);
__decorate([
    inversify_1.postConstruct(),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", []),
    __metadata("design:returntype", void 0)
], IconThemeService.prototype, "init", null);
IconThemeService = __decorate([
    inversify_1.injectable()
], IconThemeService);
exports.IconThemeService = IconThemeService;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/index.js":
/*!****************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/index.js ***!
  \****************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
__exportStar(__webpack_require__(/*! ./shell */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/shell/index.js"), exports);
__exportStar(__webpack_require__(/*! ./frontend-application */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/frontend-application.js"), exports);
__exportStar(__webpack_require__(/*! ./keyboard */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/keyboard/index.js"), exports);
__exportStar(__webpack_require__(/*! ./opener-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/opener-service.js"), exports);
__exportStar(__webpack_require__(/*! ./browser */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/browser.js"), exports);
__exportStar(__webpack_require__(/*! ./context-menu-renderer */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/context-menu-renderer.js"), exports);
__exportStar(__webpack_require__(/*! ./widgets */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/widgets/index.js"), exports);
__exportStar(__webpack_require__(/*! ./dialogs */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/dialogs.js"), exports);
__exportStar(__webpack_require__(/*! ./tree */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/index.js"), exports);
__exportStar(__webpack_require__(/*! ./messaging */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/messaging/index.js"), exports);
__exportStar(__webpack_require__(/*! ./endpoint */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/endpoint.js"), exports);
__exportStar(__webpack_require__(/*! ./common-frontend-contribution */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/common-frontend-contribution.js"), exports);
__exportStar(__webpack_require__(/*! ./quick-input */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/quick-input/index.js"), exports);
__exportStar(__webpack_require__(/*! ./widget-manager */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/widget-manager.js"), exports);
__exportStar(__webpack_require__(/*! ./saveable */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/saveable.js"), exports);
__exportStar(__webpack_require__(/*! ./storage-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/storage-service.js"), exports);
__exportStar(__webpack_require__(/*! ./preferences */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/preferences/index.js"), exports);
__exportStar(__webpack_require__(/*! ./keybinding */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/keybinding.js"), exports);
__exportStar(__webpack_require__(/*! ./status-bar */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/status-bar/index.js"), exports);
__exportStar(__webpack_require__(/*! ./label-provider */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/label-provider.js"), exports);
__exportStar(__webpack_require__(/*! ./widget-open-handler */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/widget-open-handler.js"), exports);
__exportStar(__webpack_require__(/*! ./navigatable */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/navigatable.js"), exports);
__exportStar(__webpack_require__(/*! ./diff-uris */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/diff-uris.js"), exports);
__exportStar(__webpack_require__(/*! ./core-preferences */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/core-preferences.js"), exports);
__exportStar(__webpack_require__(/*! ./view-container */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/view-container.js"), exports);
__exportStar(__webpack_require__(/*! ./breadcrumbs */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/breadcrumbs/index.js"), exports);


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/keybinding.js":
/*!*********************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/keybinding.js ***!
  \*********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var KeybindingRegistry_1;
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.KeybindingRegistry = exports.KeybindingContexts = exports.KeybindingContext = exports.KeybindingContribution = exports.Keybinding = exports.KeybindingScope = void 0;
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const os_1 = __webpack_require__(/*! ../common/os */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/os.js");
const event_1 = __webpack_require__(/*! ../common/event */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/event.js");
const command_1 = __webpack_require__(/*! ../common/command */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/command.js");
const disposable_1 = __webpack_require__(/*! ../common/disposable */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/disposable.js");
const keys_1 = __webpack_require__(/*! ./keyboard/keys */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/keyboard/keys.js");
const keyboard_layout_service_1 = __webpack_require__(/*! ./keyboard/keyboard-layout-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/keyboard/keyboard-layout-service.js");
const contribution_provider_1 = __webpack_require__(/*! ../common/contribution-provider */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/contribution-provider.js");
const logger_1 = __webpack_require__(/*! ../common/logger */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/logger.js");
const status_bar_1 = __webpack_require__(/*! ./status-bar/status-bar */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/status-bar/status-bar.js");
const context_key_service_1 = __webpack_require__(/*! ./context-key-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/context-key-service.js");
const core_preferences_1 = __webpack_require__(/*! ./core-preferences */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/core-preferences.js");
const common = __webpack_require__(/*! ../common/keybinding */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/keybinding.js");
var KeybindingScope;
(function (KeybindingScope) {
    KeybindingScope[KeybindingScope["DEFAULT"] = 0] = "DEFAULT";
    KeybindingScope[KeybindingScope["USER"] = 1] = "USER";
    KeybindingScope[KeybindingScope["WORKSPACE"] = 2] = "WORKSPACE";
    KeybindingScope[KeybindingScope["END"] = 3] = "END";
})(KeybindingScope = exports.KeybindingScope || (exports.KeybindingScope = {}));
(function (KeybindingScope) {
    KeybindingScope.length = KeybindingScope.END - KeybindingScope.DEFAULT;
})(KeybindingScope = exports.KeybindingScope || (exports.KeybindingScope = {}));
exports.Keybinding = common.Keybinding;
exports.KeybindingContribution = Symbol('KeybindingContribution');
exports.KeybindingContext = Symbol('KeybindingContext');
var KeybindingContexts;
(function (KeybindingContexts) {
    KeybindingContexts.NOOP_CONTEXT = {
        id: 'noop.keybinding.context',
        isEnabled: () => true
    };
    KeybindingContexts.DEFAULT_CONTEXT = {
        id: 'default.keybinding.context',
        isEnabled: () => false
    };
})(KeybindingContexts = exports.KeybindingContexts || (exports.KeybindingContexts = {}));
let KeybindingRegistry = KeybindingRegistry_1 = class KeybindingRegistry {
    constructor() {
        this.keySequence = [];
        this.contexts = {};
        this.keymaps = [...Array(KeybindingScope.length)].map(() => []);
        this.keybindingsChanged = new event_1.Emitter();
        this.toResetKeymap = new Map();
    }
    async onStart() {
        await this.keyboardLayoutService.initialize();
        this.keyboardLayoutService.onKeyboardLayoutChanged(newLayout => {
            this.clearResolvedKeybindings();
            this.keybindingsChanged.fire(undefined);
        });
        this.registerContext(KeybindingContexts.NOOP_CONTEXT);
        this.registerContext(KeybindingContexts.DEFAULT_CONTEXT);
        this.registerContext(...this.contextProvider.getContributions());
        for (const contribution of this.contributions.getContributions()) {
            contribution.registerKeybindings(this);
        }
    }
    /**
     * Event that is fired when the resolved keybindings change due to a different keyboard layout
     * or when a new keymap is being set
     */
    get onKeybindingsChanged() {
        return this.keybindingsChanged.event;
    }
    /**
     * Registers the keybinding context arguments into the application. Fails when an already registered
     * context is being registered.
     *
     * @param contexts the keybinding contexts to register into the application.
     */
    registerContext(...contexts) {
        for (const context of contexts) {
            const { id } = context;
            if (this.contexts[id]) {
                this.logger.error(`A keybinding context with ID ${id} is already registered.`);
            }
            else {
                this.contexts[id] = context;
            }
        }
    }
    /**
     * Register a default keybinding to the registry.
     *
     * Keybindings registered later have higher priority during evaluation.
     *
     * @param binding the keybinding to be registered
     */
    registerKeybinding(binding) {
        return this.doRegisterKeybinding(binding);
    }
    /**
     * Register multiple default keybindings to the registry
     *
     * @param bindings An array of keybinding to be registered
     */
    registerKeybindings(...bindings) {
        return this.doRegisterKeybindings(bindings, KeybindingScope.DEFAULT);
    }
    unregisterKeybinding(arg) {
        const keymap = this.keymaps[KeybindingScope.DEFAULT];
        const filter = command_1.Command.is(arg)
            ? ({ command }) => command === arg.id
            : ({ keybinding }) => exports.Keybinding.is(arg)
                ? keybinding === arg.keybinding
                : keybinding === arg;
        for (const binding of keymap.filter(filter)) {
            const idx = keymap.indexOf(binding);
            if (idx !== -1) {
                keymap.splice(idx, 1);
            }
        }
    }
    doRegisterKeybindings(bindings, scope = KeybindingScope.DEFAULT) {
        const toDispose = new disposable_1.DisposableCollection();
        for (const binding of bindings) {
            toDispose.push(this.doRegisterKeybinding(binding, scope));
        }
        return toDispose;
    }
    doRegisterKeybinding(binding, scope = KeybindingScope.DEFAULT) {
        try {
            this.resolveKeybinding(binding);
            const scoped = Object.assign(binding, { scope });
            this.insertBindingIntoScope(scoped, scope);
            return disposable_1.Disposable.create(() => {
                const index = this.keymaps[scope].indexOf(scoped);
                if (index !== -1) {
                    this.keymaps[scope].splice(index, 1);
                }
            });
        }
        catch (error) {
            this.logger.warn(`Could not register keybinding:\n  ${common.Keybinding.stringify(binding)}\n${error}`);
            return disposable_1.Disposable.NULL;
        }
    }
    /**
     * Ensures that keybindings are inserted in order of increasing length of binding to ensure that if a
     * user triggers a short keybinding (e.g. ctrl+k), the UI won't wait for a longer one (e.g. ctrl+k enter)
     */
    insertBindingIntoScope(item, scope) {
        const scopedKeymap = this.keymaps[scope];
        const getNumberOfKeystrokes = (binding) => { var _a, _b; return ((_b = (_a = binding.keybinding.trim().match(/\s/g)) === null || _a === void 0 ? void 0 : _a.length) !== null && _b !== void 0 ? _b : 0) + 1; };
        const numberOfKeystrokesInBinding = getNumberOfKeystrokes(item);
        const indexOfFirstItemWithEqualStrokes = scopedKeymap.findIndex(existingBinding => getNumberOfKeystrokes(existingBinding) === numberOfKeystrokesInBinding);
        if (indexOfFirstItemWithEqualStrokes > -1) {
            scopedKeymap.splice(indexOfFirstItemWithEqualStrokes, 0, item);
        }
        else {
            scopedKeymap.push(item);
        }
    }
    /**
     * Ensure that the `resolved` property of the given binding is set by calling the KeyboardLayoutService.
     */
    resolveKeybinding(binding) {
        if (!binding.resolved) {
            const sequence = keys_1.KeySequence.parse(binding.keybinding);
            binding.resolved = sequence.map(code => this.keyboardLayoutService.resolveKeyCode(code));
        }
        return binding.resolved;
    }
    /**
     * Clear all `resolved` properties of registered keybindings so the KeyboardLayoutService is called
     * again to resolve them. This is necessary when the user's keyboard layout has changed.
     */
    clearResolvedKeybindings() {
        for (let i = KeybindingScope.DEFAULT; i < KeybindingScope.END; i++) {
            const bindings = this.keymaps[i];
            for (let j = 0; j < bindings.length; j++) {
                const binding = bindings[j];
                binding.resolved = undefined;
            }
        }
    }
    /**
     * Checks whether a colliding {@link common.Keybinding} exists in a specific scope.
     * @param binding the keybinding to check
     * @param scope the keybinding scope to check
     * @returns true if there is a colliding keybinding
     */
    containsKeybindingInScope(binding, scope = KeybindingScope.USER) {
        const bindingKeySequence = this.resolveKeybinding(binding);
        const collisions = this.getKeySequenceCollisions(this.getUsableBindings(this.keymaps[scope]), bindingKeySequence)
            .filter(b => b.context === binding.context && !b.when && !binding.when);
        if (collisions.full.length > 0) {
            return true;
        }
        if (collisions.partial.length > 0) {
            return true;
        }
        if (collisions.shadow.length > 0) {
            return true;
        }
        return false;
    }
    /**
     * Get a user visible representation of a {@link common.Keybinding}.
     * @returns an array of strings representing all elements of the {@link KeySequence} defined by the {@link common.Keybinding}
     * @param keybinding the keybinding
     * @param separator the separator to be used to stringify {@link KeyCode}s that are part of the {@link KeySequence}
     */
    acceleratorFor(keybinding, separator = ' ') {
        const bindingKeySequence = this.resolveKeybinding(keybinding);
        return this.acceleratorForSequence(bindingKeySequence, separator);
    }
    /**
     * Get a user visible representation of a {@link KeySequence}.
     * @returns an array of strings representing all elements of the {@link KeySequence}
     * @param keySequence the keysequence
     * @param separator the separator to be used to stringify {@link KeyCode}s that are part of the {@link KeySequence}
     */
    acceleratorForSequence(keySequence, separator = ' ') {
        return keySequence.map(keyCode => this.acceleratorForKeyCode(keyCode, separator));
    }
    /**
     * Get a user visible representation of a key code (a key with modifiers).
     * @returns a string representing the {@link KeyCode}
     * @param keyCode the keycode
     * @param separator the separator used to separate keys (key and modifiers) in the returning string
     */
    acceleratorForKeyCode(keyCode, separator = ' ') {
        const keyCodeResult = [];
        if (keyCode.meta && os_1.isOSX) {
            keyCodeResult.push('Cmd');
        }
        if (keyCode.ctrl) {
            keyCodeResult.push('Ctrl');
        }
        if (keyCode.alt) {
            keyCodeResult.push('Alt');
        }
        if (keyCode.shift) {
            keyCodeResult.push('Shift');
        }
        if (keyCode.key) {
            keyCodeResult.push(this.acceleratorForKey(keyCode.key));
        }
        return keyCodeResult.join(separator);
    }
    /**
     * Return a user visible representation of a single key.
     */
    acceleratorForKey(key) {
        if (os_1.isOSX) {
            if (key === keys_1.Key.ARROW_LEFT) {
                return '';
            }
            if (key === keys_1.Key.ARROW_RIGHT) {
                return '';
            }
            if (key === keys_1.Key.ARROW_UP) {
                return '';
            }
            if (key === keys_1.Key.ARROW_DOWN) {
                return '';
            }
        }
        const keyString = this.keyboardLayoutService.getKeyboardCharacter(key);
        if (key.keyCode >= keys_1.Key.KEY_A.keyCode && key.keyCode <= keys_1.Key.KEY_Z.keyCode ||
            key.keyCode >= keys_1.Key.F1.keyCode && key.keyCode <= keys_1.Key.F24.keyCode) {
            return keyString.toUpperCase();
        }
        else if (keyString.length > 1) {
            return keyString.charAt(0).toUpperCase() + keyString.slice(1);
        }
        else {
            return keyString;
        }
    }
    /**
     * Finds collisions for a key sequence inside a list of bindings (error-free)
     *
     * @param bindings the reference bindings
     * @param candidate the sequence to match
     */
    getKeySequenceCollisions(bindings, candidate) {
        const result = new KeybindingRegistry_1.KeybindingsResult();
        for (const binding of bindings) {
            try {
                const bindingKeySequence = this.resolveKeybinding(binding);
                const compareResult = keys_1.KeySequence.compare(candidate, bindingKeySequence);
                switch (compareResult) {
                    case keys_1.KeySequence.CompareResult.FULL: {
                        result.full.push(binding);
                        break;
                    }
                    case keys_1.KeySequence.CompareResult.PARTIAL: {
                        result.partial.push(binding);
                        break;
                    }
                    case keys_1.KeySequence.CompareResult.SHADOW: {
                        result.shadow.push(binding);
                        break;
                    }
                }
            }
            catch (error) {
                this.logger.warn(error);
            }
        }
        return result;
    }
    /**
     * Get all keybindings associated to a commandId.
     *
     * @param commandId The ID of the command for which we are looking for keybindings.
     * @returns an array of {@link ScopedKeybinding}
     */
    getKeybindingsForCommand(commandId) {
        const result = [];
        for (let scope = KeybindingScope.END - 1; scope >= KeybindingScope.DEFAULT; scope--) {
            this.keymaps[scope].forEach(binding => {
                const command = this.commandRegistry.getCommand(binding.command);
                if (command) {
                    if (command.id === commandId) {
                        result.push(Object.assign(Object.assign({}, binding), { scope }));
                    }
                }
            });
            if (result.length > 0) {
                return result;
            }
        }
        return result;
    }
    isActive(binding) {
        /* Pseudo commands like "passthrough" are always active (and not found
           in the command registry).  */
        if (this.isPseudoCommand(binding.command)) {
            return true;
        }
        const command = this.commandRegistry.getCommand(binding.command);
        return !!command && !!this.commandRegistry.getActiveHandler(command.id);
    }
    /**
     * Tries to execute a keybinding.
     *
     * @param binding to execute
     * @param event keyboard event.
     */
    executeKeyBinding(binding, event) {
        if (this.isPseudoCommand(binding.command)) {
            /* Don't do anything, let the event propagate.  */
        }
        else {
            const command = this.commandRegistry.getCommand(binding.command);
            if (command) {
                if (this.commandRegistry.isEnabled(binding.command, binding.args)) {
                    this.commandRegistry.executeCommand(binding.command, binding.args)
                        .catch(e => console.error('Failed to execute command:', e));
                }
                /* Note that if a keybinding is in context but the command is
                   not active we still stop the processing here.  */
                event.preventDefault();
                event.stopPropagation();
            }
        }
    }
    /**
     * Only execute if it has no context (global context) or if we're in that context.
     */
    isEnabled(binding, event) {
        const context = binding.context && this.contexts[binding.context];
        if (context && !context.isEnabled(binding)) {
            return false;
        }
        if (binding.when && !this.whenContextService.match(binding.when, event.target)) {
            return false;
        }
        return true;
    }
    dispatchCommand(id, target) {
        const keybindings = this.getKeybindingsForCommand(id);
        if (keybindings.length) {
            for (const keyCode of this.resolveKeybinding(keybindings[0])) {
                this.dispatchKeyDown(keyCode, target);
            }
        }
    }
    dispatchKeyDown(input, target = document.activeElement || window) {
        const eventInit = this.asKeyboardEventInit(input);
        const emulatedKeyboardEvent = new KeyboardEvent('keydown', eventInit);
        target.dispatchEvent(emulatedKeyboardEvent);
    }
    asKeyboardEventInit(input) {
        if (typeof input === 'string') {
            return this.asKeyboardEventInit(keys_1.KeyCode.createKeyCode(input));
        }
        if (input instanceof keys_1.KeyCode) {
            return {
                metaKey: input.meta,
                shiftKey: input.shift,
                altKey: input.alt,
                ctrlKey: input.ctrl,
                code: input.key && input.key.code,
                key: (input && input.character) || (input.key && input.key.code),
                keyCode: input.key && input.key.keyCode
            };
        }
        return input;
    }
    /**
     * Run the command matching to the given keyboard event.
     */
    run(event) {
        if (event.defaultPrevented) {
            return;
        }
        const eventDispatch = this.corePreferences['keyboard.dispatch'];
        const keyCode = keys_1.KeyCode.createKeyCode(event, eventDispatch);
        /* Keycode is only a modifier, next keycode will be modifier + key.
           Ignore this one.  */
        if (keyCode.isModifierOnly()) {
            return;
        }
        this.keyboardLayoutService.validateKeyCode(keyCode);
        this.keySequence.push(keyCode);
        const match = this.matchKeybinding(this.keySequence, event);
        if (match && match.kind === 'partial') {
            /* Accumulate the keysequence */
            event.preventDefault();
            event.stopPropagation();
            this.statusBar.setElement('keybinding-status', {
                text: `(${this.acceleratorForSequence(this.keySequence, '+')}) was pressed, waiting for more keys`,
                alignment: status_bar_1.StatusBarAlignment.LEFT,
                priority: 2
            });
        }
        else {
            if (match && match.kind === 'full') {
                this.executeKeyBinding(match.binding, event);
            }
            this.keySequence = [];
            this.statusBar.removeElement('keybinding-status');
        }
    }
    /**
     * Match first binding in the current context.
     * Keybindings ordered by a scope and by a registration order within the scope.
     *
     * FIXME:
     * This method should run very fast since it happens on each keystroke. We should reconsider how keybindings are stored.
     * It should be possible to look up full and partial keybinding for given key sequence for constant time using some kind of tree.
     * Such tree should not contain disabled keybindings and be invalidated whenever the registry is changed.
     */
    matchKeybinding(keySequence, event) {
        let disabled;
        const isEnabled = (binding) => {
            if (event && !this.isEnabled(binding, event)) {
                return false;
            }
            const { command, context, when, keybinding } = binding;
            if (!this.isUsable(binding)) {
                disabled = disabled || new Set();
                disabled.add(JSON.stringify({ command: command.substr(1), context, when, keybinding }));
                return false;
            }
            return !(disabled === null || disabled === void 0 ? void 0 : disabled.has(JSON.stringify({ command, context, when, keybinding })));
        };
        for (let scope = KeybindingScope.END; --scope >= KeybindingScope.DEFAULT;) {
            for (const binding of this.keymaps[scope]) {
                const resolved = this.resolveKeybinding(binding);
                const compareResult = keys_1.KeySequence.compare(keySequence, resolved);
                if (compareResult === keys_1.KeySequence.CompareResult.FULL && isEnabled(binding)) {
                    return { kind: 'full', binding };
                }
                if (compareResult === keys_1.KeySequence.CompareResult.PARTIAL && isEnabled(binding)) {
                    return { kind: 'partial', binding };
                }
            }
        }
        return undefined;
    }
    /**
     * Returns true if the binding is usable
     * @param binding Binding to be checked
     */
    isUsable(binding) {
        return binding.command.charAt(0) !== '-';
    }
    /**
     * Return a new filtered array containing only the usable bindings among the input bindings
     * @param bindings Bindings to filter
     */
    getUsableBindings(bindings) {
        return bindings.filter(binding => this.isUsable(binding));
    }
    /**
     * Return true of string a pseudo-command id, in other words a command id
     * that has a special meaning and that we won't find in the command
     * registry.
     *
     * @param commandId commandId to test
     */
    isPseudoCommand(commandId) {
        return commandId === KeybindingRegistry_1.PASSTHROUGH_PSEUDO_COMMAND;
    }
    /**
     * Sets a new keymap replacing all existing {@link common.Keybinding}s in the given scope.
     * @param scope the keybinding scope
     * @param bindings an array containing the new {@link common.Keybinding}s
     */
    setKeymap(scope, bindings) {
        this.resetKeybindingsForScope(scope);
        this.toResetKeymap.set(scope, this.doRegisterKeybindings(bindings, scope));
        this.keybindingsChanged.fire(undefined);
    }
    /**
     * Reset keybindings for a specific scope
     * @param scope scope to reset the keybindings for
     */
    resetKeybindingsForScope(scope) {
        const toReset = this.toResetKeymap.get(scope);
        if (toReset) {
            toReset.dispose();
        }
    }
    /**
     * Reset keybindings for all scopes(only leaves the default keybindings mapped)
     */
    resetKeybindings() {
        for (let i = KeybindingScope.DEFAULT + 1; i < KeybindingScope.END; i++) {
            this.keymaps[i] = [];
        }
    }
    /**
     * Get all {@link common.Keybinding}s for a {@link KeybindingScope}.
     * @returns an array of {@link common.ScopedKeybinding}
     * @param scope the keybinding scope to retrieve the {@link common.Keybinding}s for.
     */
    getKeybindingsByScope(scope) {
        return this.keymaps[scope];
    }
};
KeybindingRegistry.PASSTHROUGH_PSEUDO_COMMAND = 'passthrough';
__decorate([
    inversify_1.inject(core_preferences_1.CorePreferences),
    __metadata("design:type", Object)
], KeybindingRegistry.prototype, "corePreferences", void 0);
__decorate([
    inversify_1.inject(keyboard_layout_service_1.KeyboardLayoutService),
    __metadata("design:type", keyboard_layout_service_1.KeyboardLayoutService)
], KeybindingRegistry.prototype, "keyboardLayoutService", void 0);
__decorate([
    inversify_1.inject(contribution_provider_1.ContributionProvider),
    inversify_1.named(exports.KeybindingContext),
    __metadata("design:type", Object)
], KeybindingRegistry.prototype, "contextProvider", void 0);
__decorate([
    inversify_1.inject(command_1.CommandRegistry),
    __metadata("design:type", command_1.CommandRegistry)
], KeybindingRegistry.prototype, "commandRegistry", void 0);
__decorate([
    inversify_1.inject(contribution_provider_1.ContributionProvider),
    inversify_1.named(exports.KeybindingContribution),
    __metadata("design:type", Object)
], KeybindingRegistry.prototype, "contributions", void 0);
__decorate([
    inversify_1.inject(status_bar_1.StatusBar),
    __metadata("design:type", Object)
], KeybindingRegistry.prototype, "statusBar", void 0);
__decorate([
    inversify_1.inject(logger_1.ILogger),
    __metadata("design:type", Object)
], KeybindingRegistry.prototype, "logger", void 0);
__decorate([
    inversify_1.inject(context_key_service_1.ContextKeyService),
    __metadata("design:type", context_key_service_1.ContextKeyService)
], KeybindingRegistry.prototype, "whenContextService", void 0);
KeybindingRegistry = KeybindingRegistry_1 = __decorate([
    inversify_1.injectable()
], KeybindingRegistry);
exports.KeybindingRegistry = KeybindingRegistry;
(function (KeybindingRegistry) {
    class KeybindingsResult {
        constructor() {
            this.full = [];
            this.partial = [];
            this.shadow = [];
        }
        /**
         * Merge two results together inside `this`
         *
         * @param other the other KeybindingsResult to merge with
         * @return this
         */
        merge(other) {
            this.full.push(...other.full);
            this.partial.push(...other.partial);
            this.shadow.push(...other.shadow);
            return this;
        }
        /**
         * Returns a new filtered KeybindingsResult
         *
         * @param fn callback filter on the results
         * @return filtered new result
         */
        filter(fn) {
            const result = new KeybindingsResult();
            result.full = this.full.filter(fn);
            result.partial = this.partial.filter(fn);
            result.shadow = this.shadow.filter(fn);
            return result;
        }
    }
    KeybindingRegistry.KeybindingsResult = KeybindingsResult;
})(KeybindingRegistry = exports.KeybindingRegistry || (exports.KeybindingRegistry = {}));
exports.KeybindingRegistry = KeybindingRegistry;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/keyboard/browser-keyboard-frontend-contribution.js":
/*!**********************************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/keyboard/browser-keyboard-frontend-contribution.js ***!
  \**********************************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2019 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.BrowserKeyboardFrontendContribution = exports.KeyboardCommands = void 0;
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const os_1 = __webpack_require__(/*! ../../common/os */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/os.js");
const browser_keyboard_layout_provider_1 = __webpack_require__(/*! ./browser-keyboard-layout-provider */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/keyboard/browser-keyboard-layout-provider.js");
const quick_input_1 = __webpack_require__(/*! ../quick-input */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/quick-input/index.js");
var KeyboardCommands;
(function (KeyboardCommands) {
    const KEYBOARD_CATEGORY = 'Keyboard';
    KeyboardCommands.CHOOSE_KEYBOARD_LAYOUT = {
        id: 'core.keyboard.choose',
        category: KEYBOARD_CATEGORY,
        label: 'Choose Keyboard Layout',
    };
})(KeyboardCommands = exports.KeyboardCommands || (exports.KeyboardCommands = {}));
let BrowserKeyboardFrontendContribution = class BrowserKeyboardFrontendContribution {
    registerCommands(commandRegistry) {
        commandRegistry.registerCommand(KeyboardCommands.CHOOSE_KEYBOARD_LAYOUT, {
            execute: () => this.chooseLayout()
        });
    }
    async chooseLayout() {
        var _a;
        const current = this.layoutProvider.currentLayoutData;
        const autodetect = {
            label: 'Auto-detect',
            description: this.layoutProvider.currentLayoutSource !== 'user-choice' ? `(current: ${current.name})` : undefined,
            detail: 'Try to detect the keyboard layout from browser information and pressed keys.',
            value: 'autodetect'
        };
        const pcLayouts = this.layoutProvider.allLayoutData
            .filter(layout => layout.hardware === 'pc')
            .sort((a, b) => compare(a.name, b.name))
            .map(layout => this.toQuickPickValue(layout, current === layout));
        const macLayouts = this.layoutProvider.allLayoutData
            .filter(layout => layout.hardware === 'mac')
            .sort((a, b) => compare(a.name, b.name))
            .map(layout => this.toQuickPickValue(layout, current === layout));
        let layouts;
        if (os_1.isOSX) {
            layouts = [
                autodetect,
                { type: 'separator', label: 'Mac Keyboards' }, ...macLayouts,
                { type: 'separator', label: 'PC Keyboards' }, ...pcLayouts
            ];
        }
        else {
            layouts = [
                autodetect,
                { type: 'separator', label: 'PC Keyboards' }, ...pcLayouts,
                { type: 'separator', label: 'Mac Keyboards' }, ...macLayouts
            ];
        }
        const selectedItem = await ((_a = this.quickInputService) === null || _a === void 0 ? void 0 : _a.showQuickPick(layouts, { placeholder: 'Choose a keyboard layout' }));
        if (selectedItem && ('value' in selectedItem)) {
            return this.layoutProvider.setLayoutData(selectedItem.value);
        }
    }
    toQuickPickValue(layout, isCurrent) {
        return {
            label: layout.name,
            description: `${layout.hardware === 'mac' ? 'Mac' : 'PC'} (${layout.language})${isCurrent ? ' - current layout' : ''}`,
            value: layout
        };
    }
};
__decorate([
    inversify_1.inject(browser_keyboard_layout_provider_1.BrowserKeyboardLayoutProvider),
    __metadata("design:type", browser_keyboard_layout_provider_1.BrowserKeyboardLayoutProvider)
], BrowserKeyboardFrontendContribution.prototype, "layoutProvider", void 0);
__decorate([
    inversify_1.inject(quick_input_1.QuickInputService),
    inversify_1.optional(),
    __metadata("design:type", Object)
], BrowserKeyboardFrontendContribution.prototype, "quickInputService", void 0);
BrowserKeyboardFrontendContribution = __decorate([
    inversify_1.injectable()
], BrowserKeyboardFrontendContribution);
exports.BrowserKeyboardFrontendContribution = BrowserKeyboardFrontendContribution;
function compare(a, b) {
    if (a < b) {
        return -1;
    }
    if (a > b) {
        return 1;
    }
    return 0;
}


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/keyboard/browser-keyboard-layout-provider.js":
/*!****************************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/keyboard/browser-keyboard-layout-provider.js ***!
  \****************************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2019 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.KeyboardTester = exports.DEFAULT_LAYOUT_DATA = exports.BrowserKeyboardLayoutProvider = void 0;
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const os_1 = __webpack_require__(/*! ../../common/os */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/os.js");
const event_1 = __webpack_require__(/*! ../../common/event */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/event.js");
const logger_1 = __webpack_require__(/*! ../../common/logger */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/logger.js");
const promise_util_1 = __webpack_require__(/*! ../../common/promise-util */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/promise-util.js");
const storage_service_1 = __webpack_require__(/*! ../storage-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/storage-service.js");
let BrowserKeyboardLayoutProvider = class BrowserKeyboardLayoutProvider {
    constructor() {
        this.initialized = new promise_util_1.Deferred();
        this.nativeLayoutChanged = new event_1.Emitter();
        this.tester = new KeyboardTester(loadAllLayouts());
        this.source = 'pressed-keys';
        this.currentLayout = exports.DEFAULT_LAYOUT_DATA;
    }
    get onDidChangeNativeLayout() {
        return this.nativeLayoutChanged.event;
    }
    get allLayoutData() {
        return this.tester.candidates.slice();
    }
    get currentLayoutData() {
        return this.currentLayout;
    }
    get currentLayoutSource() {
        return this.source;
    }
    async initialize() {
        await this.loadState();
        const keyboard = navigator.keyboard;
        if (keyboard && keyboard.addEventListener) {
            keyboard.addEventListener('layoutchange', async () => {
                const newLayout = await this.getNativeLayout();
                this.nativeLayoutChanged.fire(newLayout);
            });
        }
        this.initialized.resolve();
    }
    async getNativeLayout() {
        await this.initialized.promise;
        if (this.source === 'user-choice') {
            return this.currentLayout.raw;
        }
        const [layout, source] = await this.autodetect();
        this.setCurrent(layout, source);
        return layout.raw;
    }
    /**
     * Set user-chosen keyboard layout data.
     */
    async setLayoutData(layout) {
        if (layout === 'autodetect') {
            if (this.source === 'user-choice') {
                const [newLayout, source] = await this.autodetect();
                this.setCurrent(newLayout, source);
                this.nativeLayoutChanged.fire(newLayout.raw);
                return newLayout;
            }
            return this.currentLayout;
        }
        else {
            if (this.source !== 'user-choice' || layout !== this.currentLayout) {
                this.setCurrent(layout, 'user-choice');
                this.nativeLayoutChanged.fire(layout.raw);
            }
            return layout;
        }
    }
    /**
     * Test all known keyboard layouts with the given combination of pressed key and
     * produced character. Matching layouts have their score increased (see class
     * KeyboardTester). If this leads to a change of the top-scoring layout, a layout
     * change event is fired.
     */
    validateKey(keyCode) {
        if (this.source !== 'pressed-keys') {
            return;
        }
        const accepted = this.tester.updateScores(keyCode);
        if (!accepted) {
            return;
        }
        const layout = this.selectLayout();
        if (layout !== this.currentLayout && layout !== exports.DEFAULT_LAYOUT_DATA) {
            this.setCurrent(layout, 'pressed-keys');
            this.nativeLayoutChanged.fire(layout.raw);
        }
    }
    setCurrent(layout, source) {
        this.currentLayout = layout;
        this.source = source;
        this.saveState();
        if (this.tester.inputCount && (source === 'pressed-keys' || source === 'navigator.keyboard')) {
            const from = source === 'pressed-keys' ? 'pressed keys' : 'browser API';
            const hardware = layout.hardware === 'mac' ? 'Mac' : 'PC';
            this.logger.info(`Detected keyboard layout from ${from}: ${layout.name} (${hardware})`);
        }
    }
    async autodetect() {
        const keyboard = navigator.keyboard;
        if (keyboard && keyboard.getLayoutMap) {
            try {
                const layoutMap = await keyboard.getLayoutMap();
                this.testLayoutMap(layoutMap);
                return [this.selectLayout(), 'navigator.keyboard'];
            }
            catch (error) {
                this.logger.warn('Failed to obtain keyboard layout map.', error);
            }
        }
        return [this.selectLayout(), 'pressed-keys'];
    }
    /**
     * @param layoutMap a keyboard layout map according to https://wicg.github.io/keyboard-map/
     */
    testLayoutMap(layoutMap) {
        this.tester.reset();
        for (const [code, key] of layoutMap.entries()) {
            this.tester.updateScores({ code, character: key });
        }
    }
    /**
     * Select a layout based on the current tester state and the operating system
     * and language detected from the browser.
     */
    selectLayout() {
        const candidates = this.tester.candidates;
        const scores = this.tester.scores;
        const topScore = this.tester.topScore;
        const language = navigator.language;
        let matchingOScount = 0;
        let topScoringCount = 0;
        for (let i = 0; i < candidates.length; i++) {
            if (scores[i] === topScore) {
                const candidate = candidates[i];
                if (osMatches(candidate.hardware)) {
                    if (language && language.startsWith(candidate.language)) {
                        return candidate;
                    }
                    matchingOScount++;
                }
                topScoringCount++;
            }
        }
        if (matchingOScount >= 1) {
            return candidates.find((c, i) => scores[i] === topScore && osMatches(c.hardware));
        }
        if (topScoringCount >= 1) {
            return candidates.find((_, i) => scores[i] === topScore);
        }
        return exports.DEFAULT_LAYOUT_DATA;
    }
    saveState() {
        const data = {
            tester: this.tester.getState(),
            source: this.source,
            currentLayout: this.currentLayout !== exports.DEFAULT_LAYOUT_DATA ? getLayoutId(this.currentLayout) : undefined
        };
        return this.storageService.setData('keyboard', data);
    }
    async loadState() {
        const data = await this.storageService.getData('keyboard');
        if (data) {
            this.tester.setState(data.tester || {});
            this.source = data.source || 'pressed-keys';
            if (data.currentLayout) {
                const layout = this.tester.candidates.find(c => getLayoutId(c) === data.currentLayout);
                if (layout) {
                    this.currentLayout = layout;
                }
            }
            else {
                this.currentLayout = exports.DEFAULT_LAYOUT_DATA;
            }
        }
    }
};
__decorate([
    inversify_1.inject(logger_1.ILogger),
    __metadata("design:type", Object)
], BrowserKeyboardLayoutProvider.prototype, "logger", void 0);
__decorate([
    inversify_1.inject(storage_service_1.LocalStorageService),
    __metadata("design:type", storage_service_1.LocalStorageService)
], BrowserKeyboardLayoutProvider.prototype, "storageService", void 0);
__decorate([
    inversify_1.postConstruct(),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", []),
    __metadata("design:returntype", Promise)
], BrowserKeyboardLayoutProvider.prototype, "initialize", null);
BrowserKeyboardLayoutProvider = __decorate([
    inversify_1.injectable()
], BrowserKeyboardLayoutProvider);
exports.BrowserKeyboardLayoutProvider = BrowserKeyboardLayoutProvider;
function osMatches(hardware) {
    return os_1.isOSX ? hardware === 'mac' : hardware === 'pc';
}
/**
 * This is the fallback keyboard layout selected when nothing else matches.
 * It has an empty mapping, so user inputs are handled like with a standard US keyboard.
 */
exports.DEFAULT_LAYOUT_DATA = {
    name: 'US',
    hardware: os_1.isOSX ? 'mac' : 'pc',
    language: 'en',
    raw: {
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        info: {},
        mapping: {}
    }
};
/**
 * Holds score values for all known keyboard layouts. Scores are updated
 * by comparing key codes with the corresponding character produced by
 * the user's keyboard.
 */
class KeyboardTester {
    constructor(candidates) {
        this.candidates = candidates;
        this.topScore = 0;
        this.testedInputs = new Map();
        this.scores = this.candidates.map(() => 0);
    }
    get inputCount() {
        return this.testedInputs.size;
    }
    reset() {
        for (let i = 0; i < this.scores.length; i++) {
            this.scores[i] = 0;
        }
        this.topScore = 0;
        this.testedInputs.clear();
    }
    updateScores(input) {
        let property;
        if (input.shiftKey && input.altKey) {
            property = 'withShiftAltGr';
        }
        else if (input.shiftKey) {
            property = 'withShift';
        }
        else if (input.altKey) {
            property = 'withAltGr';
        }
        else {
            property = 'value';
        }
        const inputKey = `${input.code}.${property}`;
        if (this.testedInputs.has(inputKey)) {
            if (this.testedInputs.get(inputKey) === input.character) {
                return false;
            }
            else {
                // The same input keystroke leads to a different character:
                // probably a keyboard layout change, so forget all previous scores
                this.reset();
            }
        }
        const scores = this.scores;
        for (let i = 0; i < this.candidates.length; i++) {
            scores[i] += this.testCandidate(this.candidates[i], input, property);
            if (scores[i] > this.topScore) {
                this.topScore = scores[i];
            }
        }
        this.testedInputs.set(inputKey, input.character);
        return true;
    }
    testCandidate(candidate, input, property) {
        const keyMapping = candidate.raw.mapping[input.code];
        if (keyMapping && keyMapping[property]) {
            return keyMapping[property] === input.character ? 1 : 0;
        }
        else {
            return 0;
        }
    }
    getState() {
        const scores = {};
        for (let i = 0; i < this.scores.length; i++) {
            scores[getLayoutId(this.candidates[i])] = this.scores[i];
        }
        const testedInputs = {};
        for (const [key, character] of this.testedInputs.entries()) {
            testedInputs[key] = character;
        }
        return {
            scores,
            topScore: this.topScore,
            testedInputs
        };
    }
    setState(state) {
        this.reset();
        if (state.scores) {
            const layoutIds = this.candidates.map(getLayoutId);
            for (const id in state.scores) {
                if (state.scores.hasOwnProperty(id)) {
                    const index = layoutIds.indexOf(id);
                    if (index > 0) {
                        this.scores[index] = state.scores[id];
                    }
                }
            }
        }
        if (state.topScore) {
            this.topScore = state.topScore;
        }
        if (state.testedInputs) {
            for (const key in state.testedInputs) {
                if (state.testedInputs.hasOwnProperty(key)) {
                    this.testedInputs.set(key, state.testedInputs[key]);
                }
            }
        }
    }
}
exports.KeyboardTester = KeyboardTester;
function getLayoutId(layout) {
    return `${layout.language}-${layout.name.replace(' ', '_')}-${layout.hardware}`;
}
/**
 * Keyboard layout files are expected to have the following name scheme:
 *     `language-name-hardware.json`
 *
 * - `language`: A language subtag according to IETF BCP 47
 * - `name`:     Display name of the keyboard layout (without dashes)
 * - `hardware`: `pc` or `mac`
 */
function loadLayout(fileName) {
    const [language, name, hardware] = fileName.split('-');
    return {
        name: name.replace('_', ' '),
        hardware: hardware,
        language,
        // Webpack knows what to do here and it should bundle all files under `../../../src/common/keyboard/layouts/`
        // eslint-disable-next-line import/no-dynamic-require
        raw: __webpack_require__("../node_modules/@theia/file-search/node_modules/@theia/core/src/common/keyboard/layouts sync recursive ^\\.\\/.*\\.json$")("./" + fileName + ".json")
    };
}
function loadAllLayouts() {
    // The order of keyboard layouts is relevant for autodetection. Layouts with
    // lower index have a higher chance of being selected.
    // The current ordering approach is to sort by estimated number of developers
    // in the respective country (taken from the Stack Overflow Developer Survey),
    // but keeping all layouts of the same language together.
    return [
        'en-US-pc',
        'en-US-mac',
        'en-Dvorak-pc',
        'en-Dvorak-mac',
        'en-Dvorak_Lefthanded-pc',
        'en-Dvorak_Lefthanded-mac',
        'en-Dvorak_Righthanded-pc',
        'en-Dvorak_Righthanded-mac',
        'en-Colemak-mac',
        'en-British-pc',
        'en-British-mac',
        'de-German-pc',
        'de-German-mac',
        'de-Swiss_German-pc',
        'de-Swiss_German-mac',
        'fr-French-pc',
        'fr-French-mac',
        'fr-Canadian_French-pc',
        'fr-Canadian_French-mac',
        'fr-Swiss_French-pc',
        'fr-Swiss_French-mac',
        'fr-Bepo-pc',
        'pt-Portuguese-pc',
        'pt-Portuguese-mac',
        'pt-Brazilian-mac',
        'pl-Polish-pc',
        'pl-Polish-mac',
        'nl-Dutch-pc',
        'nl-Dutch-mac',
        'es-Spanish-pc',
        'es-Spanish-mac',
        'it-Italian-pc',
        'it-Italian-mac',
        'sv-Swedish-pc',
        'sv-Swedish-mac',
        'tr-Turkish_Q-pc',
        'tr-Turkish_Q-mac',
        'cs-Czech-pc',
        'cs-Czech-mac',
        'ro-Romanian-pc',
        'ro-Romanian-mac',
        'da-Danish-pc',
        'da-Danish-mac',
        'nb-Norwegian-pc',
        'nb-Norwegian-mac',
        'hu-Hungarian-pc',
        'hu-Hungarian-mac'
    ].map(loadLayout);
}


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/keyboard/index.js":
/*!*************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/keyboard/index.js ***!
  \*************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2019 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
__exportStar(__webpack_require__(/*! ./keys */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/keyboard/keys.js"), exports);
__exportStar(__webpack_require__(/*! ./keyboard-layout-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/keyboard/keyboard-layout-service.js"), exports);
__exportStar(__webpack_require__(/*! ./browser-keyboard-layout-provider */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/keyboard/browser-keyboard-layout-provider.js"), exports);
__exportStar(__webpack_require__(/*! ./browser-keyboard-frontend-contribution */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/keyboard/browser-keyboard-frontend-contribution.js"), exports);


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/keyboard/keyboard-layout-service.js":
/*!*******************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/keyboard/keyboard-layout-service.js ***!
  \*******************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2019 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.KeyboardLayoutService = void 0;
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const os_1 = __webpack_require__(/*! ../../common/os */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/os.js");
const keyboard_layout_provider_1 = __webpack_require__(/*! ../../common/keyboard/keyboard-layout-provider */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/keyboard/keyboard-layout-provider.js");
const event_1 = __webpack_require__(/*! ../../common/event */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/event.js");
const keys_1 = __webpack_require__(/*! ./keys */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/keyboard/keys.js");
let KeyboardLayoutService = class KeyboardLayoutService {
    constructor() {
        this.keyboardLayoutChanged = new event_1.Emitter();
    }
    updateLayout(newLayout) {
        const transformed = this.transformNativeLayout(newLayout);
        this.currentLayout = transformed;
        this.keyboardLayoutChanged.fire(transformed);
        return transformed;
    }
    get onKeyboardLayoutChanged() {
        return this.keyboardLayoutChanged.event;
    }
    async initialize() {
        this.layoutChangeNotifier.onDidChangeNativeLayout(newLayout => this.updateLayout(newLayout));
        const initialLayout = await this.layoutProvider.getNativeLayout();
        this.updateLayout(initialLayout);
    }
    /**
     * Resolve a KeyCode of a keybinding using the current keyboard layout.
     * If no keyboard layout has been detected or the layout does not contain the
     * key used in the KeyCode, the KeyCode is returned unchanged.
     */
    resolveKeyCode(inCode) {
        const layout = this.currentLayout;
        if (layout && inCode.key) {
            for (let shift = 0; shift <= 1; shift++) {
                const index = this.getCharacterIndex(inCode.key, !!shift);
                const mappedCode = layout.key2KeyCode[index];
                if (mappedCode) {
                    const transformed = this.transformKeyCode(inCode, mappedCode, !!shift);
                    if (transformed) {
                        return transformed;
                    }
                }
            }
        }
        return inCode;
    }
    /**
     * Return the character shown on the user's keyboard for the given key.
     * Use this to determine UI representations of keybindings.
     */
    getKeyboardCharacter(key) {
        const layout = this.currentLayout;
        if (layout) {
            const value = layout.code2Character[key.code];
            if (value && value.replace(/[\n\r\t]/g, '')) {
                return value;
            }
        }
        return key.easyString;
    }
    /**
     * Called when a KeyboardEvent is processed by the KeybindingRegistry.
     * The KeyValidator may trigger a keyboard layout change.
     */
    validateKeyCode(keyCode) {
        if (this.keyValidator && keyCode.key && keyCode.character) {
            this.keyValidator.validateKey({
                code: keyCode.key.code,
                character: keyCode.character,
                shiftKey: keyCode.shift,
                ctrlKey: keyCode.ctrl,
                altKey: keyCode.alt
            });
        }
    }
    transformKeyCode(inCode, mappedCode, keyNeedsShift) {
        if (!inCode.shift && keyNeedsShift) {
            return undefined;
        }
        if (mappedCode.alt && (inCode.alt || inCode.ctrl || inCode.shift && !keyNeedsShift)) {
            return undefined;
        }
        return new keys_1.KeyCode({
            key: mappedCode.key,
            meta: inCode.meta,
            ctrl: inCode.ctrl || mappedCode.alt,
            shift: inCode.shift && !keyNeedsShift || mappedCode.shift,
            alt: inCode.alt || mappedCode.alt
        });
    }
    transformNativeLayout(nativeLayout) {
        const key2KeyCode = new Array(2 * (keys_1.Key.MAX_KEY_CODE + 1));
        const code2Character = {};
        const mapping = nativeLayout.mapping;
        for (const code in mapping) {
            if (mapping.hasOwnProperty(code)) {
                const keyMapping = mapping[code];
                const mappedKey = keys_1.Key.getKey(code);
                if (mappedKey && this.shouldIncludeKey(code)) {
                    if (os_1.isWindows) {
                        this.addWindowsKeyMapping(key2KeyCode, mappedKey, keyMapping.vkey, keyMapping.value);
                    }
                    else {
                        if (keyMapping.value) {
                            this.addKeyMapping(key2KeyCode, mappedKey, keyMapping.value, false, false);
                        }
                        if (keyMapping.withShift) {
                            this.addKeyMapping(key2KeyCode, mappedKey, keyMapping.withShift, true, false);
                        }
                        if (keyMapping.withAltGr) {
                            this.addKeyMapping(key2KeyCode, mappedKey, keyMapping.withAltGr, false, true);
                        }
                        if (keyMapping.withShiftAltGr) {
                            this.addKeyMapping(key2KeyCode, mappedKey, keyMapping.withShiftAltGr, true, true);
                        }
                    }
                }
                if (keyMapping.value) {
                    code2Character[code] = keyMapping.value;
                }
            }
        }
        return { key2KeyCode, code2Character };
    }
    shouldIncludeKey(code) {
        // Exclude all numpad keys because they produce values that are already found elsewhere on the keyboard.
        // This can cause problems, e.g. if `Numpad3` maps to `PageDown` then commands bound to `PageDown` would
        // be resolved to `Digit3` (`Numpad3` is associated with `Key.DIGIT3`), effectively blocking the user
        // from typing `3` in an editor.
        return !code.startsWith('Numpad');
    }
    addKeyMapping(key2KeyCode, mappedKey, value, shift, alt) {
        const key = VALUE_TO_KEY[value];
        if (key) {
            const index = this.getCharacterIndex(key.key, key.shift);
            if (key2KeyCode[index] === undefined) {
                key2KeyCode[index] = new keys_1.KeyCode({
                    key: mappedKey,
                    shift,
                    alt,
                    character: value
                });
            }
        }
    }
    addWindowsKeyMapping(key2KeyCode, mappedKey, vkey, value) {
        const key = VKEY_TO_KEY[vkey];
        if (key) {
            const index = this.getCharacterIndex(key);
            if (key2KeyCode[index] === undefined) {
                key2KeyCode[index] = new keys_1.KeyCode({
                    key: mappedKey,
                    character: value
                });
            }
        }
    }
    getCharacterIndex(key, shift) {
        if (shift) {
            return keys_1.Key.MAX_KEY_CODE + key.keyCode + 1;
        }
        else {
            return key.keyCode;
        }
    }
};
__decorate([
    inversify_1.inject(keyboard_layout_provider_1.KeyboardLayoutProvider),
    __metadata("design:type", Object)
], KeyboardLayoutService.prototype, "layoutProvider", void 0);
__decorate([
    inversify_1.inject(keyboard_layout_provider_1.KeyboardLayoutChangeNotifier),
    __metadata("design:type", Object)
], KeyboardLayoutService.prototype, "layoutChangeNotifier", void 0);
__decorate([
    inversify_1.inject(keyboard_layout_provider_1.KeyValidator),
    inversify_1.optional(),
    __metadata("design:type", Object)
], KeyboardLayoutService.prototype, "keyValidator", void 0);
KeyboardLayoutService = __decorate([
    inversify_1.injectable()
], KeyboardLayoutService);
exports.KeyboardLayoutService = KeyboardLayoutService;
/**
 * Mapping of character values to the corresponding keys on a standard US keyboard layout.
 */
const VALUE_TO_KEY = {
    '`': { key: keys_1.Key.BACKQUOTE },
    '~': { key: keys_1.Key.BACKQUOTE, shift: true },
    '1': { key: keys_1.Key.DIGIT1 },
    '!': { key: keys_1.Key.DIGIT1, shift: true },
    '2': { key: keys_1.Key.DIGIT2 },
    '@': { key: keys_1.Key.DIGIT2, shift: true },
    '3': { key: keys_1.Key.DIGIT3 },
    '#': { key: keys_1.Key.DIGIT3, shift: true },
    '4': { key: keys_1.Key.DIGIT4 },
    '$': { key: keys_1.Key.DIGIT4, shift: true },
    '5': { key: keys_1.Key.DIGIT5 },
    '%': { key: keys_1.Key.DIGIT5, shift: true },
    '6': { key: keys_1.Key.DIGIT6 },
    '^': { key: keys_1.Key.DIGIT6, shift: true },
    '7': { key: keys_1.Key.DIGIT7 },
    '&': { key: keys_1.Key.DIGIT7, shift: true },
    '8': { key: keys_1.Key.DIGIT8 },
    '*': { key: keys_1.Key.DIGIT8, shift: true },
    '9': { key: keys_1.Key.DIGIT9 },
    '(': { key: keys_1.Key.DIGIT9, shift: true },
    '0': { key: keys_1.Key.DIGIT0 },
    ')': { key: keys_1.Key.DIGIT0, shift: true },
    '-': { key: keys_1.Key.MINUS },
    '_': { key: keys_1.Key.MINUS, shift: true },
    '=': { key: keys_1.Key.EQUAL },
    '+': { key: keys_1.Key.EQUAL, shift: true },
    'a': { key: keys_1.Key.KEY_A },
    'A': { key: keys_1.Key.KEY_A, shift: true },
    'b': { key: keys_1.Key.KEY_B },
    'B': { key: keys_1.Key.KEY_B, shift: true },
    'c': { key: keys_1.Key.KEY_C },
    'C': { key: keys_1.Key.KEY_C, shift: true },
    'd': { key: keys_1.Key.KEY_D },
    'D': { key: keys_1.Key.KEY_D, shift: true },
    'e': { key: keys_1.Key.KEY_E },
    'E': { key: keys_1.Key.KEY_E, shift: true },
    'f': { key: keys_1.Key.KEY_F },
    'F': { key: keys_1.Key.KEY_F, shift: true },
    'g': { key: keys_1.Key.KEY_G },
    'G': { key: keys_1.Key.KEY_G, shift: true },
    'h': { key: keys_1.Key.KEY_H },
    'H': { key: keys_1.Key.KEY_H, shift: true },
    'i': { key: keys_1.Key.KEY_I },
    'I': { key: keys_1.Key.KEY_I, shift: true },
    'j': { key: keys_1.Key.KEY_J },
    'J': { key: keys_1.Key.KEY_J, shift: true },
    'k': { key: keys_1.Key.KEY_K },
    'K': { key: keys_1.Key.KEY_K, shift: true },
    'l': { key: keys_1.Key.KEY_L },
    'L': { key: keys_1.Key.KEY_L, shift: true },
    'm': { key: keys_1.Key.KEY_M },
    'M': { key: keys_1.Key.KEY_M, shift: true },
    'n': { key: keys_1.Key.KEY_N },
    'N': { key: keys_1.Key.KEY_N, shift: true },
    'o': { key: keys_1.Key.KEY_O },
    'O': { key: keys_1.Key.KEY_O, shift: true },
    'p': { key: keys_1.Key.KEY_P },
    'P': { key: keys_1.Key.KEY_P, shift: true },
    'q': { key: keys_1.Key.KEY_Q },
    'Q': { key: keys_1.Key.KEY_Q, shift: true },
    'r': { key: keys_1.Key.KEY_R },
    'R': { key: keys_1.Key.KEY_R, shift: true },
    's': { key: keys_1.Key.KEY_S },
    'S': { key: keys_1.Key.KEY_S, shift: true },
    't': { key: keys_1.Key.KEY_T },
    'T': { key: keys_1.Key.KEY_T, shift: true },
    'u': { key: keys_1.Key.KEY_U },
    'U': { key: keys_1.Key.KEY_U, shift: true },
    'v': { key: keys_1.Key.KEY_V },
    'V': { key: keys_1.Key.KEY_V, shift: true },
    'w': { key: keys_1.Key.KEY_W },
    'W': { key: keys_1.Key.KEY_W, shift: true },
    'x': { key: keys_1.Key.KEY_X },
    'X': { key: keys_1.Key.KEY_X, shift: true },
    'y': { key: keys_1.Key.KEY_Y },
    'Y': { key: keys_1.Key.KEY_Y, shift: true },
    'z': { key: keys_1.Key.KEY_Z },
    'Z': { key: keys_1.Key.KEY_Z, shift: true },
    '[': { key: keys_1.Key.BRACKET_LEFT },
    '{': { key: keys_1.Key.BRACKET_LEFT, shift: true },
    ']': { key: keys_1.Key.BRACKET_RIGHT },
    '}': { key: keys_1.Key.BRACKET_RIGHT, shift: true },
    ';': { key: keys_1.Key.SEMICOLON },
    ':': { key: keys_1.Key.SEMICOLON, shift: true },
    "'": { key: keys_1.Key.QUOTE },
    '"': { key: keys_1.Key.QUOTE, shift: true },
    ',': { key: keys_1.Key.COMMA },
    '<': { key: keys_1.Key.COMMA, shift: true },
    '.': { key: keys_1.Key.PERIOD },
    '>': { key: keys_1.Key.PERIOD, shift: true },
    '/': { key: keys_1.Key.SLASH },
    '?': { key: keys_1.Key.SLASH, shift: true },
    '\\': { key: keys_1.Key.BACKSLASH },
    '|': { key: keys_1.Key.BACKSLASH, shift: true },
    '\t': { key: keys_1.Key.TAB },
    '\r': { key: keys_1.Key.ENTER },
    '\n': { key: keys_1.Key.ENTER },
    ' ': { key: keys_1.Key.SPACE },
};
/**
 * Mapping of Windows Virtual Keys to the corresponding keys on a standard US keyboard layout.
 */
const VKEY_TO_KEY = {
    VK_SHIFT: keys_1.Key.SHIFT_LEFT,
    VK_LSHIFT: keys_1.Key.SHIFT_LEFT,
    VK_RSHIFT: keys_1.Key.SHIFT_RIGHT,
    VK_CONTROL: keys_1.Key.CONTROL_LEFT,
    VK_LCONTROL: keys_1.Key.CONTROL_LEFT,
    VK_RCONTROL: keys_1.Key.CONTROL_RIGHT,
    VK_MENU: keys_1.Key.ALT_LEFT,
    VK_COMMAND: keys_1.Key.OS_LEFT,
    VK_LWIN: keys_1.Key.OS_LEFT,
    VK_RWIN: keys_1.Key.OS_RIGHT,
    VK_0: keys_1.Key.DIGIT0,
    VK_1: keys_1.Key.DIGIT1,
    VK_2: keys_1.Key.DIGIT2,
    VK_3: keys_1.Key.DIGIT3,
    VK_4: keys_1.Key.DIGIT4,
    VK_5: keys_1.Key.DIGIT5,
    VK_6: keys_1.Key.DIGIT6,
    VK_7: keys_1.Key.DIGIT7,
    VK_8: keys_1.Key.DIGIT8,
    VK_9: keys_1.Key.DIGIT9,
    VK_A: keys_1.Key.KEY_A,
    VK_B: keys_1.Key.KEY_B,
    VK_C: keys_1.Key.KEY_C,
    VK_D: keys_1.Key.KEY_D,
    VK_E: keys_1.Key.KEY_E,
    VK_F: keys_1.Key.KEY_F,
    VK_G: keys_1.Key.KEY_G,
    VK_H: keys_1.Key.KEY_H,
    VK_I: keys_1.Key.KEY_I,
    VK_J: keys_1.Key.KEY_J,
    VK_K: keys_1.Key.KEY_K,
    VK_L: keys_1.Key.KEY_L,
    VK_M: keys_1.Key.KEY_M,
    VK_N: keys_1.Key.KEY_N,
    VK_O: keys_1.Key.KEY_O,
    VK_P: keys_1.Key.KEY_P,
    VK_Q: keys_1.Key.KEY_Q,
    VK_R: keys_1.Key.KEY_R,
    VK_S: keys_1.Key.KEY_S,
    VK_T: keys_1.Key.KEY_T,
    VK_U: keys_1.Key.KEY_U,
    VK_V: keys_1.Key.KEY_V,
    VK_W: keys_1.Key.KEY_W,
    VK_X: keys_1.Key.KEY_X,
    VK_Y: keys_1.Key.KEY_Y,
    VK_Z: keys_1.Key.KEY_Z,
    VK_OEM_1: keys_1.Key.SEMICOLON,
    VK_OEM_2: keys_1.Key.SLASH,
    VK_OEM_3: keys_1.Key.BACKQUOTE,
    VK_OEM_4: keys_1.Key.BRACKET_LEFT,
    VK_OEM_5: keys_1.Key.BACKSLASH,
    VK_OEM_6: keys_1.Key.BRACKET_RIGHT,
    VK_OEM_7: keys_1.Key.QUOTE,
    VK_OEM_PLUS: keys_1.Key.EQUAL,
    VK_OEM_COMMA: keys_1.Key.COMMA,
    VK_OEM_MINUS: keys_1.Key.MINUS,
    VK_OEM_PERIOD: keys_1.Key.PERIOD,
    VK_F1: keys_1.Key.F1,
    VK_F2: keys_1.Key.F2,
    VK_F3: keys_1.Key.F3,
    VK_F4: keys_1.Key.F4,
    VK_F5: keys_1.Key.F5,
    VK_F6: keys_1.Key.F6,
    VK_F7: keys_1.Key.F7,
    VK_F8: keys_1.Key.F8,
    VK_F9: keys_1.Key.F9,
    VK_F10: keys_1.Key.F10,
    VK_F11: keys_1.Key.F11,
    VK_F12: keys_1.Key.F12,
    VK_F13: keys_1.Key.F13,
    VK_F14: keys_1.Key.F14,
    VK_F15: keys_1.Key.F15,
    VK_F16: keys_1.Key.F16,
    VK_F17: keys_1.Key.F17,
    VK_F18: keys_1.Key.F18,
    VK_F19: keys_1.Key.F19,
    VK_BACK: keys_1.Key.BACKSPACE,
    VK_TAB: keys_1.Key.TAB,
    VK_RETURN: keys_1.Key.ENTER,
    VK_CAPITAL: keys_1.Key.CAPS_LOCK,
    VK_ESCAPE: keys_1.Key.ESCAPE,
    VK_SPACE: keys_1.Key.SPACE,
    VK_PRIOR: keys_1.Key.PAGE_UP,
    VK_NEXT: keys_1.Key.PAGE_DOWN,
    VK_END: keys_1.Key.END,
    VK_HOME: keys_1.Key.HOME,
    VK_INSERT: keys_1.Key.INSERT,
    VK_DELETE: keys_1.Key.DELETE,
    VK_LEFT: keys_1.Key.ARROW_LEFT,
    VK_UP: keys_1.Key.ARROW_UP,
    VK_RIGHT: keys_1.Key.ARROW_RIGHT,
    VK_DOWN: keys_1.Key.ARROW_DOWN,
    VK_NUMLOCK: keys_1.Key.NUM_LOCK,
    VK_NUMPAD0: keys_1.Key.DIGIT0,
    VK_NUMPAD1: keys_1.Key.DIGIT1,
    VK_NUMPAD2: keys_1.Key.DIGIT2,
    VK_NUMPAD3: keys_1.Key.DIGIT3,
    VK_NUMPAD4: keys_1.Key.DIGIT4,
    VK_NUMPAD5: keys_1.Key.DIGIT5,
    VK_NUMPAD6: keys_1.Key.DIGIT6,
    VK_NUMPAD7: keys_1.Key.DIGIT7,
    VK_NUMPAD8: keys_1.Key.DIGIT8,
    VK_NUMPAD9: keys_1.Key.DIGIT9,
    VK_MULTIPLY: keys_1.Key.MULTIPLY,
    VK_ADD: keys_1.Key.ADD,
    VK_SUBTRACT: keys_1.Key.SUBTRACT,
    VK_DECIMAL: keys_1.Key.DECIMAL,
    VK_DIVIDE: keys_1.Key.DIVIDE
};


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/keyboard/keys.js":
/*!************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/keyboard/keys.js ***!
  \************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2017-2019 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.KeysOrKeyCodes = exports.Key = exports.SpecialCases = exports.KeyModifier = exports.KeyCode = exports.KeySequence = void 0;
const os_1 = __webpack_require__(/*! ../../common/os */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/os.js");
var KeySequence;
(function (KeySequence) {
    function equals(a, b) {
        if (a.length !== b.length) {
            return false;
        }
        for (let i = 0; i < a.length; i++) {
            if (!a[i].equals(b[i])) {
                return false;
            }
        }
        return true;
    }
    KeySequence.equals = equals;
    let CompareResult;
    (function (CompareResult) {
        CompareResult[CompareResult["NONE"] = 0] = "NONE";
        CompareResult[CompareResult["PARTIAL"] = 1] = "PARTIAL";
        CompareResult[CompareResult["SHADOW"] = 2] = "SHADOW";
        CompareResult[CompareResult["FULL"] = 3] = "FULL";
    })(CompareResult = KeySequence.CompareResult || (KeySequence.CompareResult = {}));
    /* Compares two KeySequences, returns:
     * FULL if the KeySequences are the same.
     * PARTIAL if the KeySequence a part of b.
     * SHADOW if the KeySequence b part of a.
     * NONE if the KeySequences are not the same at all.
     */
    function compare(a, b) {
        let first = a;
        let second = b;
        let shadow = false;
        if (b.length < a.length) {
            first = b;
            second = a;
            shadow = true;
        }
        for (let i = 0; i < first.length; i++) {
            if (first[i].equals(second[i]) === false) {
                return KeySequence.CompareResult.NONE;
            }
        }
        if (first.length < second.length) {
            if (shadow === false) {
                return KeySequence.CompareResult.PARTIAL;
            }
            else {
                return KeySequence.CompareResult.SHADOW;
            }
        }
        return KeySequence.CompareResult.FULL;
    }
    KeySequence.compare = compare;
    function parse(keybinding) {
        const keyCodes = [];
        const rawKeyCodes = keybinding.trim().split(/\s+/g);
        for (const rawKeyCode of rawKeyCodes) {
            const keyCode = KeyCode.parse(rawKeyCode);
            if (keyCode !== undefined) {
                keyCodes.push(keyCode);
            }
        }
        return keyCodes;
    }
    KeySequence.parse = parse;
})(KeySequence = exports.KeySequence || (exports.KeySequence = {}));
/**
 * Representation of a pressed key combined with key modifiers.
 */
class KeyCode {
    constructor(schema) {
        const key = schema.key;
        if (key) {
            if (key.code && key.keyCode && key.easyString) {
                this.key = key;
            }
            else if (key.code) {
                this.key = Key.getKey(key.code);
            }
            else if (key.keyCode) {
                this.key = Key.getKey(key.keyCode);
            }
        }
        this.ctrl = !!schema.ctrl;
        this.shift = !!schema.shift;
        this.alt = !!schema.alt;
        this.meta = !!schema.meta;
        this.character = schema.character;
    }
    /**
     * Return true if this KeyCode only contains modifiers.
     */
    isModifierOnly() {
        return this.key === undefined;
    }
    /**
     * Return true if the given KeyCode is equal to this one.
     */
    equals(other) {
        if (this.key && (!other.key || this.key.code !== other.key.code) || !this.key && other.key) {
            return false;
        }
        return this.ctrl === other.ctrl && this.alt === other.alt && this.shift === other.shift && this.meta === other.meta;
    }
    /*
     * Return a keybinding string compatible with the `Keybinding.keybinding` property.
     */
    toString() {
        const result = [];
        if (this.meta) {
            result.push(SpecialCases.META);
        }
        if (this.shift) {
            result.push(Key.SHIFT_LEFT.easyString);
        }
        if (this.alt) {
            result.push(Key.ALT_LEFT.easyString);
        }
        if (this.ctrl) {
            result.push(Key.CONTROL_LEFT.easyString);
        }
        if (this.key) {
            result.push(this.key.easyString);
        }
        return result.join('+');
    }
    /**
     * Create a KeyCode from one of several input types.
     */
    static createKeyCode(input, eventDispatch = 'code') {
        if (typeof input === 'string') {
            const parts = input.split('+');
            if (!KeyCode.isModifierString(parts[0])) {
                return KeyCode.createKeyCode({
                    first: Key.getKey(parts[0]),
                    modifiers: parts.slice(1)
                });
            }
            return KeyCode.createKeyCode({ modifiers: parts });
        }
        else if (KeyCode.isKeyboardEvent(input)) {
            const key = KeyCode.toKey(input, eventDispatch);
            return new KeyCode({
                key: Key.isModifier(key.code) ? undefined : key,
                meta: os_1.isOSX && input.metaKey,
                shift: input.shiftKey,
                alt: input.altKey,
                ctrl: input.ctrlKey,
                character: KeyCode.toCharacter(input)
            });
        }
        else if (input.first || input.modifiers) {
            const keystroke = input;
            const schema = {
                key: keystroke.first
            };
            if (keystroke.modifiers) {
                if (os_1.isOSX) {
                    schema.meta = keystroke.modifiers.some(mod => mod === KeyModifier.CtrlCmd);
                    schema.ctrl = keystroke.modifiers.some(mod => mod === KeyModifier.MacCtrl);
                }
                else {
                    schema.meta = false;
                    schema.ctrl = keystroke.modifiers.some(mod => mod === KeyModifier.CtrlCmd);
                }
                schema.shift = keystroke.modifiers.some(mod => mod === KeyModifier.Shift);
                schema.alt = keystroke.modifiers.some(mod => mod === KeyModifier.Alt);
            }
            return new KeyCode(schema);
        }
        else {
            return new KeyCode(input);
        }
    }
    /* Reset the key hashmap, this is for testing purposes.  */
    static resetKeyBindings() {
        KeyCode.keybindings = {};
    }
    /**
     * Parses a string and returns a KeyCode object.
     * @param keybinding String representation of a keybinding
     */
    static parse(keybinding) {
        if (KeyCode.keybindings[keybinding]) {
            return KeyCode.keybindings[keybinding];
        }
        const schema = {};
        const keys = [];
        let currentKey = '';
        for (const character of keybinding.trim().toLowerCase()) {
            if (currentKey && (character === '-' || character === '+')) {
                keys.push(currentKey);
                currentKey = '';
            }
            else if (character !== '+') {
                currentKey += character;
            }
        }
        if (currentKey) {
            keys.push(currentKey);
        }
        /* If duplicates i.e ctrl+ctrl+a or alt+alt+b or b+alt+b it is invalid */
        if (keys.length !== new Set(keys).size) {
            throw new Error(`Can't parse keybinding ${keybinding} Duplicate modifiers`);
        }
        for (let keyString of keys) {
            if (SPECIAL_ALIASES[keyString] !== undefined) {
                keyString = SPECIAL_ALIASES[keyString];
            }
            const key = EASY_TO_KEY[keyString];
            /* meta only works on macOS */
            if (keyString === SpecialCases.META) {
                if (os_1.isOSX) {
                    schema.meta = true;
                }
                else {
                    throw new Error(`Can't parse keybinding ${keybinding} meta is for OSX only`);
                }
                /* ctrlcmd for M1 keybindings that work on both macOS and other platforms */
            }
            else if (keyString === SpecialCases.CTRLCMD) {
                if (os_1.isOSX) {
                    schema.meta = true;
                }
                else {
                    schema.ctrl = true;
                }
            }
            else if (Key.isKey(key)) {
                if (Key.isModifier(key.code)) {
                    if (key.code === Key.CONTROL_LEFT.code || key.code === Key.CONTROL_RIGHT.code) {
                        schema.ctrl = true;
                    }
                    else if (key.code === Key.SHIFT_LEFT.code || key.code === Key.SHIFT_RIGHT.code) {
                        schema.shift = true;
                    }
                    else if (key.code === Key.ALT_LEFT.code || key.code === Key.ALT_RIGHT.code) {
                        schema.alt = true;
                    }
                }
                else {
                    schema.key = key;
                }
            }
            else {
                throw new Error(`Unrecognized key '${keyString}' in '${keybinding}'`);
            }
        }
        KeyCode.keybindings[keybinding] = new KeyCode(schema);
        return KeyCode.keybindings[keybinding];
    }
}
exports.KeyCode = KeyCode;
KeyCode.keybindings = {};
(function (KeyCode) {
    /*
     * Return true if the string is a modifier M1 to M4.
     */
    function isModifierString(key) {
        return key === KeyModifier.CtrlCmd
            || key === KeyModifier.Shift
            || key === KeyModifier.Alt
            || key === KeyModifier.MacCtrl;
    }
    KeyCode.isModifierString = isModifierString;
    /**
     * Different scopes have different execution environments. This means that they have different built-ins
     * (different global object, different constructors, etc.). This may result in unexpected results. For instance,
     * `[] instanceof window.frames[0].Array` will return `false`, because `Array.prototype !== window.frames[0].Array`
     * and arrays inherit from the former.
     * See: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/instanceof
     *
     * Note: just add another check if the current `event.type` checking is insufficient.
     */
    function isKeyboardEvent(event) {
        if (typeof KeyboardEvent === 'undefined') { // This can happen in tests
            return false;
        }
        if (event instanceof KeyboardEvent) {
            return true;
        }
        const { type } = event;
        if (type) {
            return type === 'keypress' || type === 'keydown' || type === 'keyup';
        }
        return false;
    }
    KeyCode.isKeyboardEvent = isKeyboardEvent;
    /**
     * Determine the pressed key of a keyboard event. This key should correspond to the physical key according
     * to a standard US keyboard layout. International keyboard layouts are handled by `KeyboardLayoutService`.
     *
     * `keyIdentifier` is used to access this deprecated field:
     * https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/keyIdentifier
     */
    function toKey(event, dispatch = 'code') {
        const code = event.code;
        if (code && dispatch === 'code') {
            if (os_1.isOSX) {
                // https://github.com/eclipse-theia/theia/issues/4986
                const char = event.key;
                if (code === 'IntlBackslash' && (char === '`' || char === '~')) {
                    return Key.BACKQUOTE;
                }
                else if (code === 'Backquote' && (char === '' || char === '')) {
                    return Key.INTL_BACKSLASH;
                }
            }
            // https://github.com/eclipse-theia/theia/issues/7315
            if (code.startsWith('Numpad') && event.key && event.key.length > 1) {
                const k = Key.getKey(event.key);
                if (k) {
                    return k;
                }
            }
            const key = Key.getKey(code);
            if (key) {
                return key;
            }
        }
        // tslint:disable-next-line: deprecation
        const keyCode = event.keyCode;
        if (keyCode) {
            const key = Key.getKey(keyCode);
            if (key) {
                return key;
            }
        }
        const keyIdentifier = event.keyIdentifier;
        if (keyIdentifier) {
            const key = Key.getKey(keyIdentifier);
            if (key) {
                return key;
            }
        }
        throw new Error(`Cannot get key code from the keyboard event: ${event}.`);
    }
    KeyCode.toKey = toKey;
    /**
     * Determine the actual printable character that is generated from a pressed key.
     * If the key does not correspond to a printable character, `undefined` is returned.
     * The result may be altered by modifier keys.
     */
    function toCharacter(event) {
        const key = event.key;
        // Use the key property if it contains exactly one unicode character
        if (key && Array.from(key).length === 1) {
            return key;
        }
        const charCode = event.charCode;
        // Use the charCode property if it does not correspond to a unicode control character
        if (charCode && charCode > 0x1f && !(charCode >= 0x80 && charCode <= 0x9f)) {
            return String.fromCharCode(charCode);
        }
        return undefined;
    }
    KeyCode.toCharacter = toCharacter;
})(KeyCode = exports.KeyCode || (exports.KeyCode = {}));
var KeyModifier;
(function (KeyModifier) {
    /**
     * M1 is the COMMAND key on MacOS X, and the CTRL key on most other platforms.
     */
    KeyModifier["CtrlCmd"] = "M1";
    /**
     * M2 is the SHIFT key.
     */
    KeyModifier["Shift"] = "M2";
    /**
     * M3 is the Option key on MacOS X, and the ALT key on most other platforms.
     */
    KeyModifier["Alt"] = "M3";
    /**
     * M4 is the CTRL key on MacOS X, and is undefined on other platforms.
     */
    KeyModifier["MacCtrl"] = "M4";
})(KeyModifier = exports.KeyModifier || (exports.KeyModifier = {}));
(function (KeyModifier) {
    /**
     * The CTRL key, independently of the platform.
     * _Note:_ In general `KeyModifier.CtrlCmd` should be preferred over this constant.
     */
    KeyModifier.CTRL = os_1.isOSX ? KeyModifier.MacCtrl : KeyModifier.CtrlCmd;
    /**
     * An alias for the SHIFT key (`KeyModifier.Shift`).
     */
    KeyModifier.SHIFT = KeyModifier.Shift;
    /**
     * `true` if the argument represents a modifier. Otherwise, `false`.
     */
    function isModifier(key) {
        if (key) {
            switch (key) {
                case 'M1': // Fall through.
                case 'M2': // Fall through.
                case 'M3': // Fall through.
                case 'M4': return true;
                default: return false;
            }
        }
        return false;
    }
    KeyModifier.isModifier = isModifier;
})(KeyModifier = exports.KeyModifier || (exports.KeyModifier = {}));
const CODE_TO_KEY = {};
const KEY_CODE_TO_KEY = {};
const EASY_TO_KEY = {}; // From 'ctrl' to Key structure
const MODIFIERS = [];
const SPECIAL_ALIASES = {
    'option': 'alt',
    'command': 'meta',
    'cmd': 'meta',
    'return': 'enter',
    'esc': 'escape',
    'mod': 'ctrl',
    'ins': 'insert',
    'del': 'delete',
    'control': 'ctrl',
};
var SpecialCases;
(function (SpecialCases) {
    SpecialCases.META = 'meta';
    SpecialCases.CTRLCMD = 'ctrlcmd';
})(SpecialCases = exports.SpecialCases || (exports.SpecialCases = {}));
var Key;
(function (Key) {
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    function isKey(arg) {
        return typeof arg === 'object' && ('code' in arg) && ('keyCode' in arg);
    }
    Key.isKey = isKey;
    function getKey(arg) {
        if (typeof arg === 'number') {
            return KEY_CODE_TO_KEY[arg];
        }
        else {
            return CODE_TO_KEY[arg];
        }
    }
    Key.getKey = getKey;
    function isModifier(arg) {
        if (typeof arg === 'number') {
            return MODIFIERS.find(key => key.keyCode === arg) !== undefined;
        }
        return MODIFIERS.find(key => key.code === arg) !== undefined;
    }
    Key.isModifier = isModifier;
    function equals(key, keyCode) {
        return !!keyCode.key && key.keyCode === keyCode.key.keyCode;
    }
    Key.equals = equals;
    Key.BACKSPACE = { code: 'Backspace', keyCode: 8, easyString: 'backspace' };
    Key.TAB = { code: 'Tab', keyCode: 9, easyString: 'tab' };
    Key.ENTER = { code: 'Enter', keyCode: 13, easyString: 'enter' };
    Key.ESCAPE = { code: 'Escape', keyCode: 27, easyString: 'escape' };
    Key.SPACE = { code: 'Space', keyCode: 32, easyString: 'space' };
    Key.PAGE_UP = { code: 'PageUp', keyCode: 33, easyString: 'pageup' };
    Key.PAGE_DOWN = { code: 'PageDown', keyCode: 34, easyString: 'pagedown' };
    Key.END = { code: 'End', keyCode: 35, easyString: 'end' };
    Key.HOME = { code: 'Home', keyCode: 36, easyString: 'home' };
    Key.ARROW_LEFT = { code: 'ArrowLeft', keyCode: 37, easyString: 'left' };
    Key.ARROW_UP = { code: 'ArrowUp', keyCode: 38, easyString: 'up' };
    Key.ARROW_RIGHT = { code: 'ArrowRight', keyCode: 39, easyString: 'right' };
    Key.ARROW_DOWN = { code: 'ArrowDown', keyCode: 40, easyString: 'down' };
    Key.INSERT = { code: 'Insert', keyCode: 45, easyString: 'insert' };
    Key.DELETE = { code: 'Delete', keyCode: 46, easyString: 'delete' };
    Key.SHIFT_LEFT = { code: 'ShiftLeft', keyCode: 16, easyString: 'shift' };
    Key.SHIFT_RIGHT = { code: 'ShiftRight', keyCode: 16, easyString: 'shift' };
    Key.CONTROL_LEFT = { code: 'ControlLeft', keyCode: 17, easyString: 'ctrl' };
    Key.CONTROL_RIGHT = { code: 'ControlRight', keyCode: 17, easyString: 'ctrl' };
    Key.ALT_LEFT = { code: 'AltLeft', keyCode: 18, easyString: 'alt' };
    Key.ALT_RIGHT = { code: 'AltRight', keyCode: 18, easyString: 'alt' };
    Key.CAPS_LOCK = { code: 'CapsLock', keyCode: 20, easyString: 'capslock' };
    Key.OS_LEFT = { code: 'OSLeft', keyCode: 91, easyString: 'super' };
    Key.OS_RIGHT = { code: 'OSRight', keyCode: 92, easyString: 'super' };
    Key.DIGIT0 = { code: 'Digit0', keyCode: 48, easyString: '0' };
    Key.DIGIT1 = { code: 'Digit1', keyCode: 49, easyString: '1' };
    Key.DIGIT2 = { code: 'Digit2', keyCode: 50, easyString: '2' };
    Key.DIGIT3 = { code: 'Digit3', keyCode: 51, easyString: '3' };
    Key.DIGIT4 = { code: 'Digit4', keyCode: 52, easyString: '4' };
    Key.DIGIT5 = { code: 'Digit5', keyCode: 53, easyString: '5' };
    Key.DIGIT6 = { code: 'Digit6', keyCode: 54, easyString: '6' };
    Key.DIGIT7 = { code: 'Digit7', keyCode: 55, easyString: '7' };
    Key.DIGIT8 = { code: 'Digit8', keyCode: 56, easyString: '8' };
    Key.DIGIT9 = { code: 'Digit9', keyCode: 57, easyString: '9' };
    Key.KEY_A = { code: 'KeyA', keyCode: 65, easyString: 'a' };
    Key.KEY_B = { code: 'KeyB', keyCode: 66, easyString: 'b' };
    Key.KEY_C = { code: 'KeyC', keyCode: 67, easyString: 'c' };
    Key.KEY_D = { code: 'KeyD', keyCode: 68, easyString: 'd' };
    Key.KEY_E = { code: 'KeyE', keyCode: 69, easyString: 'e' };
    Key.KEY_F = { code: 'KeyF', keyCode: 70, easyString: 'f' };
    Key.KEY_G = { code: 'KeyG', keyCode: 71, easyString: 'g' };
    Key.KEY_H = { code: 'KeyH', keyCode: 72, easyString: 'h' };
    Key.KEY_I = { code: 'KeyI', keyCode: 73, easyString: 'i' };
    Key.KEY_J = { code: 'KeyJ', keyCode: 74, easyString: 'j' };
    Key.KEY_K = { code: 'KeyK', keyCode: 75, easyString: 'k' };
    Key.KEY_L = { code: 'KeyL', keyCode: 76, easyString: 'l' };
    Key.KEY_M = { code: 'KeyM', keyCode: 77, easyString: 'm' };
    Key.KEY_N = { code: 'KeyN', keyCode: 78, easyString: 'n' };
    Key.KEY_O = { code: 'KeyO', keyCode: 79, easyString: 'o' };
    Key.KEY_P = { code: 'KeyP', keyCode: 80, easyString: 'p' };
    Key.KEY_Q = { code: 'KeyQ', keyCode: 81, easyString: 'q' };
    Key.KEY_R = { code: 'KeyR', keyCode: 82, easyString: 'r' };
    Key.KEY_S = { code: 'KeyS', keyCode: 83, easyString: 's' };
    Key.KEY_T = { code: 'KeyT', keyCode: 84, easyString: 't' };
    Key.KEY_U = { code: 'KeyU', keyCode: 85, easyString: 'u' };
    Key.KEY_V = { code: 'KeyV', keyCode: 86, easyString: 'v' };
    Key.KEY_W = { code: 'KeyW', keyCode: 87, easyString: 'w' };
    Key.KEY_X = { code: 'KeyX', keyCode: 88, easyString: 'x' };
    Key.KEY_Y = { code: 'KeyY', keyCode: 89, easyString: 'y' };
    Key.KEY_Z = { code: 'KeyZ', keyCode: 90, easyString: 'z' };
    Key.MULTIPLY = { code: 'NumpadMultiply', keyCode: 106, easyString: 'multiply' };
    Key.ADD = { code: 'NumpadAdd', keyCode: 107, easyString: 'add' };
    Key.DECIMAL = { code: 'NumpadDecimal', keyCode: 108, easyString: 'decimal' };
    Key.SUBTRACT = { code: 'NumpadSubtract', keyCode: 109, easyString: 'subtract' };
    Key.DIVIDE = { code: 'NumpadDivide', keyCode: 111, easyString: 'divide' };
    Key.F1 = { code: 'F1', keyCode: 112, easyString: 'f1' };
    Key.F2 = { code: 'F2', keyCode: 113, easyString: 'f2' };
    Key.F3 = { code: 'F3', keyCode: 114, easyString: 'f3' };
    Key.F4 = { code: 'F4', keyCode: 115, easyString: 'f4' };
    Key.F5 = { code: 'F5', keyCode: 116, easyString: 'f5' };
    Key.F6 = { code: 'F6', keyCode: 117, easyString: 'f6' };
    Key.F7 = { code: 'F7', keyCode: 118, easyString: 'f7' };
    Key.F8 = { code: 'F8', keyCode: 119, easyString: 'f8' };
    Key.F9 = { code: 'F9', keyCode: 120, easyString: 'f9' };
    Key.F10 = { code: 'F10', keyCode: 121, easyString: 'f10' };
    Key.F11 = { code: 'F11', keyCode: 122, easyString: 'f11' };
    Key.F12 = { code: 'F12', keyCode: 123, easyString: 'f12' };
    Key.F13 = { code: 'F13', keyCode: 124, easyString: 'f13' };
    Key.F14 = { code: 'F14', keyCode: 125, easyString: 'f14' };
    Key.F15 = { code: 'F15', keyCode: 126, easyString: 'f15' };
    Key.F16 = { code: 'F16', keyCode: 127, easyString: 'f16' };
    Key.F17 = { code: 'F17', keyCode: 128, easyString: 'f17' };
    Key.F18 = { code: 'F18', keyCode: 129, easyString: 'f18' };
    Key.F19 = { code: 'F19', keyCode: 130, easyString: 'f19' };
    Key.F20 = { code: 'F20', keyCode: 131, easyString: 'f20' };
    Key.F21 = { code: 'F21', keyCode: 132, easyString: 'f21' };
    Key.F22 = { code: 'F22', keyCode: 133, easyString: 'f22' };
    Key.F23 = { code: 'F23', keyCode: 134, easyString: 'f23' };
    Key.F24 = { code: 'F24', keyCode: 135, easyString: 'f24' };
    Key.NUM_LOCK = { code: 'NumLock', keyCode: 144, easyString: 'numlock' };
    Key.SEMICOLON = { code: 'Semicolon', keyCode: 186, easyString: ';' };
    Key.EQUAL = { code: 'Equal', keyCode: 187, easyString: '=' };
    Key.COMMA = { code: 'Comma', keyCode: 188, easyString: ',' };
    Key.MINUS = { code: 'Minus', keyCode: 189, easyString: '-' };
    Key.PERIOD = { code: 'Period', keyCode: 190, easyString: '.' };
    Key.SLASH = { code: 'Slash', keyCode: 191, easyString: '/' };
    Key.BACKQUOTE = { code: 'Backquote', keyCode: 192, easyString: '`' };
    Key.INTL_RO = { code: 'IntlRo', keyCode: 193, easyString: 'intlro' };
    Key.BRACKET_LEFT = { code: 'BracketLeft', keyCode: 219, easyString: '[' };
    Key.BACKSLASH = { code: 'Backslash', keyCode: 220, easyString: '\\' };
    Key.BRACKET_RIGHT = { code: 'BracketRight', keyCode: 221, easyString: ']' };
    Key.QUOTE = { code: 'Quote', keyCode: 222, easyString: '\'' };
    Key.INTL_BACKSLASH = { code: 'IntlBackslash', keyCode: 229, easyString: 'intlbackslash' };
    Key.INTL_YEN = { code: 'IntlYen', keyCode: 255, easyString: 'intlyen' };
    Key.MAX_KEY_CODE = Key.INTL_YEN.keyCode;
})(Key = exports.Key || (exports.Key = {}));
/* -------------------- Initialize the static key mappings -------------------- */
(() => {
    // Set the default key mappings from the constants in the Key namespace
    Object.keys(Key).map(prop => Reflect.get(Key, prop)).filter(key => Key.isKey(key)).forEach(key => {
        CODE_TO_KEY[key.code] = key;
        KEY_CODE_TO_KEY[key.keyCode] = key;
        EASY_TO_KEY[key.easyString] = key;
    });
    // Set additional key mappings
    CODE_TO_KEY['Numpad0'] = Key.DIGIT0;
    KEY_CODE_TO_KEY[96] = Key.DIGIT0;
    CODE_TO_KEY['Numpad1'] = Key.DIGIT1;
    KEY_CODE_TO_KEY[97] = Key.DIGIT1;
    CODE_TO_KEY['Numpad2'] = Key.DIGIT2;
    KEY_CODE_TO_KEY[98] = Key.DIGIT2;
    CODE_TO_KEY['Numpad3'] = Key.DIGIT3;
    KEY_CODE_TO_KEY[99] = Key.DIGIT3;
    CODE_TO_KEY['Numpad4'] = Key.DIGIT4;
    KEY_CODE_TO_KEY[100] = Key.DIGIT4;
    CODE_TO_KEY['Numpad5'] = Key.DIGIT5;
    KEY_CODE_TO_KEY[101] = Key.DIGIT5;
    CODE_TO_KEY['Numpad6'] = Key.DIGIT6;
    KEY_CODE_TO_KEY[102] = Key.DIGIT6;
    CODE_TO_KEY['Numpad7'] = Key.DIGIT7;
    KEY_CODE_TO_KEY[103] = Key.DIGIT7;
    CODE_TO_KEY['Numpad8'] = Key.DIGIT8;
    KEY_CODE_TO_KEY[104] = Key.DIGIT8;
    CODE_TO_KEY['Numpad9'] = Key.DIGIT9;
    KEY_CODE_TO_KEY[105] = Key.DIGIT9;
    CODE_TO_KEY['NumpadEnter'] = Key.ENTER;
    CODE_TO_KEY['NumpadEqual'] = Key.EQUAL;
    CODE_TO_KEY['MetaLeft'] = Key.OS_LEFT; // Chrome, Safari
    KEY_CODE_TO_KEY[224] = Key.OS_LEFT; // Firefox on Mac
    CODE_TO_KEY['MetaRight'] = Key.OS_RIGHT; // Chrome, Safari
    KEY_CODE_TO_KEY[93] = Key.OS_RIGHT; // Chrome, Safari, Edge
    KEY_CODE_TO_KEY[225] = Key.ALT_RIGHT; // Linux
    KEY_CODE_TO_KEY[110] = Key.DECIMAL; // Mac, Windows
    KEY_CODE_TO_KEY[59] = Key.SEMICOLON; // Firefox
    KEY_CODE_TO_KEY[61] = Key.EQUAL; // Firefox
    KEY_CODE_TO_KEY[173] = Key.MINUS; // Firefox
    KEY_CODE_TO_KEY[226] = Key.BACKSLASH; // Chrome, Edge on Windows
    KEY_CODE_TO_KEY[60] = Key.BACKSLASH; // Firefox on Linux
    // Set the modifier keys
    MODIFIERS.push(...[Key.ALT_LEFT, Key.ALT_RIGHT, Key.CONTROL_LEFT, Key.CONTROL_RIGHT, Key.OS_LEFT, Key.OS_RIGHT, Key.SHIFT_LEFT, Key.SHIFT_RIGHT]);
})();
var KeysOrKeyCodes;
(function (KeysOrKeyCodes) {
    KeysOrKeyCodes.toKeyCode = (keyOrKeyCode) => keyOrKeyCode instanceof KeyCode ? keyOrKeyCode : KeyCode.createKeyCode({ first: keyOrKeyCode });
    KeysOrKeyCodes.toKeyCodes = (keysOrKeyCodes) => {
        if (keysOrKeyCodes instanceof KeyCode) {
            return [keysOrKeyCodes];
        }
        else if (Array.isArray(keysOrKeyCodes)) {
            return keysOrKeyCodes.slice().map(KeysOrKeyCodes.toKeyCode);
        }
        return [KeysOrKeyCodes.toKeyCode(keysOrKeyCodes)];
    };
})(KeysOrKeyCodes = exports.KeysOrKeyCodes || (exports.KeysOrKeyCodes = {}));


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/keys.js":
/*!***************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/keys.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2019 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.KeysOrKeyCodes = exports.SpecialCases = exports.Key = exports.KeyModifier = exports.KeyCode = exports.KeySequence = void 0;
// Reexporting here for backwards compatibility.
// Please import from '@theia/core/lib/browser' or '@theia/core/lib/browser/keyboard' instead of this module.
// This module might be removed in future releases.
const keys_1 = __webpack_require__(/*! ./keyboard/keys */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/keyboard/keys.js");
Object.defineProperty(exports, "KeySequence", ({ enumerable: true, get: function () { return keys_1.KeySequence; } }));
Object.defineProperty(exports, "KeyCode", ({ enumerable: true, get: function () { return keys_1.KeyCode; } }));
Object.defineProperty(exports, "KeyModifier", ({ enumerable: true, get: function () { return keys_1.KeyModifier; } }));
Object.defineProperty(exports, "Key", ({ enumerable: true, get: function () { return keys_1.Key; } }));
Object.defineProperty(exports, "SpecialCases", ({ enumerable: true, get: function () { return keys_1.SpecialCases; } }));
Object.defineProperty(exports, "KeysOrKeyCodes", ({ enumerable: true, get: function () { return keys_1.KeysOrKeyCodes; } }));


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/label-parser.js":
/*!***********************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/label-parser.js ***!
  \***********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.LabelParser = exports.LabelIcon = void 0;
/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
var LabelIcon;
(function (LabelIcon) {
    function is(val) {
        return 'name' in val;
    }
    LabelIcon.is = is;
})(LabelIcon = exports.LabelIcon || (exports.LabelIcon = {}));
let LabelParser = class LabelParser {
    /**
     * Returns an array with parts of the given text.
     * These parts are of type LabelPart which can be either a string or a LabelIcon.
     * For splitting up the giving text the parser follows this rule:
     * The text gets parsed for the following pattern: $(iconName~iconAnimation).
     * If the parser finds such pattern a new LabelIcon object
     * { name: 'iconName', animation: 'iconAnimation'} is added to the returned array.
     * iconName can be for instance the name of an icon of e.g. FontAwesome and the (optional) iconAnimation
     * the name of an animation class which must be supported by the particular icon toolkit.
     *
     * Every string before, between or after such icon patterns gets also added to the array
     * before, between or after the related LabelIcon.
     *
     * @param text - the label text to parse
     */
    parse(text) {
        const parserArray = [];
        let arrPointer = 0;
        let potentialIcon = '';
        for (let idx = 0; idx < text.length; idx++) {
            const char = text.charAt(idx);
            parserArray[arrPointer] = parserArray[arrPointer] || '';
            if (potentialIcon === '') {
                if (char === '$') {
                    potentialIcon += char;
                }
                else {
                    parserArray[arrPointer] += char;
                }
            }
            else if (potentialIcon === '$') {
                if (char === '(') {
                    potentialIcon += char;
                }
                else {
                    parserArray[arrPointer] += potentialIcon + char;
                    potentialIcon = '';
                }
            }
            else {
                if (char === ')') {
                    const iconClassArr = potentialIcon.substring(2, potentialIcon.length).split('~');
                    if (parserArray[arrPointer] !== '') {
                        arrPointer++;
                    }
                    parserArray[arrPointer] = { name: iconClassArr[0], animation: iconClassArr[1] };
                    arrPointer++;
                    potentialIcon = '';
                }
                else {
                    potentialIcon += char;
                }
            }
        }
        if (potentialIcon !== '') {
            parserArray[arrPointer] += potentialIcon;
        }
        return parserArray;
    }
};
LabelParser = __decorate([
    inversify_1.injectable()
], LabelParser);
exports.LabelParser = LabelParser;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/label-provider.js":
/*!*************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/label-provider.js ***!
  \*************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.LabelProvider = exports.DefaultUriLabelProviderContribution = exports.URIIconReference = exports.LabelProviderContribution = exports.FILE_ICON = exports.FOLDER_ICON = void 0;
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const fileIcons = __webpack_require__(/*! file-icons-js */ "../node_modules/file-icons-js/index.js");
const uri_1 = __webpack_require__(/*! ../common/uri */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/uri.js");
const contribution_provider_1 = __webpack_require__(/*! ../common/contribution-provider */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/contribution-provider.js");
const types_1 = __webpack_require__(/*! ../common/types */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/types.js");
const common_1 = __webpack_require__(/*! ../common */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/index.js");
const env_variables_protocol_1 = __webpack_require__(/*! ../common/env-variables/env-variables-protocol */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/env-variables/env-variables-protocol.js");
const widgets_1 = __webpack_require__(/*! ./widgets */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/widgets/index.js");
/**
 * @internal don't export it, use `LabelProvider.folderIcon` instead.
 */
const DEFAULT_FOLDER_ICON = `${widgets_1.codicon('folder')} default-folder-icon`;
/**
 * @internal don't export it, use `LabelProvider.fileIcon` instead.
 */
const DEFAULT_FILE_ICON = `${widgets_1.codicon('file')} default-file-icon`;
/**
 * Internal folder icon class for the default (File Icons) theme.
 *
 * @deprecated Use `LabelProvider.folderIcon` to get a folder icon class for the current icon theme.
 */
exports.FOLDER_ICON = DEFAULT_FOLDER_ICON;
/**
 * Internal file icon class for the default (File Icons) theme.
 *
 * @deprecated Use `LabelProvider.fileIcon` to get a file icon class for the current icon theme.
 */
exports.FILE_ICON = DEFAULT_FILE_ICON;
exports.LabelProviderContribution = Symbol('LabelProviderContribution');
var URIIconReference;
(function (URIIconReference) {
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    function is(element) {
        return !!element && typeof element === 'object' && 'kind' in element && element['kind'] === 'uriIconReference';
    }
    URIIconReference.is = is;
    function create(id, uri) {
        return { kind: 'uriIconReference', id, uri };
    }
    URIIconReference.create = create;
})(URIIconReference = exports.URIIconReference || (exports.URIIconReference = {}));
let DefaultUriLabelProviderContribution = class DefaultUriLabelProviderContribution {
    constructor() {
        this.formatters = [];
        this.onDidChangeEmitter = new common_1.Emitter();
        // copied and modified from https://github.com/microsoft/vscode/blob/1.44.2/src/vs/workbench/services/label/common/labelService.ts
        /*---------------------------------------------------------------------------------------------
        *  Copyright (c) Microsoft Corporation. All rights reserved.
        *  Licensed under the MIT License. See License.txt in the project root for license information.
        *--------------------------------------------------------------------------------------------*/
        this.labelMatchingRegexp = /\${(scheme|authority|path|query)}/g;
    }
    init() {
        this.envVariablesServer.getHomeDirUri().then(result => {
            this.homePath = result;
            this.fireOnDidChange();
        });
    }
    canHandle(element) {
        if (element instanceof uri_1.default || URIIconReference.is(element)) {
            return 1;
        }
        return 0;
    }
    getIcon(element) {
        if (URIIconReference.is(element) && element.id === 'folder') {
            return this.defaultFolderIcon;
        }
        const uri = URIIconReference.is(element) ? element.uri : element;
        if (uri) {
            const iconClass = uri && this.getFileIcon(uri);
            return iconClass || this.defaultFileIcon;
        }
        return '';
    }
    get defaultFolderIcon() {
        return DEFAULT_FOLDER_ICON;
    }
    get defaultFileIcon() {
        return DEFAULT_FILE_ICON;
    }
    getFileIcon(uri) {
        const fileIcon = fileIcons.getClassWithColor(uri.displayName);
        if (!fileIcon) {
            return undefined;
        }
        return fileIcon + ' theia-file-icons-js';
    }
    getName(element) {
        const uri = this.getUri(element);
        return uri && uri.displayName;
    }
    getLongName(element) {
        const uri = this.getUri(element);
        if (uri) {
            const formatting = this.findFormatting(uri);
            if (formatting) {
                return this.formatUri(uri, formatting);
            }
        }
        return uri && uri.path.toString();
    }
    getUri(element) {
        return URIIconReference.is(element) ? element.uri : element;
    }
    registerFormatter(formatter) {
        this.formatters.push(formatter);
        this.fireOnDidChange();
        return common_1.Disposable.create(() => {
            this.formatters = this.formatters.filter(f => f !== formatter);
            this.fireOnDidChange();
        });
    }
    get onDidChange() {
        return this.onDidChangeEmitter.event;
    }
    fireOnDidChange() {
        this.onDidChangeEmitter.fire({
            affects: (element) => this.canHandle(element) > 0
        });
    }
    formatUri(resource, formatting) {
        let label = formatting.label.replace(this.labelMatchingRegexp, (match, token) => {
            switch (token) {
                case 'scheme': return resource.scheme;
                case 'authority': return resource.authority;
                case 'path': return resource.path.toString();
                case 'query': return resource.query;
                default: return '';
            }
        });
        // convert \c:\something => C:\something
        if (formatting.normalizeDriveLetter && this.hasDriveLetter(label)) {
            label = label.charAt(1).toUpperCase() + label.substr(2);
        }
        if (formatting.tildify) {
            label = common_1.Path.tildify(label, this.homePath ? this.homePath : '');
        }
        if (formatting.authorityPrefix && resource.authority) {
            label = formatting.authorityPrefix + label;
        }
        return label.replace(/\//g, formatting.separator);
    }
    hasDriveLetter(path) {
        return !!(path && path[2] === ':');
    }
    findFormatting(resource) {
        let bestResult;
        this.formatters.forEach(formatter => {
            if (formatter.scheme === resource.scheme) {
                if (!bestResult && !formatter.authority) {
                    bestResult = formatter;
                    return;
                }
                if (!formatter.authority) {
                    return;
                }
                if ((formatter.authority.toLowerCase() === resource.authority.toLowerCase()) &&
                    (!bestResult || !bestResult.authority || formatter.authority.length > bestResult.authority.length ||
                        ((formatter.authority.length === bestResult.authority.length) && formatter.priority))) {
                    bestResult = formatter;
                }
            }
        });
        return bestResult ? bestResult.formatting : undefined;
    }
};
__decorate([
    inversify_1.inject(env_variables_protocol_1.EnvVariablesServer),
    __metadata("design:type", Object)
], DefaultUriLabelProviderContribution.prototype, "envVariablesServer", void 0);
__decorate([
    inversify_1.postConstruct(),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", []),
    __metadata("design:returntype", void 0)
], DefaultUriLabelProviderContribution.prototype, "init", null);
DefaultUriLabelProviderContribution = __decorate([
    inversify_1.injectable()
], DefaultUriLabelProviderContribution);
exports.DefaultUriLabelProviderContribution = DefaultUriLabelProviderContribution;
/**
 * The {@link LabelProvider} determines how elements/nodes are displayed in the workbench. For any element, it can determine a short label, a long label
 * and an icon. The {@link LabelProvider} is to be used in lists, trees and tables, but also view specific locations like headers.
 * The common {@link LabelProvider} can be extended/adapted via {@link LabelProviderContribution}s. For every element, the {@links LabelProvider} will determine the
 * {@link LabelProviderContribution} with the hightest priority and delegate to it. Theia registers default {@link LabelProviderContribution} for common types, e.g.
 * the {@link DefaultUriLabelProviderContribution} for elements that have a URI.
 * Using the {@link LabelProvider} across the workbench ensures a common look and feel for elements across multiple views. To adapt the way how specific
 * elements/nodes are rendered, use a {@link LabelProviderContribution} rather than adapting or sub classing the {@link LabelProvider}. This way, your adaptation
 * is applied to all views in Theia that use the {@link LabelProvider}
 */
let LabelProvider = class LabelProvider {
    constructor() {
        this.onDidChangeEmitter = new common_1.Emitter();
    }
    /**
     * Start listening to contributions.
     *
     * Don't call this method directly!
     * It's called by the frontend application during initialization.
     */
    initialize() {
        const contributions = this.contributionProvider.getContributions();
        for (const eventContribution of contributions) {
            if (eventContribution.onDidChange) {
                eventContribution.onDidChange(event => {
                    this.onDidChangeEmitter.fire({
                        // TODO check eventContribution.canHandle as well
                        affects: element => this.affects(element, event)
                    });
                });
            }
        }
    }
    affects(element, event) {
        if (event.affects(element)) {
            return true;
        }
        for (const contribution of this.findContribution(element)) {
            if (contribution.affects && contribution.affects(element, event)) {
                return true;
            }
        }
        return false;
    }
    get onDidChange() {
        return this.onDidChangeEmitter.event;
    }
    /**
     * Return a default file icon for the current icon theme.
     */
    get fileIcon() {
        return this.getIcon(URIIconReference.create('file'));
    }
    /**
     * Return a default folder icon for the current icon theme.
     */
    get folderIcon() {
        return this.getIcon(URIIconReference.create('folder'));
    }
    /**
     * Get the icon class from the list of available {@link LabelProviderContribution} for the given element.
     * @return the icon class
     */
    getIcon(element) {
        const contributions = this.findContribution(element);
        for (const contribution of contributions) {
            const value = contribution.getIcon && contribution.getIcon(element);
            if (value === undefined) {
                continue;
            }
            return value;
        }
        return '';
    }
    /**
     * Get a short name from the list of available {@link LabelProviderContribution} for the given element.
     * @return the short name
     */
    getName(element) {
        const contributions = this.findContribution(element);
        for (const contribution of contributions) {
            const value = contribution.getName && contribution.getName(element);
            if (value === undefined) {
                continue;
            }
            return value;
        }
        return '<unknown>';
    }
    /**
     * Get a long name from the list of available {@link LabelProviderContribution} for the given element.
     * @return the long name
     */
    getLongName(element) {
        const contributions = this.findContribution(element);
        for (const contribution of contributions) {
            const value = contribution.getLongName && contribution.getLongName(element);
            if (value === undefined) {
                continue;
            }
            return value;
        }
        return '';
    }
    findContribution(element) {
        const prioritized = types_1.Prioritizeable.prioritizeAllSync(this.contributionProvider.getContributions(), contrib => contrib.canHandle(element));
        return prioritized.map(c => c.value);
    }
};
__decorate([
    inversify_1.inject(contribution_provider_1.ContributionProvider),
    inversify_1.named(exports.LabelProviderContribution),
    __metadata("design:type", Object)
], LabelProvider.prototype, "contributionProvider", void 0);
LabelProvider = __decorate([
    inversify_1.injectable()
], LabelProvider);
exports.LabelProvider = LabelProvider;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/language-service.js":
/*!***************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/language-service.js ***!
  \***************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2020 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.LanguageService = void 0;
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
let LanguageService = class LanguageService {
    /**
     * It should be implemented by an extension, e.g. by the monaco extension.
     */
    get languages() {
        return [];
    }
    /**
     * It should be implemented by an extension, e.g. by the monaco extension.
     */
    getLanguage(languageId) {
        return undefined;
    }
};
LanguageService = __decorate([
    inversify_1.injectable()
], LanguageService);
exports.LanguageService = LanguageService;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/messaging/index.js":
/*!**************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/messaging/index.js ***!
  \**************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
__exportStar(__webpack_require__(/*! ./ws-connection-provider */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/messaging/ws-connection-provider.js"), exports);


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/messaging/ws-connection-provider.js":
/*!*******************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/messaging/ws-connection-provider.js ***!
  \*******************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var WebSocketConnectionProvider_1;
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.WebSocketConnectionProvider = exports.DEFAULT_HTTP_FALLBACK_OPTIONS = exports.HttpFallbackOptions = void 0;
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const common_1 = __webpack_require__(/*! ../../common */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/index.js");
const web_socket_channel_1 = __webpack_require__(/*! ../../common/messaging/web-socket-channel */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/messaging/web-socket-channel.js");
const endpoint_1 = __webpack_require__(/*! ../endpoint */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/endpoint.js");
const reconnecting_websocket_1 = __webpack_require__(/*! reconnecting-websocket */ "../node_modules/reconnecting-websocket/dist/reconnecting-websocket-mjs.js");
const abstract_connection_provider_1 = __webpack_require__(/*! ../../common/messaging/abstract-connection-provider */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/messaging/abstract-connection-provider.js");
const uuid_1 = __webpack_require__(/*! uuid */ "../node_modules/uuid/dist/esm-browser/index.js");
inversify_1.decorate(inversify_1.injectable(), common_1.JsonRpcProxyFactory);
inversify_1.decorate(inversify_1.unmanaged(), common_1.JsonRpcProxyFactory, 0);
exports.HttpFallbackOptions = Symbol('HttpFallbackOptions');
exports.DEFAULT_HTTP_FALLBACK_OPTIONS = {
    allowed: true,
    maxAttempts: 2,
    errorTimeout: 5000,
    pollingTimeout: 5000,
    requestTimeout: 0
};
let WebSocketConnectionProvider = WebSocketConnectionProvider_1 = class WebSocketConnectionProvider extends abstract_connection_provider_1.AbstractConnectionProvider {
    constructor() {
        super();
        this.onSocketDidOpenEmitter = new common_1.Emitter();
        this.onSocketDidOpen = this.onSocketDidOpenEmitter.event;
        this.onSocketDidCloseEmitter = new common_1.Emitter();
        this.onSocketDidClose = this.onSocketDidCloseEmitter.event;
        this.onHttpFallbackDidActivateEmitter = new common_1.Emitter();
        this.onHttpFallbackDidActivate = this.onHttpFallbackDidActivateEmitter.event;
        this.useHttpFallback = false;
        this.websocketErrorCounter = 0;
        this.httpFallbackId = uuid_1.v4();
        this.httpFallbackDisconnected = true;
        const url = this.createWebSocketUrl(web_socket_channel_1.WebSocketChannel.wsPath);
        const socket = this.createWebSocket(url);
        socket.onerror = event => this.handleSocketError(event);
        socket.onopen = () => {
            this.fireSocketDidOpen();
        };
        socket.onclose = ({ code, reason }) => {
            for (const channel of [...this.channels.values()]) {
                channel.close(code, reason);
            }
            this.fireSocketDidClose();
        };
        socket.onmessage = ({ data }) => {
            this.websocketErrorCounter = 0;
            this.handleIncomingRawMessage(data);
        };
        this.socket = socket;
        window.addEventListener('offline', () => this.tryReconnect());
        window.addEventListener('online', () => this.tryReconnect());
    }
    static createProxy(container, path, arg) {
        return container.get(WebSocketConnectionProvider_1).createProxy(path, arg);
    }
    handleSocketError(event) {
        var _a, _b;
        this.websocketErrorCounter += 1;
        if (((_a = this.httpFallbackOptions) === null || _a === void 0 ? void 0 : _a.allowed) && this.websocketErrorCounter >= ((_b = this.httpFallbackOptions) === null || _b === void 0 ? void 0 : _b.maxAttempts)) {
            this.useHttpFallback = true;
            this.socket.close();
            const httpUrl = this.createHttpWebSocketUrl(web_socket_channel_1.WebSocketChannel.wsPath);
            this.onHttpFallbackDidActivateEmitter.fire(undefined);
            this.doLongPolling(httpUrl);
            this.messageService().warn('Could not establish a websocket connection. The application will be using the HTTP fallback mode. This may affect performance and the behavior of some features.');
        }
        console.error(event);
    }
    async doLongPolling(url) {
        var _a, _b, _c;
        let timeoutDuration = ((_a = this.httpFallbackOptions) === null || _a === void 0 ? void 0 : _a.requestTimeout) || 0;
        const controller = new AbortController();
        const pollingId = window.setTimeout(() => controller.abort(), (_b = this.httpFallbackOptions) === null || _b === void 0 ? void 0 : _b.pollingTimeout);
        try {
            const response = await fetch(url, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                signal: controller.signal,
                keepalive: true,
                body: JSON.stringify({ id: this.httpFallbackId, polling: true })
            });
            if (response.status === 200) {
                window.clearTimeout(pollingId);
                if (this.httpFallbackDisconnected) {
                    this.fireSocketDidOpen();
                }
                const json = await response.json();
                if (Array.isArray(json)) {
                    for (const item of json) {
                        this.handleIncomingRawMessage(item);
                    }
                }
                else {
                    throw new Error('Received invalid long polling response.');
                }
            }
            else {
                timeoutDuration = ((_c = this.httpFallbackOptions) === null || _c === void 0 ? void 0 : _c.errorTimeout) || 0;
                this.httpFallbackDisconnected = true;
                this.fireSocketDidClose();
                throw new Error('Response has error code: ' + response.status);
            }
        }
        catch (e) {
            console.error('Error occurred during long polling', e);
        }
        setTimeout(() => this.doLongPolling(url), timeoutDuration);
    }
    openChannel(path, handler, options) {
        if (this.useHttpFallback || this.socket.readyState === WebSocket.OPEN) {
            super.openChannel(path, handler, options);
        }
        else {
            const openChannel = () => {
                this.socket.removeEventListener('open', openChannel);
                this.openChannel(path, handler, options);
            };
            this.socket.addEventListener('open', openChannel);
            this.onHttpFallbackDidActivate(openChannel);
        }
    }
    createChannel(id) {
        const httpUrl = this.createHttpWebSocketUrl(web_socket_channel_1.WebSocketChannel.wsPath);
        return new web_socket_channel_1.WebSocketChannel(id, content => {
            if (this.useHttpFallback) {
                fetch(httpUrl, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ id: this.httpFallbackId, content })
                });
            }
            else if (this.socket.readyState < WebSocket.CLOSING) {
                this.socket.send(content);
            }
        });
    }
    /**
     * Creates a websocket URL to the current location
     */
    createWebSocketUrl(path) {
        const endpoint = new endpoint_1.Endpoint({ path });
        return endpoint.getWebSocketUrl().toString();
    }
    createHttpWebSocketUrl(path) {
        const endpoint = new endpoint_1.Endpoint({ path });
        return endpoint.getRestUrl().toString();
    }
    /**
     * Creates a web socket for the given url
     */
    createWebSocket(url) {
        return new reconnecting_websocket_1.default(url, undefined, {
            maxReconnectionDelay: 10000,
            minReconnectionDelay: 1000,
            reconnectionDelayGrowFactor: 1.3,
            connectionTimeout: 10000,
            maxRetries: Infinity,
            debug: false
        });
    }
    fireSocketDidOpen() {
        this.onSocketDidOpenEmitter.fire(undefined);
    }
    fireSocketDidClose() {
        this.onSocketDidCloseEmitter.fire(undefined);
    }
    tryReconnect() {
        if (!this.useHttpFallback && this.socket.readyState !== WebSocket.CONNECTING) {
            this.socket.reconnect();
        }
    }
};
__decorate([
    inversify_1.inject(common_1.MessageServiceFactory),
    __metadata("design:type", Function)
], WebSocketConnectionProvider.prototype, "messageService", void 0);
__decorate([
    inversify_1.inject(exports.HttpFallbackOptions),
    inversify_1.optional(),
    __metadata("design:type", Object)
], WebSocketConnectionProvider.prototype, "httpFallbackOptions", void 0);
WebSocketConnectionProvider = WebSocketConnectionProvider_1 = __decorate([
    inversify_1.injectable(),
    __metadata("design:paramtypes", [])
], WebSocketConnectionProvider);
exports.WebSocketConnectionProvider = WebSocketConnectionProvider;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/navigatable-types.js":
/*!****************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/navigatable-types.js ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2021 Ericsson and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.NavigatableWidgetOptions = exports.NavigatableWidget = exports.Navigatable = void 0;
const widgets_1 = __webpack_require__(/*! ./widgets */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/widgets/index.js");
var Navigatable;
(function (Navigatable) {
    function is(arg) {
        return !!arg && 'getResourceUri' in arg && 'createMoveToUri' in arg;
    }
    Navigatable.is = is;
})(Navigatable = exports.Navigatable || (exports.Navigatable = {}));
var NavigatableWidget;
(function (NavigatableWidget) {
    function is(arg) {
        return arg instanceof widgets_1.BaseWidget && Navigatable.is(arg);
    }
    NavigatableWidget.is = is;
    function* getAffected(widgets, context) {
        const uris = Array.isArray(context) ? context : [context];
        return get(widgets, resourceUri => uris.some(uri => uri.isEqualOrParent(resourceUri)));
    }
    NavigatableWidget.getAffected = getAffected;
    function* get(widgets, filter = () => true) {
        for (const widget of widgets) {
            if (NavigatableWidget.is(widget)) {
                const resourceUri = widget.getResourceUri();
                if (resourceUri && filter(resourceUri)) {
                    yield [resourceUri, widget];
                }
            }
        }
    }
    NavigatableWidget.get = get;
})(NavigatableWidget = exports.NavigatableWidget || (exports.NavigatableWidget = {}));
var NavigatableWidgetOptions;
(function (NavigatableWidgetOptions) {
    function is(arg) {
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        return !!arg && 'kind' in arg && arg.kind === 'navigatable';
    }
    NavigatableWidgetOptions.is = is;
})(NavigatableWidgetOptions = exports.NavigatableWidgetOptions || (exports.NavigatableWidgetOptions = {}));


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/navigatable.js":
/*!**********************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/navigatable.js ***!
  \**********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 Red Hat, Inc. and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.NavigatableWidgetOpenHandler = void 0;
const widget_open_handler_1 = __webpack_require__(/*! ./widget-open-handler */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/widget-open-handler.js");
__exportStar(__webpack_require__(/*! ./navigatable-types */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/navigatable-types.js"), exports);
class NavigatableWidgetOpenHandler extends widget_open_handler_1.WidgetOpenHandler {
    createWidgetOptions(uri, options) {
        return {
            kind: 'navigatable',
            uri: this.serializeUri(uri)
        };
    }
    serializeUri(uri) {
        if (uri.scheme === 'file') {
            return uri.withoutFragment().normalizePath().toString();
        }
        else {
            return uri.withoutFragment().toString();
        }
    }
}
exports.NavigatableWidgetOpenHandler = NavigatableWidgetOpenHandler;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/nls.js":
/*!**************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/nls.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2021 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.loadTranslations = exports.nls = void 0;
const endpoint_1 = __webpack_require__(/*! ./endpoint */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/endpoint.js");
let localization;
function format(message, args) {
    let result = message;
    if (args.length > 0) {
        result = message.replace(/\{(\d+)\}/g, (match, rest) => {
            const index = rest[0];
            const arg = args[index];
            let replacement = match;
            if (typeof arg === 'string') {
                replacement = arg;
            }
            else if (typeof arg === 'number' || typeof arg === 'boolean' || !arg) {
                replacement = String(arg);
            }
            return replacement;
        });
    }
    return result;
}
var nls;
(function (nls) {
    nls.localeId = 'localeId';
    nls.locale = typeof window === 'object' && window && window.localStorage.getItem('localeId') || undefined;
    function localize(key, defaultValue, ...args) {
        let value = defaultValue;
        if (localization) {
            const translation = localization.translations[key];
            if (translation) {
                // vscode's localizations often contain additional '&&' symbols, which we simply ignore
                value = translation.replace(/&&/g, '');
            }
        }
        return format(value, args);
    }
    nls.localize = localize;
})(nls = exports.nls || (exports.nls = {}));
async function loadTranslations() {
    if (nls.locale) {
        const endpoint = new endpoint_1.Endpoint({ path: '/i18n/' + nls.locale }).getRestUrl().toString();
        const response = await fetch(endpoint);
        localization = await response.json();
    }
}
exports.loadTranslations = loadTranslations;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/opener-service.js":
/*!*************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/opener-service.js ***!
  \*************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.DefaultOpenerService = exports.open = exports.OpenerService = exports.OpenHandler = void 0;
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const common_1 = __webpack_require__(/*! ../common */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/index.js");
exports.OpenHandler = Symbol('OpenHandler');
exports.OpenerService = Symbol('OpenerService');
async function open(openerService, uri, options) {
    const opener = await openerService.getOpener(uri, options);
    return opener.open(uri, options);
}
exports.open = open;
let DefaultOpenerService = class DefaultOpenerService {
    constructor(handlersProvider) {
        this.handlersProvider = handlersProvider;
        // Collection of open-handlers for custom-editor contributions.
        this.customEditorOpenHandlers = [];
        this.onDidChangeOpenersEmitter = new common_1.Emitter();
        this.onDidChangeOpeners = this.onDidChangeOpenersEmitter.event;
    }
    addHandler(openHandler) {
        this.customEditorOpenHandlers.push(openHandler);
        this.onDidChangeOpenersEmitter.fire();
        return common_1.Disposable.create(() => {
            this.customEditorOpenHandlers.splice(this.customEditorOpenHandlers.indexOf(openHandler), 1);
            this.onDidChangeOpenersEmitter.fire();
        });
    }
    async getOpener(uri, options) {
        const handlers = await this.prioritize(uri, options);
        if (handlers.length >= 1) {
            return handlers[0];
        }
        return Promise.reject(new Error(`There is no opener for ${uri}.`));
    }
    async getOpeners(uri, options) {
        return uri ? this.prioritize(uri, options) : this.getHandlers();
    }
    async prioritize(uri, options) {
        const prioritized = await common_1.Prioritizeable.prioritizeAll(this.getHandlers(), async (handler) => {
            try {
                return await handler.canHandle(uri, options);
            }
            catch (_a) {
                return 0;
            }
        });
        return prioritized.map(p => p.value);
    }
    getHandlers() {
        return [
            ...this.handlersProvider.getContributions(),
            ...this.customEditorOpenHandlers
        ];
    }
};
DefaultOpenerService = __decorate([
    inversify_1.injectable(),
    __param(0, inversify_1.inject(common_1.ContributionProvider)), __param(0, inversify_1.named(exports.OpenHandler)),
    __metadata("design:paramtypes", [Object])
], DefaultOpenerService);
exports.DefaultOpenerService = DefaultOpenerService;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/preferences/index.js":
/*!****************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/preferences/index.js ***!
  \****************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
__exportStar(__webpack_require__(/*! ./preference-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/preferences/preference-service.js"), exports);
__exportStar(__webpack_require__(/*! ./preference-proxy */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/preferences/preference-proxy.js"), exports);
__exportStar(__webpack_require__(/*! ./preference-contribution */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/preferences/preference-contribution.js"), exports);
__exportStar(__webpack_require__(/*! ./preference-provider */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/preferences/preference-provider.js"), exports);
__exportStar(__webpack_require__(/*! ./preference-scope */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/preferences/preference-scope.js"), exports);
__exportStar(__webpack_require__(/*! ./preference-language-override-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/preferences/preference-language-override-service.js"), exports);


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/preferences/preference-configurations.js":
/*!************************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/preferences/preference-configurations.js ***!
  \************************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2019 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.PreferenceConfigurations = exports.bindPreferenceConfigurations = exports.PreferenceConfiguration = void 0;
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const contribution_provider_1 = __webpack_require__(/*! ../../common/contribution-provider */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/contribution-provider.js");
exports.PreferenceConfiguration = Symbol('PreferenceConfiguration');
function bindPreferenceConfigurations(bind) {
    contribution_provider_1.bindContributionProvider(bind, exports.PreferenceConfiguration);
    bind(PreferenceConfigurations).toSelf().inSingletonScope();
}
exports.bindPreferenceConfigurations = bindPreferenceConfigurations;
let PreferenceConfigurations = class PreferenceConfigurations {
    /* prefer Theia over VS Code by default */
    getPaths() {
        return ['.theia', '.vscode'];
    }
    getConfigName() {
        return 'settings';
    }
    getSectionNames() {
        if (!this.sectionNames) {
            this.sectionNames = this.provider.getContributions().map(p => p.name);
        }
        return this.sectionNames;
    }
    isSectionName(name) {
        return this.getSectionNames().indexOf(name) !== -1;
    }
    isAnyConfig(name) {
        return [...this.getSectionNames(), this.getConfigName()].includes(name);
    }
    isSectionUri(configUri) {
        return !!configUri && this.isSectionName(this.getName(configUri));
    }
    isConfigUri(configUri) {
        return !!configUri && this.getName(configUri) === this.getConfigName();
    }
    getName(configUri) {
        return configUri.path.name;
    }
    getPath(configUri) {
        return configUri.parent.path.base;
    }
    createUri(folder, configPath = this.getPaths()[0], configName = this.getConfigName()) {
        return folder.resolve(configPath).resolve(configName + '.json');
    }
};
__decorate([
    inversify_1.inject(contribution_provider_1.ContributionProvider),
    inversify_1.named(exports.PreferenceConfiguration),
    __metadata("design:type", Object)
], PreferenceConfigurations.prototype, "provider", void 0);
PreferenceConfigurations = __decorate([
    inversify_1.injectable()
], PreferenceConfigurations);
exports.PreferenceConfigurations = PreferenceConfigurations;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/preferences/preference-contribution.js":
/*!**********************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/preferences/preference-contribution.js ***!
  \**********************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 Ericsson and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.PreferenceSchemaProvider = exports.FrontendApplicationPreferenceConfig = exports.bindPreferenceSchemaProvider = exports.PreferenceContribution = exports.PreferenceDataProperty = exports.PreferenceSchemaProperties = exports.PreferenceSchema = void 0;
const Ajv = __webpack_require__(/*! ajv */ "../node_modules/ajv/lib/ajv.js");
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const common_1 = __webpack_require__(/*! ../../common */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/index.js");
const preference_scope_1 = __webpack_require__(/*! ./preference-scope */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/preferences/preference-scope.js");
const preference_provider_1 = __webpack_require__(/*! ./preference-provider */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/preferences/preference-provider.js");
const preference_schema_1 = __webpack_require__(/*! ../../common/preferences/preference-schema */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/preferences/preference-schema.js");
Object.defineProperty(exports, "PreferenceSchema", ({ enumerable: true, get: function () { return preference_schema_1.PreferenceSchema; } }));
Object.defineProperty(exports, "PreferenceSchemaProperties", ({ enumerable: true, get: function () { return preference_schema_1.PreferenceSchemaProperties; } }));
Object.defineProperty(exports, "PreferenceDataProperty", ({ enumerable: true, get: function () { return preference_schema_1.PreferenceDataProperty; } }));
const frontend_application_config_provider_1 = __webpack_require__(/*! ../frontend-application-config-provider */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/frontend-application-config-provider.js");
const preference_configurations_1 = __webpack_require__(/*! ./preference-configurations */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/preferences/preference-configurations.js");
const preference_language_override_service_1 = __webpack_require__(/*! ./preference-language-override-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/preferences/preference-language-override-service.js");
/**
 * @deprecated since 1.13.0 import from @theia/core/lib/browser/preferences/preference-language-override-service.
 */
var preference_language_override_service_2 = __webpack_require__(/*! ./preference-language-override-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/preferences/preference-language-override-service.js");
Object.defineProperty(exports, "OVERRIDE_PROPERTY_PATTERN", ({ enumerable: true, get: function () { return preference_language_override_service_2.OVERRIDE_PROPERTY_PATTERN; } }));
/* eslint-disable guard-for-in, @typescript-eslint/no-explicit-any */
exports.PreferenceContribution = Symbol('PreferenceContribution');
function bindPreferenceSchemaProvider(bind) {
    preference_configurations_1.bindPreferenceConfigurations(bind);
    bind(PreferenceSchemaProvider).toSelf().inSingletonScope();
    bind(preference_language_override_service_1.PreferenceLanguageOverrideService).toSelf().inSingletonScope();
    common_1.bindContributionProvider(bind, exports.PreferenceContribution);
}
exports.bindPreferenceSchemaProvider = bindPreferenceSchemaProvider;
var FrontendApplicationPreferenceConfig;
(function (FrontendApplicationPreferenceConfig) {
    function is(config) {
        return 'preferences' in config && typeof config['preferences'] === 'object';
    }
    FrontendApplicationPreferenceConfig.is = is;
})(FrontendApplicationPreferenceConfig = exports.FrontendApplicationPreferenceConfig || (exports.FrontendApplicationPreferenceConfig = {}));
/**
 * The {@link PreferenceSchemaProvider} collects all {@link PreferenceContribution}s and combines
 * the preference schema provided by these contributions into one collective schema. The preferences which
 * are provided by this {@link PreferenceProvider} are derived from this combined schema.
 */
let PreferenceSchemaProvider = class PreferenceSchemaProvider extends preference_provider_1.PreferenceProvider {
    constructor() {
        super(...arguments);
        this.preferences = {};
        this.combinedSchema = { properties: {}, patternProperties: {} };
        this.workspaceSchema = { properties: {}, patternProperties: {} };
        this.folderSchema = { properties: {}, patternProperties: {} };
        this.onDidPreferenceSchemaChangedEmitter = new common_1.Emitter();
        this.onDidPreferenceSchemaChanged = this.onDidPreferenceSchemaChangedEmitter.event;
        this.overridePatternProperties = {
            type: 'object',
            description: 'Configure editor settings to be overridden for a language.',
            errorMessage: 'Unknown Identifier. Use language identifiers',
            properties: {},
            additionalProperties: false
        };
    }
    fireDidPreferenceSchemaChanged() {
        this.onDidPreferenceSchemaChangedEmitter.fire(undefined);
    }
    init() {
        this.readConfiguredPreferences();
        this.preferenceContributions.getContributions().forEach(contrib => {
            this.doSetSchema(contrib.schema);
        });
        this.combinedSchema.additionalProperties = false;
        this._ready.resolve();
    }
    /**
     * Register a new overrideIdentifier. Existing identifiers are not replaced.
     *
     * Allows overriding existing values while keeping both values in store.
     * For example to store different editor settings, e.g. "[markdown].editor.autoIndent",
     * "[json].editor.autoIndent" and "editor.autoIndent"
     * @param overrideIdentifier the new overrideIdentifier
     */
    registerOverrideIdentifier(overrideIdentifier) {
        if (this.preferenceOverrideService.addOverrideIdentifier(overrideIdentifier)) {
            this.updateOverridePatternPropertiesKey();
        }
    }
    updateOverridePatternPropertiesKey() {
        const oldKey = this.overridePatternPropertiesKey;
        const newKey = this.preferenceOverrideService.computeOverridePatternPropertiesKey();
        if (oldKey === newKey) {
            return;
        }
        if (oldKey) {
            delete this.combinedSchema.patternProperties[oldKey];
        }
        this.overridePatternPropertiesKey = newKey;
        if (newKey) {
            this.combinedSchema.patternProperties[newKey] = this.overridePatternProperties;
        }
        this.fireDidPreferenceSchemaChanged();
    }
    doUnsetSchema(changes) {
        const inverseChanges = [];
        for (const change of changes) {
            const preferenceName = change.preferenceName;
            const overridden = this.preferenceOverrideService.overriddenPreferenceName(preferenceName);
            if (overridden) {
                delete this.overridePatternProperties.properties[`[${overridden.overrideIdentifier}]`];
                this.removePropFromSchemas(`[${overridden.overrideIdentifier}]`);
            }
            else {
                this.removePropFromSchemas(preferenceName);
            }
            const newValue = change.oldValue;
            const oldValue = change.newValue;
            const { scope, domain } = change;
            const inverseChange = { preferenceName, oldValue, scope, domain };
            if (typeof newValue === undefined) {
                delete this.preferences[preferenceName];
            }
            else {
                inverseChange.newValue = newValue;
                this.preferences[preferenceName] = newValue;
            }
            inverseChanges.push(inverseChange);
        }
        return inverseChanges;
    }
    doSetSchema(schema) {
        const ajv = new Ajv();
        const valid = ajv.validateSchema(schema);
        if (!valid) {
            const errors = !!ajv.errors ? ajv.errorsText(ajv.errors) : 'unknown validation error';
            console.warn('A contributed preference schema has validation issues : ' + errors);
        }
        const scope = preference_scope_1.PreferenceScope.Default;
        const domain = this.getDomain();
        const changes = [];
        const defaultScope = preference_schema_1.PreferenceSchema.getDefaultScope(schema);
        const overridable = schema.overridable || false;
        for (const preferenceName of Object.keys(schema.properties)) {
            if (this.combinedSchema.properties[preferenceName]) {
                console.error('Preference name collision detected in the schema for property: ' + preferenceName);
            }
            else {
                const schemaProps = preference_schema_1.PreferenceDataProperty.fromPreferenceSchemaProperty(schema.properties[preferenceName], defaultScope);
                if (typeof schemaProps.overridable !== 'boolean' && overridable) {
                    schemaProps.overridable = true;
                }
                if (schemaProps.overridable) {
                    this.overridePatternProperties.properties[preferenceName] = schemaProps;
                }
                this.updateSchemaProps(preferenceName, schemaProps);
                const schemaDefault = this.getDefaultValue(schemaProps);
                const configuredDefault = this.getConfiguredDefault(preferenceName);
                if (this.preferenceOverrideService.testOverrideValue(preferenceName, schemaDefault)) {
                    schemaProps.defaultValue = preference_schema_1.PreferenceSchemaProperties.is(configuredDefault)
                        ? preference_provider_1.PreferenceProvider.merge(schemaDefault, configuredDefault)
                        : schemaDefault;
                    for (const overriddenPreferenceName in schemaProps.defaultValue) {
                        const overrideValue = schemaDefault[overriddenPreferenceName];
                        const overridePreferenceName = `${preferenceName}.${overriddenPreferenceName}`;
                        changes.push(this.doSetPreferenceValue(overridePreferenceName, overrideValue, { scope, domain }));
                    }
                }
                else {
                    schemaProps.defaultValue = configuredDefault === undefined ? schemaDefault : configuredDefault;
                    changes.push(this.doSetPreferenceValue(preferenceName, schemaProps.defaultValue, { scope, domain }));
                }
            }
        }
        return changes;
    }
    doSetPreferenceValue(preferenceName, newValue, { scope, domain }) {
        const oldValue = this.preferences[preferenceName];
        this.preferences[preferenceName] = newValue;
        return { preferenceName, oldValue, newValue, scope, domain };
    }
    getDefaultValue(property) {
        if (property.defaultValue !== undefined) {
            return property.defaultValue;
        }
        if (property.default !== undefined) {
            return property.default;
        }
        const type = Array.isArray(property.type) ? property.type[0] : property.type;
        switch (type) {
            case 'boolean':
                return false;
            case 'integer':
            case 'number':
                return 0;
            case 'string':
                return '';
            case 'array':
                return [];
            case 'object':
                return {};
        }
        // eslint-disable-next-line no-null/no-null
        return null;
    }
    getConfiguredDefault(preferenceName) {
        const config = frontend_application_config_provider_1.FrontendApplicationConfigProvider.get();
        if (preferenceName && FrontendApplicationPreferenceConfig.is(config) && preferenceName in config.preferences) {
            return config.preferences[preferenceName];
        }
    }
    getCombinedSchema() {
        return this.combinedSchema;
    }
    getSchema(scope) {
        switch (scope) {
            case preference_scope_1.PreferenceScope.Default:
            case preference_scope_1.PreferenceScope.User:
                return this.combinedSchema;
            case preference_scope_1.PreferenceScope.Workspace:
                return this.workspaceSchema;
            case preference_scope_1.PreferenceScope.Folder:
                return this.folderSchema;
        }
    }
    setSchema(schema) {
        const changes = this.doSetSchema(schema);
        if (!changes.length) {
            return common_1.Disposable.NULL;
        }
        this.fireDidPreferenceSchemaChanged();
        this.emitPreferencesChangedEvent(changes);
        return common_1.Disposable.create(() => {
            const inverseChanges = this.doUnsetSchema(changes);
            if (!inverseChanges.length) {
                return;
            }
            this.fireDidPreferenceSchemaChanged();
            this.emitPreferencesChangedEvent(inverseChanges);
        });
    }
    getPreferences() {
        return this.preferences;
    }
    async setPreference() {
        return false;
    }
    isValidInScope(preferenceName, scope) {
        let property;
        const overridden = this.preferenceOverrideService.overriddenPreferenceName(preferenceName);
        if (overridden) {
            // try from overridden schema
            property = this.overridePatternProperties[`[${overridden.overrideIdentifier}]`];
            property = property && property[overridden.preferenceName];
            if (!property) {
                // try from overridden identifier
                property = this.overridePatternProperties[overridden.preferenceName];
            }
            if (!property) {
                // try from overridden value
                property = this.combinedSchema.properties[overridden.preferenceName];
            }
        }
        else {
            property = this.combinedSchema.properties[preferenceName];
        }
        return property && property.scope >= scope;
    }
    *getPreferenceNames() {
        for (const preferenceName in this.combinedSchema.properties) {
            yield preferenceName;
            for (const overridePreferenceName of this.getOverridePreferenceNames(preferenceName)) {
                yield overridePreferenceName;
            }
        }
    }
    getOverridePreferenceNames(preferenceName) {
        const preference = this.combinedSchema.properties[preferenceName];
        if (preference && preference.overridable) {
            return this.preferenceOverrideService.getOverridePreferenceNames(preferenceName);
        }
        return [][Symbol.iterator]();
    }
    updateSchemaProps(key, property) {
        this.combinedSchema.properties[key] = property;
        switch (property.scope) {
            case preference_scope_1.PreferenceScope.Folder:
                this.folderSchema.properties[key] = property;
            // Fall through. isValidInScope implies that User  Workspace  Folder,
            // so anything we add to folder should be added to workspace, but not vice versa.
            case preference_scope_1.PreferenceScope.Workspace:
                this.workspaceSchema.properties[key] = property;
                break;
        }
    }
    removePropFromSchemas(key) {
        // If we remove a key from combined, it should also be removed from all narrower scopes.
        delete this.combinedSchema.properties[key];
        delete this.workspaceSchema.properties[key];
        delete this.folderSchema.properties[key];
    }
    readConfiguredPreferences() {
        const config = frontend_application_config_provider_1.FrontendApplicationConfigProvider.get();
        if (FrontendApplicationPreferenceConfig.is(config)) {
            try {
                const configuredDefaults = config.preferences;
                const parsedDefaults = this.getParsedContent(configuredDefaults);
                Object.assign(this.preferences, parsedDefaults);
                const scope = preference_scope_1.PreferenceScope.Default;
                const domain = this.getDomain();
                const changes = Object.keys(this.preferences)
                    .map((key) => ({ preferenceName: key, oldValue: undefined, newValue: this.preferences[key], scope, domain }));
                this.emitPreferencesChangedEvent(changes);
            }
            catch (e) {
                console.error('Failed to load preferences from frontend configuration.', e);
            }
        }
    }
    /**
     * @deprecated since 1.13.0 use `PreferenceLanguageOverrideService.overridePreferenceName`
     */
    overridePreferenceName(override) {
        return this.preferenceOverrideService.overridePreferenceName(override);
    }
    /**
     * @deprecated since 1.13.0 use `PreferenceLanguageOverrideService.testOverrideValue`
     */
    testOverrideValue(name, value) {
        return this.preferenceOverrideService.testOverrideValue(name, value);
    }
    /**
     * @deprecated since 1.13.0 use `PreferenceLanguageOverrideService.overriddenPreferenceName`
     */
    overriddenPreferenceName(name) {
        return this.preferenceOverrideService.overriddenPreferenceName(name);
    }
};
__decorate([
    inversify_1.inject(common_1.ContributionProvider),
    inversify_1.named(exports.PreferenceContribution),
    __metadata("design:type", Object)
], PreferenceSchemaProvider.prototype, "preferenceContributions", void 0);
__decorate([
    inversify_1.inject(preference_configurations_1.PreferenceConfigurations),
    __metadata("design:type", preference_configurations_1.PreferenceConfigurations)
], PreferenceSchemaProvider.prototype, "configurations", void 0);
__decorate([
    inversify_1.postConstruct(),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", []),
    __metadata("design:returntype", void 0)
], PreferenceSchemaProvider.prototype, "init", null);
PreferenceSchemaProvider = __decorate([
    inversify_1.injectable()
], PreferenceSchemaProvider);
exports.PreferenceSchemaProvider = PreferenceSchemaProvider;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/preferences/preference-language-override-service.js":
/*!***********************************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/preferences/preference-language-override-service.js ***!
  \***********************************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2021 Ericsson and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.PreferenceLanguageOverrideService = exports.getOverridePattern = exports.OVERRIDE_PROPERTY_PATTERN = exports.OverridePreferenceName = void 0;
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const common_1 = __webpack_require__(/*! ../../common */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/index.js");
const preference_schema_1 = __webpack_require__(/*! ../../common/preferences/preference-schema */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/preferences/preference-schema.js");
var OverridePreferenceName;
(function (OverridePreferenceName) {
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    function is(arg) {
        return !!arg && typeof arg === 'object' && 'preferenceName' in arg && 'overrideIdentifier' in arg;
    }
    OverridePreferenceName.is = is;
})(OverridePreferenceName = exports.OverridePreferenceName || (exports.OverridePreferenceName = {}));
const OVERRIDE_PROPERTY = '\\[(.*)\\]$';
exports.OVERRIDE_PROPERTY_PATTERN = new RegExp(OVERRIDE_PROPERTY);
exports.getOverridePattern = (identifier) => `\\[(${identifier})\\]$`;
let PreferenceLanguageOverrideService = class PreferenceLanguageOverrideService {
    constructor() {
        this.overrideIdentifiers = new Set();
    }
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    testOverrideValue(name, value) {
        return preference_schema_1.PreferenceSchemaProperties.is(value) && exports.OVERRIDE_PROPERTY_PATTERN.test(name);
    }
    overridePreferenceName({ preferenceName, overrideIdentifier }) {
        return `[${overrideIdentifier}].${preferenceName}`;
    }
    overriddenPreferenceName(name) {
        const index = name.indexOf('.');
        if (index === -1) {
            return undefined;
        }
        const matches = name.substr(0, index).match(exports.OVERRIDE_PROPERTY_PATTERN);
        const overrideIdentifier = matches && matches[1];
        if (!overrideIdentifier || !this.overrideIdentifiers.has(overrideIdentifier)) {
            return undefined;
        }
        const preferenceName = name.substr(index + 1);
        return { preferenceName, overrideIdentifier };
    }
    computeOverridePatternPropertiesKey() {
        let param = '';
        for (const overrideIdentifier of this.overrideIdentifiers) {
            if (param.length) {
                param += '|';
            }
            param += new RegExp(common_1.escapeRegExpCharacters(overrideIdentifier)).source;
        }
        return param.length ? exports.getOverridePattern(param) : undefined;
    }
    *getOverridePreferenceNames(preferenceName) {
        for (const overrideIdentifier of this.overrideIdentifiers) {
            yield this.overridePreferenceName({ preferenceName, overrideIdentifier });
        }
    }
    /**
     * @param overrideIdentifier
     * @returns true if the addition caused a change, i.e. if the identifier was not already present in the set of identifiers, false otherwise.
     */
    addOverrideIdentifier(overrideIdentifier) {
        const alreadyPresent = this.overrideIdentifiers.has(overrideIdentifier);
        if (!alreadyPresent) {
            this.overrideIdentifiers.add(overrideIdentifier);
        }
        return !alreadyPresent;
    }
    /**
     * @param overrideIdentifier
     * @returns true if the deletion caused a change, i.e. if the identifier was present in the set, false otherwise.
     */
    removeOverrideIdentifier(overrideIdentifier) {
        return this.overrideIdentifiers.delete(overrideIdentifier);
    }
};
PreferenceLanguageOverrideService = __decorate([
    inversify_1.injectable()
], PreferenceLanguageOverrideService);
exports.PreferenceLanguageOverrideService = PreferenceLanguageOverrideService;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/preferences/preference-provider.js":
/*!******************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/preferences/preference-provider.js ***!
  \******************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 Ericsson and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.PreferenceProvider = exports.PreferenceProviderDataChange = void 0;
/* eslint-disable @typescript-eslint/no-explicit-any */
const debounce = __webpack_require__(/*! p-debounce */ "../node_modules/p-debounce/index.js");
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const coreutils_1 = __webpack_require__(/*! @phosphor/coreutils */ "../node_modules/@phosphor/coreutils/lib/index.js");
const uri_1 = __webpack_require__(/*! ../../common/uri */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/uri.js");
const common_1 = __webpack_require__(/*! ../../common */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/index.js");
const promise_util_1 = __webpack_require__(/*! ../../common/promise-util */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/promise-util.js");
const preference_language_override_service_1 = __webpack_require__(/*! ./preference-language-override-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/preferences/preference-language-override-service.js");
var PreferenceProviderDataChange;
(function (PreferenceProviderDataChange) {
    function affects(change, resourceUri) {
        const resourcePath = resourceUri && new uri_1.default(resourceUri).path;
        const domain = change.domain;
        return !resourcePath || !domain || domain.some(uri => new uri_1.default(uri).path.relativity(resourcePath) >= 0);
    }
    PreferenceProviderDataChange.affects = affects;
})(PreferenceProviderDataChange = exports.PreferenceProviderDataChange || (exports.PreferenceProviderDataChange = {}));
/**
 * The {@link PreferenceProvider} is used to store and retrieve preference values. A {@link PreferenceProvider} does not operate in a global scope but is
 * configured for one or more {@link PreferenceScope}s. The (default implementation for the) {@link PreferenceService} aggregates all {@link PreferenceProvider}s and
 * serves as a common facade for manipulating preference values.
 */
let PreferenceProvider = class PreferenceProvider {
    constructor() {
        this.onDidPreferencesChangedEmitter = new common_1.Emitter();
        this.onDidPreferencesChanged = this.onDidPreferencesChangedEmitter.event;
        this.toDispose = new common_1.DisposableCollection();
        this._ready = new promise_util_1.Deferred();
        this._pendingChanges = Promise.resolve(false);
        this.fireDidPreferencesChanged = debounce(() => {
            const changes = this.deferredChanges;
            this.deferredChanges = undefined;
            if (changes && Object.keys(changes).length) {
                this.onDidPreferencesChangedEmitter.fire(changes);
                return true;
            }
            return false;
        }, 0);
        this.toDispose.push(this.onDidPreferencesChangedEmitter);
    }
    dispose() {
        this.toDispose.dispose();
    }
    get pendingChanges() {
        return this._pendingChanges;
    }
    /**
     * Informs the listeners that one or more preferences of this provider are changed.
     * The listeners are able to find what was changed from the emitted event.
     */
    emitPreferencesChangedEvent(changes) {
        if (Array.isArray(changes)) {
            for (const change of changes) {
                this.mergePreferenceProviderDataChange(change);
            }
        }
        else {
            for (const preferenceName of Object.keys(changes)) {
                this.mergePreferenceProviderDataChange(changes[preferenceName]);
            }
        }
        return this._pendingChanges = this.fireDidPreferencesChanged();
    }
    mergePreferenceProviderDataChange(change) {
        if (!this.deferredChanges) {
            this.deferredChanges = {};
        }
        const current = this.deferredChanges[change.preferenceName];
        const { newValue, scope, domain } = change;
        if (!current) {
            // new
            this.deferredChanges[change.preferenceName] = change;
        }
        else if (current.oldValue === newValue) {
            // delete
            delete this.deferredChanges[change.preferenceName];
        }
        else {
            // update
            Object.assign(current, { newValue, scope, domain });
        }
    }
    /**
     * Retrieve the stored value for the given preference and resource URI.
     *
     * @param preferenceName the preference identifier.
     * @param resourceUri the uri of the resource for which the preference is stored. This is used to retrieve
     * a potentially different value for the same preference for different resources, for example `files.encoding`.
     *
     * @returns the value stored for the given preference and resourceUri if it exists, otherwise `undefined`.
     */
    get(preferenceName, resourceUri) {
        return this.resolve(preferenceName, resourceUri).value;
    }
    /**
     * Resolve the value for the given preference and resource URI.
     *
     * @param preferenceName the preference identifier.
     * @param resourceUri the URI of the resource for which this provider should resolve the preference. This is used to retrieve
     * a potentially different value for the same preference for different resources, for example `files.encoding`.
     *
     * @returns an object containing the value stored for the given preference and resourceUri if it exists,
     * otherwise `undefined`.
     */
    resolve(preferenceName, resourceUri) {
        const value = this.getPreferences(resourceUri)[preferenceName];
        if (value !== undefined) {
            return {
                value,
                configUri: this.getConfigUri(resourceUri)
            };
        }
        return {};
    }
    /**
     * Resolved when the preference provider is ready to provide preferences
     * It should be resolved by subclasses.
     */
    get ready() {
        return this._ready.promise;
    }
    /**
     * Retrieve the domain for this provider.
     *
     * @returns the domain or `undefined` if this provider is suitable for all domains.
     */
    getDomain() {
        return undefined;
    }
    /**
     * Retrieve the configuration URI for the given resource URI.
     * @param resourceUri the uri of the resource or `undefined`.
     * @param sectionName the section to return the URI for, e.g. `tasks` or `launch`. Defaults to settings.
     *
     * @returns the corresponding resource URI or `undefined` if there is no valid URI.
     */
    getConfigUri(resourceUri, sectionName) {
        return undefined;
    }
    static merge(source, target) {
        if (source === undefined || !coreutils_1.JSONExt.isObject(source)) {
            return coreutils_1.JSONExt.deepCopy(target);
        }
        if (coreutils_1.JSONExt.isPrimitive(target)) {
            return {};
        }
        for (const key of Object.keys(target)) {
            const value = target[key];
            if (key in source) {
                if (coreutils_1.JSONExt.isObject(source[key]) && coreutils_1.JSONExt.isObject(value)) {
                    this.merge(source[key], value);
                    continue;
                }
            }
            source[key] = coreutils_1.JSONExt.deepCopy(value);
        }
        return source;
    }
    /**
     * Handles deep equality with the possibility of `undefined`
     */
    static deepEqual(a, b) {
        if (a === b) {
            return true;
        }
        if (a === undefined || b === undefined) {
            return false;
        }
        return coreutils_1.JSONExt.deepEqual(a, b);
    }
    getParsedContent(jsonData) {
        const preferences = {};
        if (typeof jsonData !== 'object') {
            return preferences;
        }
        // eslint-disable-next-line guard-for-in
        for (const preferenceName in jsonData) {
            const preferenceValue = jsonData[preferenceName];
            if (this.preferenceOverrideService.testOverrideValue(preferenceName, preferenceValue)) {
                // eslint-disable-next-line guard-for-in
                for (const overriddenPreferenceName in preferenceValue) {
                    const overriddenValue = preferenceValue[overriddenPreferenceName];
                    preferences[`${preferenceName}.${overriddenPreferenceName}`] = overriddenValue;
                }
            }
            else {
                preferences[preferenceName] = preferenceValue;
            }
        }
        return preferences;
    }
};
__decorate([
    inversify_1.inject(preference_language_override_service_1.PreferenceLanguageOverrideService),
    __metadata("design:type", preference_language_override_service_1.PreferenceLanguageOverrideService)
], PreferenceProvider.prototype, "preferenceOverrideService", void 0);
PreferenceProvider = __decorate([
    inversify_1.injectable(),
    __metadata("design:paramtypes", [])
], PreferenceProvider);
exports.PreferenceProvider = PreferenceProvider;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/preferences/preference-proxy.js":
/*!***************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/preferences/preference-proxy.js ***!
  \***************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.createPreferenceProxy = void 0;
const preference_contribution_1 = __webpack_require__(/*! ./preference-contribution */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/preferences/preference-contribution.js");
const preference_scope_1 = __webpack_require__(/*! ./preference-scope */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/preferences/preference-scope.js");
const preference_language_override_service_1 = __webpack_require__(/*! ./preference-language-override-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/preferences/preference-language-override-service.js");
/**
 * Creates a preference proxy for typesafe preference handling.
 *
 * @param preferences the underlying preference service to use for preference handling.
 * @param promisedSchema the JSON Schema which describes which preferences are available including types and descriptions. Can be a promise.
 * @param options configuration options.
 *
 * @returns the created preference proxy.
 *
 * ### Usage
 *
 *  1. Create JSON Schema specifying your preferences
 *  2. Create Configuration type based on the JSON Schema
 *  3. Bind the return value of `createPreferenceProxy` to make your preferences available wherever needed.
 *
 * See {@link CorePreferences} for an example.
 *
 * Note that if `schema` is a Promise, most actions will be no-ops until the promise is resolved.
 */
function createPreferenceProxy(preferences, promisedSchema, options) {
    const opts = options || {};
    const prefix = opts.prefix || '';
    const style = opts.style || 'flat';
    const isDeep = style === 'deep' || style === 'both';
    const isFlat = style === 'both' || style === 'flat';
    let schema;
    if (preference_contribution_1.PreferenceSchema.is(promisedSchema)) {
        schema = promisedSchema;
    }
    else {
        promisedSchema.then(s => schema = s);
    }
    const onPreferenceChanged = (listener, thisArgs, disposables) => preferences.onPreferencesChanged(changes => {
        if (schema) {
            for (const key of Object.keys(changes)) {
                const e = changes[key];
                const overridden = preferences.overriddenPreferenceName(e.preferenceName);
                const preferenceName = overridden ? overridden.preferenceName : e.preferenceName;
                if (preferenceName.startsWith(prefix) && (!overridden || !opts.overrideIdentifier || overridden.overrideIdentifier === opts.overrideIdentifier)) {
                    if (schema.properties[preferenceName]) {
                        const { newValue, oldValue } = e;
                        listener({
                            newValue, oldValue, preferenceName,
                            affects: (resourceUri, overrideIdentifier) => {
                                if (overrideIdentifier !== undefined) {
                                    if (overridden && overridden.overrideIdentifier !== overrideIdentifier) {
                                        return false;
                                    }
                                }
                                return e.affects(resourceUri);
                            }
                        });
                    }
                }
            }
        }
    }, thisArgs, disposables);
    const unsupportedOperation = (_, __) => {
        throw new Error('Unsupported operation');
    };
    const getValue = (arg, defaultValue, resourceUri) => {
        const preferenceName = preference_language_override_service_1.OverridePreferenceName.is(arg) ?
            preferences.overridePreferenceName(arg) :
            arg;
        return preferences.get(preferenceName, defaultValue, resourceUri || opts.resourceUri);
    };
    const ownKeys = () => {
        const properties = [];
        if (schema) {
            for (const p of Object.keys(schema.properties)) {
                if (p.startsWith(prefix)) {
                    const idx = p.indexOf('.', prefix.length);
                    if (idx !== -1 && isDeep) {
                        const pre = p.substr(prefix.length, idx - prefix.length);
                        if (properties.indexOf(pre) === -1) {
                            properties.push(pre);
                        }
                    }
                    const prop = p.substr(prefix.length);
                    if (isFlat || prop.indexOf('.') === -1) {
                        properties.push(prop);
                    }
                }
            }
        }
        return properties;
    };
    const set = (_, property, value) => {
        if (typeof property !== 'string') {
            throw new Error(`unexpected property: ${String(property)}`);
        }
        if (style === 'deep' && property.indexOf('.') !== -1) {
            return false;
        }
        if (schema) {
            const fullProperty = prefix ? prefix + property : property;
            if (schema.properties[fullProperty]) {
                preferences.set(fullProperty, value, preference_scope_1.PreferenceScope.Default);
                return true;
            }
            const newPrefix = fullProperty + '.';
            for (const p of Object.keys(schema.properties)) {
                if (p.startsWith(newPrefix)) {
                    const subProxy = createPreferenceProxy(preferences, schema, {
                        prefix: newPrefix,
                        resourceUri: opts.resourceUri,
                        overrideIdentifier: opts.overrideIdentifier,
                        style
                    });
                    for (const k of Object.keys(value)) {
                        subProxy[k] = value[k];
                    }
                }
            }
        }
        return false;
    };
    const get = (_, property) => {
        if (typeof property !== 'string') {
            throw new Error(`unexpected property: ${String(property)}`);
        }
        const fullProperty = prefix ? prefix + property : property;
        if (schema) {
            if (isFlat || property.indexOf('.') === -1) {
                if (schema.properties[fullProperty]) {
                    let value;
                    if (opts.overrideIdentifier) {
                        value = preferences.get(preferences.overridePreferenceName({
                            overrideIdentifier: opts.overrideIdentifier,
                            preferenceName: fullProperty
                        }), undefined, opts.resourceUri);
                    }
                    if (value === undefined) {
                        value = preferences.get(fullProperty, undefined, opts.resourceUri);
                    }
                    return value;
                }
            }
        }
        if (property === 'onPreferenceChanged') {
            return onPreferenceChanged;
        }
        if (property === 'dispose') {
            return () => { };
        }
        if (property === 'ready') {
            return preferences.ready;
        }
        if (property === 'get') {
            return getValue;
        }
        if (property === 'toJSON') {
            return toJSON();
        }
        if (schema && isDeep) {
            const newPrefix = fullProperty + '.';
            for (const p of Object.keys(schema.properties)) {
                if (p.startsWith(newPrefix)) {
                    return createPreferenceProxy(preferences, schema, { prefix: newPrefix, resourceUri: opts.resourceUri, overrideIdentifier: opts.overrideIdentifier, style });
                }
            }
            let value;
            let parentSegment = fullProperty;
            const segments = [];
            do {
                const index = parentSegment.lastIndexOf('.');
                segments.push(parentSegment.substring(index + 1));
                parentSegment = parentSegment.substring(0, index);
                if (parentSegment in schema.properties) {
                    value = get(_, parentSegment);
                }
            } while (parentSegment && value === undefined);
            let segment;
            while (typeof value === 'object' && (segment = segments.pop())) {
                value = value[segment];
            }
            return segments.length ? undefined : value;
        }
        return undefined;
    };
    const toJSON = () => {
        const result = {};
        for (const k of ownKeys()) {
            result[k] = get(undefined, k);
        }
        return result;
    };
    return new Proxy({}, {
        get,
        ownKeys,
        getOwnPropertyDescriptor: (_, property) => {
            if (ownKeys().indexOf(property) !== -1) {
                return {
                    enumerable: true,
                    configurable: true
                };
            }
            return {};
        },
        set,
        deleteProperty: unsupportedOperation,
        defineProperty: unsupportedOperation
    });
}
exports.createPreferenceProxy = createPreferenceProxy;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/preferences/preference-scope.js":
/*!***************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/preferences/preference-scope.js ***!
  \***************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2019 Ericsson and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.PreferenceScope = void 0;
const preference_scope_1 = __webpack_require__(/*! ../../common/preferences/preference-scope */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/preferences/preference-scope.js");
Object.defineProperty(exports, "PreferenceScope", ({ enumerable: true, get: function () { return preference_scope_1.PreferenceScope; } }));


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/preferences/preference-service.js":
/*!*****************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/preferences/preference-service.js ***!
  \*****************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 Ericsson and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.PreferenceServiceImpl = exports.PreferenceProviderProvider = exports.PreferenceService = exports.PreferenceChangeImpl = exports.PreferenceScope = void 0;
/* eslint-disable @typescript-eslint/no-explicit-any */
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const common_1 = __webpack_require__(/*! ../../common */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/index.js");
const promise_util_1 = __webpack_require__(/*! ../../common/promise-util */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/promise-util.js");
const preference_provider_1 = __webpack_require__(/*! ./preference-provider */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/preferences/preference-provider.js");
const preference_contribution_1 = __webpack_require__(/*! ./preference-contribution */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/preferences/preference-contribution.js");
const uri_1 = __webpack_require__(/*! ../../common/uri */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/uri.js");
const preference_scope_1 = __webpack_require__(/*! ./preference-scope */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/preferences/preference-scope.js");
Object.defineProperty(exports, "PreferenceScope", ({ enumerable: true, get: function () { return preference_scope_1.PreferenceScope; } }));
const preference_configurations_1 = __webpack_require__(/*! ./preference-configurations */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/preferences/preference-configurations.js");
const json_1 = __webpack_require__(/*! @phosphor/coreutils/lib/json */ "../node_modules/@phosphor/coreutils/lib/json.js");
const preference_language_override_service_1 = __webpack_require__(/*! ./preference-language-override-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/preferences/preference-language-override-service.js");
class PreferenceChangeImpl {
    constructor(change) {
        this.change = change;
    }
    get preferenceName() {
        return this.change.preferenceName;
    }
    get newValue() {
        return this.change.newValue;
    }
    get oldValue() {
        return this.change.oldValue;
    }
    get scope() {
        return this.change.scope;
    }
    // TODO add tests
    affects(resourceUri) {
        const resourcePath = resourceUri && new uri_1.default(resourceUri).path;
        const domain = this.change.domain;
        return !resourcePath || !domain || domain.some(uri => new uri_1.default(uri).path.relativity(resourcePath) >= 0);
    }
}
exports.PreferenceChangeImpl = PreferenceChangeImpl;
exports.PreferenceService = Symbol('PreferenceService');
/**
 * We cannot load providers directly in the case if they depend on `PreferenceService` somehow.
 * It allows to load them lazily after DI is configured.
 */
exports.PreferenceProviderProvider = Symbol('PreferenceProviderProvider');
let PreferenceServiceImpl = class PreferenceServiceImpl {
    constructor() {
        this.onPreferenceChangedEmitter = new common_1.Emitter();
        this.onPreferenceChanged = this.onPreferenceChangedEmitter.event;
        this.onPreferencesChangedEmitter = new common_1.Emitter();
        this.onPreferencesChanged = this.onPreferencesChangedEmitter.event;
        this.toDispose = new common_1.DisposableCollection(this.onPreferenceChangedEmitter, this.onPreferencesChangedEmitter);
        this.preferenceProviders = new Map();
        this._ready = new promise_util_1.Deferred();
    }
    async initializeProviders() {
        try {
            for (const scope of preference_scope_1.PreferenceScope.getScopes()) {
                const provider = this.providerProvider(scope);
                this.preferenceProviders.set(scope, provider);
                this.toDispose.push(provider.onDidPreferencesChanged(changes => this.reconcilePreferences(changes)));
                await provider.ready;
            }
            this._ready.resolve();
        }
        catch (e) {
            this._ready.reject(e);
        }
    }
    init() {
        this.toDispose.push(common_1.Disposable.create(() => this._ready.reject(new Error('preference service is disposed'))));
        this.initializeProviders();
    }
    dispose() {
        this.toDispose.dispose();
    }
    get ready() {
        return this._ready.promise;
    }
    reconcilePreferences(changes) {
        const changesToEmit = {};
        const acceptChange = (change) => this.getAffectedPreferenceNames(change, preferenceName => changesToEmit[preferenceName] = new PreferenceChangeImpl(Object.assign(Object.assign({}, change), { preferenceName })));
        for (const preferenceName of Object.keys(changes)) {
            let change = changes[preferenceName];
            if (change.newValue === undefined) {
                const overridden = this.overriddenPreferenceName(change.preferenceName);
                if (overridden) {
                    change = Object.assign(Object.assign({}, change), { newValue: this.doGet(overridden.preferenceName) });
                }
            }
            if (this.schema.isValidInScope(preferenceName, preference_scope_1.PreferenceScope.Folder)) {
                acceptChange(change);
                continue;
            }
            for (const scope of preference_scope_1.PreferenceScope.getReversedScopes()) {
                if (this.schema.isValidInScope(preferenceName, scope)) {
                    const provider = this.getProvider(scope);
                    if (provider) {
                        const value = provider.get(preferenceName);
                        if (scope > change.scope && value !== undefined) {
                            // preference defined in a more specific scope
                            break;
                        }
                        else if (scope === change.scope && change.newValue !== undefined) {
                            // preference is changed into something other than `undefined`
                            acceptChange(change);
                        }
                        else if (scope < change.scope && change.newValue === undefined && value !== undefined) {
                            // preference is changed to `undefined`, use the value from a more general scope
                            change = Object.assign(Object.assign({}, change), { newValue: value, scope });
                            acceptChange(change);
                        }
                    }
                }
                else if (change.newValue === undefined && change.scope === preference_scope_1.PreferenceScope.Default) {
                    // preference is removed
                    acceptChange(change);
                    break;
                }
            }
        }
        // emit the changes
        const changedPreferenceNames = Object.keys(changesToEmit);
        if (changedPreferenceNames.length > 0) {
            this.onPreferencesChangedEmitter.fire(changesToEmit);
        }
        changedPreferenceNames.forEach(preferenceName => this.onPreferenceChangedEmitter.fire(changesToEmit[preferenceName]));
    }
    getAffectedPreferenceNames(change, accept) {
        accept(change.preferenceName);
        for (const overridePreferenceName of this.schema.getOverridePreferenceNames(change.preferenceName)) {
            if (!this.doHas(overridePreferenceName)) {
                accept(overridePreferenceName);
            }
        }
    }
    getProvider(scope) {
        return this.preferenceProviders.get(scope);
    }
    has(preferenceName, resourceUri) {
        return this.get(preferenceName, undefined, resourceUri) !== undefined;
    }
    get(preferenceName, defaultValue, resourceUri) {
        return this.resolve(preferenceName, defaultValue, resourceUri).value;
    }
    resolve(preferenceName, defaultValue, resourceUri) {
        const { value, configUri } = this.doResolve(preferenceName, defaultValue, resourceUri);
        if (value === undefined) {
            const overridden = this.overriddenPreferenceName(preferenceName);
            if (overridden) {
                return this.doResolve(overridden.preferenceName, defaultValue, resourceUri);
            }
        }
        return { value, configUri };
    }
    async set(preferenceName, value, scope, resourceUri) {
        const resolvedScope = scope !== null && scope !== void 0 ? scope : (!resourceUri ? preference_scope_1.PreferenceScope.Workspace : preference_scope_1.PreferenceScope.Folder);
        if (resolvedScope === preference_scope_1.PreferenceScope.Folder && !resourceUri) {
            throw new Error('Unable to write to Folder Settings because no resource is provided.');
        }
        const provider = this.getProvider(resolvedScope);
        if (provider && await provider.setPreference(preferenceName, value, resourceUri)) {
            return;
        }
        throw new Error(`Unable to write to ${preference_scope_1.PreferenceScope[resolvedScope]} Settings.`);
    }
    getBoolean(preferenceName, defaultValue, resourceUri) {
        const value = resourceUri ? this.get(preferenceName, defaultValue, resourceUri) : this.get(preferenceName, defaultValue);
        // eslint-disable-next-line no-null/no-null
        return value !== null && value !== undefined ? !!value : defaultValue;
    }
    getString(preferenceName, defaultValue, resourceUri) {
        const value = resourceUri ? this.get(preferenceName, defaultValue, resourceUri) : this.get(preferenceName, defaultValue);
        // eslint-disable-next-line no-null/no-null
        if (value === null || value === undefined) {
            return defaultValue;
        }
        return value.toString();
    }
    getNumber(preferenceName, defaultValue, resourceUri) {
        const value = resourceUri ? this.get(preferenceName, defaultValue, resourceUri) : this.get(preferenceName, defaultValue);
        // eslint-disable-next-line no-null/no-null
        if (value === null || value === undefined) {
            return defaultValue;
        }
        if (typeof value === 'number') {
            return value;
        }
        return Number(value);
    }
    inspect(preferenceName, resourceUri) {
        var _a, _b;
        const defaultValue = this.inspectInScope(preferenceName, preference_scope_1.PreferenceScope.Default, resourceUri);
        const globalValue = this.inspectInScope(preferenceName, preference_scope_1.PreferenceScope.User, resourceUri);
        const workspaceValue = this.inspectInScope(preferenceName, preference_scope_1.PreferenceScope.Workspace, resourceUri);
        const workspaceFolderValue = this.inspectInScope(preferenceName, preference_scope_1.PreferenceScope.Folder, resourceUri);
        const valueApplied = (_b = (_a = workspaceFolderValue !== null && workspaceFolderValue !== void 0 ? workspaceFolderValue : workspaceValue) !== null && _a !== void 0 ? _a : globalValue) !== null && _b !== void 0 ? _b : defaultValue;
        return { preferenceName, defaultValue, globalValue, workspaceValue, workspaceFolderValue, value: valueApplied };
    }
    inspectInScope(preferenceName, scope, resourceUri) {
        const value = this.doInspectInScope(preferenceName, scope, resourceUri);
        if (value === undefined) {
            const overridden = this.overriddenPreferenceName(preferenceName);
            if (overridden) {
                return this.doInspectInScope(overridden.preferenceName, scope, resourceUri);
            }
        }
        return value;
    }
    getScopedValueFromInspection(inspection, scope) {
        switch (scope) {
            case preference_scope_1.PreferenceScope.Default:
                return inspection.defaultValue;
            case preference_scope_1.PreferenceScope.User:
                return inspection.globalValue;
            case preference_scope_1.PreferenceScope.Workspace:
                return inspection.workspaceValue;
            case preference_scope_1.PreferenceScope.Folder:
                return inspection.workspaceFolderValue;
        }
        common_1.unreachable(scope, 'Not all PreferenceScope enum variants handled.');
    }
    async updateValue(preferenceName, value, resourceUri) {
        const inspection = this.inspect(preferenceName, resourceUri);
        if (inspection) {
            const scopesToChange = this.getScopesToChange(inspection, value);
            const isDeletion = value === undefined
                || (scopesToChange.length === 1 && scopesToChange[0] === preference_scope_1.PreferenceScope.User && json_1.JSONExt.deepEqual(value, inspection.defaultValue));
            const effectiveValue = isDeletion ? undefined : value;
            await Promise.all(scopesToChange.map(scope => this.set(preferenceName, effectiveValue, scope, resourceUri)));
        }
    }
    getScopesToChange(inspection, intendedValue) {
        var _a;
        if (json_1.JSONExt.deepEqual(inspection.value, intendedValue)) {
            return [];
        }
        // Scopes in ascending order of scope breadth.
        const allScopes = preference_scope_1.PreferenceScope.getReversedScopes();
        // Get rid of Default scope. We can't set anything there.
        allScopes.pop();
        const isScopeDefined = (scope) => this.getScopedValueFromInspection(inspection, scope) !== undefined;
        if (intendedValue === undefined) {
            return allScopes.filter(isScopeDefined);
        }
        return [(_a = allScopes.find(isScopeDefined)) !== null && _a !== void 0 ? _a : preference_scope_1.PreferenceScope.User];
    }
    overridePreferenceName(options) {
        return this.preferenceOverrideService.overridePreferenceName(options);
    }
    overriddenPreferenceName(preferenceName) {
        return this.preferenceOverrideService.overriddenPreferenceName(preferenceName);
    }
    doHas(preferenceName, resourceUri) {
        return this.doGet(preferenceName, undefined, resourceUri) !== undefined;
    }
    doInspectInScope(preferenceName, scope, resourceUri) {
        const provider = this.getProvider(scope);
        return provider && provider.get(preferenceName, resourceUri);
    }
    doGet(preferenceName, defaultValue, resourceUri) {
        return this.doResolve(preferenceName, defaultValue, resourceUri).value;
    }
    doResolve(preferenceName, defaultValue, resourceUri) {
        const result = {};
        for (const scope of preference_scope_1.PreferenceScope.getScopes()) {
            if (this.schema.isValidInScope(preferenceName, scope)) {
                const provider = this.getProvider(scope);
                if (provider) {
                    const { configUri, value } = provider.resolve(preferenceName, resourceUri);
                    if (value !== undefined) {
                        result.configUri = configUri;
                        result.value = preference_provider_1.PreferenceProvider.merge(result.value, value);
                    }
                }
            }
        }
        return {
            configUri: result.configUri,
            value: result.value !== undefined ? common_1.deepFreeze(result.value) : defaultValue
        };
    }
    getConfigUri(scope, resourceUri, sectionName = this.configurations.getConfigName()) {
        const provider = this.getProvider(scope);
        if (!provider || !this.configurations.isAnyConfig(sectionName)) {
            return undefined;
        }
        const configUri = provider.getConfigUri(resourceUri, sectionName);
        if (configUri) {
            return configUri;
        }
        return provider.getContainingConfigUri && provider.getContainingConfigUri(resourceUri, sectionName);
    }
};
__decorate([
    inversify_1.inject(preference_contribution_1.PreferenceSchemaProvider),
    __metadata("design:type", preference_contribution_1.PreferenceSchemaProvider)
], PreferenceServiceImpl.prototype, "schema", void 0);
__decorate([
    inversify_1.inject(exports.PreferenceProviderProvider),
    __metadata("design:type", Function)
], PreferenceServiceImpl.prototype, "providerProvider", void 0);
__decorate([
    inversify_1.inject(preference_configurations_1.PreferenceConfigurations),
    __metadata("design:type", preference_configurations_1.PreferenceConfigurations)
], PreferenceServiceImpl.prototype, "configurations", void 0);
__decorate([
    inversify_1.inject(preference_language_override_service_1.PreferenceLanguageOverrideService),
    __metadata("design:type", preference_language_override_service_1.PreferenceLanguageOverrideService)
], PreferenceServiceImpl.prototype, "preferenceOverrideService", void 0);
__decorate([
    inversify_1.postConstruct(),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", []),
    __metadata("design:returntype", void 0)
], PreferenceServiceImpl.prototype, "init", null);
PreferenceServiceImpl = __decorate([
    inversify_1.injectable()
], PreferenceServiceImpl);
exports.PreferenceServiceImpl = PreferenceServiceImpl;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/progress-bar-factory.js":
/*!*******************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/progress-bar-factory.js ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2019 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ProgressBarOptions = exports.ProgressBarFactory = void 0;
exports.ProgressBarFactory = Symbol('ProgressBarFactory');
exports.ProgressBarOptions = Symbol('ProgressBarOptions');


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/quick-input/index.js":
/*!****************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/quick-input/index.js ***!
  \****************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
/********************************************************************************
 * Copyright (c) 2021 SAP SE or an SAP affiliate company and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
__exportStar(__webpack_require__(/*! ./quick-command-frontend-contribution */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/quick-input/quick-command-frontend-contribution.js"), exports);
__exportStar(__webpack_require__(/*! ./quick-command-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/quick-input/quick-command-service.js"), exports);
__exportStar(__webpack_require__(/*! ./quick-help-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/quick-input/quick-help-service.js"), exports);
__exportStar(__webpack_require__(/*! ./quick-access */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/quick-input/quick-access.js"), exports);
__exportStar(__webpack_require__(/*! ./quick-input-frontend-contribution */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/quick-input/quick-input-frontend-contribution.js"), exports);
__exportStar(__webpack_require__(/*! ./quick-input-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/quick-input/quick-input-service.js"), exports);
__exportStar(__webpack_require__(/*! ./quick-view-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/quick-input/quick-view-service.js"), exports);
__exportStar(__webpack_require__(/*! ./quick-pick-service-impl */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/quick-input/quick-pick-service-impl.js"), exports);


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/quick-input/quick-access.js":
/*!***********************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/quick-input/quick-access.js ***!
  \***********************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

/********************************************************************************
 * Copyright (c) 2021 SAP SE or an SAP affiliate company and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.QuickAccessRegistry = exports.QuickAccessContribution = void 0;
exports.QuickAccessContribution = Symbol('QuickAccessContribution');
exports.QuickAccessRegistry = Symbol('QuickAccessRegistry');


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/quick-input/quick-command-frontend-contribution.js":
/*!**********************************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/quick-input/quick-command-frontend-contribution.js ***!
  \**********************************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.QuickCommandFrontendContribution = void 0;
/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const common_frontend_contribution_1 = __webpack_require__(/*! ../common-frontend-contribution */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/common-frontend-contribution.js");
const quick_command_service_1 = __webpack_require__(/*! ./quick-command-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/quick-input/quick-command-service.js");
const quick_input_service_1 = __webpack_require__(/*! ./quick-input-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/quick-input/quick-input-service.js");
let QuickCommandFrontendContribution = class QuickCommandFrontendContribution {
    registerCommands(commands) {
        commands.registerCommand(quick_command_service_1.quickCommand, {
            execute: () => {
                var _a;
                (_a = this.quickInputService) === null || _a === void 0 ? void 0 : _a.open('>');
            }
        });
        commands.registerCommand(quick_command_service_1.CLEAR_COMMAND_HISTORY, {
            execute: () => commands.clearCommandHistory(),
        });
    }
    registerMenus(menus) {
        menus.registerMenuAction(common_frontend_contribution_1.CommonMenus.VIEW_PRIMARY, {
            commandId: quick_command_service_1.quickCommand.id,
            label: 'Find Command...'
        });
    }
    registerKeybindings(keybindings) {
        keybindings.registerKeybinding({
            command: quick_command_service_1.quickCommand.id,
            keybinding: 'f1'
        });
        keybindings.registerKeybinding({
            command: quick_command_service_1.quickCommand.id,
            keybinding: 'ctrlcmd+shift+p'
        });
    }
};
__decorate([
    inversify_1.inject(quick_input_service_1.QuickInputService),
    inversify_1.optional(),
    __metadata("design:type", Object)
], QuickCommandFrontendContribution.prototype, "quickInputService", void 0);
__decorate([
    inversify_1.inject(quick_command_service_1.QuickCommandService),
    inversify_1.optional(),
    __metadata("design:type", quick_command_service_1.QuickCommandService)
], QuickCommandFrontendContribution.prototype, "quickCommandService", void 0);
QuickCommandFrontendContribution = __decorate([
    inversify_1.injectable()
], QuickCommandFrontendContribution);
exports.QuickCommandFrontendContribution = QuickCommandFrontendContribution;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/quick-input/quick-command-service.js":
/*!********************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/quick-input/quick-command-service.js ***!
  \********************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (c) 2021 SAP SE or an SAP affiliate company and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var QuickCommandService_1;
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.QuickCommandService = exports.CLEAR_COMMAND_HISTORY = exports.quickCommand = void 0;
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const keybinding_1 = __webpack_require__(/*! ../keybinding */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/keybinding.js");
const common_1 = __webpack_require__(/*! ../../common */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/index.js");
const context_key_service_1 = __webpack_require__(/*! ../context-key-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/context-key-service.js");
const core_preferences_1 = __webpack_require__(/*! ../core-preferences */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/core-preferences.js");
const quick_access_1 = __webpack_require__(/*! ./quick-access */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/quick-input/quick-access.js");
const quick_input_service_1 = __webpack_require__(/*! ./quick-input-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/quick-input/quick-input-service.js");
const widgets_1 = __webpack_require__(/*! ../widgets */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/widgets/index.js");
exports.quickCommand = {
    id: 'workbench.action.showCommands'
};
exports.CLEAR_COMMAND_HISTORY = {
    id: 'clear.command.history',
    label: 'Clear Command History'
};
let QuickCommandService = QuickCommandService_1 = class QuickCommandService {
    constructor() {
        // The list of exempted commands not to be displayed in the recently used list.
        this.exemptedCommands = [
            exports.CLEAR_COMMAND_HISTORY,
        ];
        this.recentItems = [];
        this.otherItems = [];
        this.contexts = new Map();
    }
    registerQuickAccessProvider() {
        this.quickAccessRegistry.registerQuickAccessProvider({
            getInstance: () => this,
            prefix: QuickCommandService_1.PREFIX,
            placeholder: '',
            helpEntries: [{ description: 'Quick Command', needsEditor: false }]
        });
    }
    reset() {
        const { recent, other } = this.getCommands();
        this.recentItems = [];
        this.otherItems = [];
        this.recentItems.push(...recent.map(command => this.toItem(command)));
        this.otherItems.push(...other.map(command => this.toItem(command)));
    }
    getPicks(filter, token) {
        const items = [];
        // Update the list of commands by fetching them from the registry.
        this.reset();
        const recentItems = quick_input_service_1.filterItems(this.recentItems.slice(), filter);
        const otherItems = quick_input_service_1.filterItems(this.otherItems.slice(), filter);
        if (recentItems.length > 0) {
            items.push({ type: 'separator', label: 'recently used' }, ...recentItems);
        }
        if (otherItems.length > 0) {
            if (recentItems.length > 0) {
                items.push({ type: 'separator', label: 'other commands' });
            }
            items.push(...otherItems);
        }
        return items;
    }
    toItem(command) {
        const label = (command.category) ? `${command.category}: ` + command.label : command.label;
        const iconClasses = this.getItemIconClasses(command);
        const activeElement = window.document.activeElement;
        const originalLabel = command.originalLabel || command.label;
        const originalCategory = command.originalCategory || command.category;
        let detail = originalCategory ? `${originalCategory}: ${originalLabel}` : originalLabel;
        if (label === detail) {
            detail = undefined;
        }
        return {
            label,
            detail,
            iconClasses,
            alwaysShow: !!this.commandRegistry.getActiveHandler(command.id),
            keySequence: this.getKeybinding(command),
            execute: () => {
                activeElement.focus({ preventScroll: true });
                this.commandRegistry.executeCommand(command.id);
                this.commandRegistry.addRecentCommand(command);
            }
        };
    }
    getKeybinding(command) {
        const keybindings = this.keybindingRegistry.getKeybindingsForCommand(command.id);
        if (!keybindings || keybindings.length === 0) {
            return undefined;
        }
        try {
            return this.keybindingRegistry.resolveKeybinding(keybindings[0]);
        }
        catch (error) {
            return undefined;
        }
    }
    getItemIconClasses(command) {
        const toggledHandler = this.commandRegistry.getToggledHandler(command.id);
        if (toggledHandler) {
            return widgets_1.codiconArray('check');
        }
        return undefined;
    }
    pushCommandContext(commandId, when) {
        const contexts = this.contexts.get(commandId) || [];
        contexts.push(when);
        this.contexts.set(commandId, contexts);
        return common_1.Disposable.create(() => {
            const index = contexts.indexOf(when);
            if (index !== -1) {
                contexts.splice(index, 1);
            }
        });
    }
    /**
     * Get the list of valid commands.
     *
     * @param commands the list of raw commands.
     * @returns the list of valid commands.
     */
    getValidCommands(raw) {
        const valid = [];
        raw.forEach(command => {
            if (command.label) {
                const contexts = this.contexts.get(command.id);
                if (!contexts || contexts.some(when => this.contextKeyService.match(when))) {
                    valid.push(command);
                }
            }
        });
        return valid;
    }
    /**
     * Get the list of recently used and other commands.
     *
     * @returns the list of recently used commands and other commands.
     */
    getCommands() {
        // Get the list of recent commands.
        const recentCommands = this.commandRegistry.recent;
        // Get the list of all valid commands.
        const allCommands = this.getValidCommands(this.commandRegistry.commands);
        // Get the max history limit.
        const limit = this.corePreferences['workbench.commandPalette.history'];
        // Build the list of recent commands.
        let rCommands = [];
        if (limit > 0) {
            rCommands.push(...recentCommands.filter(r => !this.exemptedCommands.some(c => common_1.Command.equals(r, c)) &&
                allCommands.some(c => common_1.Command.equals(r, c))));
            if (rCommands.length > limit) {
                rCommands = rCommands.slice(0, limit);
            }
        }
        // Build the list of other commands.
        const oCommands = allCommands.filter(c => !rCommands.some(r => common_1.Command.equals(r, c)));
        // Normalize the list of recent commands.
        const recent = this.normalize(rCommands);
        // Normalize, and sort the list of other commands.
        const other = this.sort(this.normalize(oCommands));
        return { recent, other };
    }
    /**
     * Normalizes a list of commands.
     * Normalization includes obtaining commands that have labels, are visible, and are enabled.
     *
     * @param commands the list of commands.
     * @returns the list of normalized commands.
     */
    normalize(commands) {
        return commands.filter((a) => a.label && (this.commandRegistry.isVisible(a.id) && this.commandRegistry.isEnabled(a.id)));
    }
    /**
     * Sorts a list of commands alphabetically.
     *
     * @param commands the list of commands.
     * @returns the list of sorted commands.
     */
    sort(commands) {
        return commands.sort((a, b) => common_1.Command.compareCommands(a, b));
    }
};
QuickCommandService.PREFIX = '>';
__decorate([
    inversify_1.inject(context_key_service_1.ContextKeyService),
    __metadata("design:type", context_key_service_1.ContextKeyService)
], QuickCommandService.prototype, "contextKeyService", void 0);
__decorate([
    inversify_1.inject(common_1.CommandRegistry),
    __metadata("design:type", common_1.CommandRegistry)
], QuickCommandService.prototype, "commandRegistry", void 0);
__decorate([
    inversify_1.inject(core_preferences_1.CorePreferences),
    __metadata("design:type", Object)
], QuickCommandService.prototype, "corePreferences", void 0);
__decorate([
    inversify_1.inject(quick_access_1.QuickAccessRegistry),
    __metadata("design:type", Object)
], QuickCommandService.prototype, "quickAccessRegistry", void 0);
__decorate([
    inversify_1.inject(keybinding_1.KeybindingRegistry),
    __metadata("design:type", keybinding_1.KeybindingRegistry)
], QuickCommandService.prototype, "keybindingRegistry", void 0);
QuickCommandService = QuickCommandService_1 = __decorate([
    inversify_1.injectable()
], QuickCommandService);
exports.QuickCommandService = QuickCommandService;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/quick-input/quick-help-service.js":
/*!*****************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/quick-input/quick-help-service.js ***!
  \*****************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (c) 2021 SAP SE or an SAP affiliate company and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var QuickHelpService_1;
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.QuickHelpService = void 0;
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const quick_access_1 = __webpack_require__(/*! ./quick-access */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/quick-input/quick-access.js");
const quick_input_service_1 = __webpack_require__(/*! ./quick-input-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/quick-input/quick-input-service.js");
let QuickHelpService = QuickHelpService_1 = class QuickHelpService {
    getPicks(filter, token) {
        const { editorProviders, globalProviders } = this.getQuickAccessProviders();
        const result = editorProviders.length === 0 || globalProviders.length === 0 ?
            // Without groups
            [
                ...(editorProviders.length === 0 ? globalProviders : editorProviders)
            ] :
            // With groups
            [
                { type: 'separator', label: 'global commands' },
                ...globalProviders,
                { type: 'separator', label: 'editor commands' },
                ...editorProviders
            ];
        return result;
    }
    getQuickAccessProviders() {
        const globalProviders = [];
        const editorProviders = [];
        const providers = this.quickAccessRegistry.getQuickAccessProviders();
        for (const provider of providers.sort((providerA, providerB) => providerA.prefix.localeCompare(providerB.prefix))) {
            if (provider.prefix === QuickHelpService_1.PREFIX) {
                continue; // exclude help which is already active
            }
            for (const helpEntry of provider.helpEntries) {
                const prefix = helpEntry.prefix || provider.prefix;
                const label = prefix || '\u2026' /* ... */;
                (helpEntry.needsEditor ? editorProviders : globalProviders).push({
                    label,
                    ariaLabel: `${label}, ${helpEntry.description}`,
                    description: helpEntry.description,
                    execute: () => this.quickInputService.open(prefix)
                });
            }
        }
        return { editorProviders, globalProviders };
    }
    registerQuickAccessProvider() {
        this.quickAccessRegistry.registerQuickAccessProvider({
            getInstance: () => this,
            prefix: QuickHelpService_1.PREFIX,
            placeholder: 'Type "?" to get help on the actions you can take from here.',
            helpEntries: [{ description: 'Show all Quick Access Providers', needsEditor: false }]
        });
    }
};
QuickHelpService.PREFIX = '?';
__decorate([
    inversify_1.inject(quick_access_1.QuickAccessRegistry),
    __metadata("design:type", Object)
], QuickHelpService.prototype, "quickAccessRegistry", void 0);
__decorate([
    inversify_1.inject(quick_input_service_1.QuickInputService),
    __metadata("design:type", Object)
], QuickHelpService.prototype, "quickInputService", void 0);
QuickHelpService = QuickHelpService_1 = __decorate([
    inversify_1.injectable()
], QuickHelpService);
exports.QuickHelpService = QuickHelpService;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/quick-input/quick-input-frontend-contribution.js":
/*!********************************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/quick-input/quick-input-frontend-contribution.js ***!
  \********************************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (c) 2021 SAP SE or an SAP affiliate company and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.QuickInputFrontendContribution = void 0;
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const common_1 = __webpack_require__(/*! ../../common */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/index.js");
const quick_access_1 = __webpack_require__(/*! ./quick-access */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/quick-input/quick-access.js");
let QuickInputFrontendContribution = class QuickInputFrontendContribution {
    onStart() {
        this.contributionProvider.getContributions().forEach(contrib => {
            contrib.registerQuickAccessProvider();
        });
    }
};
__decorate([
    inversify_1.inject(common_1.ContributionProvider),
    inversify_1.named(quick_access_1.QuickAccessContribution),
    __metadata("design:type", Object)
], QuickInputFrontendContribution.prototype, "contributionProvider", void 0);
QuickInputFrontendContribution = __decorate([
    inversify_1.injectable()
], QuickInputFrontendContribution);
exports.QuickInputFrontendContribution = QuickInputFrontendContribution;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/quick-input/quick-input-service.js":
/*!******************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/quick-input/quick-input-service.js ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/********************************************************************************
 * Copyright (c) 2021 SAP SE or an SAP affiliate company and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.findMatches = exports.filterItems = exports.QuickInputService = exports.QuickPickSeparator = exports.QuickPickItem = void 0;
const fuzzy = __webpack_require__(/*! fuzzy */ "../node_modules/fuzzy/lib/fuzzy.js");
var QuickPickItem;
(function (QuickPickItem) {
    function is(item) {
        // if it's not a separator, it's an item
        return item.type !== 'separator';
    }
    QuickPickItem.is = is;
})(QuickPickItem = exports.QuickPickItem || (exports.QuickPickItem = {}));
var QuickPickSeparator;
(function (QuickPickSeparator) {
    function is(item) {
        return item.type === 'separator';
    }
    QuickPickSeparator.is = is;
})(QuickPickSeparator = exports.QuickPickSeparator || (exports.QuickPickSeparator = {}));
exports.QuickInputService = Symbol('QuickInputService');
/**
 * Filter the list of quick pick items based on the provided filter.
 * Items are filtered based on if:
 * - their `label` satisfies the filter using `fuzzy`.
 * - their `description` satisfies the filter using `fuzzy`.
 * - their `detail` satisfies the filter using `fuzzy`.
 * Filtered items are also updated to display proper highlights based on how they were filtered.
 * @param items the list of quick pick items.
 * @param filter the filter to search for.
 * @returns the list of quick pick items that satisfy the filter.
 */
function filterItems(items, filter) {
    filter = filter.trim().toLowerCase();
    if (filter.length === 0) {
        for (const item of items) {
            item.highlights = undefined; // reset highlights from previous filtering.
        }
        return items;
    }
    const filteredItems = [];
    for (const item of items) {
        if (fuzzy.test(filter, item.label) ||
            (item.description && fuzzy.test(filter, item.description)) ||
            (item.detail && fuzzy.test(filter, item.detail))) {
            item.highlights = {
                label: findMatches(item.label, filter),
                description: item.description ? findMatches(item.description, filter) : undefined,
                detail: item.detail ? findMatches(item.detail, filter) : undefined
            };
            filteredItems.push(item);
        }
    }
    return filteredItems;
}
exports.filterItems = filterItems;
/**
 * Find match highlights when testing a word against a pattern.
 * @param word the word to test.
 * @param pattern the word to match against.
 * @returns the list of highlights if present.
 */
function findMatches(word, pattern) {
    word = word.toLocaleLowerCase();
    pattern = pattern.toLocaleLowerCase();
    if (pattern.trim().length === 0) {
        return undefined;
    }
    const delimiter = '\u0000'; // null byte that shouldn't appear in the input and is used to denote matches.
    const matchResult = fuzzy.match(pattern.replace(/\u0000/gu, ''), word, { pre: delimiter, post: delimiter });
    if (!matchResult) {
        return undefined;
    }
    const match = matchResult.rendered;
    const highlights = [];
    let lastIndex = 0;
    /** We need to account for the extra markers by removing them from the range */
    let offset = 0;
    while (true) {
        const start = match.indexOf(delimiter, lastIndex);
        if (start === -1) {
            break;
        }
        const end = match.indexOf(delimiter, start + 1);
        if (end === -1) {
            break;
        }
        highlights.push({
            start: start - offset++,
            end: end - offset++
        });
        lastIndex = end + 1;
    }
    return highlights.length > 0 ? highlights : undefined;
}
exports.findMatches = findMatches;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/quick-input/quick-pick-service-impl.js":
/*!**********************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/quick-input/quick-pick-service-impl.js ***!
  \**********************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.QuickPickServiceImpl = void 0;
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const event_1 = __webpack_require__(/*! ../../common/event */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/event.js");
const quick_input_service_1 = __webpack_require__(/*! ./quick-input-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/quick-input/quick-input-service.js");
let QuickPickServiceImpl = class QuickPickServiceImpl {
    constructor() {
        this.onDidHideEmitter = new event_1.Emitter();
        this.onDidHide = this.onDidHideEmitter.event;
        this.onDidChangeValueEmitter = new event_1.Emitter();
        this.onDidChangeValue = this.onDidChangeValueEmitter.event;
        this.onDidAcceptEmitter = new event_1.Emitter();
        this.onDidAccept = this.onDidAcceptEmitter.event;
        this.onDidChangeActiveEmitter = new event_1.Emitter();
        this.onDidChangeActive = this.onDidChangeActiveEmitter.event;
        this.onDidChangeSelectionEmitter = new event_1.Emitter();
        this.onDidChangeSelection = this.onDidChangeSelectionEmitter.event;
        this.onDidTriggerButtonEmitter = new event_1.Emitter();
        this.onDidTriggerButton = this.onDidTriggerButtonEmitter.event;
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        this.items = [];
    }
    async show(items, options) {
        var _a;
        this.items = items;
        const opts = Object.assign({}, options, {
            onDidAccept: () => this.onDidAcceptEmitter.fire(),
            onDidChangeActive: (quickPick, activeItems) => this.onDidChangeActiveEmitter.fire({ quickPick, activeItems }),
            onDidChangeSelection: (quickPick, selectedItems) => this.onDidChangeSelectionEmitter.fire({ quickPick, selectedItems }),
            onDidChangeValue: (quickPick, filter) => this.onDidChangeValueEmitter.fire({ quickPick, filter }),
            onDidHide: () => this.onDidHideEmitter.fire(),
            onDidTriggerButton: (btn) => this.onDidTriggerButtonEmitter.fire(btn),
        });
        return (_a = this.quickInputService) === null || _a === void 0 ? void 0 : _a.showQuickPick(this.items, opts);
    }
    hide() {
        var _a;
        (_a = this.quickInputService) === null || _a === void 0 ? void 0 : _a.hide();
    }
    setItems(items) {
        this.items = items;
    }
};
__decorate([
    inversify_1.inject(quick_input_service_1.QuickInputService),
    inversify_1.optional(),
    __metadata("design:type", Object)
], QuickPickServiceImpl.prototype, "quickInputService", void 0);
QuickPickServiceImpl = __decorate([
    inversify_1.injectable()
], QuickPickServiceImpl);
exports.QuickPickServiceImpl = QuickPickServiceImpl;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/quick-input/quick-view-service.js":
/*!*****************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/quick-input/quick-view-service.js ***!
  \*****************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (c) 2021 SAP SE or an SAP affiliate company and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var QuickViewService_1;
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.QuickViewService = void 0;
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const __1 = __webpack_require__(/*! .. */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/index.js");
const common_1 = __webpack_require__(/*! ../../common */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/index.js");
const context_key_service_1 = __webpack_require__(/*! ../context-key-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/context-key-service.js");
const quick_access_1 = __webpack_require__(/*! ./quick-access */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/quick-input/quick-access.js");
let QuickViewService = QuickViewService_1 = class QuickViewService {
    constructor() {
        this.items = [];
        this.hiddenItemLabels = new Set();
    }
    registerItem(item) {
        const quickOpenItem = {
            label: item.label,
            execute: () => item.open(),
            when: item.when
        };
        this.items.push(quickOpenItem);
        this.items.sort((a, b) => a.label.localeCompare(b.label));
        return common_1.Disposable.create(() => {
            const index = this.items.indexOf(quickOpenItem);
            if (index !== -1) {
                this.items.splice(index, 1);
            }
        });
    }
    hideItem(label) {
        this.hiddenItemLabels.add(label);
    }
    showItem(label) {
        this.hiddenItemLabels.delete(label);
    }
    registerQuickAccessProvider() {
        this.quickAccessRegistry.registerQuickAccessProvider({
            getInstance: () => this,
            prefix: QuickViewService_1.PREFIX,
            placeholder: '',
            helpEntries: [{ description: 'Open View', needsEditor: false }]
        });
    }
    getPicks(filter, token) {
        const items = this.items.filter(item => (item.when === undefined || this.contextKexService.match(item.when)) &&
            (!this.hiddenItemLabels.has(item.label)));
        return __1.filterItems(items, filter);
    }
};
QuickViewService.PREFIX = 'view ';
__decorate([
    inversify_1.inject(quick_access_1.QuickAccessRegistry),
    __metadata("design:type", Object)
], QuickViewService.prototype, "quickAccessRegistry", void 0);
__decorate([
    inversify_1.inject(context_key_service_1.ContextKeyService),
    __metadata("design:type", context_key_service_1.ContextKeyService)
], QuickViewService.prototype, "contextKexService", void 0);
QuickViewService = QuickViewService_1 = __decorate([
    inversify_1.injectable()
], QuickViewService);
exports.QuickViewService = QuickViewService;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/resource-context-key.js":
/*!*******************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/resource-context-key.js ***!
  \*******************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2019 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ResourceContextKey = void 0;
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const uri_1 = __webpack_require__(/*! ../common/uri */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/uri.js");
const vscode_uri_1 = __webpack_require__(/*! vscode-uri */ "../node_modules/vscode-uri/lib/esm/index.js");
const context_key_service_1 = __webpack_require__(/*! ./context-key-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/context-key-service.js");
const language_service_1 = __webpack_require__(/*! ./language-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/language-service.js");
let ResourceContextKey = class ResourceContextKey {
    init() {
        this.resource = this.contextKeyService.createKey('resource', undefined);
        this.resourceSchemeKey = this.contextKeyService.createKey('resourceScheme', undefined);
        this.resourceFileName = this.contextKeyService.createKey('resourceFilename', undefined);
        this.resourceExtname = this.contextKeyService.createKey('resourceExtname', undefined);
        this.resourceLangId = this.contextKeyService.createKey('resourceLangId', undefined);
        this.resourceDirName = this.contextKeyService.createKey('resourceDirName', undefined);
        this.resourcePath = this.contextKeyService.createKey('resourcePath', undefined);
    }
    get() {
        const codeUri = this.resource.get();
        return codeUri && new uri_1.default(codeUri);
    }
    set(resourceUri) {
        this.resource.set(resourceUri && resourceUri['codeUri']);
        this.resourceSchemeKey.set(resourceUri && resourceUri.scheme);
        this.resourceFileName.set(resourceUri && resourceUri.path.base);
        this.resourceExtname.set(resourceUri && resourceUri.path.ext);
        this.resourceLangId.set(resourceUri && this.getLanguageId(resourceUri));
        this.resourceDirName.set(resourceUri && vscode_uri_1.URI.parse(resourceUri.path.dir.toString()).fsPath);
        this.resourcePath.set(resourceUri && resourceUri['codeUri'].fsPath);
    }
    getLanguageId(uri) {
        if (uri) {
            for (const language of this.languages.languages) {
                if (language.extensions.has(uri.path.ext)) {
                    return language.id;
                }
            }
        }
        return undefined;
    }
};
__decorate([
    inversify_1.inject(language_service_1.LanguageService),
    __metadata("design:type", language_service_1.LanguageService)
], ResourceContextKey.prototype, "languages", void 0);
__decorate([
    inversify_1.inject(context_key_service_1.ContextKeyService),
    __metadata("design:type", context_key_service_1.ContextKeyService)
], ResourceContextKey.prototype, "contextKeyService", void 0);
__decorate([
    inversify_1.postConstruct(),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", []),
    __metadata("design:returntype", void 0)
], ResourceContextKey.prototype, "init", null);
ResourceContextKey = __decorate([
    inversify_1.injectable()
], ResourceContextKey);
exports.ResourceContextKey = ResourceContextKey;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/saveable.js":
/*!*******************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/saveable.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ShouldSaveDialog = exports.setDirty = exports.SaveableWidget = exports.Saveable = void 0;
const keys_1 = __webpack_require__(/*! ./keyboard/keys */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/keyboard/keys.js");
const dialogs_1 = __webpack_require__(/*! ./dialogs */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/dialogs.js");
const widgets_1 = __webpack_require__(/*! ./widgets */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/widgets/index.js");
var Saveable;
(function (Saveable) {
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    function isSource(arg) {
        return !!arg && ('saveable' in arg) && is(arg.saveable);
    }
    Saveable.isSource = isSource;
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    function is(arg) {
        return !!arg && ('dirty' in arg) && ('onDirtyChanged' in arg);
    }
    Saveable.is = is;
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    function get(arg) {
        if (is(arg)) {
            return arg;
        }
        if (isSource(arg)) {
            return arg.saveable;
        }
        return undefined;
    }
    Saveable.get = get;
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    function getDirty(arg) {
        const saveable = get(arg);
        if (saveable && saveable.dirty) {
            return saveable;
        }
        return undefined;
    }
    Saveable.getDirty = getDirty;
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    function isDirty(arg) {
        return !!getDirty(arg);
    }
    Saveable.isDirty = isDirty;
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    async function save(arg, options) {
        const saveable = get(arg);
        if (saveable) {
            await saveable.save(options);
        }
    }
    Saveable.save = save;
    function apply(widget) {
        if (SaveableWidget.is(widget)) {
            return widget;
        }
        const saveable = Saveable.get(widget);
        if (!saveable) {
            return undefined;
        }
        setDirty(widget, saveable.dirty);
        saveable.onDirtyChanged(() => setDirty(widget, saveable.dirty));
        const closeWidget = widget.close.bind(widget);
        const closeWithoutSaving = async () => {
            if (saveable.dirty && saveable.revert) {
                await saveable.revert();
            }
            closeWidget();
            return widgets_1.waitForClosed(widget);
        };
        let closing = false;
        const closeWithSaving = async (options) => {
            if (closing) {
                return;
            }
            closing = true;
            try {
                const result = await shouldSave(saveable, () => {
                    if (options && options.shouldSave) {
                        return options.shouldSave();
                    }
                    return new ShouldSaveDialog(widget).open();
                });
                if (typeof result === 'boolean') {
                    if (result) {
                        await Saveable.save(widget);
                    }
                    await closeWithoutSaving();
                }
            }
            finally {
                closing = false;
            }
        };
        return Object.assign(widget, {
            closeWithoutSaving,
            closeWithSaving,
            close: () => closeWithSaving()
        });
    }
    Saveable.apply = apply;
    async function shouldSave(saveable, cb) {
        if (!saveable.dirty) {
            return false;
        }
        if (saveable.autoSave === 'on') {
            return true;
        }
        return cb();
    }
    Saveable.shouldSave = shouldSave;
})(Saveable = exports.Saveable || (exports.Saveable = {}));
var SaveableWidget;
(function (SaveableWidget) {
    function is(widget) {
        return !!widget && 'closeWithoutSaving' in widget;
    }
    SaveableWidget.is = is;
    function getDirty(widgets) {
        return get(widgets, Saveable.isDirty);
    }
    SaveableWidget.getDirty = getDirty;
    function* get(widgets, filter = () => true) {
        for (const widget of widgets) {
            if (SaveableWidget.is(widget) && filter(widget)) {
                yield widget;
            }
        }
    }
    SaveableWidget.get = get;
})(SaveableWidget = exports.SaveableWidget || (exports.SaveableWidget = {}));
;
/**
 * The class name added to the dirty widget's title.
 */
const DIRTY_CLASS = 'theia-mod-dirty';
function setDirty(widget, dirty) {
    const dirtyClass = ` ${DIRTY_CLASS}`;
    widget.title.className = widget.title.className.replace(dirtyClass, '');
    if (dirty) {
        widget.title.className += dirtyClass;
    }
}
exports.setDirty = setDirty;
class ShouldSaveDialog extends dialogs_1.AbstractDialog {
    constructor(widget) {
        super({
            title: `Do you want to save the changes you made to ${widget.title.label || widget.title.caption}?`
        });
        this.shouldSave = true;
        const messageNode = document.createElement('div');
        messageNode.textContent = "Your changes will be lost if you don't save them.";
        messageNode.setAttribute('style', 'flex: 1 100%; padding-bottom: calc(var(--theia-ui-padding)*3);');
        this.contentNode.appendChild(messageNode);
        this.dontSaveButton = this.appendDontSaveButton();
        this.appendCloseButton();
        this.appendAcceptButton('Save');
    }
    appendDontSaveButton() {
        const button = this.createButton("Don't save");
        this.controlPanel.appendChild(button);
        button.classList.add('secondary');
        return button;
    }
    onAfterAttach(msg) {
        super.onAfterAttach(msg);
        this.addKeyListener(this.dontSaveButton, keys_1.Key.ENTER, () => {
            this.shouldSave = false;
            this.accept();
        }, 'click');
    }
    get value() {
        return this.shouldSave;
    }
}
exports.ShouldSaveDialog = ShouldSaveDialog;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/shell/application-shell.js":
/*!**********************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/shell/application-shell.js ***!
  \**********************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
var ApplicationShell_1;
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ApplicationShell = exports.DockPanelRenderer = exports.DockPanelRendererFactory = exports.ApplicationShellOptions = exports.applicationShellLayoutVersion = void 0;
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const algorithm_1 = __webpack_require__(/*! @phosphor/algorithm */ "../node_modules/@phosphor/algorithm/lib/index.js");
const signaling_1 = __webpack_require__(/*! @phosphor/signaling */ "../node_modules/@phosphor/signaling/lib/index.js");
const widgets_1 = __webpack_require__(/*! @phosphor/widgets */ "../node_modules/@phosphor/widgets/lib/index.js");
const common_1 = __webpack_require__(/*! ../../common */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/index.js");
const browser_1 = __webpack_require__(/*! ../browser */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/browser.js");
const saveable_1 = __webpack_require__(/*! ../saveable */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/saveable.js");
const status_bar_1 = __webpack_require__(/*! ../status-bar/status-bar */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/status-bar/status-bar.js");
const theia_dock_panel_1 = __webpack_require__(/*! ./theia-dock-panel */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/shell/theia-dock-panel.js");
const side_panel_handler_1 = __webpack_require__(/*! ./side-panel-handler */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/shell/side-panel-handler.js");
const tab_bars_1 = __webpack_require__(/*! ./tab-bars */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/shell/tab-bars.js");
const split_panels_1 = __webpack_require__(/*! ./split-panels */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/shell/split-panels.js");
const frontend_application_state_1 = __webpack_require__(/*! ../frontend-application-state */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/frontend-application-state.js");
const tab_bar_toolbar_1 = __webpack_require__(/*! ./tab-bar-toolbar */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/shell/tab-bar-toolbar.js");
const context_key_service_1 = __webpack_require__(/*! ../context-key-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/context-key-service.js");
const event_1 = __webpack_require__(/*! ../../common/event */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/event.js");
const widgets_2 = __webpack_require__(/*! ../widgets */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/widgets/index.js");
const core_preferences_1 = __webpack_require__(/*! ../core-preferences */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/core-preferences.js");
const common_2 = __webpack_require__(/*! ../../common */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/index.js");
const breadcrumbs_renderer_1 = __webpack_require__(/*! ../breadcrumbs/breadcrumbs-renderer */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/breadcrumbs/breadcrumbs-renderer.js");
/** The class name added to ApplicationShell instances. */
const APPLICATION_SHELL_CLASS = 'theia-ApplicationShell';
/** The class name added to the main and bottom area panels. */
const MAIN_BOTTOM_AREA_CLASS = 'theia-app-centers';
/** Status bar entry identifier for the bottom panel toggle button. */
const BOTTOM_PANEL_TOGGLE_ID = 'bottom-panel-toggle';
/** The class name added to the main area panel. */
const MAIN_AREA_CLASS = 'theia-app-main';
/** The class name added to the bottom area panel. */
const BOTTOM_AREA_CLASS = 'theia-app-bottom';
/**
 * When a version is increased, make sure to introduce a migration (ApplicationShellLayoutMigration) to this version.
 */
exports.applicationShellLayoutVersion = 5.0;
exports.ApplicationShellOptions = Symbol('ApplicationShellOptions');
exports.DockPanelRendererFactory = Symbol('DockPanelRendererFactory');
/**
 * A renderer for dock panels that supports context menus on tabs.
 */
let DockPanelRenderer = class DockPanelRenderer {
    constructor(tabBarRendererFactory, tabBarToolbarRegistry, tabBarToolbarFactory, breadcrumbsRendererFactory) {
        this.tabBarRendererFactory = tabBarRendererFactory;
        this.tabBarToolbarRegistry = tabBarToolbarRegistry;
        this.tabBarToolbarFactory = tabBarToolbarFactory;
        this.breadcrumbsRendererFactory = breadcrumbsRendererFactory;
        this.tabBarClasses = [];
    }
    createTabBar() {
        const renderer = this.tabBarRendererFactory();
        const tabBar = new tab_bars_1.ToolbarAwareTabBar(this.tabBarToolbarRegistry, this.tabBarToolbarFactory, this.breadcrumbsRendererFactory, {
            renderer,
            // Scroll bar options
            handlers: ['drag-thumb', 'keyboard', 'wheel', 'touch'],
            useBothWheelAxes: true,
            scrollXMarginOffset: 4,
            suppressScrollY: true
        });
        this.tabBarClasses.forEach(c => tabBar.addClass(c));
        renderer.tabBar = tabBar;
        tabBar.disposed.connect(() => renderer.dispose());
        renderer.contextMenuPath = tab_bars_1.SHELL_TABBAR_CONTEXT_MENU;
        tabBar.currentChanged.connect(this.onCurrentTabChanged, this);
        return tabBar;
    }
    createHandle() {
        return widgets_1.DockPanel.defaultRenderer.createHandle();
    }
    onCurrentTabChanged(sender, { currentIndex }) {
        if (currentIndex >= 0) {
            sender.revealTab(currentIndex);
        }
    }
};
DockPanelRenderer = __decorate([
    inversify_1.injectable(),
    __param(0, inversify_1.inject(tab_bars_1.TabBarRendererFactory)),
    __param(1, inversify_1.inject(tab_bar_toolbar_1.TabBarToolbarRegistry)),
    __param(2, inversify_1.inject(tab_bar_toolbar_1.TabBarToolbarFactory)),
    __param(3, inversify_1.inject(breadcrumbs_renderer_1.BreadcrumbsRendererFactory)),
    __metadata("design:paramtypes", [Function, tab_bar_toolbar_1.TabBarToolbarRegistry, Function, Function])
], DockPanelRenderer);
exports.DockPanelRenderer = DockPanelRenderer;
/**
 * The application shell manages the top-level widgets of the application. Use this class to
 * add, remove, or activate a widget.
 */
let ApplicationShell = ApplicationShell_1 = class ApplicationShell extends widgets_1.Widget {
    /**
     * Construct a new application shell.
     */
    constructor(dockPanelRendererFactory, statusBar, sidePanelHandlerFactory, splitPositionHandler, applicationStateService, options = {}, corePreferences) {
        super(options);
        this.dockPanelRendererFactory = dockPanelRendererFactory;
        this.statusBar = statusBar;
        this.splitPositionHandler = splitPositionHandler;
        this.applicationStateService = applicationStateService;
        this.corePreferences = corePreferences;
        /**
         * The current state of the bottom panel.
         */
        this.bottomPanelState = {
            empty: true,
            expansion: side_panel_handler_1.SidePanel.ExpansionState.collapsed,
            pendingUpdate: Promise.resolve()
        };
        this.tracker = new widgets_1.FocusTracker();
        this.onDidAddWidgetEmitter = new event_1.Emitter();
        this.onDidAddWidget = this.onDidAddWidgetEmitter.event;
        this.onDidRemoveWidgetEmitter = new event_1.Emitter();
        this.onDidRemoveWidget = this.onDidRemoveWidgetEmitter.event;
        this.onDidChangeActiveWidgetEmitter = new event_1.Emitter();
        this.onDidChangeActiveWidget = this.onDidChangeActiveWidgetEmitter.event;
        this.onDidChangeCurrentWidgetEmitter = new event_1.Emitter();
        this.onDidChangeCurrentWidget = this.onDidChangeCurrentWidgetEmitter.event;
        /**
         * A signal emitted whenever the `currentWidget` property is changed.
         *
         * @deprecated since 0.11.0, use `onDidChangeCurrentWidget` instead
         */
        this.currentChanged = new signaling_1.Signal(this);
        /**
         * A signal emitted whenever the `activeWidget` property is changed.
         *
         * @deprecated since 0.11.0, use `onDidChangeActiveWidget` instead
         */
        this.activeChanged = new signaling_1.Signal(this);
        this.toDisposeOnActiveChanged = new common_1.DisposableCollection();
        this.activationTimeout = 2000;
        this.toDisposeOnActivationCheck = new common_1.DisposableCollection();
        this.addClass(APPLICATION_SHELL_CLASS);
        this.id = 'theia-app-shell';
        // Merge the user-defined application options with the default options
        this.options = {
            bottomPanel: Object.assign(Object.assign({}, ApplicationShell_1.DEFAULT_OPTIONS.bottomPanel), options.bottomPanel || {}),
            leftPanel: Object.assign(Object.assign({}, ApplicationShell_1.DEFAULT_OPTIONS.leftPanel), options.leftPanel || {}),
            rightPanel: Object.assign(Object.assign({}, ApplicationShell_1.DEFAULT_OPTIONS.rightPanel), options.rightPanel || {})
        };
        this.mainPanel = this.createMainPanel();
        this.topPanel = this.createTopPanel();
        this.bottomPanel = this.createBottomPanel();
        this.leftPanelHandler = sidePanelHandlerFactory();
        this.leftPanelHandler.create('left', this.options.leftPanel);
        this.leftPanelHandler.dockPanel.widgetAdded.connect((_, widget) => this.fireDidAddWidget(widget));
        this.leftPanelHandler.dockPanel.widgetRemoved.connect((_, widget) => this.fireDidRemoveWidget(widget));
        this.rightPanelHandler = sidePanelHandlerFactory();
        this.rightPanelHandler.create('right', this.options.rightPanel);
        this.rightPanelHandler.dockPanel.widgetAdded.connect((_, widget) => this.fireDidAddWidget(widget));
        this.rightPanelHandler.dockPanel.widgetRemoved.connect((_, widget) => this.fireDidRemoveWidget(widget));
        this.layout = this.createLayout();
        this.tracker.currentChanged.connect(this.onCurrentChanged, this);
        this.tracker.activeChanged.connect(this.onActiveChanged, this);
    }
    fireDidAddWidget(widget) {
        this.onDidAddWidgetEmitter.fire(widget);
    }
    fireDidRemoveWidget(widget) {
        this.onDidRemoveWidgetEmitter.fire(widget);
    }
    init() {
        this.initSidebarVisibleKeyContext();
        this.initFocusKeyContexts();
        if (!common_2.environment.electron.is()) {
            this.corePreferences.ready.then(() => {
                this.setTopPanelVisibility(this.corePreferences['window.menuBarVisibility']);
            });
            this.corePreferences.onPreferenceChanged(preference => {
                if (preference.preferenceName === 'window.menuBarVisibility') {
                    this.setTopPanelVisibility(preference.newValue);
                }
            });
        }
    }
    initSidebarVisibleKeyContext() {
        const leftSideBarPanel = this.leftPanelHandler.dockPanel;
        const sidebarVisibleKey = this.contextKeyService.createKey('sidebarVisible', leftSideBarPanel.isVisible);
        const onAfterShow = leftSideBarPanel['onAfterShow'].bind(leftSideBarPanel);
        leftSideBarPanel['onAfterShow'] = (msg) => {
            onAfterShow(msg);
            sidebarVisibleKey.set(true);
        };
        const onAfterHide = leftSideBarPanel['onAfterHide'].bind(leftSideBarPanel);
        leftSideBarPanel['onAfterHide'] = (msg) => {
            onAfterHide(msg);
            sidebarVisibleKey.set(false);
        };
    }
    initFocusKeyContexts() {
        const sideBarFocus = this.contextKeyService.createKey('sideBarFocus', false);
        const panelFocus = this.contextKeyService.createKey('panelFocus', false);
        const updateFocusContextKeys = () => {
            const area = this.activeWidget && this.getAreaFor(this.activeWidget);
            sideBarFocus.set(area === 'left');
            panelFocus.set(area === 'main');
        };
        updateFocusContextKeys();
        this.activeChanged.connect(updateFocusContextKeys);
    }
    setTopPanelVisibility(preference) {
        const hiddenPreferences = ['compact', 'hidden'];
        this.topPanel.setHidden(hiddenPreferences.includes(preference));
    }
    onBeforeAttach(msg) {
        document.addEventListener('p-dragenter', this, true);
        document.addEventListener('p-dragover', this, true);
        document.addEventListener('p-dragleave', this, true);
        document.addEventListener('p-drop', this, true);
    }
    onAfterDetach(msg) {
        document.removeEventListener('p-dragenter', this, true);
        document.removeEventListener('p-dragover', this, true);
        document.removeEventListener('p-dragleave', this, true);
        document.removeEventListener('p-drop', this, true);
    }
    handleEvent(event) {
        switch (event.type) {
            case 'p-dragenter':
                this.onDragEnter(event);
                break;
            case 'p-dragover':
                this.onDragOver(event);
                break;
            case 'p-drop':
                this.onDrop(event);
                break;
            case 'p-dragleave':
                this.onDragLeave(event);
                break;
        }
    }
    onDragEnter({ mimeData }) {
        if (!this.dragState) {
            if (mimeData && mimeData.hasData('application/vnd.phosphor.widget-factory')) {
                // The drag contains a widget, so we'll track it and expand side panels as needed
                this.dragState = {
                    startTime: performance.now(),
                    leftExpanded: false,
                    rightExpanded: false,
                    bottomExpanded: false
                };
            }
        }
    }
    onDragOver(event) {
        const state = this.dragState;
        if (state) {
            state.lastDragOver = event;
            if (state.leaveTimeout) {
                window.clearTimeout(state.leaveTimeout);
                state.leaveTimeout = undefined;
            }
            const { clientX, clientY } = event;
            const { offsetLeft, offsetTop, clientWidth, clientHeight } = this.node;
            // Don't expand any side panels right after the drag has started
            const allowExpansion = performance.now() - state.startTime >= 500;
            const expLeft = allowExpansion && clientX >= offsetLeft
                && clientX <= offsetLeft + this.options.leftPanel.expandThreshold;
            const expRight = allowExpansion && clientX <= offsetLeft + clientWidth
                && clientX >= offsetLeft + clientWidth - this.options.rightPanel.expandThreshold;
            const expBottom = allowExpansion && !expLeft && !expRight && clientY <= offsetTop + clientHeight
                && clientY >= offsetTop + clientHeight - this.options.bottomPanel.expandThreshold;
            // eslint-disable-next-line no-null/no-null
            if (expLeft && !state.leftExpanded && this.leftPanelHandler.tabBar.currentTitle === null) {
                // The mouse cursor is moved close to the left border
                this.leftPanelHandler.expand();
                this.leftPanelHandler.state.pendingUpdate.then(() => this.dispatchMouseMove());
                state.leftExpanded = true;
            }
            else if (!expLeft && state.leftExpanded) {
                // The mouse cursor is moved away from the left border
                this.leftPanelHandler.collapse();
                state.leftExpanded = false;
            }
            // eslint-disable-next-line no-null/no-null
            if (expRight && !state.rightExpanded && this.rightPanelHandler.tabBar.currentTitle === null) {
                // The mouse cursor is moved close to the right border
                this.rightPanelHandler.expand();
                this.rightPanelHandler.state.pendingUpdate.then(() => this.dispatchMouseMove());
                state.rightExpanded = true;
            }
            else if (!expRight && state.rightExpanded) {
                // The mouse cursor is moved away from the right border
                this.rightPanelHandler.collapse();
                state.rightExpanded = false;
            }
            if (expBottom && !state.bottomExpanded && this.bottomPanel.isHidden) {
                // The mouse cursor is moved close to the bottom border
                this.expandBottomPanel();
                this.bottomPanelState.pendingUpdate.then(() => this.dispatchMouseMove());
                state.bottomExpanded = true;
            }
            else if (!expBottom && state.bottomExpanded) {
                // The mouse cursor is moved away from the bottom border
                this.collapseBottomPanel();
                state.bottomExpanded = false;
            }
        }
    }
    /**
     * This method is called after a side panel has been expanded while dragging a widget. It fires
     * a `mousemove` event so that the drag overlay markers are updated correctly in all dock panels.
     */
    dispatchMouseMove() {
        if (this.dragState && this.dragState.lastDragOver) {
            const { clientX, clientY } = this.dragState.lastDragOver;
            const event = document.createEvent('MouseEvent');
            event.initMouseEvent('mousemove', true, true, window, 0, 0, 0, 
            // eslint-disable-next-line no-null/no-null
            clientX, clientY, false, false, false, false, 0, null);
            document.dispatchEvent(event);
        }
    }
    onDrop(event) {
        const state = this.dragState;
        if (state) {
            if (state.leaveTimeout) {
                window.clearTimeout(state.leaveTimeout);
            }
            this.dragState = undefined;
            window.requestAnimationFrame(() => {
                // Clean up the side panel state in the next frame
                if (this.leftPanelHandler.dockPanel.isEmpty) {
                    this.leftPanelHandler.collapse();
                }
                if (this.rightPanelHandler.dockPanel.isEmpty) {
                    this.rightPanelHandler.collapse();
                }
                if (this.bottomPanel.isEmpty) {
                    this.collapseBottomPanel();
                }
            });
        }
    }
    onDragLeave(event) {
        const state = this.dragState;
        if (state) {
            state.lastDragOver = undefined;
            if (state.leaveTimeout) {
                window.clearTimeout(state.leaveTimeout);
            }
            state.leaveTimeout = window.setTimeout(() => {
                this.dragState = undefined;
                if (state.leftExpanded || this.leftPanelHandler.dockPanel.isEmpty) {
                    this.leftPanelHandler.collapse();
                }
                if (state.rightExpanded || this.rightPanelHandler.dockPanel.isEmpty) {
                    this.rightPanelHandler.collapse();
                }
                if (state.bottomExpanded || this.bottomPanel.isEmpty) {
                    this.collapseBottomPanel();
                }
            }, 100);
        }
    }
    /**
     * Create the dock panel in the main shell area.
     */
    createMainPanel() {
        const renderer = this.dockPanelRendererFactory();
        renderer.tabBarClasses.push(MAIN_BOTTOM_AREA_CLASS);
        renderer.tabBarClasses.push(MAIN_AREA_CLASS);
        const dockPanel = new theia_dock_panel_1.TheiaDockPanel({
            mode: 'multiple-document',
            renderer,
            spacing: 0
        }, this.corePreferences);
        dockPanel.id = theia_dock_panel_1.MAIN_AREA_ID;
        dockPanel.widgetAdded.connect((_, widget) => this.fireDidAddWidget(widget));
        dockPanel.widgetRemoved.connect((_, widget) => this.fireDidRemoveWidget(widget));
        return dockPanel;
    }
    /**
     * Create the dock panel in the bottom shell area.
     */
    createBottomPanel() {
        const renderer = this.dockPanelRendererFactory();
        renderer.tabBarClasses.push(MAIN_BOTTOM_AREA_CLASS);
        renderer.tabBarClasses.push(BOTTOM_AREA_CLASS);
        const dockPanel = new theia_dock_panel_1.TheiaDockPanel({
            mode: 'multiple-document',
            renderer,
            spacing: 0
        }, this.corePreferences);
        dockPanel.id = theia_dock_panel_1.BOTTOM_AREA_ID;
        dockPanel.widgetAdded.connect((sender, widget) => {
            this.refreshBottomPanelToggleButton();
        });
        dockPanel.widgetRemoved.connect((sender, widget) => {
            if (sender.isEmpty) {
                this.collapseBottomPanel();
            }
            this.refreshBottomPanelToggleButton();
        }, this);
        dockPanel.node.addEventListener('p-dragenter', event => {
            // Make sure that the main panel hides its overlay when the bottom panel is expanded
            this.mainPanel.overlay.hide(0);
        });
        dockPanel.hide();
        dockPanel.widgetAdded.connect((_, widget) => this.fireDidAddWidget(widget));
        dockPanel.widgetRemoved.connect((_, widget) => this.fireDidRemoveWidget(widget));
        return dockPanel;
    }
    /**
     * Create the top panel, which is used to hold the main menu.
     */
    createTopPanel() {
        const topPanel = new widgets_1.Panel();
        topPanel.id = 'theia-top-panel';
        topPanel.hide();
        return topPanel;
    }
    /**
     * Create a box layout to assemble the application shell layout.
     */
    createBoxLayout(widgets, stretch, options) {
        const boxLayout = new widgets_1.BoxLayout(options);
        for (let i = 0; i < widgets.length; i++) {
            if (stretch !== undefined && i < stretch.length) {
                widgets_1.BoxPanel.setStretch(widgets[i], stretch[i]);
            }
            boxLayout.addWidget(widgets[i]);
        }
        return boxLayout;
    }
    /**
     * Create a split layout to assemble the application shell layout.
     */
    createSplitLayout(widgets, stretch, options) {
        let optParam = { renderer: widgets_1.SplitPanel.defaultRenderer, };
        if (options) {
            optParam = Object.assign(Object.assign({}, optParam), options);
        }
        const splitLayout = new widgets_1.SplitLayout(optParam);
        for (let i = 0; i < widgets.length; i++) {
            if (stretch !== undefined && i < stretch.length) {
                widgets_1.SplitPanel.setStretch(widgets[i], stretch[i]);
            }
            splitLayout.addWidget(widgets[i]);
        }
        return splitLayout;
    }
    /**
     * Assemble the application shell layout. Override this method in order to change the arrangement
     * of the main area and the side panels.
     */
    createLayout() {
        const bottomSplitLayout = this.createSplitLayout([this.mainPanel, this.bottomPanel], [1, 0], { orientation: 'vertical', spacing: 0 });
        const panelForBottomArea = new widgets_1.SplitPanel({ layout: bottomSplitLayout });
        panelForBottomArea.id = 'theia-bottom-split-panel';
        const leftRightSplitLayout = this.createSplitLayout([this.leftPanelHandler.container, panelForBottomArea, this.rightPanelHandler.container], [0, 1, 0], { orientation: 'horizontal', spacing: 0 });
        const panelForSideAreas = new widgets_1.SplitPanel({ layout: leftRightSplitLayout });
        panelForSideAreas.id = 'theia-left-right-split-panel';
        return this.createBoxLayout([this.topPanel, panelForSideAreas, this.statusBar], [0, 1, 0], { direction: 'top-to-bottom', spacing: 0 });
    }
    /**
     * Create an object that describes the current shell layout. This object may contain references
     * to widgets; these need to be transformed before the layout can be serialized.
     */
    getLayoutData() {
        return {
            version: exports.applicationShellLayoutVersion,
            mainPanel: this.mainPanel.saveLayout(),
            bottomPanel: {
                config: this.bottomPanel.saveLayout(),
                size: this.bottomPanel.isVisible ? this.getBottomPanelSize() : this.bottomPanelState.lastPanelSize,
                expanded: this.isExpanded('bottom')
            },
            leftPanel: this.leftPanelHandler.getLayoutData(),
            rightPanel: this.rightPanelHandler.getLayoutData(),
            activeWidgetId: this.activeWidget ? this.activeWidget.id : undefined
        };
    }
    /**
     * Compute the current height of the bottom panel. This implementation assumes that the container
     * of the bottom panel is a `SplitPanel`.
     */
    getBottomPanelSize() {
        const parent = this.bottomPanel.parent;
        if (parent instanceof widgets_1.SplitPanel && parent.isVisible) {
            const index = parent.widgets.indexOf(this.bottomPanel) - 1;
            if (index >= 0) {
                const handle = parent.handles[index];
                if (!handle.classList.contains('p-mod-hidden')) {
                    const parentHeight = parent.node.clientHeight;
                    return parentHeight - handle.offsetTop;
                }
            }
        }
    }
    /**
     * Determine the default size to apply when the bottom panel is expanded for the first time.
     */
    getDefaultBottomPanelSize() {
        const parent = this.bottomPanel.parent;
        if (parent && parent.isVisible) {
            return parent.node.clientHeight * this.options.bottomPanel.initialSizeRatio;
        }
    }
    /**
     * Apply a shell layout that has been previously created with `getLayoutData`.
     */
    async setLayoutData(layoutData) {
        const { mainPanel, bottomPanel, leftPanel, rightPanel, activeWidgetId } = layoutData;
        if (leftPanel) {
            this.leftPanelHandler.setLayoutData(leftPanel);
            this.registerWithFocusTracker(leftPanel);
        }
        if (rightPanel) {
            this.rightPanelHandler.setLayoutData(rightPanel);
            this.registerWithFocusTracker(rightPanel);
        }
        // Proceed with the bottom panel once the side panels are set up
        await Promise.all([this.leftPanelHandler.state.pendingUpdate, this.rightPanelHandler.state.pendingUpdate]);
        if (bottomPanel) {
            if (bottomPanel.config) {
                this.bottomPanel.restoreLayout(bottomPanel.config);
                this.registerWithFocusTracker(bottomPanel.config.main);
            }
            if (bottomPanel.size) {
                this.bottomPanelState.lastPanelSize = bottomPanel.size;
            }
            if (bottomPanel.expanded) {
                this.expandBottomPanel();
            }
            else {
                this.collapseBottomPanel();
            }
            this.refreshBottomPanelToggleButton();
        }
        // Proceed with the main panel once all others are set up
        await this.bottomPanelState.pendingUpdate;
        if (mainPanel) {
            this.mainPanel.restoreLayout(mainPanel);
            this.registerWithFocusTracker(mainPanel.main);
        }
        if (activeWidgetId) {
            this.activateWidget(activeWidgetId);
        }
    }
    /**
     * Modify the height of the bottom panel. This implementation assumes that the container of the
     * bottom panel is a `SplitPanel`.
     */
    setBottomPanelSize(size) {
        const enableAnimation = this.applicationStateService.state === 'ready';
        const options = {
            side: 'bottom',
            duration: enableAnimation ? this.options.bottomPanel.expandDuration : 0,
            referenceWidget: this.bottomPanel
        };
        const promise = this.splitPositionHandler.setSidePanelSize(this.bottomPanel, size, options);
        const result = new Promise(resolve => {
            // Resolve the resulting promise in any case, regardless of whether resizing was successful
            promise.then(() => resolve(), () => resolve());
        });
        this.bottomPanelState.pendingUpdate = this.bottomPanelState.pendingUpdate.then(() => result);
        return result;
    }
    /**
     * A promise that is resolved when all currently pending updates are done.
     */
    get pendingUpdates() {
        return Promise.all([
            this.bottomPanelState.pendingUpdate,
            this.leftPanelHandler.state.pendingUpdate,
            this.rightPanelHandler.state.pendingUpdate
            // eslint-disable-next-line @typescript-eslint/no-explicit-any
        ]);
    }
    /**
     * Track all widgets that are referenced by the given layout data.
     */
    registerWithFocusTracker(data) {
        if (data) {
            if (data.type === 'tab-area') {
                for (const widget of data.widgets) {
                    if (widget) {
                        this.track(widget);
                    }
                }
            }
            else if (data.type === 'split-area') {
                for (const child of data.children) {
                    this.registerWithFocusTracker(child);
                }
            }
            else if (data.type === 'sidepanel' && data.items) {
                for (const item of data.items) {
                    if (item.widget) {
                        this.track(item.widget);
                    }
                }
            }
        }
    }
    /**
     * Add a widget to the application shell. The given widget must have a unique `id` property,
     * which will be used as the DOM id.
     *
     * Widgets are removed from the shell by calling their `close` or `dispose` methods.
     *
     * Widgets added to the top area are not tracked regarding the _current_ and _active_ states.
     */
    async addWidget(widget, options = {}) {
        if (!widget.id) {
            console.error('Widgets added to the application shell must have a unique id property.');
            return;
        }
        let ref = options.ref;
        let area = options.area || 'main';
        if (!ref && (area === 'main' || area === 'bottom')) {
            const tabBar = this.getTabBarFor(area);
            ref = tabBar && tabBar.currentTitle && tabBar.currentTitle.owner || undefined;
        }
        // make sure that ref belongs to area
        area = ref && this.getAreaFor(ref) || area;
        const addOptions = {};
        if (ApplicationShell_1.isOpenToSideMode(options.mode)) {
            const areaPanel = area === 'main' ? this.mainPanel : area === 'bottom' ? this.bottomPanel : undefined;
            const sideRef = areaPanel && ref && (options.mode === 'open-to-left' ?
                areaPanel.previousTabBarWidget(ref) :
                areaPanel.nextTabBarWidget(ref));
            if (sideRef) {
                addOptions.ref = sideRef;
            }
            else {
                addOptions.ref = ref;
                addOptions.mode = options.mode === 'open-to-left' ? 'split-left' : 'split-right';
            }
        }
        else {
            addOptions.ref = ref;
            addOptions.mode = options.mode;
        }
        const sidePanelOptions = { rank: options.rank };
        switch (area) {
            case 'main':
                this.mainPanel.addWidget(widget, addOptions);
                break;
            case 'top':
                this.topPanel.addWidget(widget);
                break;
            case 'bottom':
                this.bottomPanel.addWidget(widget, addOptions);
                break;
            case 'left':
                this.leftPanelHandler.addWidget(widget, sidePanelOptions);
                break;
            case 'right':
                this.rightPanelHandler.addWidget(widget, sidePanelOptions);
                break;
            default:
                throw new Error('Unexpected area: ' + options.area);
        }
        if (area !== 'top') {
            this.track(widget);
        }
    }
    /**
     * The widgets contained in the given shell area.
     */
    getWidgets(area) {
        switch (area) {
            case 'main':
                return algorithm_1.toArray(this.mainPanel.widgets());
            case 'top':
                return algorithm_1.toArray(this.topPanel.widgets);
            case 'bottom':
                return algorithm_1.toArray(this.bottomPanel.widgets());
            case 'left':
                return algorithm_1.toArray(this.leftPanelHandler.dockPanel.widgets());
            case 'right':
                return algorithm_1.toArray(this.rightPanelHandler.dockPanel.widgets());
            default:
                throw new Error('Illegal argument: ' + area);
        }
    }
    /**
     * Find the widget that contains the given HTML element. The returned widget may be one
     * that is managed by the application shell, or one that is embedded in another widget and
     * not directly managed by the shell, or a tab bar.
     */
    findWidgetForElement(element) {
        let widgetNode = element;
        while (widgetNode && !widgetNode.classList.contains('p-Widget')) {
            widgetNode = widgetNode.parentElement;
        }
        if (widgetNode) {
            return this.findWidgetForNode(widgetNode, this);
        }
        return undefined;
    }
    findWidgetForNode(widgetNode, widget) {
        if (widget.node === widgetNode) {
            return widget;
        }
        let result;
        algorithm_1.each(widget.children(), child => {
            result = this.findWidgetForNode(widgetNode, child);
            return !result;
        });
        return result;
    }
    /**
     * Finds the title widget from the tab-bar.
     * @param tabBar used for providing an array of titles.
     * @returns the selected title widget, else returns the currentTitle or undefined.
     */
    findTitle(tabBar, event) {
        if ((event === null || event === void 0 ? void 0 : event.target) instanceof HTMLElement) {
            let tabNode = event.target;
            while (tabNode && !tabNode.classList.contains('p-TabBar-tab')) {
                tabNode = tabNode.parentElement;
            }
            if (tabNode && tabNode.title) {
                let title = tabBar.titles.find(t => t.caption === tabNode.title);
                if (title) {
                    return title;
                }
                title = tabBar.titles.find(t => t.label === tabNode.title);
                if (title) {
                    return title;
                }
            }
        }
        return tabBar.currentTitle || undefined;
    }
    /**
     * Finds the tab-bar widget.
     * @returns the selected tab-bar, else returns the currentTabBar.
     */
    findTabBar(event) {
        if ((event === null || event === void 0 ? void 0 : event.target) instanceof HTMLElement) {
            const tabBar = this.findWidgetForElement(event.target);
            if (tabBar instanceof widgets_1.TabBar) {
                return tabBar;
            }
        }
        return this.currentTabBar;
    }
    /**
     *  @returns the widget whose title has been targeted by a DOM event on a tabbar, or undefined if none can be found.
     */
    findTargetedWidget(event) {
        if (event) {
            const tab = this.findTabBar(event);
            const title = tab && this.findTitle(tab, event);
            return title && title.owner;
        }
    }
    /**
     * The current widget in the application shell. The current widget is the last widget that
     * was active and not yet closed. See the remarks to `activeWidget` on what _active_ means.
     */
    get currentWidget() {
        return this.tracker.currentWidget || undefined;
    }
    /**
     * The active widget in the application shell. The active widget is the one that has focus
     * (either the widget itself or any of its contents).
     *
     * _Note:_ Focus is taken by a widget through the `onActivateRequest` method. It is up to the
     * widget implementation which DOM element will get the focus. The default implementation
     * does not take any focus; in that case the widget is never returned by this property.
     */
    get activeWidget() {
        return this.tracker.activeWidget || undefined;
    }
    /**
     * Returns the last active widget in the given shell area.
     */
    getCurrentWidget(area) {
        let title;
        switch (area) {
            case 'main':
                title = this.mainPanel.currentTitle;
                break;
            case 'bottom':
                title = this.bottomPanel.currentTitle;
                break;
            case 'left':
                title = this.leftPanelHandler.tabBar.currentTitle;
                break;
            case 'right':
                title = this.rightPanelHandler.tabBar.currentTitle;
                break;
            default:
                throw new Error('Illegal argument: ' + area);
        }
        return title ? title.owner : undefined;
    }
    /**
     * Handle a change to the current widget.
     */
    onCurrentChanged(sender, args) {
        this.currentChanged.emit(args);
        this.onDidChangeCurrentWidgetEmitter.fire(args);
    }
    /**
     * Handle a change to the active widget.
     */
    onActiveChanged(sender, args) {
        this.toDisposeOnActiveChanged.dispose();
        const { newValue, oldValue } = args;
        if (oldValue) {
            let w = oldValue;
            while (w) {
                // Remove the mark of the previously active widget
                w.title.className = w.title.className.replace(' theia-mod-active', '');
                w = w.parent;
            }
            // Reset the z-index to the default
            // eslint-disable-next-line no-null/no-null
            this.setZIndex(oldValue.node, null);
        }
        if (newValue) {
            let w = newValue;
            while (w) {
                // Mark the tab of the active widget
                w.title.className += ' theia-mod-active';
                w = w.parent;
            }
            // Reveal the title of the active widget in its tab bar
            const tabBar = this.getTabBarFor(newValue);
            if (tabBar instanceof tab_bars_1.ScrollableTabBar) {
                const index = tabBar.titles.indexOf(newValue.title);
                if (index >= 0) {
                    tabBar.revealTab(index);
                }
            }
            const panel = this.getAreaPanelFor(newValue);
            if (panel instanceof theia_dock_panel_1.TheiaDockPanel) {
                panel.markAsCurrent(newValue.title);
            }
            // Set the z-index so elements with `position: fixed` contained in the active widget are displayed correctly
            this.setZIndex(newValue.node, '1');
            // activate another widget if an active widget will be closed
            const onCloseRequest = newValue['onCloseRequest'];
            newValue['onCloseRequest'] = msg => {
                const currentTabBar = this.currentTabBar;
                if (currentTabBar) {
                    const recentlyUsedInTabBar = currentTabBar['_previousTitle'];
                    if (recentlyUsedInTabBar && recentlyUsedInTabBar.owner !== newValue) {
                        currentTabBar.currentIndex = algorithm_1.ArrayExt.firstIndexOf(currentTabBar.titles, recentlyUsedInTabBar);
                        if (currentTabBar.currentTitle) {
                            this.activateWidget(currentTabBar.currentTitle.owner.id);
                        }
                    }
                    else if (!this.activateNextTabInTabBar(currentTabBar)) {
                        if (!this.activatePreviousTabBar(currentTabBar)) {
                            this.activateNextTabBar(currentTabBar);
                        }
                    }
                }
                newValue['onCloseRequest'] = onCloseRequest;
                newValue['onCloseRequest'](msg);
            };
            this.toDisposeOnActiveChanged.push(common_1.Disposable.create(() => newValue['onCloseRequest'] = onCloseRequest));
        }
        this.activeChanged.emit(args);
        this.onDidChangeActiveWidgetEmitter.fire(args);
    }
    /**
     * Set the z-index of the given element and its ancestors to the value `z`.
     */
    setZIndex(element, z) {
        element.style.zIndex = z || '';
        const parent = element.parentElement;
        if (parent && parent !== this.node) {
            this.setZIndex(parent, z);
        }
    }
    /**
     * Track the given widget so it is considered in the `current` and `active` state of the shell.
     */
    track(widget) {
        if (this.tracker.widgets.indexOf(widget) !== -1) {
            return;
        }
        this.tracker.add(widget);
        this.checkActivation(widget);
        saveable_1.Saveable.apply(widget);
        if (ApplicationShell_1.TrackableWidgetProvider.is(widget)) {
            for (const toTrack of widget.getTrackableWidgets()) {
                this.track(toTrack);
            }
            if (widget.onDidChangeTrackableWidgets) {
                widget.onDidChangeTrackableWidgets(widgets => widgets.forEach(w => this.track(w)));
            }
        }
    }
    toTrackedStack(id) {
        const tracked = new Map(this.tracker.widgets.map(w => [w.id, w]));
        let current = tracked.get(id);
        const stack = [];
        while (current) {
            if (tracked.has(current.id)) {
                stack.push(current);
            }
            current = current.parent || undefined;
        }
        return stack;
    }
    /**
     * Activate a widget in the application shell. This makes the widget visible and usually
     * also assigns focus to it.
     *
     * _Note:_ Focus is taken by a widget through the `onActivateRequest` method. It is up to the
     * widget implementation which DOM element will get the focus. The default implementation
     * does not take any focus.
     *
     * @returns the activated widget if it was found
     */
    async activateWidget(id) {
        const stack = this.toTrackedStack(id);
        let current = stack.pop();
        if (current && !this.doActivateWidget(current.id)) {
            return undefined;
        }
        while (current && stack.length) {
            const child = stack.pop();
            if (ApplicationShell_1.TrackableWidgetProvider.is(current) && current.activateWidget) {
                current = current.activateWidget(child.id);
            }
            else {
                child.activate();
                current = child;
            }
        }
        if (!current) {
            return undefined;
        }
        await Promise.all([
            this.waitForActivation(current.id),
            widgets_2.waitForRevealed(current),
            this.pendingUpdates
        ]);
        return current;
    }
    waitForActivation(id) {
        if (this.activeWidget && this.activeWidget.id === id) {
            return Promise.resolve();
        }
        return new Promise(resolve => {
            const toDispose = this.onDidChangeActiveWidget(() => {
                if (this.activeWidget && this.activeWidget.id === id) {
                    toDispose.dispose();
                    resolve();
                }
            });
        });
    }
    /**
     * Activate top-level area widget.
     */
    doActivateWidget(id) {
        let widget = algorithm_1.find(this.mainPanel.widgets(), w => w.id === id);
        if (widget) {
            this.mainPanel.activateWidget(widget);
            return widget;
        }
        widget = algorithm_1.find(this.bottomPanel.widgets(), w => w.id === id);
        if (widget) {
            this.expandBottomPanel();
            this.bottomPanel.activateWidget(widget);
            return widget;
        }
        widget = this.leftPanelHandler.activate(id);
        if (widget) {
            return widget;
        }
        widget = this.rightPanelHandler.activate(id);
        if (widget) {
            return widget;
        }
    }
    /**
     * Focus is taken by a widget through the `onActivateRequest` method. It is up to the
     * widget implementation which DOM element will get the focus. The default implementation
     * of Widget does not take any focus. This method can help finding such problems by logging
     * a warning in case a widget was explicitly activated, but did not trigger a change of the
     * `activeWidget` property.
     */
    checkActivation(widget) {
        const onActivateRequest = widget['onActivateRequest'].bind(widget);
        widget['onActivateRequest'] = (msg) => {
            onActivateRequest(msg);
            this.assertActivated(widget);
        };
        return widget;
    }
    assertActivated(widget) {
        this.toDisposeOnActivationCheck.dispose();
        const onDispose = () => this.toDisposeOnActivationCheck.dispose();
        widget.disposed.connect(onDispose);
        this.toDisposeOnActivationCheck.push(common_1.Disposable.create(() => widget.disposed.disconnect(onDispose)));
        let start = 0;
        const step = timestamp => {
            if (document.activeElement && widget.node.contains(document.activeElement)) {
                return;
            }
            if (!start) {
                start = timestamp;
            }
            const delta = timestamp - start;
            if (delta < this.activationTimeout) {
                request = window.requestAnimationFrame(step);
            }
            else {
                console.warn(`Widget was activated, but did not accept focus after ${this.activationTimeout}ms: ${widget.id}`);
            }
        };
        let request = window.requestAnimationFrame(step);
        this.toDisposeOnActivationCheck.push(common_1.Disposable.create(() => window.cancelAnimationFrame(request)));
    }
    /**
     * Reveal a widget in the application shell. This makes the widget visible,
     * but does not activate it.
     *
     * @returns the revealed widget if it was found
     */
    async revealWidget(id) {
        const stack = this.toTrackedStack(id);
        let current = stack.pop();
        if (current && !this.doRevealWidget(current.id)) {
            return undefined;
        }
        while (current && stack.length) {
            const child = stack.pop();
            if (ApplicationShell_1.TrackableWidgetProvider.is(current) && current.revealWidget) {
                current = current.revealWidget(child.id);
            }
            else {
                current = child;
            }
        }
        if (!current) {
            return undefined;
        }
        await Promise.all([
            widgets_2.waitForRevealed(current),
            this.pendingUpdates
        ]);
        return current;
    }
    /**
     * Reveal top-level area widget.
     */
    doRevealWidget(id) {
        let widget = algorithm_1.find(this.mainPanel.widgets(), w => w.id === id);
        if (!widget) {
            widget = algorithm_1.find(this.bottomPanel.widgets(), w => w.id === id);
            if (widget) {
                this.expandBottomPanel();
            }
        }
        if (widget) {
            const tabBar = this.getTabBarFor(widget);
            if (tabBar) {
                tabBar.currentTitle = widget.title;
            }
            return widget;
        }
        widget = this.leftPanelHandler.expand(id);
        if (widget) {
            return widget;
        }
        return this.rightPanelHandler.expand(id);
    }
    /**
     * Expand the named side panel area. This makes sure that the panel is visible, even if there
     * are no widgets in it. If the panel is already visible, nothing happens. If the panel is currently
     * collapsed (see `collapsePanel`) and it contains widgets, the widgets are revealed that were
     * visible before it was collapsed.
     */
    expandPanel(area) {
        switch (area) {
            case 'bottom':
                this.expandBottomPanel();
                break;
            case 'left':
                this.leftPanelHandler.expand();
                break;
            case 'right':
                this.rightPanelHandler.expand();
                break;
            default:
                throw new Error('Area cannot be expanded: ' + area);
        }
    }
    /**
     * Adjusts the size of the given area in the application shell.
     *
     * @param size the desired size of the panel in pixels.
     * @param area the area to resize.
     */
    resize(size, area) {
        switch (area) {
            case 'bottom':
                if (this.bottomPanel.isHidden) {
                    this.bottomPanelState.lastPanelSize = size;
                }
                else {
                    this.setBottomPanelSize(size);
                }
                break;
            case 'left':
                this.leftPanelHandler.resize(size);
                break;
            case 'right':
                this.rightPanelHandler.resize(size);
                break;
            default:
                throw new Error('Area cannot be resized: ' + area);
        }
    }
    /**
     * Expand the bottom panel. See `expandPanel` regarding the exact behavior.
     */
    expandBottomPanel() {
        const bottomPanel = this.bottomPanel;
        if (bottomPanel.isHidden) {
            let relativeSizes;
            const parent = bottomPanel.parent;
            if (parent instanceof widgets_1.SplitPanel) {
                relativeSizes = parent.relativeSizes();
            }
            bottomPanel.show();
            if (relativeSizes && parent instanceof widgets_1.SplitPanel) {
                // Make sure that the expansion animation starts at the smallest possible size
                parent.setRelativeSizes(relativeSizes);
            }
            let size;
            if (bottomPanel.isEmpty) {
                bottomPanel.node.style.minHeight = '0';
                size = this.options.bottomPanel.emptySize;
            }
            else if (this.bottomPanelState.lastPanelSize) {
                size = this.bottomPanelState.lastPanelSize;
            }
            else {
                size = this.getDefaultBottomPanelSize();
            }
            if (size) {
                this.bottomPanelState.expansion = side_panel_handler_1.SidePanel.ExpansionState.expanding;
                this.setBottomPanelSize(size).then(() => {
                    if (this.bottomPanelState.expansion === side_panel_handler_1.SidePanel.ExpansionState.expanding) {
                        this.bottomPanelState.expansion = side_panel_handler_1.SidePanel.ExpansionState.expanded;
                    }
                });
            }
            else {
                this.bottomPanelState.expansion = side_panel_handler_1.SidePanel.ExpansionState.expanded;
            }
        }
    }
    /**
     * Collapse the named side panel area. This makes sure that the panel is hidden,
     * increasing the space that is available for other shell areas.
     */
    collapsePanel(area) {
        switch (area) {
            case 'bottom':
                return this.collapseBottomPanel();
            case 'left':
                return this.leftPanelHandler.collapse();
            case 'right':
                return this.rightPanelHandler.collapse();
            default:
                throw new Error('Area cannot be collapsed: ' + area);
        }
    }
    /**
     * Collapse the bottom panel. All contained widgets are hidden, but not closed.
     * They can be restored by calling `expandBottomPanel`.
     */
    collapseBottomPanel() {
        const bottomPanel = this.bottomPanel;
        if (bottomPanel.isHidden) {
            return Promise.resolve();
        }
        if (this.bottomPanelState.expansion === side_panel_handler_1.SidePanel.ExpansionState.expanded) {
            const size = this.getBottomPanelSize();
            if (size) {
                this.bottomPanelState.lastPanelSize = size;
            }
        }
        this.bottomPanelState.expansion = side_panel_handler_1.SidePanel.ExpansionState.collapsed;
        bottomPanel.hide();
        return browser_1.animationFrame();
    }
    /**
     * Refresh the toggle button for the bottom panel. This implementation creates a status bar entry
     * and refers to the command `core.toggle.bottom.panel`.
     */
    refreshBottomPanelToggleButton() {
        if (this.bottomPanel.isEmpty) {
            this.statusBar.removeElement(BOTTOM_PANEL_TOGGLE_ID);
        }
        else {
            const element = {
                text: '$(codicon-window)',
                alignment: status_bar_1.StatusBarAlignment.RIGHT,
                tooltip: 'Toggle Bottom Panel',
                command: 'core.toggle.bottom.panel',
                priority: -1000
            };
            this.statusBar.setElement(BOTTOM_PANEL_TOGGLE_ID, element);
        }
    }
    /**
     * Check whether the named side panel area is expanded (returns `true`) or collapsed (returns `false`).
     */
    isExpanded(area) {
        switch (area) {
            case 'bottom':
                return this.bottomPanelState.expansion === side_panel_handler_1.SidePanel.ExpansionState.expanded;
            case 'left':
                return this.leftPanelHandler.state.expansion === side_panel_handler_1.SidePanel.ExpansionState.expanded;
            case 'right':
                return this.rightPanelHandler.state.expansion === side_panel_handler_1.SidePanel.ExpansionState.expanded;
            default:
                return true;
        }
    }
    /**
     * Close all tabs or a selection of tabs in a specific part of the application shell.
     *
     * @param tabBarOrArea
     *      Either the name of a shell area or a `TabBar` that is contained in such an area.
     * @param filter
     *      If undefined, all tabs are closed; otherwise only those tabs that match the filter are closed.
     */
    closeTabs(tabBarOrArea, filter) {
        if (tabBarOrArea === 'main') {
            this.mainAreaTabBars.forEach(tb => this.closeTabs(tb, filter));
        }
        else if (tabBarOrArea === 'bottom') {
            this.bottomAreaTabBars.forEach(tb => this.closeTabs(tb, filter));
        }
        else if (typeof tabBarOrArea === 'string') {
            const tabBar = this.getTabBarFor(tabBarOrArea);
            if (tabBar) {
                this.closeTabs(tabBar, filter);
            }
        }
        else if (tabBarOrArea) {
            const titles = algorithm_1.toArray(tabBarOrArea.titles);
            for (let i = 0; i < titles.length; i++) {
                if (filter === undefined || filter(titles[i], i)) {
                    titles[i].owner.close();
                }
            }
        }
    }
    saveTabs(tabBarOrArea, filter) {
        if (tabBarOrArea === 'main') {
            this.mainAreaTabBars.forEach(tb => this.saveTabs(tb, filter));
        }
        else if (tabBarOrArea === 'bottom') {
            this.bottomAreaTabBars.forEach(tb => this.saveTabs(tb, filter));
        }
        else if (typeof tabBarOrArea === 'string') {
            const tabBar = this.getTabBarFor(tabBarOrArea);
            if (tabBar) {
                this.saveTabs(tabBar, filter);
            }
        }
        else if (tabBarOrArea) {
            const titles = algorithm_1.toArray(tabBarOrArea.titles);
            for (let i = 0; i < titles.length; i++) {
                if (filter === undefined || filter(titles[i], i)) {
                    const widget = titles[i].owner;
                    const saveable = saveable_1.Saveable.get(widget);
                    saveable === null || saveable === void 0 ? void 0 : saveable.save();
                }
            }
        }
    }
    async closeWidget(id, options) {
        // TODO handle save for composite widgets, i.e. the preference widget has 2 editors
        const stack = this.toTrackedStack(id);
        const current = stack.pop();
        if (!current) {
            return undefined;
        }
        let pendingClose;
        if (saveable_1.SaveableWidget.is(current)) {
            let shouldSave;
            if (options && 'save' in options) {
                shouldSave = () => options.save;
            }
            pendingClose = current.closeWithSaving({ shouldSave });
        }
        else {
            current.close();
            pendingClose = widgets_2.waitForClosed(current);
        }
        ;
        await Promise.all([
            pendingClose,
            this.pendingUpdates
        ]);
        return stack[0] || current;
    }
    /**
     * The shell area name of the currently active tab, or undefined.
     */
    get currentTabArea() {
        const currentWidget = this.currentWidget;
        if (currentWidget) {
            return this.getAreaFor(currentWidget);
        }
    }
    /**
     * Determine the name of the shell area where the given widget resides. The result is
     * undefined if the widget does not reside directly in the shell.
     */
    getAreaFor(input) {
        if (input instanceof widgets_1.TabBar) {
            if (algorithm_1.find(this.mainPanel.tabBars(), tb => tb === input)) {
                return 'main';
            }
            if (algorithm_1.find(this.bottomPanel.tabBars(), tb => tb === input)) {
                return 'bottom';
            }
            if (this.leftPanelHandler.tabBar === input) {
                return 'left';
            }
            if (this.rightPanelHandler.tabBar === input) {
                return 'right';
            }
        }
        const widget = this.toTrackedStack(input.id).pop();
        if (!widget) {
            return undefined;
        }
        const title = widget.title;
        const mainPanelTabBar = this.mainPanel.findTabBar(title);
        if (mainPanelTabBar) {
            return 'main';
        }
        const bottomPanelTabBar = this.bottomPanel.findTabBar(title);
        if (bottomPanelTabBar) {
            return 'bottom';
        }
        if (algorithm_1.ArrayExt.firstIndexOf(this.leftPanelHandler.tabBar.titles, title) > -1) {
            return 'left';
        }
        if (algorithm_1.ArrayExt.firstIndexOf(this.rightPanelHandler.tabBar.titles, title) > -1) {
            return 'right';
        }
        return undefined;
    }
    getAreaPanelFor(input) {
        const widget = this.toTrackedStack(input.id).pop();
        if (!widget) {
            return undefined;
        }
        const title = widget.title;
        const mainPanelTabBar = this.mainPanel.findTabBar(title);
        if (mainPanelTabBar) {
            return this.mainPanel;
        }
        const bottomPanelTabBar = this.bottomPanel.findTabBar(title);
        if (bottomPanelTabBar) {
            return this.bottomPanel;
        }
        if (algorithm_1.ArrayExt.firstIndexOf(this.leftPanelHandler.tabBar.titles, title) > -1) {
            return this.leftPanelHandler.dockPanel;
        }
        if (algorithm_1.ArrayExt.firstIndexOf(this.rightPanelHandler.tabBar.titles, title) > -1) {
            return this.rightPanelHandler.dockPanel;
        }
        return undefined;
    }
    /**
     * Return the tab bar that has the currently active widget, or undefined.
     */
    get currentTabBar() {
        const currentWidget = this.currentWidget;
        if (currentWidget) {
            return this.getTabBarFor(currentWidget);
        }
    }
    /**
     * Return the tab bar in the given shell area, or the tab bar that has the given widget, or undefined.
     */
    getTabBarFor(widgetOrArea) {
        if (typeof widgetOrArea === 'string') {
            switch (widgetOrArea) {
                case 'main':
                    return this.mainPanel.currentTabBar;
                case 'bottom':
                    return this.bottomPanel.currentTabBar;
                case 'left':
                    return this.leftPanelHandler.tabBar;
                case 'right':
                    return this.rightPanelHandler.tabBar;
                default:
                    throw new Error('Illegal argument: ' + widgetOrArea);
            }
        }
        const widget = this.toTrackedStack(widgetOrArea.id).pop();
        if (!widget) {
            return undefined;
        }
        const widgetTitle = widget.title;
        const mainPanelTabBar = this.mainPanel.findTabBar(widgetTitle);
        if (mainPanelTabBar) {
            return mainPanelTabBar;
        }
        const bottomPanelTabBar = this.bottomPanel.findTabBar(widgetTitle);
        if (bottomPanelTabBar) {
            return bottomPanelTabBar;
        }
        const leftPanelTabBar = this.leftPanelHandler.tabBar;
        if (algorithm_1.ArrayExt.firstIndexOf(leftPanelTabBar.titles, widgetTitle) > -1) {
            return leftPanelTabBar;
        }
        const rightPanelTabBar = this.rightPanelHandler.tabBar;
        if (algorithm_1.ArrayExt.firstIndexOf(rightPanelTabBar.titles, widgetTitle) > -1) {
            return rightPanelTabBar;
        }
        return undefined;
    }
    /**
     * The tab bars contained in the main shell area. If there is no widget in the main area, the
     * returned array is empty.
     */
    get mainAreaTabBars() {
        return algorithm_1.toArray(this.mainPanel.tabBars());
    }
    /**
     * The tab bars contained in the bottom shell area. If there is no widget in the bottom area,
     * the returned array is empty.
     */
    get bottomAreaTabBars() {
        return algorithm_1.toArray(this.bottomPanel.tabBars());
    }
    /**
     * The tab bars contained in all shell areas.
     */
    get allTabBars() {
        return [...this.mainAreaTabBars, ...this.bottomAreaTabBars, this.leftPanelHandler.tabBar, this.rightPanelHandler.tabBar];
    }
    /*
     * Activate the next tab in the current tab bar.
     */
    activateNextTabInTabBar(current = this.currentTabBar) {
        const index = this.nextTabIndexInTabBar(current);
        if (!current || index === -1) {
            return false;
        }
        current.currentIndex = index;
        if (current.currentTitle) {
            this.activateWidget(current.currentTitle.owner.id);
        }
        return true;
    }
    nextTabIndexInTabBar(current = this.currentTabBar) {
        if (!current || current.titles.length <= 1) {
            return -1;
        }
        const index = current.currentIndex;
        if (index === -1) {
            return -1;
        }
        if (index < current.titles.length - 1) {
            return index + 1;
        }
        return 0;
    }
    activateNextTab() {
        const current = this.currentTabBar;
        if (current) {
            const ci = current.currentIndex;
            if (ci !== -1) {
                if (ci < current.titles.length - 1) {
                    current.currentIndex += 1;
                    if (current.currentTitle) {
                        this.activateWidget(current.currentTitle.owner.id);
                    }
                    return true;
                }
                else if (ci === current.titles.length - 1) {
                    return this.activateNextTabBar(current);
                }
            }
        }
        return false;
    }
    activateNextTabBar(current = this.currentTabBar) {
        const nextBar = this.nextTabBar(current);
        if (nextBar) {
            nextBar.currentIndex = 0;
            if (nextBar.currentTitle) {
                this.activateWidget(nextBar.currentTitle.owner.id);
            }
            return true;
        }
        return false;
    }
    /**
     * Return the tab bar next to the given tab bar; return the given tab bar if there is no adjacent one.
     */
    nextTabBar(current = this.currentTabBar) {
        let bars = algorithm_1.toArray(this.bottomPanel.tabBars());
        let len = bars.length;
        let ci = algorithm_1.ArrayExt.firstIndexOf(bars, current);
        if (ci < 0) {
            bars = algorithm_1.toArray(this.mainPanel.tabBars());
            len = bars.length;
            ci = algorithm_1.ArrayExt.firstIndexOf(bars, current);
        }
        if (ci >= 0 && ci < len - 1) {
            return bars[ci + 1];
        }
        else if (ci >= 0 && ci === len - 1) {
            return bars[0];
        }
        else {
            return current;
        }
    }
    /*
     * Activate the previous tab in the current tab bar.
     */
    activatePreviousTabInTabBar(current = this.currentTabBar) {
        const index = this.previousTabIndexInTabBar(current);
        if (!current || index === -1) {
            return false;
        }
        current.currentIndex = index;
        if (current.currentTitle) {
            this.activateWidget(current.currentTitle.owner.id);
        }
        return true;
    }
    previousTabIndexInTabBar(current = this.currentTabBar) {
        if (!current || current.titles.length <= 1) {
            return -1;
        }
        const index = current.currentIndex;
        if (index === -1) {
            return -1;
        }
        if (index > 0) {
            return index - 1;
        }
        return current.titles.length - 1;
    }
    activatePreviousTab() {
        const current = this.currentTabBar;
        if (current) {
            const ci = current.currentIndex;
            if (ci !== -1) {
                if (ci > 0) {
                    current.currentIndex -= 1;
                    if (current.currentTitle) {
                        this.activateWidget(current.currentTitle.owner.id);
                    }
                    return true;
                }
                else if (ci === 0) {
                    return this.activatePreviousTabBar(current);
                }
            }
        }
        return false;
    }
    activatePreviousTabBar(current = this.currentTabBar) {
        const prevBar = this.previousTabBar(current);
        if (!prevBar) {
            return false;
        }
        const len = prevBar.titles.length;
        prevBar.currentIndex = len - 1;
        if (prevBar.currentTitle) {
            this.activateWidget(prevBar.currentTitle.owner.id);
        }
        return true;
    }
    /**
     * Return the tab bar previous to the given tab bar; return the given tab bar if there is no adjacent one.
     */
    previousTabBar(current = this.currentTabBar) {
        const bars = algorithm_1.toArray(this.mainPanel.tabBars());
        const len = bars.length;
        const ci = algorithm_1.ArrayExt.firstIndexOf(bars, current);
        if (ci > 0) {
            return bars[ci - 1];
        }
        else if (ci === 0) {
            return bars[len - 1];
        }
        else {
            return current;
        }
    }
    /**
     * Test whether the current widget is dirty.
     */
    canSave() {
        return saveable_1.Saveable.isDirty(this.currentWidget);
    }
    /**
     * Save the current widget if it is dirty.
     */
    async save(options) {
        await saveable_1.Saveable.save(this.currentWidget, options);
    }
    /**
     * Test whether there is a dirty widget.
     */
    canSaveAll() {
        return this.tracker.widgets.some(saveable_1.Saveable.isDirty);
    }
    /**
     * Save all dirty widgets.
     */
    async saveAll(options) {
        await Promise.all(this.tracker.widgets.map(widget => {
            if (saveable_1.Saveable.isDirty(widget)) {
                saveable_1.Saveable.save(widget, options);
            }
        }));
    }
    /**
     * Returns a snapshot of all tracked widgets to allow async modifications.
     */
    get widgets() {
        return [...this.tracker.widgets];
    }
    getWidgetById(id) {
        for (const widget of this.tracker.widgets) {
            if (widget.id === id) {
                return widget;
            }
        }
        return undefined;
    }
    canToggleMaximized() {
        const area = this.currentWidget && this.getAreaFor(this.currentWidget);
        return area === 'main' || area === 'bottom';
    }
    toggleMaximized() {
        const area = this.currentWidget && this.getAreaPanelFor(this.currentWidget);
        if (area instanceof theia_dock_panel_1.TheiaDockPanel && (area === this.mainPanel || area === this.bottomPanel)) {
            area.toggleMaximized();
        }
    }
};
__decorate([
    inversify_1.inject(context_key_service_1.ContextKeyService),
    __metadata("design:type", context_key_service_1.ContextKeyService)
], ApplicationShell.prototype, "contextKeyService", void 0);
__decorate([
    inversify_1.postConstruct(),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", []),
    __metadata("design:returntype", void 0)
], ApplicationShell.prototype, "init", null);
ApplicationShell = ApplicationShell_1 = __decorate([
    inversify_1.injectable(),
    __param(0, inversify_1.inject(exports.DockPanelRendererFactory)),
    __param(1, inversify_1.inject(status_bar_1.StatusBarImpl)),
    __param(2, inversify_1.inject(side_panel_handler_1.SidePanelHandlerFactory)),
    __param(3, inversify_1.inject(split_panels_1.SplitPositionHandler)),
    __param(4, inversify_1.inject(frontend_application_state_1.FrontendApplicationStateService)),
    __param(5, inversify_1.inject(exports.ApplicationShellOptions)), __param(5, inversify_1.optional()),
    __param(6, inversify_1.inject(core_preferences_1.CorePreferences)),
    __metadata("design:paramtypes", [Function, status_bar_1.StatusBarImpl, Function, split_panels_1.SplitPositionHandler,
        frontend_application_state_1.FrontendApplicationStateService, Object, Object])
], ApplicationShell);
exports.ApplicationShell = ApplicationShell;
/**
 * The namespace for `ApplicationShell` class statics.
 */
(function (ApplicationShell) {
    /**
     * The _side areas_ are those shell areas that can be collapsed and expanded,
     * i.e. `left`, `right`, and `bottom`.
     */
    function isSideArea(area) {
        return area === 'left' || area === 'right' || area === 'bottom';
    }
    ApplicationShell.isSideArea = isSideArea;
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    function isValidArea(area) {
        const areas = ['main', 'top', 'left', 'right', 'bottom'];
        return (area !== undefined && typeof area === 'string' && areas.includes(area));
    }
    ApplicationShell.isValidArea = isValidArea;
    /**
     * The default values for application shell options.
     */
    ApplicationShell.DEFAULT_OPTIONS = Object.freeze({
        bottomPanel: Object.freeze({
            emptySize: 140,
            expandThreshold: 160,
            expandDuration: 0,
            initialSizeRatio: 0.382
        }),
        leftPanel: Object.freeze({
            emptySize: 140,
            expandThreshold: 140,
            expandDuration: 0,
            initialSizeRatio: 0.191
        }),
        rightPanel: Object.freeze({
            emptySize: 140,
            expandThreshold: 140,
            expandDuration: 0,
            initialSizeRatio: 0.191
        })
    });
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    function isOpenToSideMode(mode) {
        return mode === 'open-to-left' || mode === 'open-to-right';
    }
    ApplicationShell.isOpenToSideMode = isOpenToSideMode;
    let TrackableWidgetProvider;
    (function (TrackableWidgetProvider) {
        function is(widget) {
            return !!widget && 'getTrackableWidgets' in widget;
        }
        TrackableWidgetProvider.is = is;
    })(TrackableWidgetProvider = ApplicationShell.TrackableWidgetProvider || (ApplicationShell.TrackableWidgetProvider = {}));
})(ApplicationShell = exports.ApplicationShell || (exports.ApplicationShell = {}));
exports.ApplicationShell = ApplicationShell;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/shell/index.js":
/*!**********************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/shell/index.js ***!
  \**********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
__exportStar(__webpack_require__(/*! ./application-shell */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/shell/application-shell.js"), exports);
__exportStar(__webpack_require__(/*! ./shell-layout-restorer */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/shell/shell-layout-restorer.js"), exports);
__exportStar(__webpack_require__(/*! ./side-panel-handler */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/shell/side-panel-handler.js"), exports);
__exportStar(__webpack_require__(/*! ./sidebar-menu-widget */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/shell/sidebar-menu-widget.js"), exports);
__exportStar(__webpack_require__(/*! ./split-panels */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/shell/split-panels.js"), exports);
__exportStar(__webpack_require__(/*! ./tab-bars */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/shell/tab-bars.js"), exports);
__exportStar(__webpack_require__(/*! ./view-contribution */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/shell/view-contribution.js"), exports);


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/shell/shell-layout-restorer.js":
/*!**************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/shell/shell-layout-restorer.js ***!
  \**************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
var ShellLayoutRestorer_1;
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ShellLayoutRestorer = exports.RESET_LAYOUT = exports.ApplicationShellLayoutMigration = exports.ApplicationShellLayoutMigrationError = exports.StatefulWidget = void 0;
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const widget_manager_1 = __webpack_require__(/*! ../widget-manager */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/widget-manager.js");
const storage_service_1 = __webpack_require__(/*! ../storage-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/storage-service.js");
const logger_1 = __webpack_require__(/*! ../../common/logger */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/logger.js");
const theming_1 = __webpack_require__(/*! ../theming */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/theming.js");
const contribution_provider_1 = __webpack_require__(/*! ../../common/contribution-provider */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/contribution-provider.js");
const application_shell_1 = __webpack_require__(/*! ./application-shell */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/shell/application-shell.js");
var StatefulWidget;
(function (StatefulWidget) {
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    function is(arg) {
        return arg !== undefined && typeof arg['storeState'] === 'function' && typeof arg['restoreState'] === 'function';
    }
    StatefulWidget.is = is;
})(StatefulWidget = exports.StatefulWidget || (exports.StatefulWidget = {}));
var ApplicationShellLayoutMigrationError;
(function (ApplicationShellLayoutMigrationError) {
    const code = 'ApplicationShellLayoutMigrationError';
    function create(message) {
        return Object.assign(new Error(`Could not migrate layout to version ${application_shell_1.applicationShellLayoutVersion}.` + (message ? '\n' + message : '')), { code });
    }
    ApplicationShellLayoutMigrationError.create = create;
    function is(error) {
        return !!error && 'code' in error && error['code'] === code;
    }
    ApplicationShellLayoutMigrationError.is = is;
})(ApplicationShellLayoutMigrationError = exports.ApplicationShellLayoutMigrationError || (exports.ApplicationShellLayoutMigrationError = {}));
exports.ApplicationShellLayoutMigration = Symbol('ApplicationShellLayoutMigration');
exports.RESET_LAYOUT = {
    id: 'reset.layout',
    category: 'View',
    label: 'Reset Workbench Layout'
};
let ShellLayoutRestorer = ShellLayoutRestorer_1 = class ShellLayoutRestorer {
    constructor(widgetManager, logger, storageService) {
        this.widgetManager = widgetManager;
        this.logger = logger;
        this.storageService = storageService;
        this.storageKey = 'layout';
        this.shouldStoreLayout = true;
    }
    registerCommands(commands) {
        commands.registerCommand(exports.RESET_LAYOUT, {
            execute: async () => this.resetLayout()
        });
    }
    async resetLayout() {
        this.logger.info('>>> Resetting layout...');
        this.shouldStoreLayout = false;
        this.storageService.setData(this.storageKey, undefined);
        theming_1.ThemeService.get().reset(); // Theme service cannot use DI, so the current theme ID is stored elsewhere. Hence the explicit reset.
        this.logger.info('<<< The layout has been successfully reset.');
        window.location.reload(true);
    }
    storeLayout(app) {
        if (this.shouldStoreLayout) {
            try {
                this.logger.info('>>> Storing the layout...');
                const layoutData = app.shell.getLayoutData();
                const serializedLayoutData = this.deflate(layoutData);
                this.storageService.setData(this.storageKey, serializedLayoutData);
                this.logger.info('<<< The layout has been successfully stored.');
            }
            catch (error) {
                this.storageService.setData(this.storageKey, undefined);
                this.logger.error('Error during serialization of layout data', error);
            }
        }
    }
    async restoreLayout(app) {
        this.logger.info('>>> Restoring the layout state...');
        const serializedLayoutData = await this.storageService.getData(this.storageKey);
        if (serializedLayoutData === undefined) {
            this.logger.info('<<< Nothing to restore.');
            return false;
        }
        const layoutData = await this.inflate(serializedLayoutData);
        await app.shell.setLayoutData(layoutData);
        this.logger.info('<<< The layout has been successfully restored.');
        return true;
    }
    isWidgetProperty(propertyName) {
        return propertyName === 'widget';
    }
    isWidgetsProperty(propertyName) {
        return propertyName === 'widgets';
    }
    /**
     * Turns the layout data to a string representation.
     */
    deflate(data) {
        return JSON.stringify(data, (property, value) => {
            if (this.isWidgetProperty(property)) {
                const description = this.convertToDescription(value);
                return description;
            }
            else if (this.isWidgetsProperty(property)) {
                const descriptions = [];
                for (const widget of value) {
                    const description = this.convertToDescription(widget);
                    if (description) {
                        descriptions.push(description);
                    }
                }
                return descriptions;
            }
            return value;
        });
    }
    convertToDescription(widget) {
        const desc = this.widgetManager.getDescription(widget);
        if (desc) {
            if (StatefulWidget.is(widget)) {
                const innerState = widget.storeState();
                return innerState ? {
                    constructionOptions: desc,
                    innerWidgetState: this.deflate(innerState)
                } : undefined;
            }
            else {
                return {
                    constructionOptions: desc,
                    innerWidgetState: undefined
                };
            }
        }
    }
    /**
     * Creates the layout data from its string representation.
     */
    async inflate(layoutData) {
        const parseContext = new ShellLayoutRestorer_1.ParseContext();
        const layout = this.parse(layoutData, parseContext);
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        let layoutVersion;
        try {
            layoutVersion = 'version' in layout && Number(layout.version);
        }
        catch ( /* no-op */_a) { /* no-op */ }
        if (typeof layoutVersion !== 'number' || Number.isNaN(layoutVersion)) {
            throw new Error('could not resolve a layout version');
        }
        if (layoutVersion !== application_shell_1.applicationShellLayoutVersion) {
            if (layoutVersion < application_shell_1.applicationShellLayoutVersion) {
                console.warn(`Layout version ${layoutVersion} is behind current layout version ${application_shell_1.applicationShellLayoutVersion}, trying to migrate...`);
            }
            else {
                console.warn(`Layout version ${layoutVersion} is ahead current layout version ${application_shell_1.applicationShellLayoutVersion}, trying to load anyway...`);
            }
            console.info(`Please use '${exports.RESET_LAYOUT.label}' command if the layout looks bogus.`);
        }
        const migrations = this.migrations.getContributions()
            .filter(m => m.layoutVersion > layoutVersion && m.layoutVersion <= application_shell_1.applicationShellLayoutVersion)
            .sort((m, m2) => m.layoutVersion - m2.layoutVersion);
        if (migrations.length) {
            console.info(`Found ${migrations.length} migrations from layout version ${layoutVersion} to version ${application_shell_1.applicationShellLayoutVersion}, migrating...`);
        }
        const context = { layout, layoutVersion, migrations };
        await this.fireWillInflateLayout(context);
        await parseContext.inflate(context);
        return layout;
    }
    async fireWillInflateLayout(context) {
        for (const migration of context.migrations) {
            if (migration.onWillInflateLayout) {
                // don't catch exceptions, if one migration fails all should fail.
                await migration.onWillInflateLayout(context);
            }
        }
    }
    parse(layoutData, parseContext) {
        return JSON.parse(layoutData, (property, value) => {
            if (this.isWidgetsProperty(property)) {
                const widgets = parseContext.filteredArray();
                const descs = value;
                for (let i = 0; i < descs.length; i++) {
                    parseContext.push(async (context) => {
                        widgets[i] = await this.convertToWidget(descs[i], context);
                    });
                }
                return widgets;
            }
            else if (value && typeof value === 'object' && !Array.isArray(value)) {
                // eslint-disable-next-line @typescript-eslint/no-explicit-any
                const copy = {};
                for (const p in value) {
                    if (this.isWidgetProperty(p)) {
                        parseContext.push(async (context) => {
                            copy[p] = await this.convertToWidget(value[p], context);
                        });
                    }
                    else {
                        copy[p] = value[p];
                    }
                }
                return copy;
            }
            return value;
        });
    }
    async fireWillInflateWidget(desc, context) {
        for (const migration of context.migrations) {
            if (migration.onWillInflateWidget) {
                // don't catch exceptions, if one migration fails all should fail.
                const migrated = await migration.onWillInflateWidget(desc, context);
                if (migrated) {
                    if (migrated.innerWidgetState && typeof migrated.innerWidgetState !== 'string') {
                        // in order to inflate nested widgets
                        migrated.innerWidgetState = JSON.stringify(migrated.innerWidgetState);
                    }
                    desc = migrated;
                }
            }
        }
        return desc;
    }
    async convertToWidget(desc, context) {
        if (!desc.constructionOptions) {
            return undefined;
        }
        try {
            desc = await this.fireWillInflateWidget(desc, context);
            const widget = await this.widgetManager.getOrCreateWidget(desc.constructionOptions.factoryId, desc.constructionOptions.options);
            if (StatefulWidget.is(widget) && desc.innerWidgetState !== undefined) {
                try {
                    let oldState;
                    if (typeof desc.innerWidgetState === 'string') {
                        const parseContext = new ShellLayoutRestorer_1.ParseContext();
                        oldState = this.parse(desc.innerWidgetState, parseContext);
                        await parseContext.inflate(Object.assign(Object.assign({}, context), { parent: widget }));
                    }
                    else {
                        oldState = desc.innerWidgetState;
                    }
                    widget.restoreState(oldState);
                }
                catch (e) {
                    if (ApplicationShellLayoutMigrationError.is(e)) {
                        throw e;
                    }
                    this.logger.warn(`Couldn't restore widget state for ${widget.id}. Error: ${e} `);
                }
            }
            if (widget.isDisposed) {
                return undefined;
            }
            return widget;
        }
        catch (e) {
            if (ApplicationShellLayoutMigrationError.is(e)) {
                throw e;
            }
            this.logger.warn(`Couldn't restore widget for ${desc.constructionOptions.factoryId}. Error: ${e} `);
            return undefined;
        }
    }
};
__decorate([
    inversify_1.inject(contribution_provider_1.ContributionProvider),
    inversify_1.named(exports.ApplicationShellLayoutMigration),
    __metadata("design:type", Object)
], ShellLayoutRestorer.prototype, "migrations", void 0);
ShellLayoutRestorer = ShellLayoutRestorer_1 = __decorate([
    inversify_1.injectable(),
    __param(0, inversify_1.inject(widget_manager_1.WidgetManager)),
    __param(1, inversify_1.inject(logger_1.ILogger)),
    __param(2, inversify_1.inject(storage_service_1.StorageService)),
    __metadata("design:paramtypes", [widget_manager_1.WidgetManager, Object, Object])
], ShellLayoutRestorer);
exports.ShellLayoutRestorer = ShellLayoutRestorer;
(function (ShellLayoutRestorer) {
    class ParseContext {
        constructor() {
            this.toInflate = [];
            this.toFilter = [];
        }
        /**
         * Returns an array, which will be filtered from undefined elements
         * after resolving promises, that create widgets.
         */
        filteredArray() {
            const array = [];
            this.toFilter.push(array);
            return array;
        }
        push(toInflate) {
            this.toInflate.push(toInflate);
        }
        async inflate(context) {
            const pending = [];
            while (this.toInflate.length) {
                pending.push(this.toInflate.pop()(context));
            }
            await Promise.all(pending);
            if (this.toFilter.length) {
                this.toFilter.forEach(array => {
                    for (let i = 0; i < array.length; i++) {
                        if (array[i] === undefined) {
                            array.splice(i--, 1);
                        }
                    }
                });
            }
        }
    }
    ShellLayoutRestorer.ParseContext = ParseContext;
})(ShellLayoutRestorer = exports.ShellLayoutRestorer || (exports.ShellLayoutRestorer = {}));
exports.ShellLayoutRestorer = ShellLayoutRestorer;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/shell/side-panel-handler.js":
/*!***********************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/shell/side-panel-handler.js ***!
  \***********************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var SidePanelHandler_1;
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.SidePanel = exports.SidePanelHandler = exports.SIDE_PANEL_TOOLBAR_CONTEXT_MENU = exports.SidePanelHandlerFactory = exports.LEFT_RIGHT_AREA_CLASS = void 0;
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const algorithm_1 = __webpack_require__(/*! @phosphor/algorithm */ "../node_modules/@phosphor/algorithm/lib/index.js");
const widgets_1 = __webpack_require__(/*! @phosphor/widgets */ "../node_modules/@phosphor/widgets/lib/index.js");
const coreutils_1 = __webpack_require__(/*! @phosphor/coreutils */ "../node_modules/@phosphor/coreutils/lib/index.js");
const dragdrop_1 = __webpack_require__(/*! @phosphor/dragdrop */ "../node_modules/@phosphor/dragdrop/lib/index.js");
const properties_1 = __webpack_require__(/*! @phosphor/properties */ "../node_modules/@phosphor/properties/lib/index.js");
const tab_bars_1 = __webpack_require__(/*! ./tab-bars */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/shell/tab-bars.js");
const sidebar_menu_widget_1 = __webpack_require__(/*! ./sidebar-menu-widget */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/shell/sidebar-menu-widget.js");
const split_panels_1 = __webpack_require__(/*! ./split-panels */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/shell/split-panels.js");
const browser_1 = __webpack_require__(/*! ../browser */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/browser.js");
const frontend_application_state_1 = __webpack_require__(/*! ../frontend-application-state */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/frontend-application-state.js");
const theia_dock_panel_1 = __webpack_require__(/*! ./theia-dock-panel */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/shell/theia-dock-panel.js");
const side_panel_toolbar_1 = __webpack_require__(/*! ./side-panel-toolbar */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/shell/side-panel-toolbar.js");
const tab_bar_toolbar_1 = __webpack_require__(/*! ./tab-bar-toolbar */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/shell/tab-bar-toolbar.js");
const disposable_1 = __webpack_require__(/*! ../../common/disposable */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/disposable.js");
const context_menu_renderer_1 = __webpack_require__(/*! ../context-menu-renderer */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/context-menu-renderer.js");
/** The class name added to the left and right area panels. */
exports.LEFT_RIGHT_AREA_CLASS = 'theia-app-sides';
/** The class name added to collapsed side panels. */
const COLLAPSED_CLASS = 'theia-mod-collapsed';
exports.SidePanelHandlerFactory = Symbol('SidePanelHandlerFactory');
exports.SIDE_PANEL_TOOLBAR_CONTEXT_MENU = ['SIDE_PANEL_TOOLBAR_CONTEXT_MENU'];
/**
 * A class which manages a dock panel and a related side bar. This is used for the left and right
 * panel of the application shell.
 */
let SidePanelHandler = SidePanelHandler_1 = class SidePanelHandler {
    constructor() {
        /**
         * The current state of the side panel.
         */
        this.state = {
            empty: true,
            expansion: SidePanel.ExpansionState.collapsed,
            pendingUpdate: Promise.resolve()
        };
        // should be a property to preserve fn identity
        this.updateToolbarTitle = () => {
            const currentTitle = this.tabBar && this.tabBar.currentTitle;
            this.toolBar.toolbarTitle = currentTitle || undefined;
        };
        this.toDisposeOnCurrentTabChanged = new disposable_1.DisposableCollection();
    }
    /**
     * Create the side bar and dock panel widgets.
     */
    create(side, options) {
        this.side = side;
        this.options = options;
        this.topMenu = this.createSidebarTopMenu();
        this.tabBar = this.createSideBar();
        this.bottomMenu = this.createSidebarBottomMenu();
        this.toolBar = this.createToolbar();
        this.dockPanel = this.createSidePanel();
        this.container = this.createContainer();
        this.refresh();
    }
    createSideBar() {
        const side = this.side;
        const tabBarRenderer = this.tabBarRendererFactory();
        const sideBar = new tab_bars_1.SideTabBar({
            // Tab bar options
            orientation: side === 'left' || side === 'right' ? 'vertical' : 'horizontal',
            insertBehavior: 'none',
            removeBehavior: 'select-previous-tab',
            allowDeselect: false,
            tabsMovable: true,
            renderer: tabBarRenderer,
            // Scroll bar options
            handlers: ['drag-thumb', 'keyboard', 'wheel', 'touch'],
            useBothWheelAxes: true,
            scrollYMarginOffset: 8,
            suppressScrollX: true
        });
        tabBarRenderer.tabBar = sideBar;
        sideBar.disposed.connect(() => tabBarRenderer.dispose());
        tabBarRenderer.contextMenuPath = tab_bars_1.SHELL_TABBAR_CONTEXT_MENU;
        sideBar.addClass('theia-app-' + side);
        sideBar.addClass(exports.LEFT_RIGHT_AREA_CLASS);
        sideBar.tabAdded.connect((sender, { title }) => {
            const widget = title.owner;
            if (!algorithm_1.some(this.dockPanel.widgets(), w => w === widget)) {
                this.dockPanel.addWidget(widget);
            }
        }, this);
        sideBar.tabActivateRequested.connect((sender, { title }) => title.owner.activate());
        sideBar.tabCloseRequested.connect((sender, { title }) => title.owner.close());
        sideBar.collapseRequested.connect(() => this.collapse(), this);
        sideBar.currentChanged.connect(this.onCurrentTabChanged, this);
        sideBar.tabDetachRequested.connect(this.onTabDetachRequested, this);
        return sideBar;
    }
    createSidePanel() {
        const sidePanel = new theia_dock_panel_1.TheiaDockPanel({
            mode: 'single-document'
        });
        sidePanel.id = 'theia-' + this.side + '-side-panel';
        sidePanel.addClass('theia-side-panel');
        sidePanel.widgetActivated.connect((sender, widget) => {
            this.tabBar.currentTitle = widget.title;
        }, this);
        sidePanel.widgetAdded.connect(this.onWidgetAdded, this);
        sidePanel.widgetRemoved.connect(this.onWidgetRemoved, this);
        return sidePanel;
    }
    createToolbar() {
        const toolbar = new side_panel_toolbar_1.SidePanelToolbar(this.tabBarToolBarRegistry, this.tabBarToolBarFactory, this.side);
        toolbar.onContextMenu(e => this.showContextMenu(e));
        return toolbar;
    }
    createSidebarTopMenu() {
        return this.createSidebarMenu(this.sidebarTopWidgetFactory);
    }
    createSidebarBottomMenu() {
        return this.createSidebarMenu(this.sidebarBottomWidgetFactory);
    }
    createSidebarMenu(factory) {
        const menu = factory();
        menu.addClass('theia-sidebar-menu');
        return menu;
    }
    showContextMenu(e) {
        const title = this.tabBar.currentTitle;
        if (!title) {
            return;
        }
        e.stopPropagation();
        e.preventDefault();
        this.contextMenuRenderer.render({
            args: [title.owner],
            menuPath: exports.SIDE_PANEL_TOOLBAR_CONTEXT_MENU,
            anchor: e
        });
    }
    createContainer() {
        const contentBox = new widgets_1.BoxLayout({ direction: 'top-to-bottom', spacing: 0 });
        widgets_1.BoxPanel.setStretch(this.toolBar, 0);
        contentBox.addWidget(this.toolBar);
        widgets_1.BoxPanel.setStretch(this.dockPanel, 1);
        contentBox.addWidget(this.dockPanel);
        const contentPanel = new widgets_1.BoxPanel({ layout: contentBox });
        const side = this.side;
        let direction;
        switch (side) {
            case 'left':
                direction = 'left-to-right';
                break;
            case 'right':
                direction = 'right-to-left';
                break;
            default:
                throw new Error('Illegal argument: ' + side);
        }
        const containerLayout = new widgets_1.BoxLayout({ direction, spacing: 0 });
        const sidebarContainerLayout = new widgets_1.PanelLayout();
        const sidebarContainer = new widgets_1.Panel({ layout: sidebarContainerLayout });
        sidebarContainer.addClass('theia-app-sidebar-container');
        sidebarContainerLayout.addWidget(this.topMenu);
        sidebarContainerLayout.addWidget(this.tabBar);
        sidebarContainerLayout.addWidget(this.bottomMenu);
        widgets_1.BoxPanel.setStretch(sidebarContainer, 0);
        widgets_1.BoxPanel.setStretch(contentPanel, 1);
        containerLayout.addWidget(sidebarContainer);
        containerLayout.addWidget(contentPanel);
        const boxPanel = new widgets_1.BoxPanel({ layout: containerLayout });
        boxPanel.id = 'theia-' + side + '-content-panel';
        return boxPanel;
    }
    /**
     * Create an object that describes the current side panel layout. This object may contain references
     * to widgets; these need to be transformed before the layout can be serialized.
     */
    getLayoutData() {
        const currentTitle = this.tabBar.currentTitle;
        const items = algorithm_1.toArray(algorithm_1.map(this.tabBar.titles, title => ({
            widget: title.owner,
            rank: SidePanelHandler_1.rankProperty.get(title.owner),
            expanded: title === currentTitle
        })));
        // eslint-disable-next-line no-null/no-null
        const size = currentTitle !== null ? this.getPanelSize() : this.state.lastPanelSize;
        return { type: 'sidepanel', items, size };
    }
    /**
     * Apply a side panel layout that has been previously created with `getLayoutData`.
     */
    setLayoutData(layoutData) {
        // eslint-disable-next-line no-null/no-null
        this.tabBar.currentTitle = null;
        let currentTitle;
        if (layoutData.items) {
            for (const { widget, rank, expanded } of layoutData.items) {
                if (widget) {
                    if (rank) {
                        SidePanelHandler_1.rankProperty.set(widget, rank);
                    }
                    if (expanded) {
                        currentTitle = widget.title;
                    }
                    // Add the widgets directly to the tab bar in the same order as they are stored
                    this.tabBar.addTab(widget.title);
                }
            }
        }
        if (layoutData.size) {
            this.state.lastPanelSize = layoutData.size;
        }
        // If the layout data contains an expanded item, update the currentTitle property
        // This implies a refresh through the `currentChanged` signal
        if (currentTitle) {
            this.tabBar.currentTitle = currentTitle;
        }
        else {
            this.refresh();
        }
    }
    /**
     * Activate a widget residing in the side panel by ID.
     *
     * @returns the activated widget if it was found
     */
    activate(id) {
        const widget = this.expand(id);
        if (widget) {
            widget.activate();
        }
        return widget;
    }
    /**
     * Expand a widget residing in the side panel by ID. If no ID is given and the panel is
     * currently collapsed, the last active tab of this side panel is expanded. If no tab
     * was expanded previously, the first one is taken.
     *
     * @returns the expanded widget if it was found
     */
    expand(id) {
        if (id) {
            const widget = algorithm_1.find(this.dockPanel.widgets(), w => w.id === id);
            if (widget) {
                this.tabBar.currentTitle = widget.title;
            }
            return widget;
        }
        else if (this.tabBar.currentTitle) {
            return this.tabBar.currentTitle.owner;
        }
        else if (this.tabBar.titles.length > 0) {
            let index = this.state.lastActiveTabIndex;
            if (!index) {
                index = 0;
            }
            else if (index >= this.tabBar.titles.length) {
                index = this.tabBar.titles.length - 1;
            }
            const title = this.tabBar.titles[index];
            this.tabBar.currentTitle = title;
            return title.owner;
        }
        else {
            // Reveal the tab bar and dock panel even if there is no widget
            // The next call to `refreshVisibility` will collapse them again
            this.state.expansion = SidePanel.ExpansionState.expanding;
            let relativeSizes;
            const parent = this.container.parent;
            if (parent instanceof widgets_1.SplitPanel) {
                relativeSizes = parent.relativeSizes();
            }
            this.container.removeClass(COLLAPSED_CLASS);
            this.container.show();
            this.tabBar.show();
            this.dockPanel.node.style.minWidth = '0';
            this.dockPanel.show();
            if (relativeSizes && parent instanceof widgets_1.SplitPanel) {
                // Make sure that the expansion animation starts at zero size
                parent.setRelativeSizes(relativeSizes);
            }
            this.setPanelSize(this.options.emptySize).then(() => {
                if (this.state.expansion === SidePanel.ExpansionState.expanding) {
                    this.state.expansion = SidePanel.ExpansionState.expanded;
                }
            });
        }
    }
    /**
     * Collapse the sidebar so no items are expanded.
     */
    collapse() {
        if (this.tabBar.currentTitle) {
            // eslint-disable-next-line no-null/no-null
            this.tabBar.currentTitle = null;
        }
        else {
            this.refresh();
        }
        return browser_1.animationFrame();
    }
    /**
     * Add a widget and its title to the dock panel and side bar.
     *
     * If the widget is already added, it will be moved.
     */
    addWidget(widget, options) {
        if (options.rank) {
            SidePanelHandler_1.rankProperty.set(widget, options.rank);
        }
        this.dockPanel.addWidget(widget);
    }
    /**
     * Add a menu to the sidebar top.
     *
     * If the menu is already added, it will be ignored.
     */
    addTopMenu(menu) {
        this.topMenu.addMenu(menu);
    }
    /**
     * Remove a menu from the sidebar top.
     *
     * @param menuId id of the menu to remove
     */
    removeTopMenu(menuId) {
        this.topMenu.removeMenu(menuId);
    }
    /**
     * Add a menu to the sidebar bottom.
     *
     * If the menu is already added, it will be ignored.
     */
    addBottomMenu(menu) {
        this.bottomMenu.addMenu(menu);
    }
    /**
     * Remove a menu from the sidebar bottom.
     *
     * @param menuId id of the menu to remove
     */
    removeBottomMenu(menuId) {
        this.bottomMenu.removeMenu(menuId);
    }
    /**
     * Refresh the visibility of the side bar and dock panel.
     */
    refresh() {
        const container = this.container;
        const parent = container.parent;
        const tabBar = this.tabBar;
        const dockPanel = this.dockPanel;
        const isEmpty = tabBar.titles.length === 0;
        const currentTitle = tabBar.currentTitle;
        // eslint-disable-next-line no-null/no-null
        const hideDockPanel = currentTitle === null;
        let relativeSizes;
        if (hideDockPanel) {
            container.addClass(COLLAPSED_CLASS);
            if (this.state.expansion === SidePanel.ExpansionState.expanded && !this.state.empty) {
                // Update the lastPanelSize property
                const size = this.getPanelSize();
                if (size) {
                    this.state.lastPanelSize = size;
                }
            }
            this.state.expansion = SidePanel.ExpansionState.collapsed;
        }
        else {
            container.removeClass(COLLAPSED_CLASS);
            let size;
            if (this.state.expansion !== SidePanel.ExpansionState.expanded) {
                if (this.state.lastPanelSize) {
                    size = this.state.lastPanelSize;
                }
                else {
                    size = this.getDefaultPanelSize();
                }
            }
            if (size) {
                // Restore the panel size to the last known size or the default size
                this.state.expansion = SidePanel.ExpansionState.expanding;
                if (parent instanceof widgets_1.SplitPanel) {
                    relativeSizes = parent.relativeSizes();
                }
                this.setPanelSize(size).then(() => {
                    if (this.state.expansion === SidePanel.ExpansionState.expanding) {
                        this.state.expansion = SidePanel.ExpansionState.expanded;
                    }
                });
            }
            else {
                this.state.expansion = SidePanel.ExpansionState.expanded;
            }
        }
        container.setHidden(isEmpty && hideDockPanel);
        tabBar.setHidden(isEmpty);
        dockPanel.setHidden(hideDockPanel);
        this.state.empty = isEmpty;
        if (currentTitle) {
            dockPanel.selectWidget(currentTitle.owner);
        }
        if (relativeSizes && parent instanceof widgets_1.SplitPanel) {
            // Make sure that the expansion animation starts at the smallest possible size
            parent.setRelativeSizes(relativeSizes);
        }
    }
    /**
     * Sets the size of the side panel.
     *
     * @param size the desired size (width) of the panel in pixels.
     */
    resize(size) {
        if (this.dockPanel.isHidden) {
            this.state.lastPanelSize = size;
        }
        else {
            this.setPanelSize(size);
        }
    }
    /**
     * Compute the current width of the panel. This implementation assumes that the parent of
     * the panel container is a `SplitPanel`.
     */
    getPanelSize() {
        const parent = this.container.parent;
        if (parent instanceof widgets_1.SplitPanel && parent.isVisible) {
            const index = parent.widgets.indexOf(this.container);
            if (this.side === 'left') {
                const handle = parent.handles[index];
                if (!handle.classList.contains('p-mod-hidden')) {
                    return handle.offsetLeft;
                }
            }
            else if (this.side === 'right') {
                const handle = parent.handles[index - 1];
                if (!handle.classList.contains('p-mod-hidden')) {
                    const parentWidth = parent.node.clientWidth;
                    return parentWidth - handle.offsetLeft;
                }
            }
        }
    }
    /**
     * Determine the default size to apply when the panel is expanded for the first time.
     */
    getDefaultPanelSize() {
        const parent = this.container.parent;
        if (parent && parent.isVisible) {
            return parent.node.clientWidth * this.options.initialSizeRatio;
        }
    }
    /**
     * Modify the width of the panel. This implementation assumes that the parent of the panel
     * container is a `SplitPanel`.
     */
    setPanelSize(size) {
        const enableAnimation = this.applicationStateService.state === 'ready';
        const options = {
            side: this.side,
            duration: enableAnimation ? this.options.expandDuration : 0,
            referenceWidget: this.dockPanel
        };
        const promise = this.splitPositionHandler.setSidePanelSize(this.container, size, options);
        const result = new Promise(resolve => {
            // Resolve the resulting promise in any case, regardless of whether resizing was successful
            promise.then(() => resolve(), () => resolve());
        });
        this.state.pendingUpdate = this.state.pendingUpdate.then(() => result);
        return result;
    }
    /**
     * Handle a `currentChanged` signal from the sidebar. The side panel is refreshed so it displays
     * the new selected widget.
     */
    onCurrentTabChanged(sender, { currentTitle, currentIndex }) {
        this.toDisposeOnCurrentTabChanged.dispose();
        if (currentTitle) {
            this.updateToolbarTitle();
            currentTitle.changed.connect(this.updateToolbarTitle);
            this.toDisposeOnCurrentTabChanged.push(disposable_1.Disposable.create(() => currentTitle.changed.disconnect(this.updateToolbarTitle)));
        }
        if (currentIndex >= 0) {
            this.state.lastActiveTabIndex = currentIndex;
            sender.revealTab(currentIndex);
        }
        this.refresh();
    }
    /**
     * Handle a `tabDetachRequested` signal from the sidebar. A drag is started so the widget can be
     * moved to another application shell area.
     */
    onTabDetachRequested(sender, { title, tab, clientX, clientY }) {
        // Release the tab bar's hold on the mouse
        sender.releaseMouse();
        // Clone the selected tab and use that as drag image
        const clonedTab = tab.cloneNode(true);
        clonedTab.style.width = '';
        clonedTab.style.height = '';
        const label = clonedTab.getElementsByClassName('p-TabBar-tabLabel')[0];
        label.style.width = '';
        label.style.height = '';
        // Create and start a drag to move the selected tab to another panel
        const mimeData = new coreutils_1.MimeData();
        mimeData.setData('application/vnd.phosphor.widget-factory', () => title.owner);
        const drag = new dragdrop_1.Drag({
            mimeData,
            dragImage: clonedTab,
            proposedAction: 'move',
            supportedActions: 'move',
        });
        tab.classList.add('p-mod-hidden');
        drag.start(clientX, clientY).then(() => {
            // The promise is resolved when the drag has ended
            tab.classList.remove('p-mod-hidden');
        });
    }
    /*
     * Handle the `widgetAdded` signal from the dock panel. The widget's title is inserted into the
     * tab bar according to the `rankProperty` value that may be attached to the widget.
     */
    onWidgetAdded(sender, widget) {
        const titles = this.tabBar.titles;
        if (!algorithm_1.find(titles, t => t.owner === widget)) {
            const rank = SidePanelHandler_1.rankProperty.get(widget);
            let index = titles.length;
            if (rank !== undefined) {
                for (let i = index - 1; i >= 0; i--) {
                    const r = SidePanelHandler_1.rankProperty.get(titles[i].owner);
                    if (r !== undefined && r > rank) {
                        index = i;
                    }
                }
            }
            this.tabBar.insertTab(index, widget.title);
            this.refresh();
        }
    }
    /*
     * Handle the `widgetRemoved` signal from the dock panel. The widget's title is also removed
     * from the tab bar.
     */
    onWidgetRemoved(sender, widget) {
        this.tabBar.removeTab(widget.title);
        this.refresh();
    }
};
/**
 * A property that can be attached to widgets in order to determine the insertion index
 * of their title in the tab bar.
 */
SidePanelHandler.rankProperty = new properties_1.AttachedProperty({
    name: 'sidePanelRank',
    create: () => undefined
});
__decorate([
    inversify_1.inject(tab_bar_toolbar_1.TabBarToolbarRegistry),
    __metadata("design:type", tab_bar_toolbar_1.TabBarToolbarRegistry)
], SidePanelHandler.prototype, "tabBarToolBarRegistry", void 0);
__decorate([
    inversify_1.inject(tab_bar_toolbar_1.TabBarToolbarFactory),
    __metadata("design:type", Function)
], SidePanelHandler.prototype, "tabBarToolBarFactory", void 0);
__decorate([
    inversify_1.inject(tab_bars_1.TabBarRendererFactory),
    __metadata("design:type", Function)
], SidePanelHandler.prototype, "tabBarRendererFactory", void 0);
__decorate([
    inversify_1.inject(sidebar_menu_widget_1.SidebarTopMenuWidgetFactory),
    __metadata("design:type", Function)
], SidePanelHandler.prototype, "sidebarTopWidgetFactory", void 0);
__decorate([
    inversify_1.inject(sidebar_menu_widget_1.SidebarBottomMenuWidgetFactory),
    __metadata("design:type", Function)
], SidePanelHandler.prototype, "sidebarBottomWidgetFactory", void 0);
__decorate([
    inversify_1.inject(split_panels_1.SplitPositionHandler),
    __metadata("design:type", split_panels_1.SplitPositionHandler)
], SidePanelHandler.prototype, "splitPositionHandler", void 0);
__decorate([
    inversify_1.inject(frontend_application_state_1.FrontendApplicationStateService),
    __metadata("design:type", frontend_application_state_1.FrontendApplicationStateService)
], SidePanelHandler.prototype, "applicationStateService", void 0);
__decorate([
    inversify_1.inject(context_menu_renderer_1.ContextMenuRenderer),
    __metadata("design:type", context_menu_renderer_1.ContextMenuRenderer)
], SidePanelHandler.prototype, "contextMenuRenderer", void 0);
SidePanelHandler = SidePanelHandler_1 = __decorate([
    inversify_1.injectable()
], SidePanelHandler);
exports.SidePanelHandler = SidePanelHandler;
var SidePanel;
(function (SidePanel) {
    let ExpansionState;
    (function (ExpansionState) {
        ExpansionState["collapsed"] = "collapsed";
        ExpansionState["expanding"] = "expanding";
        ExpansionState["expanded"] = "expanded";
        ExpansionState["collapsing"] = "collapsing";
    })(ExpansionState = SidePanel.ExpansionState || (SidePanel.ExpansionState = {}));
})(SidePanel = exports.SidePanel || (exports.SidePanel = {}));


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/shell/side-panel-toolbar.js":
/*!***********************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/shell/side-panel-toolbar.js ***!
  \***********************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2019 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.SidePanelToolbar = void 0;
const widgets_1 = __webpack_require__(/*! @phosphor/widgets */ "../node_modules/@phosphor/widgets/lib/index.js");
const widgets_2 = __webpack_require__(/*! ../widgets */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/widgets/index.js");
const event_1 = __webpack_require__(/*! ../../common/event */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/event.js");
class SidePanelToolbar extends widgets_2.BaseWidget {
    constructor(tabBarToolbarRegistry, tabBarToolbarFactory, side) {
        super();
        this.tabBarToolbarRegistry = tabBarToolbarRegistry;
        this.tabBarToolbarFactory = tabBarToolbarFactory;
        this.side = side;
        this.onContextMenuEmitter = new event_1.Emitter();
        this.onContextMenu = this.onContextMenuEmitter.event;
        this.toDispose.push(this.onContextMenuEmitter);
        this.init();
        this.tabBarToolbarRegistry.onDidChange(() => this.update());
    }
    onBeforeAttach(msg) {
        super.onBeforeAttach(msg);
        if (this.titleContainer) {
            this.addEventListener(this.titleContainer, 'contextmenu', e => this.onContextMenuEmitter.fire(e));
        }
    }
    onAfterAttach(msg) {
        if (this.toolbar) {
            if (this.toolbar.isAttached) {
                widgets_1.Widget.detach(this.toolbar);
            }
            widgets_1.Widget.attach(this.toolbar, this.node);
        }
        super.onAfterAttach(msg);
    }
    onBeforeDetach(msg) {
        if (this.titleContainer) {
            this.node.removeChild(this.titleContainer);
        }
        if (this.toolbar && this.toolbar.isAttached) {
            widgets_1.Widget.detach(this.toolbar);
        }
        super.onBeforeDetach(msg);
    }
    onUpdateRequest(msg) {
        super.onUpdateRequest(msg);
        this.updateToolbar();
    }
    updateToolbar() {
        var _a, _b;
        if (!this.toolbar) {
            return;
        }
        const widget = (_b = (_a = this._toolbarTitle) === null || _a === void 0 ? void 0 : _a.owner) !== null && _b !== void 0 ? _b : undefined;
        this.toolbar.updateTarget(widget);
    }
    init() {
        this.titleContainer = document.createElement('div');
        this.titleContainer.classList.add('theia-sidepanel-title');
        this.titleContainer.classList.add('noWrapInfo');
        this.titleContainer.classList.add('noselect');
        this.node.appendChild(this.titleContainer);
        this.node.classList.add('theia-sidepanel-toolbar');
        this.node.classList.add(`theia-${this.side}-side-panel`);
        this.toolbar = this.tabBarToolbarFactory();
        this.update();
    }
    set toolbarTitle(title) {
        if (this.titleContainer && title) {
            this._toolbarTitle = title;
            this.titleContainer.innerText = this._toolbarTitle.label;
            this.titleContainer.title = this._toolbarTitle.caption || this._toolbarTitle.label;
            this.update();
        }
    }
    /* eslint-disable-next-line @typescript-eslint/no-explicit-any */
    showMoreContextMenu(anchor) {
        if (this.toolbar) {
            return this.toolbar.renderMoreContextMenu(anchor);
        }
        throw new Error(this.id + ' widget is not attached');
    }
}
exports.SidePanelToolbar = SidePanelToolbar;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/shell/sidebar-menu-widget.js":
/*!************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/shell/sidebar-menu-widget.js ***!
  \************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2020 Alibaba Inc. and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.SidebarMenuWidget = exports.SidebarBottomMenuWidgetFactory = exports.SidebarTopMenuWidgetFactory = void 0;
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const React = __webpack_require__(/*! react */ "../node_modules/react/index.js");
const widgets_1 = __webpack_require__(/*! ../widgets */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/widgets/index.js");
const context_menu_renderer_1 = __webpack_require__(/*! ../context-menu-renderer */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/context-menu-renderer.js");
exports.SidebarTopMenuWidgetFactory = Symbol('SidebarTopMenuWidgetFactory');
exports.SidebarBottomMenuWidgetFactory = Symbol('SidebarBottomMenuWidgetFactory');
/**
 * The menu widget placed on the sidebar.
 */
let SidebarMenuWidget = class SidebarMenuWidget extends widgets_1.ReactWidget {
    constructor() {
        super();
        this.menus = [];
    }
    addMenu(menu) {
        const exists = this.menus.find(m => m.id === menu.id);
        if (exists) {
            return;
        }
        this.menus.push(menu);
        this.update();
    }
    removeMenu(menuId) {
        const menu = this.menus.find(m => m.id === menuId);
        if (menu) {
            const index = this.menus.indexOf(menu);
            if (index !== -1) {
                this.menus.splice(index, 1);
                this.update();
            }
        }
    }
    onClick(e, menuPath) {
        const button = e.currentTarget.getBoundingClientRect();
        this.contextMenuRenderer.render({
            menuPath,
            anchor: {
                x: button.left + button.width,
                y: button.top,
            }
        });
    }
    render() {
        return React.createElement(React.Fragment, null, this.menus.sort((a, b) => a.order - b.order).map(menu => React.createElement("i", { key: menu.id, className: menu.iconClass, title: menu.title, onClick: e => this.onClick(e, menu.menuPath) })));
    }
};
__decorate([
    inversify_1.inject(context_menu_renderer_1.ContextMenuRenderer),
    __metadata("design:type", context_menu_renderer_1.ContextMenuRenderer)
], SidebarMenuWidget.prototype, "contextMenuRenderer", void 0);
SidebarMenuWidget = __decorate([
    inversify_1.injectable(),
    __metadata("design:paramtypes", [])
], SidebarMenuWidget);
exports.SidebarMenuWidget = SidebarMenuWidget;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/shell/split-panels.js":
/*!*****************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/shell/split-panels.js ***!
  \*****************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.SplitPositionHandler = void 0;
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const widgets_1 = __webpack_require__(/*! @phosphor/widgets */ "../node_modules/@phosphor/widgets/lib/index.js");
let SplitPositionHandler = class SplitPositionHandler {
    constructor() {
        this.splitMoves = [];
        this.currentMoveIndex = 0;
    }
    /**
     * Set the position of a split handle asynchronously. This function makes sure that such movements
     * are performed one after another in order to prevent the movements from overriding each other.
     * When resolved, the returned promise yields the final position of the split handle.
     */
    setSplitHandlePosition(parent, index, targetPosition, options) {
        const move = Object.assign(Object.assign({}, options), { parent, targetPosition, index, started: false, ended: false });
        return this.moveSplitPos(move);
    }
    /**
     * Resize a side panel asynchronously. This function makes sure that such movements are performed
     * one after another in order to prevent the movements from overriding each other.
     * When resolved, the returned promise yields the final position of the split handle.
     */
    setSidePanelSize(sidePanel, targetSize, options) {
        if (targetSize < 0) {
            return Promise.reject(new Error('Cannot resize to negative value.'));
        }
        const parent = sidePanel.parent;
        if (!(parent instanceof widgets_1.SplitPanel)) {
            return Promise.reject(new Error('Widget must be contained in a SplitPanel.'));
        }
        let index = parent.widgets.indexOf(sidePanel);
        if (index > 0 && (options.side === 'right' || options.side === 'bottom')) {
            index--;
        }
        const move = Object.assign(Object.assign({}, options), { parent, targetSize, index, started: false, ended: false });
        return this.moveSplitPos(move);
    }
    moveSplitPos(move) {
        return new Promise((resolve, reject) => {
            move.resolve = resolve;
            move.reject = reject;
            if (this.splitMoves.length === 0) {
                window.requestAnimationFrame(this.animationFrame.bind(this));
            }
            this.splitMoves.push(move);
        });
    }
    animationFrame(time) {
        const move = this.splitMoves[this.currentMoveIndex];
        let rejectedOrResolved = false;
        if (move.ended || move.referenceWidget && move.referenceWidget.isHidden) {
            this.splitMoves.splice(this.currentMoveIndex, 1);
            if (move.startPosition === undefined || move.targetPosition === undefined) {
                move.reject('Panel is not visible.');
            }
            else {
                move.resolve(move.targetPosition);
            }
            rejectedOrResolved = true;
        }
        else if (!move.started) {
            this.startMove(move, time);
            if (move.duration <= 0 || move.startPosition === undefined || move.targetPosition === undefined
                || move.startPosition === move.targetPosition) {
                this.endMove(move);
            }
        }
        else {
            const elapsedTime = time - move.startTime;
            if (elapsedTime >= move.duration) {
                this.endMove(move);
            }
            else {
                const t = elapsedTime / move.duration;
                const start = move.startPosition || 0;
                const target = move.targetPosition || 0;
                const pos = start + (target - start) * t;
                move.parent.layout.moveHandle(move.index, pos);
            }
        }
        if (!rejectedOrResolved) {
            this.currentMoveIndex++;
        }
        if (this.currentMoveIndex >= this.splitMoves.length) {
            this.currentMoveIndex = 0;
        }
        if (this.splitMoves.length > 0) {
            window.requestAnimationFrame(this.animationFrame.bind(this));
        }
    }
    startMove(move, time) {
        if (move.targetPosition === undefined && move.targetSize !== undefined) {
            const { clientWidth, clientHeight } = move.parent.node;
            if (clientWidth && clientHeight) {
                switch (move.side) {
                    case 'left':
                        move.targetPosition = Math.max(Math.min(move.targetSize, clientWidth), 0);
                        break;
                    case 'right':
                        move.targetPosition = Math.max(Math.min(clientWidth - move.targetSize, clientWidth), 0);
                        break;
                    case 'top':
                        move.targetPosition = Math.max(Math.min(move.targetSize, clientHeight), 0);
                        break;
                    case 'bottom':
                        move.targetPosition = Math.max(Math.min(clientHeight - move.targetSize, clientHeight), 0);
                        break;
                }
            }
        }
        if (move.startPosition === undefined) {
            move.startPosition = this.getCurrentPosition(move);
        }
        move.startTime = time;
        move.started = true;
    }
    endMove(move) {
        if (move.targetPosition !== undefined) {
            move.parent.layout.moveHandle(move.index, move.targetPosition);
        }
        move.ended = true;
    }
    getCurrentPosition(move) {
        const layout = move.parent.layout;
        let pos;
        if (layout.orientation === 'horizontal') {
            pos = layout.handles[move.index].offsetLeft;
        }
        else {
            pos = layout.handles[move.index].offsetTop;
        }
        // eslint-disable-next-line no-null/no-null
        if (pos !== null) {
            return pos;
        }
        else {
            return undefined;
        }
    }
};
SplitPositionHandler = __decorate([
    inversify_1.injectable()
], SplitPositionHandler);
exports.SplitPositionHandler = SplitPositionHandler;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/shell/tab-bar-toolbar.js":
/*!********************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/shell/tab-bar-toolbar.js ***!
  \********************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var TabBarToolbar_1;
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.TabBarToolbar = exports.TabBarToolbarFactory = exports.TabBarToolbarRegistry = exports.TabBarToolbarItem = exports.TabBarDelegator = exports.TabBarToolbarContribution = void 0;
const debounce = __webpack_require__(/*! lodash.debounce */ "../node_modules/lodash.debounce/index.js");
const React = __webpack_require__(/*! react */ "../node_modules/react/index.js");
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const widgets_1 = __webpack_require__(/*! ../widgets */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/widgets/index.js");
const label_parser_1 = __webpack_require__(/*! ../label-parser */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/label-parser.js");
const contribution_provider_1 = __webpack_require__(/*! ../../common/contribution-provider */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/contribution-provider.js");
const command_1 = __webpack_require__(/*! ../../common/command */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/command.js");
const disposable_1 = __webpack_require__(/*! ../../common/disposable */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/disposable.js");
const context_key_service_1 = __webpack_require__(/*! ../context-key-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/context-key-service.js");
const event_1 = __webpack_require__(/*! ../../common/event */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/event.js");
const context_menu_renderer_1 = __webpack_require__(/*! ../context-menu-renderer */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/context-menu-renderer.js");
const menu_1 = __webpack_require__(/*! ../../common/menu */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/menu.js");
/**
 * Clients should implement this interface if they want to contribute to the tab-bar toolbar.
 */
exports.TabBarToolbarContribution = Symbol('TabBarToolbarContribution');
var TabBarDelegator;
(function (TabBarDelegator) {
    TabBarDelegator.is = (candidate) => {
        if (candidate) {
            const asDelegator = candidate;
            return typeof asDelegator.getTabBarDelegate === 'function';
        }
        return false;
    };
})(TabBarDelegator = exports.TabBarDelegator || (exports.TabBarDelegator = {}));
var TabBarToolbarItem;
(function (TabBarToolbarItem) {
    /**
     * Compares the items by `priority` in ascending. Undefined priorities will be treated as `0`.
     */
    TabBarToolbarItem.PRIORITY_COMPARATOR = (left, right) => {
        // The navigation group is special as it will always be sorted to the top/beginning of a menu.
        const compareGroup = (leftGroup = 'navigation', rightGroup = 'navigation') => {
            if (leftGroup === 'navigation') {
                return rightGroup === 'navigation' ? 0 : -1;
            }
            if (rightGroup === 'navigation') {
                return leftGroup === 'navigation' ? 0 : 1;
            }
            return leftGroup.localeCompare(rightGroup);
        };
        const result = compareGroup(left.group, right.group);
        if (result !== 0) {
            return result;
        }
        return (left.priority || 0) - (right.priority || 0);
    };
    function is(arg) {
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        return !!arg && 'command' in arg && typeof arg.command === 'string';
    }
    TabBarToolbarItem.is = is;
})(TabBarToolbarItem = exports.TabBarToolbarItem || (exports.TabBarToolbarItem = {}));
/**
 * Main, shared registry for tab-bar toolbar items.
 */
let TabBarToolbarRegistry = class TabBarToolbarRegistry {
    constructor() {
        this.items = new Map();
        this.onDidChangeEmitter = new event_1.Emitter();
        this.onDidChange = this.onDidChangeEmitter.event;
        // debounce in order to avoid to fire more than once in the same tick
        this.fireOnDidChange = debounce(() => this.onDidChangeEmitter.fire(undefined), 0);
    }
    onStart() {
        const contributions = this.contributionProvider.getContributions();
        for (const contribution of contributions) {
            contribution.registerToolbarItems(this);
        }
    }
    /**
     * Registers the given item. Throws an error, if the corresponding command cannot be found or an item has been already registered for the desired command.
     *
     * @param item the item to register.
     */
    registerItem(item) {
        const { id } = item;
        if (this.items.has(id)) {
            throw new Error(`A toolbar item is already registered with the '${id}' ID.`);
        }
        this.items.set(id, item);
        this.fireOnDidChange();
        const toDispose = new disposable_1.DisposableCollection(disposable_1.Disposable.create(() => this.fireOnDidChange()), disposable_1.Disposable.create(() => this.items.delete(id)));
        if (item.onDidChange) {
            toDispose.push(item.onDidChange(() => this.fireOnDidChange()));
        }
        return toDispose;
    }
    /**
     * Returns an array of tab-bar toolbar items which are visible when the `widget` argument is the current one.
     *
     * By default returns with all items where the command is enabled and `item.isVisible` is `true`.
     */
    visibleItems(widget) {
        if (widget.isDisposed) {
            return [];
        }
        const result = [];
        for (const item of this.items.values()) {
            const visible = TabBarToolbarItem.is(item)
                ? this.commandRegistry.isVisible(item.command, widget)
                : (!item.isVisible || item.isVisible(widget));
            if (visible && (!item.when || this.contextKeyService.match(item.when, widget.node))) {
                result.push(item);
            }
        }
        return result;
    }
    unregisterItem(itemOrId) {
        const id = typeof itemOrId === 'string' ? itemOrId : itemOrId.id;
        if (this.items.delete(id)) {
            this.fireOnDidChange();
        }
    }
};
__decorate([
    inversify_1.inject(command_1.CommandRegistry),
    __metadata("design:type", command_1.CommandRegistry)
], TabBarToolbarRegistry.prototype, "commandRegistry", void 0);
__decorate([
    inversify_1.inject(context_key_service_1.ContextKeyService),
    __metadata("design:type", context_key_service_1.ContextKeyService)
], TabBarToolbarRegistry.prototype, "contextKeyService", void 0);
__decorate([
    inversify_1.inject(contribution_provider_1.ContributionProvider),
    inversify_1.named(exports.TabBarToolbarContribution),
    __metadata("design:type", Object)
], TabBarToolbarRegistry.prototype, "contributionProvider", void 0);
TabBarToolbarRegistry = __decorate([
    inversify_1.injectable()
], TabBarToolbarRegistry);
exports.TabBarToolbarRegistry = TabBarToolbarRegistry;
/**
 * Factory for instantiating tab-bar toolbars.
 */
exports.TabBarToolbarFactory = Symbol('TabBarToolbarFactory');
/**
 * Tab-bar toolbar widget representing the active [tab-bar toolbar items](TabBarToolbarItem).
 */
let TabBarToolbar = TabBarToolbar_1 = class TabBarToolbar extends widgets_1.ReactWidget {
    constructor() {
        super();
        this.inline = new Map();
        this.more = new Map();
        this.toDisposeOnSetCurrent = new disposable_1.DisposableCollection();
        this.showMoreContextMenu = (event) => {
            event.stopPropagation();
            event.preventDefault();
            this.renderMoreContextMenu(event.nativeEvent);
        };
        this.executeCommand = (e) => {
            e.preventDefault();
            e.stopPropagation();
            const item = this.inline.get(e.currentTarget.id);
            if (TabBarToolbarItem.is(item)) {
                this.commands.executeCommand(item.command, this.current);
            }
            this.update();
        };
        this.onMouseDownEvent = (e) => {
            if (e.button === 0) {
                e.currentTarget.classList.add('active');
            }
        };
        this.onMouseUpEvent = (e) => {
            e.currentTarget.classList.remove('active');
        };
        this.addClass(TabBarToolbar_1.Styles.TAB_BAR_TOOLBAR);
        this.hide();
    }
    updateItems(items, current) {
        this.inline.clear();
        this.more.clear();
        for (const item of items.sort(TabBarToolbarItem.PRIORITY_COMPARATOR).reverse()) {
            if ('render' in item || item.group === undefined || item.group === 'navigation') {
                this.inline.set(item.id, item);
            }
            else {
                this.more.set(item.id, item);
            }
        }
        this.setCurrent(current);
        if (!items.length) {
            this.hide();
        }
        this.onRender.push(disposable_1.Disposable.create(() => {
            if (items.length) {
                this.show();
            }
        }));
        this.update();
    }
    updateTarget(current) {
        const operativeWidget = TabBarDelegator.is(current) ? current.getTabBarDelegate() : current;
        const items = operativeWidget ? this.toolbarRegistry.visibleItems(operativeWidget) : [];
        this.updateItems(items, operativeWidget);
    }
    setCurrent(current) {
        this.toDisposeOnSetCurrent.dispose();
        this.toDispose.push(this.toDisposeOnSetCurrent);
        this.current = current;
        if (current) {
            const resetCurrent = () => {
                this.setCurrent(undefined);
                this.update();
            };
            current.disposed.connect(resetCurrent);
            this.toDisposeOnSetCurrent.push(disposable_1.Disposable.create(() => current.disposed.disconnect(resetCurrent)));
        }
    }
    render() {
        return React.createElement(React.Fragment, null,
            this.renderMore(),
            [...this.inline.values()].map(item => TabBarToolbarItem.is(item) ? this.renderItem(item) : item.render(this.current)));
    }
    renderItem(item) {
        let innerText = '';
        const classNames = [];
        if (item.text) {
            for (const labelPart of this.labelParser.parse(item.text)) {
                if (typeof labelPart !== 'string' && label_parser_1.LabelIcon.is(labelPart)) {
                    const className = `fa fa-${labelPart.name}${labelPart.animation ? ' fa-' + labelPart.animation : ''}`;
                    classNames.push(...className.split(' '));
                }
                else {
                    innerText = labelPart;
                }
            }
        }
        const command = this.commands.getCommand(item.command);
        let iconClass = (typeof item.icon === 'function' && item.icon()) || item.icon || (command && command.iconClass);
        if (iconClass) {
            iconClass += ` ${widgets_1.ACTION_ITEM}`;
            classNames.push(iconClass);
        }
        const tooltip = item.tooltip || (command && command.label);
        const toolbarItemClassNames = this.getToolbarItemClassNames(command === null || command === void 0 ? void 0 : command.id);
        return React.createElement("div", { key: item.id, className: toolbarItemClassNames, onMouseDown: this.onMouseDownEvent, onMouseUp: this.onMouseUpEvent, onMouseOut: this.onMouseUpEvent },
            React.createElement("div", { id: item.id, className: classNames.join(' '), onClick: this.executeCommand, title: tooltip }, innerText));
    }
    getToolbarItemClassNames(commandId) {
        const classNames = [TabBarToolbar_1.Styles.TAB_BAR_TOOLBAR_ITEM];
        if (commandId) {
            if (this.commandIsEnabled(commandId)) {
                classNames.push('enabled');
            }
            if (this.commandIsToggled(commandId)) {
                classNames.push('toggled');
            }
        }
        return classNames.join(' ');
    }
    renderMore() {
        return !!this.more.size && React.createElement("div", { key: '__more__', className: TabBarToolbar_1.Styles.TAB_BAR_TOOLBAR_ITEM + ' enabled' },
            React.createElement("div", { id: '__more__', className: widgets_1.codicon('ellipsis', true), onClick: this.showMoreContextMenu, title: 'More Actions...' }));
    }
    /* eslint-disable-next-line @typescript-eslint/no-explicit-any */
    renderMoreContextMenu(anchor) {
        var _a;
        const menuPath = ['TAB_BAR_TOOLBAR_CONTEXT_MENU'];
        const toDisposeOnHide = new disposable_1.DisposableCollection();
        this.addClass('menu-open');
        toDisposeOnHide.push(disposable_1.Disposable.create(() => this.removeClass('menu-open')));
        for (const item of this.more.values()) {
            // Register a submenu for the item, if the group is in format `<submenu group>/<submenu name>/.../<item group>`
            if ((_a = item.group) === null || _a === void 0 ? void 0 : _a.includes('/')) {
                const split = item.group.split('/');
                const paths = [];
                for (let i = 0; i < split.length - 1; i += 2) {
                    paths.push(split[i], split[i + 1]);
                    // TODO order is missing, items sorting will be alphabetic
                    toDisposeOnHide.push(this.menus.registerSubmenu([...menuPath, ...paths], split[i + 1]));
                }
            }
            // TODO order is missing, items sorting will be alphabetic
            toDisposeOnHide.push(this.menus.registerMenuAction([...menuPath, ...item.group.split('/')], {
                label: item.tooltip,
                commandId: item.command,
                when: item.when
            }));
        }
        return this.contextMenuRenderer.render({
            menuPath,
            args: [this.current],
            anchor,
            onHide: () => toDisposeOnHide.dispose()
        });
    }
    shouldHandleMouseEvent(event) {
        return event.target instanceof Element && this.node.contains(event.target);
    }
    commandIsEnabled(command) {
        return this.commands.isEnabled(command, this.current);
    }
    commandIsToggled(command) {
        return this.commands.isToggled(command, this.current);
    }
};
__decorate([
    inversify_1.inject(command_1.CommandRegistry),
    __metadata("design:type", command_1.CommandRegistry)
], TabBarToolbar.prototype, "commands", void 0);
__decorate([
    inversify_1.inject(label_parser_1.LabelParser),
    __metadata("design:type", label_parser_1.LabelParser)
], TabBarToolbar.prototype, "labelParser", void 0);
__decorate([
    inversify_1.inject(menu_1.MenuModelRegistry),
    __metadata("design:type", menu_1.MenuModelRegistry)
], TabBarToolbar.prototype, "menus", void 0);
__decorate([
    inversify_1.inject(context_menu_renderer_1.ContextMenuRenderer),
    __metadata("design:type", context_menu_renderer_1.ContextMenuRenderer)
], TabBarToolbar.prototype, "contextMenuRenderer", void 0);
__decorate([
    inversify_1.inject(TabBarToolbarRegistry),
    __metadata("design:type", TabBarToolbarRegistry)
], TabBarToolbar.prototype, "toolbarRegistry", void 0);
TabBarToolbar = TabBarToolbar_1 = __decorate([
    inversify_1.injectable(),
    __metadata("design:paramtypes", [])
], TabBarToolbar);
exports.TabBarToolbar = TabBarToolbar;
(function (TabBarToolbar) {
    let Styles;
    (function (Styles) {
        Styles.TAB_BAR_TOOLBAR = 'p-TabBar-toolbar';
        Styles.TAB_BAR_TOOLBAR_ITEM = 'item';
    })(Styles = TabBarToolbar.Styles || (TabBarToolbar.Styles = {}));
})(TabBarToolbar = exports.TabBarToolbar || (exports.TabBarToolbar = {}));
exports.TabBarToolbar = TabBarToolbar;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/shell/tab-bars.js":
/*!*************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/shell/tab-bars.js ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.SideTabBar = exports.ToolbarAwareTabBar = exports.ScrollableTabBar = exports.TabBarRenderer = exports.TabBarRendererFactory = exports.SHELL_TABBAR_CONTEXT_MENU = void 0;
const perfect_scrollbar_1 = __webpack_require__(/*! perfect-scrollbar */ "../node_modules/perfect-scrollbar/dist/perfect-scrollbar.esm.js");
const widgets_1 = __webpack_require__(/*! @phosphor/widgets */ "../node_modules/@phosphor/widgets/lib/index.js");
const virtualdom_1 = __webpack_require__(/*! @phosphor/virtualdom */ "../node_modules/@phosphor/virtualdom/lib/index.js");
const common_1 = __webpack_require__(/*! ../../common */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/index.js");
const signaling_1 = __webpack_require__(/*! @phosphor/signaling */ "../node_modules/@phosphor/signaling/lib/index.js");
const messaging_1 = __webpack_require__(/*! @phosphor/messaging */ "../node_modules/@phosphor/messaging/lib/index.js");
const algorithm_1 = __webpack_require__(/*! @phosphor/algorithm */ "../node_modules/@phosphor/algorithm/lib/index.js");
const domutils_1 = __webpack_require__(/*! @phosphor/domutils */ "../node_modules/@phosphor/domutils/lib/index.js");
const theia_dock_panel_1 = __webpack_require__(/*! ./theia-dock-panel */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/shell/theia-dock-panel.js");
const widget_decoration_1 = __webpack_require__(/*! ../widget-decoration */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/widget-decoration.js");
const navigatable_types_1 = __webpack_require__(/*! ../navigatable-types */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/navigatable-types.js");
/** The class name added to hidden content nodes, which are required to render vertical side bars. */
const HIDDEN_CONTENT_CLASS = 'theia-TabBar-hidden-content';
/** Menu path for tab bars used throughout the application shell. */
exports.SHELL_TABBAR_CONTEXT_MENU = ['shell-tabbar-context-menu'];
exports.TabBarRendererFactory = Symbol('TabBarRendererFactory');
/**
 * A tab bar renderer that offers a context menu. In addition, this renderer is able to
 * set an explicit position and size on the icon and label of each tab in a side bar.
 * This is necessary because the elements of side bar tabs are rotated using the CSS
 * `transform` property, disrupting the browser's ability to arrange those elements
 * automatically.
 */
class TabBarRenderer extends widgets_1.TabBar.Renderer {
    // TODO refactor shell, rendered should only receive props with event handlers
    // events should be handled by clients, like ApplicationShell
    // right now it is mess: (1) client logic belong to renderer, (2) cyclic dependencies between renderers and clients
    constructor(contextMenuRenderer, decoratorService, iconThemeService) {
        super();
        this.contextMenuRenderer = contextMenuRenderer;
        this.decoratorService = decoratorService;
        this.iconThemeService = iconThemeService;
        this.toDispose = new common_1.DisposableCollection();
        this.toDisposeOnTabBar = new common_1.DisposableCollection();
        this.decorations = new Map();
        this.handleContextMenuEvent = (event) => {
            if (this.contextMenuRenderer && this.contextMenuPath && event.currentTarget instanceof HTMLElement) {
                event.stopPropagation();
                event.preventDefault();
                this.contextMenuRenderer.render(this.contextMenuPath, event);
            }
        };
        this.handleDblClickEvent = (event) => {
            if (this.tabBar && event.currentTarget instanceof HTMLElement) {
                const id = event.currentTarget.id;
                // eslint-disable-next-line no-null/no-null
                const title = this.tabBar.titles.find(t => this.createTabId(t) === id) || null;
                const area = title && title.owner.parent;
                if (area instanceof theia_dock_panel_1.TheiaDockPanel && (area.id === theia_dock_panel_1.BOTTOM_AREA_ID || area.id === theia_dock_panel_1.MAIN_AREA_ID)) {
                    area.toggleMaximized();
                }
            }
        };
        if (this.decoratorService) {
            this.toDispose.push(common_1.Disposable.create(() => this.resetDecorations()));
            this.toDispose.push(this.decoratorService.onDidChangeDecorations(() => this.resetDecorations()));
        }
        if (this.iconThemeService) {
            this.toDispose.push(this.iconThemeService.onDidChangeCurrent(() => {
                if (this._tabBar) {
                    this._tabBar.update();
                }
            }));
        }
    }
    dispose() {
        this.toDispose.dispose();
    }
    /**
     * A reference to the tab bar is required in order to activate it when a context menu
     * is requested.
     */
    set tabBar(tabBar) {
        if (this.toDispose.disposed) {
            throw new Error('disposed');
        }
        if (this._tabBar === tabBar) {
            return;
        }
        this.toDisposeOnTabBar.dispose();
        this.toDispose.push(this.toDisposeOnTabBar);
        this._tabBar = tabBar;
        if (tabBar) {
            const listener = (_, { title }) => this.resetDecorations(title);
            tabBar.tabCloseRequested.connect(listener);
            this.toDisposeOnTabBar.push(common_1.Disposable.create(() => tabBar.tabCloseRequested.disconnect(listener)));
        }
        this.resetDecorations();
    }
    get tabBar() {
        return this._tabBar;
    }
    /**
     * Render tabs with the default DOM structure, but additionally register a context menu listener.
     * @param {SideBarRenderData} data Data used to render the tab.
     * @param {boolean} isInSidePanel An optional check which determines if the tab is in the side-panel.
     * @returns {VirtualElement} The virtual element of the rendered tab.
     */
    renderTab(data, isInSidePanel) {
        const title = data.title;
        const id = this.createTabId(data.title);
        const key = this.createTabKey(data);
        const style = this.createTabStyle(data);
        const className = this.createTabClass(data);
        const dataset = this.createTabDataset(data);
        return virtualdom_1.h.li({
            key, className, id, title: title.caption, style, dataset,
            oncontextmenu: this.handleContextMenuEvent,
            ondblclick: this.handleDblClickEvent,
            onauxclick: (e) => {
                // If user closes the tab using mouse wheel, nothing should be pasted to an active editor
                e.preventDefault();
            }
        }, virtualdom_1.h.div({ className: 'theia-tab-icon-label' }, this.renderIcon(data, isInSidePanel), this.renderLabel(data, isInSidePanel), this.renderBadge(data, isInSidePanel)), this.renderCloseIcon(data));
    }
    createTabId(title) {
        return 'shell-tab-' + title.owner.id;
    }
    /**
     * If size information is available for the label and icon, set an explicit height on the tab.
     * The height value also considers padding, which should be derived from CSS settings.
     */
    createTabStyle(data) {
        const zIndex = `${data.zIndex}`;
        const labelSize = data.labelSize;
        const iconSize = data.iconSize;
        let height;
        if (labelSize || iconSize) {
            const labelHeight = labelSize ? (this.tabBar && this.tabBar.orientation === 'horizontal' ? labelSize.height : labelSize.width) : 0;
            const iconHeight = iconSize ? iconSize.height : 0;
            let paddingTop = data.paddingTop || 0;
            if (labelHeight > 0 && iconHeight > 0) {
                // Leave some extra space between icon and label
                paddingTop = paddingTop * 1.5;
            }
            const paddingBottom = data.paddingBottom || 0;
            height = `${labelHeight + iconHeight + paddingTop + paddingBottom}px`;
        }
        return { zIndex, height };
    }
    /**
     * If size information is available for the label, set it as inline style.
     * Tab padding and icon size are also considered in the `top` position.
     * @param {SideBarRenderData} data Data used to render the tab.
     * @param {boolean} isInSidePanel An optional check which determines if the tab is in the side-panel.
     * @returns {VirtualElement} The virtual element of the rendered label.
     */
    renderLabel(data, isInSidePanel) {
        const labelSize = data.labelSize;
        const iconSize = data.iconSize;
        let width;
        let height;
        let top;
        if (labelSize) {
            width = `${labelSize.width}px`;
            height = `${labelSize.height}px`;
        }
        if (data.paddingTop || iconSize) {
            const iconHeight = iconSize ? iconSize.height : 0;
            let paddingTop = data.paddingTop || 0;
            if (iconHeight > 0) {
                // Leave some extra space between icon and label
                paddingTop = paddingTop * 1.5;
            }
            top = `${paddingTop + iconHeight}px`;
        }
        const style = { width, height, top };
        // No need to check for duplicate labels if the tab is rendered in the side panel (title is not displayed),
        // or if there are less than two files in the tab bar.
        if (isInSidePanel || (this.tabBar && this.tabBar.titles.length < 2)) {
            return virtualdom_1.h.div({ className: 'p-TabBar-tabLabel', style }, data.title.label);
        }
        const originalToDisplayedMap = this.findDuplicateLabels([...this.tabBar.titles]);
        const labelDetails = originalToDisplayedMap.get(data.title.caption);
        if (labelDetails) {
            return virtualdom_1.h.div({ className: 'p-TabBar-tabLabelWrapper' }, virtualdom_1.h.div({ className: 'p-TabBar-tabLabel', style }, data.title.label), virtualdom_1.h.div({ className: 'p-TabBar-tabLabelDetails', style }, labelDetails));
        }
        return virtualdom_1.h.div({ className: 'p-TabBar-tabLabel', style }, data.title.label);
    }
    renderBadge(data, isInSidePanel) {
        const badge = this.getDecorationData(data.title, 'badge')[0];
        if (!badge) {
            return virtualdom_1.h.div({});
        }
        const limitedBadge = badge >= 100 ? '99+' : badge;
        return isInSidePanel
            ? virtualdom_1.h.div({ className: 'theia-badge-decorator-sidebar' }, `${limitedBadge}`)
            : virtualdom_1.h.div({ className: 'theia-badge-decorator-horizontal' }, `${limitedBadge}`);
    }
    resetDecorations(title) {
        if (title) {
            this.decorations.delete(title);
        }
        else {
            this.decorations.clear();
        }
        if (this.tabBar) {
            this.tabBar.update();
        }
    }
    /**
     * Get all available decorations of a given tab.
     * @param {string} title The widget title.
     */
    getDecorations(title) {
        if (this.tabBar && this.decoratorService) {
            // eslint-disable-next-line @typescript-eslint/no-explicit-any
            const owner = title.owner;
            if (!owner.resetTabBarDecorations) {
                owner.resetTabBarDecorations = () => this.decorations.delete(title);
                title.owner.disposed.connect(owner.resetTabBarDecorations);
            }
            const decorations = this.decorations.get(title) || this.decoratorService.getDecorations(title);
            this.decorations.set(title, decorations);
            return decorations;
        }
        return [];
    }
    /**
     * Get the decoration data given the tab URI and the decoration data type.
     * @param {string} title The title.
     * @param {K} key The type of the decoration data.
     */
    getDecorationData(title, key) {
        return this.getDecorations(title).filter(data => data[key] !== undefined).map(data => data[key]);
    }
    /**
     * Get the class of an icon.
     * @param {string | string[]} iconName The name of the icon.
     * @param {string[]} additionalClasses Additional classes of the icon.
     */
    getIconClass(iconName, additionalClasses = []) {
        const iconClass = (typeof iconName === 'string') ? ['a', 'fa', `fa-${iconName}`] : ['a'].concat(iconName);
        return iconClass.concat(additionalClasses).join(' ');
    }
    /**
     * Find duplicate labels from the currently opened tabs in the tab bar.
     * Return the appropriate partial paths that can distinguish the identical labels.
     *
     * E.g., a/p/index.ts => a/..., b/p/index.ts => b/...
     *
     * To prevent excessively long path displayed, show at maximum three levels from the end by default.
     * @param {Title<Widget>[]} titles Array of titles in the current tab bar.
     * @returns {Map<string, string>} A map from each tab's original path to its displayed partial path.
     */
    findDuplicateLabels(titles) {
        // Filter from all tabs to group them by the distinct label (file name).
        // E.g., 'foo.js' => {0 (index) => 'a/b/foo.js', '2 => a/c/foo.js' },
        //       'bar.js' => {1 => 'a/d/bar.js', ...}
        const labelGroups = new Map();
        titles.forEach((title, index) => {
            if (!labelGroups.has(title.label)) {
                labelGroups.set(title.label, new Map());
            }
            labelGroups.get(title.label).set(index, title.caption);
        });
        const originalToDisplayedMap = new Map();
        // Parse each group of editors with the same label.
        labelGroups.forEach(labelGroup => {
            // Filter to get groups that have duplicates.
            if (labelGroup.size > 1) {
                const paths = [];
                let maxPathLength = 0;
                labelGroup.forEach((pathStr, index) => {
                    const steps = pathStr.split('/');
                    maxPathLength = Math.max(maxPathLength, steps.length);
                    paths[index] = (steps.slice(0, steps.length - 1));
                    // By default, show at maximum three levels from the end.
                    let defaultDisplayedPath = steps.slice(-4, -1).join('/');
                    if (steps.length > 4) {
                        defaultDisplayedPath = '.../' + defaultDisplayedPath;
                    }
                    originalToDisplayedMap.set(pathStr, defaultDisplayedPath);
                });
                // Iterate through the steps of the path from the left to find the step that can distinguish it.
                // E.g., ['root', 'foo', 'c'], ['root', 'bar', 'd'] => 'foo', 'bar'
                let i = 0;
                while (i < maxPathLength - 1) {
                    // Store indexes of all paths that have the identical element in each step.
                    const stepOccurrences = new Map();
                    // Compare the current step of all paths
                    paths.forEach((path, index) => {
                        const step = path[i];
                        if (path.length > 0) {
                            if (i > path.length - 1) {
                                paths[index] = [];
                            }
                            else if (!stepOccurrences.has(step)) {
                                stepOccurrences.set(step, [index]);
                            }
                            else {
                                stepOccurrences.get(step).push(index);
                            }
                        }
                    });
                    // Set the displayed path for each tab.
                    stepOccurrences.forEach((indexArr, displayedPath) => {
                        if (indexArr.length === 1) {
                            const originalPath = labelGroup.get(indexArr[0]);
                            if (originalPath) {
                                const originalElements = originalPath.split('/');
                                const displayedElements = displayedPath.split('/');
                                if (originalElements.slice(-2)[0] !== displayedElements.slice(-1)[0]) {
                                    displayedPath += '/...';
                                }
                                if (originalElements[0] !== displayedElements[0]) {
                                    displayedPath = '.../' + displayedPath;
                                }
                                originalToDisplayedMap.set(originalPath, displayedPath);
                                paths[indexArr[0]] = [];
                            }
                        }
                    });
                    i++;
                }
            }
        });
        return originalToDisplayedMap;
    }
    /**
     * If size information is available for the icon, set it as inline style. Tab padding
     * is also considered in the `top` position.
     * @param {SideBarRenderData} data Data used to render the tab icon.
     * @param {boolean} isInSidePanel An optional check which determines if the tab is in the side-panel.
     */
    renderIcon(data, inSidePanel) {
        if (!inSidePanel && this.iconThemeService && this.iconThemeService.current === 'none') {
            return virtualdom_1.h.div();
        }
        let top;
        if (data.paddingTop) {
            top = `${data.paddingTop || 0}px`;
        }
        const style = { top };
        const baseClassName = this.createIconClass(data);
        const overlayIcons = [];
        const decorationData = this.getDecorationData(data.title, 'iconOverlay');
        // Check if the tab has decoration markers to be rendered on top.
        if (decorationData.length > 0) {
            const baseIcon = virtualdom_1.h.div({ className: baseClassName, style }, data.title.iconLabel);
            const wrapperClassName = widget_decoration_1.WidgetDecoration.Styles.ICON_WRAPPER_CLASS;
            const decoratorSizeClassName = inSidePanel ? widget_decoration_1.WidgetDecoration.Styles.DECORATOR_SIDEBAR_SIZE_CLASS : widget_decoration_1.WidgetDecoration.Styles.DECORATOR_SIZE_CLASS;
            decorationData
                .filter(common_1.notEmpty)
                .map(overlay => [overlay.position, overlay])
                .forEach(([position, overlay]) => {
                const iconAdditionalClasses = [decoratorSizeClassName, widget_decoration_1.WidgetDecoration.IconOverlayPosition.getStyle(position, inSidePanel)];
                const overlayIconStyle = (color) => {
                    if (color === undefined) {
                        return {};
                    }
                    return { color };
                };
                // Parse the optional background (if it exists) of the overlay icon.
                if (overlay.background) {
                    const backgroundIconClassName = this.getIconClass(overlay.background.shape, iconAdditionalClasses);
                    overlayIcons.push(virtualdom_1.h.div({ key: data.title.label + '-background', className: backgroundIconClassName, style: overlayIconStyle(overlay.background.color) }));
                }
                // Parse the overlay icon.
                const overlayIcon = overlay.icon || overlay.iconClass;
                const overlayIconClassName = this.getIconClass(overlayIcon, iconAdditionalClasses);
                overlayIcons.push(virtualdom_1.h.span({ key: data.title.label, className: overlayIconClassName, style: overlayIconStyle(overlay.color) }));
            });
            return virtualdom_1.h.div({ className: wrapperClassName, style }, [baseIcon, ...overlayIcons]);
        }
        return virtualdom_1.h.div({ className: baseClassName, style }, data.title.iconLabel);
    }
}
exports.TabBarRenderer = TabBarRenderer;
/**
 * A specialized tab bar for the main and bottom areas.
 */
class ScrollableTabBar extends widgets_1.TabBar {
    constructor(options) {
        super(options);
        this.toDispose = new common_1.DisposableCollection();
        this.scrollBarFactory = () => new perfect_scrollbar_1.default(this.scrollbarHost, options);
    }
    dispose() {
        if (this.isDisposed) {
            return;
        }
        super.dispose();
        this.toDispose.dispose();
    }
    onAfterAttach(msg) {
        if (!this.scrollBar) {
            this.scrollBar = this.scrollBarFactory();
        }
        super.onAfterAttach(msg);
    }
    onBeforeDetach(msg) {
        super.onBeforeDetach(msg);
        if (this.scrollBar) {
            this.scrollBar.destroy();
            this.scrollBar = undefined;
        }
    }
    onUpdateRequest(msg) {
        super.onUpdateRequest(msg);
        if (this.scrollBar) {
            this.scrollBar.update();
        }
    }
    onResize(msg) {
        super.onResize(msg);
        if (this.scrollBar) {
            if (this.currentIndex >= 0) {
                this.revealTab(this.currentIndex);
            }
            this.scrollBar.update();
        }
    }
    /**
     * Reveal the tab with the given index by moving the scroll bar if necessary.
     */
    revealTab(index) {
        if (this.pendingReveal) {
            // A reveal has already been scheduled
            return this.pendingReveal;
        }
        const result = new Promise((resolve, reject) => {
            // The tab might not have been created yet, so wait until the next frame
            window.requestAnimationFrame(() => {
                const tab = this.contentNode.children[index];
                if (tab && this.isVisible) {
                    const parent = this.scrollbarHost;
                    if (this.orientation === 'horizontal') {
                        const scroll = parent.scrollLeft;
                        const left = tab.offsetLeft;
                        if (scroll > left) {
                            parent.scrollLeft = left;
                        }
                        else {
                            const right = left + tab.clientWidth - parent.clientWidth;
                            if (scroll < right && tab.clientWidth < parent.clientWidth) {
                                parent.scrollLeft = right;
                            }
                        }
                    }
                    else {
                        const scroll = parent.scrollTop;
                        const top = tab.offsetTop;
                        if (scroll > top) {
                            parent.scrollTop = top;
                        }
                        else {
                            const bottom = top + tab.clientHeight - parent.clientHeight;
                            if (scroll < bottom && tab.clientHeight < parent.clientHeight) {
                                parent.scrollTop = bottom;
                            }
                        }
                    }
                }
                if (this.pendingReveal === result) {
                    this.pendingReveal = undefined;
                }
                resolve();
            });
        });
        this.pendingReveal = result;
        return result;
    }
    get scrollbarHost() {
        return this.node;
    }
}
exports.ScrollableTabBar = ScrollableTabBar;
/**
 * Specialized scrollable tab-bar which comes with toolbar support.
 * Instead of the following DOM structure.
 *
 * +-------------------------+
 * |[TAB_0][TAB_1][TAB_2][TAB|
 * +-------------Scrollable--+
 *
 * There is a dedicated HTML element for toolbar which does **not** contained in the scrollable element.
 *
 * +-------------------------+-----------------+
 * |[TAB_0][TAB_1][TAB_2][TAB|         Toolbar |
 * +-------------Scrollable--+-Non-Scrollable-+
 *
 */
class ToolbarAwareTabBar extends ScrollableTabBar {
    constructor(tabBarToolbarRegistry, tabBarToolbarFactory, breadcrumbsRendererFactory, options) {
        super(options);
        this.tabBarToolbarRegistry = tabBarToolbarRegistry;
        this.tabBarToolbarFactory = tabBarToolbarFactory;
        this.breadcrumbsRendererFactory = breadcrumbsRendererFactory;
        this.options = options;
        this.breadcrumbsRenderer = this.breadcrumbsRendererFactory();
        this.rewireDOM();
        this.toDispose.push(this.tabBarToolbarRegistry.onDidChange(() => this.update()));
        this.toDispose.push(this.breadcrumbsRenderer);
        this.toDispose.push(this.breadcrumbsRenderer.onDidChangeActiveState(active => {
            this.node.classList.toggle('theia-tabBar-multirow', active);
            if (this.parent) {
                messaging_1.MessageLoop.sendMessage(this.parent, new messaging_1.Message('fit-request'));
            }
        }));
        this.node.classList.toggle('theia-tabBar-multirow', this.breadcrumbsRenderer.active);
        const handler = () => this.updateBreadcrumbs();
        this.currentChanged.connect(handler);
        this.toDispose.push(common_1.Disposable.create(() => this.currentChanged.disconnect(handler)));
    }
    /**
     * Overrides the `contentNode` property getter in PhosphorJS' TabBar.
     */
    get contentNode() {
        return this.tabBarContainer.getElementsByClassName(ToolbarAwareTabBar.Styles.TAB_BAR_CONTENT)[0];
    }
    /**
     * Overrides the scrollable host from the parent class.
     */
    get scrollbarHost() {
        return this.tabBarContainer;
    }
    get tabBarContainer() {
        return this.node.getElementsByClassName(ToolbarAwareTabBar.Styles.TAB_BAR_CONTENT_CONTAINER)[0];
    }
    async updateBreadcrumbs() {
        var _a;
        const current = (_a = this.currentTitle) === null || _a === void 0 ? void 0 : _a.owner;
        const uri = navigatable_types_1.NavigatableWidget.is(current) ? current.getResourceUri() : undefined;
        await this.breadcrumbsRenderer.refresh(uri);
    }
    onAfterAttach(msg) {
        var _a;
        if (this.toolbar) {
            if (this.toolbar.isAttached) {
                widgets_1.Widget.detach(this.toolbar);
            }
            widgets_1.Widget.attach(this.toolbar, this.topRow);
            if (this.breadcrumbsContainer) {
                this.node.appendChild(this.breadcrumbsContainer);
            }
            (_a = this.breadcrumbsRenderer) === null || _a === void 0 ? void 0 : _a.refresh();
        }
        super.onAfterAttach(msg);
    }
    onBeforeDetach(msg) {
        if (this.toolbar && this.toolbar.isAttached) {
            widgets_1.Widget.detach(this.toolbar);
        }
        super.onBeforeDetach(msg);
    }
    onUpdateRequest(msg) {
        super.onUpdateRequest(msg);
        this.updateToolbar();
    }
    updateToolbar() {
        var _a, _b;
        if (!this.toolbar) {
            return;
        }
        const widget = (_b = (_a = this.currentTitle) === null || _a === void 0 ? void 0 : _a.owner) !== null && _b !== void 0 ? _b : undefined;
        this.toolbar.updateTarget(widget);
    }
    handleEvent(event) {
        if (this.toolbar && event instanceof MouseEvent && this.toolbar.shouldHandleMouseEvent(event)) {
            // if the mouse event is over the toolbar part don't handle it.
            return;
        }
        super.handleEvent(event);
    }
    /**
     * Restructures the DOM defined in PhosphorJS.
     *
     * By default the tabs (`li`) are contained in the `this.contentNode` (`ul`) which is wrapped in a `div` (`this.node`).
     * Instead of this structure, we add a container for the `this.contentNode` and for the toolbar.
     * The scrollbar will only work for the `ul` part but it does not affect the toolbar, so it can be on the right hand-side.
     */
    rewireDOM() {
        const contentNode = this.node.getElementsByClassName(ToolbarAwareTabBar.Styles.TAB_BAR_CONTENT)[0];
        if (!contentNode) {
            throw new Error("'this.node' does not have the content as a direct child with class name 'p-TabBar-content'.");
        }
        this.node.removeChild(contentNode);
        this.topRow = document.createElement('div');
        this.topRow.classList.add('theia-tabBar-tab-row');
        this.contentContainer = document.createElement('div');
        this.contentContainer.classList.add(ToolbarAwareTabBar.Styles.TAB_BAR_CONTENT_CONTAINER);
        this.contentContainer.appendChild(contentNode);
        this.topRow.appendChild(this.contentContainer);
        this.node.appendChild(this.topRow);
        this.toolbar = this.tabBarToolbarFactory();
        this.breadcrumbsContainer = document.createElement('div');
        this.breadcrumbsContainer.classList.add('theia-tabBar-breadcrumb-row');
        this.breadcrumbsContainer.appendChild(this.breadcrumbsRenderer.host);
        this.node.appendChild(this.breadcrumbsContainer);
    }
}
exports.ToolbarAwareTabBar = ToolbarAwareTabBar;
(function (ToolbarAwareTabBar) {
    let Styles;
    (function (Styles) {
        Styles.TAB_BAR_CONTENT = 'p-TabBar-content';
        Styles.TAB_BAR_CONTENT_CONTAINER = 'p-TabBar-content-container';
    })(Styles = ToolbarAwareTabBar.Styles || (ToolbarAwareTabBar.Styles = {}));
})(ToolbarAwareTabBar = exports.ToolbarAwareTabBar || (exports.ToolbarAwareTabBar = {}));
/**
 * A specialized tab bar for side areas.
 */
class SideTabBar extends ScrollableTabBar {
    constructor(options) {
        super(options);
        /**
         * Emitted when a tab is added to the tab bar.
         */
        this.tabAdded = new signaling_1.Signal(this);
        /**
         * Side panels can be collapsed by clicking on the currently selected tab. This signal is
         * emitted when the mouse is released on the selected tab without initiating a drag.
         */
        this.collapseRequested = new signaling_1.Signal(this);
        // Create the hidden content node (see `hiddenContentNode` for explanation)
        const hiddenContent = document.createElement('ul');
        hiddenContent.className = HIDDEN_CONTENT_CLASS;
        this.node.appendChild(hiddenContent);
    }
    /**
     * Tab bars of the left and right side panel are arranged vertically by rotating their labels.
     * Rotation is realized with the CSS `transform` property, which disrupts the browser's ability
     * to arrange the involved elements automatically. Therefore the elements are arranged explicitly
     * by the TabBarRenderer using inline `height` and `top` styles. However, the size of labels
     * must still be computed by the browser, so the rendering is performed in two steps: first the
     * tab bar is rendered horizontally inside a _hidden content node_, then it is rendered again
     * vertically inside the proper content node. After the first step, size information is gathered
     * from all labels so it can be applied during the second step.
     */
    get hiddenContentNode() {
        return this.node.getElementsByClassName(HIDDEN_CONTENT_CLASS)[0];
    }
    insertTab(index, value) {
        const result = super.insertTab(index, value);
        this.tabAdded.emit({ title: result });
        return result;
    }
    onAfterAttach(msg) {
        super.onAfterAttach(msg);
        this.renderTabBar();
    }
    onUpdateRequest(msg) {
        this.renderTabBar();
        if (this.scrollBar) {
            this.scrollBar.update();
        }
    }
    /**
     * Render the tab bar in the _hidden content node_ (see `hiddenContentNode` for explanation),
     * then gather size information for labels and render it again in the proper content node.
     */
    renderTabBar() {
        if (this.isAttached) {
            // Render into the invisible node
            this.renderTabs(this.hiddenContentNode);
            // Await a rendering frame
            window.requestAnimationFrame(() => {
                const hiddenContent = this.hiddenContentNode;
                const n = hiddenContent.children.length;
                const renderData = new Array(n);
                for (let i = 0; i < n; i++) {
                    const hiddenTab = hiddenContent.children[i];
                    // Extract tab padding from the computed style
                    const tabStyle = window.getComputedStyle(hiddenTab);
                    const rd = {
                        paddingTop: parseFloat(tabStyle.paddingTop),
                        paddingBottom: parseFloat(tabStyle.paddingBottom)
                    };
                    // Extract label size from the DOM
                    const labelElements = hiddenTab.getElementsByClassName('p-TabBar-tabLabel');
                    if (labelElements.length === 1) {
                        const label = labelElements[0];
                        rd.labelSize = { width: label.clientWidth, height: label.clientHeight };
                    }
                    // Extract icon size from the DOM
                    const iconElements = hiddenTab.getElementsByClassName('p-TabBar-tabIcon');
                    if (iconElements.length === 1) {
                        const icon = iconElements[0];
                        rd.iconSize = { width: icon.clientWidth, height: icon.clientHeight };
                    }
                    renderData[i] = rd;
                }
                // Render into the visible node
                this.renderTabs(this.contentNode, renderData);
            });
        }
    }
    /**
     * Render the tab bar using the given DOM element as host. The optional `renderData` is forwarded
     * to the TabBarRenderer.
     */
    renderTabs(host, renderData) {
        const titles = this.titles;
        const n = titles.length;
        const renderer = this.renderer;
        const currentTitle = this.currentTitle;
        const content = new Array(n);
        for (let i = 0; i < n; i++) {
            const title = titles[i];
            const current = title === currentTitle;
            const zIndex = current ? n : n - i - 1;
            let rd;
            if (renderData && i < renderData.length) {
                rd = Object.assign({ title, current, zIndex }, renderData[i]);
            }
            else {
                rd = { title, current, zIndex };
            }
            content[i] = renderer.renderTab(rd, true);
        }
        virtualdom_1.VirtualDOM.render(content, host);
    }
    /**
     * The following event processing is used to generate `collapseRequested` signals
     * when the mouse goes up on the currently selected tab without too much movement
     * between `mousedown` and `mouseup`. The movement threshold is the same that
     * is used by the superclass to detect a drag event. The `allowDeselect` option
     * of the TabBar constructor cannot be used here because it is triggered when the
     * mouse goes down, and thus collides with dragging.
     */
    handleEvent(event) {
        switch (event.type) {
            case 'mousedown':
                this.onMouseDown(event);
                super.handleEvent(event);
                break;
            case 'mouseup':
                super.handleEvent(event);
                this.onMouseUp(event);
                break;
            case 'mousemove':
                this.onMouseMove(event);
                super.handleEvent(event);
                break;
            default:
                super.handleEvent(event);
        }
    }
    onMouseDown(event) {
        // Check for left mouse button and current mouse status
        if (event.button !== 0 || this.mouseData) {
            return;
        }
        // Check whether the mouse went down on the current tab
        const tabs = this.contentNode.children;
        const index = algorithm_1.ArrayExt.findFirstIndex(tabs, tab => domutils_1.ElementExt.hitTest(tab, event.clientX, event.clientY));
        if (index < 0 || index !== this.currentIndex) {
            return;
        }
        // Check whether the close button was clicked
        const icon = tabs[index].querySelector(this.renderer.closeIconSelector);
        if (icon && icon.contains(event.target)) {
            return;
        }
        this.mouseData = {
            pressX: event.clientX,
            pressY: event.clientY,
            mouseDownTabIndex: index
        };
    }
    onMouseUp(event) {
        // Check for left mouse button and current mouse status
        if (event.button !== 0 || !this.mouseData) {
            return;
        }
        // Check whether the mouse went up on the current tab
        const mouseDownTabIndex = this.mouseData.mouseDownTabIndex;
        this.mouseData = undefined;
        const tabs = this.contentNode.children;
        const index = algorithm_1.ArrayExt.findFirstIndex(tabs, tab => domutils_1.ElementExt.hitTest(tab, event.clientX, event.clientY));
        if (index < 0 || index !== mouseDownTabIndex) {
            return;
        }
        // Collapse the side bar
        this.collapseRequested.emit(this.titles[index]);
    }
    onMouseMove(event) {
        // Check for left mouse button and current mouse status
        if (event.button !== 0 || !this.mouseData) {
            return;
        }
        const data = this.mouseData;
        const dx = Math.abs(event.clientX - data.pressX);
        const dy = Math.abs(event.clientY - data.pressY);
        const threshold = SideTabBar.DRAG_THRESHOLD;
        if (dx >= threshold || dy >= threshold) {
            this.mouseData = undefined;
        }
    }
}
exports.SideTabBar = SideTabBar;
SideTabBar.DRAG_THRESHOLD = 5;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/shell/theia-dock-panel.js":
/*!*********************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/shell/theia-dock-panel.js ***!
  \*********************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.TheiaDockPanel = exports.BOTTOM_AREA_ID = exports.MAIN_AREA_ID = exports.MAXIMIZED_CLASS = void 0;
const algorithm_1 = __webpack_require__(/*! @phosphor/algorithm */ "../node_modules/@phosphor/algorithm/lib/index.js");
const widgets_1 = __webpack_require__(/*! @phosphor/widgets */ "../node_modules/@phosphor/widgets/lib/index.js");
const signaling_1 = __webpack_require__(/*! @phosphor/signaling */ "../node_modules/@phosphor/signaling/lib/index.js");
const disposable_1 = __webpack_require__(/*! ../../common/disposable */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/disposable.js");
const widgets_2 = __webpack_require__(/*! ../widgets */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/widgets/index.js");
const core_preferences_1 = __webpack_require__(/*! ../core-preferences */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/core-preferences.js");
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const common_1 = __webpack_require__(/*! ../../common */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/index.js");
exports.MAXIMIZED_CLASS = 'theia-maximized';
const VISIBLE_MENU_MAXIMIZED_CLASS = 'theia-visible-menu-maximized';
exports.MAIN_AREA_ID = 'theia-main-content-panel';
exports.BOTTOM_AREA_ID = 'theia-bottom-content-panel';
/**
 * This specialization of DockPanel adds various events that are used for implementing the
 * side panels of the application shell.
 */
let TheiaDockPanel = class TheiaDockPanel extends widgets_1.DockPanel {
    constructor(options, preferences) {
        super(options);
        this.preferences = preferences;
        /**
         * Emitted when a widget is added to the panel.
         */
        this.widgetAdded = new signaling_1.Signal(this);
        /**
         * Emitted when a widget is activated by calling `activateWidget`.
         */
        this.widgetActivated = new signaling_1.Signal(this);
        /**
         * Emitted when a widget is removed from the panel.
         */
        this.widgetRemoved = new signaling_1.Signal(this);
        this.onDidToggleMaximizedEmitter = new common_1.Emitter();
        this.onDidToggleMaximized = this.onDidToggleMaximizedEmitter.event;
        this.toDisposeOnMarkAsCurrent = new disposable_1.DisposableCollection();
        this.toDisposeOnToggleMaximized = new disposable_1.DisposableCollection();
        this['_onCurrentChanged'] = (sender, args) => {
            this.markAsCurrent(args.currentTitle || undefined);
            super['_onCurrentChanged'](sender, args);
        };
        this['_onTabActivateRequested'] = (sender, args) => {
            this.markAsCurrent(args.title);
            super['_onTabActivateRequested'](sender, args);
        };
        if (preferences) {
            preferences.onPreferenceChanged(preference => {
                if (!this.isElectron() && preference.preferenceName === 'window.menuBarVisibility' && (preference.newValue === 'visible' || preference.oldValue === 'visible')) {
                    this.handleMenuBarVisibility(preference.newValue);
                }
            });
        }
    }
    isElectron() {
        return common_1.environment.electron.is();
    }
    handleMenuBarVisibility(newValue) {
        const areaContainer = this.node.parentElement;
        const maximizedElement = this.getMaximizedElement();
        if (areaContainer === maximizedElement) {
            if (newValue === 'visible') {
                this.addClass(VISIBLE_MENU_MAXIMIZED_CLASS);
            }
            else {
                this.removeClass(VISIBLE_MENU_MAXIMIZED_CLASS);
            }
        }
    }
    get currentTitle() {
        return this._currentTitle;
    }
    get currentTabBar() {
        return this._currentTitle && this.findTabBar(this._currentTitle);
    }
    findTabBar(title) {
        return algorithm_1.find(this.tabBars(), bar => algorithm_1.ArrayExt.firstIndexOf(bar.titles, title) > -1);
    }
    markAsCurrent(title) {
        this.toDisposeOnMarkAsCurrent.dispose();
        this._currentTitle = title;
        if (title) {
            const resetCurrent = () => this.markAsCurrent(undefined);
            title.owner.disposed.connect(resetCurrent);
            this.toDisposeOnMarkAsCurrent.push(disposable_1.Disposable.create(() => title.owner.disposed.disconnect(resetCurrent)));
        }
    }
    addWidget(widget, options) {
        if (this.mode === 'single-document' && widget.parent === this) {
            return;
        }
        super.addWidget(widget, options);
        this.widgetAdded.emit(widget);
    }
    activateWidget(widget) {
        super.activateWidget(widget);
        this.widgetActivated.emit(widget);
    }
    onChildRemoved(msg) {
        super.onChildRemoved(msg);
        this.widgetRemoved.emit(msg.child);
    }
    nextTabBarWidget(widget) {
        const current = this.findTabBar(widget.title);
        const next = current && this.nextTabBarInPanel(current);
        return next && next.currentTitle && next.currentTitle.owner || undefined;
    }
    nextTabBarInPanel(tabBar) {
        const tabBars = algorithm_1.toArray(this.tabBars());
        const index = tabBars.indexOf(tabBar);
        if (index !== -1) {
            return tabBars[index + 1];
        }
        return undefined;
    }
    previousTabBarWidget(widget) {
        const current = this.findTabBar(widget.title);
        const previous = current && this.previousTabBarInPanel(current);
        return previous && previous.currentTitle && previous.currentTitle.owner || undefined;
    }
    previousTabBarInPanel(tabBar) {
        const tabBars = algorithm_1.toArray(this.tabBars());
        const index = tabBars.indexOf(tabBar);
        if (index !== -1) {
            return tabBars[index - 1];
        }
        return undefined;
    }
    toggleMaximized() {
        var _a;
        const areaContainer = this.node.parentElement;
        if (!areaContainer) {
            return;
        }
        const maximizedElement = this.getMaximizedElement();
        if (areaContainer === maximizedElement) {
            this.toDisposeOnToggleMaximized.dispose();
            return;
        }
        if (this.isAttached) {
            widgets_2.UnsafeWidgetUtilities.detach(this);
        }
        maximizedElement.style.display = 'block';
        this.addClass(exports.MAXIMIZED_CLASS);
        const preference = (_a = this.preferences) === null || _a === void 0 ? void 0 : _a.get('window.menuBarVisibility');
        if (!this.isElectron() && preference === 'visible') {
            this.addClass(VISIBLE_MENU_MAXIMIZED_CLASS);
        }
        widgets_2.UnsafeWidgetUtilities.attach(this, maximizedElement);
        this.fit();
        this.onDidToggleMaximizedEmitter.fire(this);
        this.toDisposeOnToggleMaximized.push(disposable_1.Disposable.create(() => {
            maximizedElement.style.display = 'none';
            this.removeClass(exports.MAXIMIZED_CLASS);
            this.onDidToggleMaximizedEmitter.fire(this);
            if (!this.isElectron()) {
                this.removeClass(VISIBLE_MENU_MAXIMIZED_CLASS);
            }
            if (this.isAttached) {
                widgets_2.UnsafeWidgetUtilities.detach(this);
            }
            widgets_2.UnsafeWidgetUtilities.attach(this, areaContainer);
            this.fit();
        }));
        const layout = this.layout;
        if (layout instanceof widgets_1.DockLayout) {
            const onResize = layout['onResize'];
            layout['onResize'] = () => onResize.bind(layout)(widgets_1.Widget.ResizeMessage.UnknownSize);
            this.toDisposeOnToggleMaximized.push(disposable_1.Disposable.create(() => layout['onResize'] = onResize));
        }
        const removedListener = () => {
            if (!this.widgets().next()) {
                this.toDisposeOnToggleMaximized.dispose();
            }
        };
        this.widgetRemoved.connect(removedListener);
        this.toDisposeOnToggleMaximized.push(disposable_1.Disposable.create(() => this.widgetRemoved.disconnect(removedListener)));
    }
    getMaximizedElement() {
        if (!this.maximizedElement) {
            this.maximizedElement = document.createElement('div');
            this.maximizedElement.style.display = 'none';
            document.body.appendChild(this.maximizedElement);
        }
        return this.maximizedElement;
    }
};
TheiaDockPanel = __decorate([
    __param(1, inversify_1.inject(core_preferences_1.CorePreferences)),
    __metadata("design:paramtypes", [Object, Object])
], TheiaDockPanel);
exports.TheiaDockPanel = TheiaDockPanel;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/shell/view-contribution.js":
/*!**********************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/shell/view-contribution.js ***!
  \**********************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.AbstractViewContribution = exports.bindViewContribution = void 0;
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const common_1 = __webpack_require__(/*! ../../common */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/index.js");
const keybinding_1 = __webpack_require__(/*! ../keybinding */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/keybinding.js");
const widget_manager_1 = __webpack_require__(/*! ../widget-manager */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/widget-manager.js");
const common_frontend_contribution_1 = __webpack_require__(/*! ../common-frontend-contribution */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/common-frontend-contribution.js");
const application_shell_1 = __webpack_require__(/*! ./application-shell */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/shell/application-shell.js");
const quick_input_1 = __webpack_require__(/*! ../quick-input */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/quick-input/index.js");
// eslint-disable-next-line @typescript-eslint/no-explicit-any
function bindViewContribution(bind, identifier) {
    const syntax = bind(identifier).toSelf().inSingletonScope();
    bind(common_1.CommandContribution).toService(identifier);
    bind(keybinding_1.KeybindingContribution).toService(identifier);
    bind(common_1.MenuContribution).toService(identifier);
    return syntax;
}
exports.bindViewContribution = bindViewContribution;
/**
 * An abstract superclass for frontend contributions that add a view to the application shell.
 */
let AbstractViewContribution = class AbstractViewContribution {
    constructor(options) {
        this.options = options;
        if (options.toggleCommandId) {
            this.toggleCommand = {
                id: options.toggleCommandId,
                label: 'Toggle ' + this.viewLabel + ' View'
            };
        }
    }
    get viewId() {
        return this.options.widgetId;
    }
    get viewLabel() {
        return this.options.widgetName;
    }
    get defaultViewOptions() {
        return this.options.defaultWidgetOptions;
    }
    get widget() {
        return this.widgetManager.getOrCreateWidget(this.viewId);
    }
    tryGetWidget() {
        return this.widgetManager.tryGetWidget(this.viewId);
    }
    async openView(args = {}) {
        const shell = this.shell;
        const widget = await this.widgetManager.getOrCreateWidget(this.options.viewContainerId || this.viewId);
        const tabBar = shell.getTabBarFor(widget);
        const area = shell.getAreaFor(widget);
        if (!tabBar) {
            // The widget is not attached yet, so add it to the shell
            const widgetArgs = Object.assign(Object.assign({}, this.defaultViewOptions), args);
            await shell.addWidget(widget, widgetArgs);
        }
        else if (args.toggle && area && shell.isExpanded(area) && tabBar.currentTitle === widget.title) {
            // The widget is attached and visible, so collapse the containing panel (toggle)
            switch (area) {
                case 'left':
                case 'right':
                    await shell.collapsePanel(area);
                    break;
                case 'bottom':
                    // Don't collapse the bottom panel if it's currently split
                    if (shell.bottomAreaTabBars.length === 1) {
                        await shell.collapsePanel('bottom');
                    }
                    break;
                default:
                    // The main area cannot be collapsed, so close the widget
                    await this.closeView();
            }
            return this.widget;
        }
        if (widget.isAttached && args.activate) {
            await shell.activateWidget(this.viewId);
        }
        else if (widget.isAttached && args.reveal) {
            await shell.revealWidget(this.viewId);
        }
        return this.widget;
    }
    registerCommands(commands) {
        var _a;
        if (this.toggleCommand) {
            commands.registerCommand(this.toggleCommand, {
                execute: () => this.toggleView()
            });
        }
        (_a = this.quickView) === null || _a === void 0 ? void 0 : _a.registerItem({
            label: this.viewLabel,
            open: () => this.openView({ activate: true })
        });
    }
    async closeView() {
        const widget = await this.shell.closeWidget(this.viewId);
        return widget;
    }
    toggleView() {
        return this.openView({
            toggle: true,
            activate: true
        });
    }
    registerMenus(menus) {
        if (this.toggleCommand) {
            menus.registerMenuAction(common_frontend_contribution_1.CommonMenus.VIEW_VIEWS, {
                commandId: this.toggleCommand.id,
                label: this.viewLabel
            });
        }
    }
    registerKeybindings(keybindings) {
        if (this.toggleCommand && this.options.toggleKeybinding) {
            keybindings.registerKeybinding({
                command: this.toggleCommand.id,
                keybinding: this.options.toggleKeybinding
            });
        }
    }
};
__decorate([
    inversify_1.inject(widget_manager_1.WidgetManager),
    __metadata("design:type", widget_manager_1.WidgetManager)
], AbstractViewContribution.prototype, "widgetManager", void 0);
__decorate([
    inversify_1.inject(application_shell_1.ApplicationShell),
    __metadata("design:type", application_shell_1.ApplicationShell)
], AbstractViewContribution.prototype, "shell", void 0);
__decorate([
    inversify_1.inject(quick_input_1.QuickViewService),
    inversify_1.optional(),
    __metadata("design:type", quick_input_1.QuickViewService)
], AbstractViewContribution.prototype, "quickView", void 0);
AbstractViewContribution = __decorate([
    inversify_1.injectable(),
    __metadata("design:paramtypes", [Object])
], AbstractViewContribution);
exports.AbstractViewContribution = AbstractViewContribution;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/status-bar/index.js":
/*!***************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/status-bar/index.js ***!
  \***************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
/********************************************************************************
 * Copyright (C) 2018 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
__exportStar(__webpack_require__(/*! ./status-bar */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/status-bar/status-bar.js"), exports);


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/status-bar/status-bar.js":
/*!********************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/status-bar/status-bar.js ***!
  \********************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2017-2018 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.StatusBarImpl = exports.StatusBar = exports.STATUSBAR_WIDGET_FACTORY_ID = exports.StatusBarAlignment = void 0;
const React = __webpack_require__(/*! react */ "../node_modules/react/index.js");
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const octicons_react_1 = __webpack_require__(/*! @primer/octicons-react */ "../node_modules/@primer/octicons-react/dist/index.esm.js");
const common_1 = __webpack_require__(/*! ../../common */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/index.js");
const react_widget_1 = __webpack_require__(/*! ../widgets/react-widget */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/widgets/react-widget.js");
const frontend_application_state_1 = __webpack_require__(/*! ../frontend-application-state */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/frontend-application-state.js");
const label_parser_1 = __webpack_require__(/*! ../label-parser */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/label-parser.js");
const preferences_1 = __webpack_require__(/*! ../preferences */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/preferences/index.js");
var StatusBarAlignment;
(function (StatusBarAlignment) {
    StatusBarAlignment[StatusBarAlignment["LEFT"] = 0] = "LEFT";
    StatusBarAlignment[StatusBarAlignment["RIGHT"] = 1] = "RIGHT";
})(StatusBarAlignment = exports.StatusBarAlignment || (exports.StatusBarAlignment = {}));
exports.STATUSBAR_WIDGET_FACTORY_ID = 'statusBar';
exports.StatusBar = Symbol('StatusBar');
let StatusBarImpl = class StatusBarImpl extends react_widget_1.ReactWidget {
    constructor(commands, entryService, applicationStateService, preferences) {
        super();
        this.commands = commands;
        this.entryService = entryService;
        this.applicationStateService = applicationStateService;
        this.preferences = preferences;
        this.entries = new Map();
        delete this.scrollOptions;
        this.id = 'theia-statusBar';
        this.addClass('noselect');
        // Hide the status bar until the `workbench.statusBar.visible` preference returns with a `true` value.
        this.hide();
        this.preferences.ready.then(() => {
            const preferenceValue = this.preferences.get('workbench.statusBar.visible', true);
            this.setHidden(!preferenceValue);
        });
        this.toDispose.push(this.preferences.onPreferenceChanged(preference => {
            if (preference.preferenceName === 'workbench.statusBar.visible') {
                this.setHidden(!preference.newValue);
            }
        }));
    }
    get ready() {
        return this.applicationStateService.reachedAnyState('initialized_layout', 'ready');
    }
    async setElement(id, entry) {
        await this.ready;
        this.entries.set(id, entry);
        this.update();
    }
    async removeElement(id) {
        await this.ready;
        this.entries.delete(id);
        this.update();
    }
    async setBackgroundColor(color) {
        await this.ready;
        this.internalSetBackgroundColor(color);
        this.update();
    }
    internalSetBackgroundColor(color) {
        this.backgroundColor = color;
        this.node.style.backgroundColor = this.backgroundColor || '';
    }
    async setColor(color) {
        await this.ready;
        this.internalSetColor(color);
        this.update();
    }
    internalSetColor(color) {
        this.color = color;
    }
    render() {
        const leftEntries = [];
        const rightEntries = [];
        const elements = Array.from(this.entries).sort((left, right) => {
            const lp = left[1].priority || 0;
            const rp = right[1].priority || 0;
            return rp - lp;
        });
        elements.forEach(([id, entry]) => {
            if (entry.alignment === StatusBarAlignment.LEFT) {
                leftEntries.push(this.renderElement(id, entry));
            }
            else {
                rightEntries.push(this.renderElement(id, entry));
            }
        });
        return React.createElement(React.Fragment, null,
            React.createElement("div", { className: 'area left' }, leftEntries),
            React.createElement("div", { className: 'area right' }, rightEntries));
    }
    onclick(entry) {
        return () => {
            if (entry.command) {
                const args = entry.arguments || [];
                this.commands.executeCommand(entry.command, ...args);
            }
        };
    }
    createAttributes(entry) {
        const attrs = {};
        if (entry.command) {
            attrs.onClick = this.onclick(entry);
            attrs.className = 'element hasCommand';
        }
        else if (entry.onclick) {
            attrs.onClick = e => {
                if (entry.onclick) {
                    entry.onclick(e);
                }
            };
            attrs.className = 'element hasCommand';
        }
        else {
            attrs.className = 'element';
        }
        if (entry.tooltip) {
            attrs.title = entry.tooltip;
        }
        attrs.style = {
            color: entry.color || this.color
        };
        if (entry.className) {
            attrs.className += ' ' + entry.className;
        }
        return attrs;
    }
    renderElement(id, entry) {
        const childStrings = this.entryService.parse(entry.text);
        const children = [];
        childStrings.forEach((val, key) => {
            if (!(typeof val === 'string') && label_parser_1.LabelIcon.is(val)) {
                const octicon = octicons_react_1.getIconByName(val.name);
                if (octicon) {
                    children.push(React.createElement("span", { key: key, className: val.animation ? 'fa-' + val.animation : 'fa' },
                        React.createElement(octicons_react_1.default, { icon: octicon, height: 12.5, width: 12.5 })));
                }
                else if (val.name.startsWith('codicon-')) {
                    children.push(React.createElement("span", { key: key, className: `codicon ${val.name}${val.animation ? ' fa-' + val.animation : ''}` }));
                }
                else {
                    children.push(React.createElement("span", { key: key, className: `fa fa-${val.name}${val.animation ? ' fa-' + val.animation : ''}` }));
                }
            }
            else {
                children.push(React.createElement("span", { key: key }, val));
            }
        });
        const elementInnerDiv = React.createElement(React.Fragment, null, children);
        return React.createElement('div', Object.assign({ key: id }, this.createAttributes(entry)), elementInnerDiv);
    }
};
StatusBarImpl = __decorate([
    inversify_1.injectable(),
    __param(0, inversify_1.inject(common_1.CommandService)),
    __param(1, inversify_1.inject(label_parser_1.LabelParser)),
    __param(2, inversify_1.inject(frontend_application_state_1.FrontendApplicationStateService)),
    __param(3, inversify_1.inject(preferences_1.PreferenceService)),
    __metadata("design:paramtypes", [Object, label_parser_1.LabelParser,
        frontend_application_state_1.FrontendApplicationStateService, Object])
], StatusBarImpl);
exports.StatusBarImpl = StatusBarImpl;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/storage-service.js":
/*!**************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/storage-service.js ***!
  \**************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.LocalStorageService = exports.StorageService = void 0;
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const logger_1 = __webpack_require__(/*! ../common/logger */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/logger.js");
const message_service_1 = __webpack_require__(/*! ../common/message-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/message-service.js");
const window_service_1 = __webpack_require__(/*! ./window/window-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/window/window-service.js");
const environment_1 = __webpack_require__(/*! @theia/application-package/lib/environment */ "../node_modules/@theia/file-search/node_modules/@theia/application-package/lib/environment.js");
exports.StorageService = Symbol('IStorageService');
let LocalStorageService = class LocalStorageService {
    init() {
        if (typeof window !== 'undefined' && window.localStorage) {
            this.storage = window.localStorage;
            this.testLocalStorage();
        }
        else {
            this.logger.warn(log => log("The browser doesn't support localStorage. state will not be persisted across sessions."));
            this.storage = {};
        }
    }
    setData(key, data) {
        if (data !== undefined) {
            try {
                this.storage[this.prefix(key)] = JSON.stringify(data);
            }
            catch (e) {
                this.showDiskQuotaExceededMessage();
            }
        }
        else {
            delete this.storage[this.prefix(key)];
        }
        return Promise.resolve();
    }
    getData(key, defaultValue) {
        const result = this.storage[this.prefix(key)];
        if (result === undefined) {
            return Promise.resolve(defaultValue);
        }
        return Promise.resolve(JSON.parse(result));
    }
    prefix(key) {
        if (environment_1.environment.electron.is()) {
            return `theia:${key}`;
        }
        const pathname = typeof window === 'undefined' ? '' : window.location.pathname;
        return `theia:${pathname}:${key}`;
    }
    async showDiskQuotaExceededMessage() {
        const READ_INSTRUCTIONS_ACTION = 'Read Instructions';
        const CLEAR_STORAGE_ACTION = 'Clear Local Storage';
        const ERROR_MESSAGE = `Your preferred browser's local storage is almost full.
        To be able to save your current workspace layout or data, you may need to free up some space.
        You can refer to Theia's documentation page for instructions on how to manually clean
        your browser's local storage or choose to clear all.`;
        this.messageService.warn(ERROR_MESSAGE, READ_INSTRUCTIONS_ACTION, CLEAR_STORAGE_ACTION).then(async (selected) => {
            if (READ_INSTRUCTIONS_ACTION === selected) {
                this.windowService.openNewWindow('https://github.com/eclipse-theia/theia/wiki/Cleaning-Local-Storage', { external: true });
            }
            else if (CLEAR_STORAGE_ACTION === selected) {
                this.clearStorage();
            }
        });
    }
    /**
     * Verify if there is still some spaces left to save another workspace configuration into the local storage of your browser.
     * If we are close to the limit, use a dialog to notify the user.
     */
    testLocalStorage() {
        const keyTest = this.prefix('Test');
        try {
            this.storage[keyTest] = JSON.stringify(new Array(60000));
        }
        catch (error) {
            this.showDiskQuotaExceededMessage();
        }
        finally {
            this.storage.removeItem(keyTest);
        }
    }
    clearStorage() {
        this.storage.clear();
    }
};
__decorate([
    inversify_1.inject(logger_1.ILogger),
    __metadata("design:type", Object)
], LocalStorageService.prototype, "logger", void 0);
__decorate([
    inversify_1.inject(message_service_1.MessageService),
    __metadata("design:type", message_service_1.MessageService)
], LocalStorageService.prototype, "messageService", void 0);
__decorate([
    inversify_1.inject(window_service_1.WindowService),
    __metadata("design:type", Object)
], LocalStorageService.prototype, "windowService", void 0);
__decorate([
    inversify_1.postConstruct(),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", []),
    __metadata("design:returntype", void 0)
], LocalStorageService.prototype, "init", null);
LocalStorageService = __decorate([
    inversify_1.injectable()
], LocalStorageService);
exports.LocalStorageService = LocalStorageService;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/supported-encodings.js":
/*!******************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/supported-encodings.js ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2019 Xuye Cai and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.SUPPORTED_ENCODINGS = void 0;
// copied from vscode: https://github.com/microsoft/vscode/blob/master/src/vs/workbench/services/textfile/common/textfiles.ts
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
exports.SUPPORTED_ENCODINGS = {
    utf8: {
        labelLong: 'UTF-8',
        labelShort: 'UTF-8',
        order: 1,
        alias: 'utf8bom'
    },
    utf8bom: {
        labelLong: 'UTF-8 with BOM',
        labelShort: 'UTF-8 with BOM',
        encodeOnly: true,
        order: 2,
        alias: 'utf8'
    },
    utf16le: {
        labelLong: 'UTF-16 LE',
        labelShort: 'UTF-16 LE',
        order: 3
    },
    utf16be: {
        labelLong: 'UTF-16 BE',
        labelShort: 'UTF-16 BE',
        order: 4
    },
    windows1252: {
        labelLong: 'Western (Windows 1252)',
        labelShort: 'Windows 1252',
        order: 5
    },
    iso88591: {
        labelLong: 'Western (ISO 8859-1)',
        labelShort: 'ISO 8859-1',
        order: 6
    },
    iso88593: {
        labelLong: 'Western (ISO 8859-3)',
        labelShort: 'ISO 8859-3',
        order: 7
    },
    iso885915: {
        labelLong: 'Western (ISO 8859-15)',
        labelShort: 'ISO 8859-15',
        order: 8
    },
    macroman: {
        labelLong: 'Western (Mac Roman)',
        labelShort: 'Mac Roman',
        order: 9
    },
    cp437: {
        labelLong: 'DOS (CP 437)',
        labelShort: 'CP437',
        order: 10
    },
    windows1256: {
        labelLong: 'Arabic (Windows 1256)',
        labelShort: 'Windows 1256',
        order: 11
    },
    iso88596: {
        labelLong: 'Arabic (ISO 8859-6)',
        labelShort: 'ISO 8859-6',
        order: 12
    },
    windows1257: {
        labelLong: 'Baltic (Windows 1257)',
        labelShort: 'Windows 1257',
        order: 13
    },
    iso88594: {
        labelLong: 'Baltic (ISO 8859-4)',
        labelShort: 'ISO 8859-4',
        order: 14
    },
    iso885914: {
        labelLong: 'Celtic (ISO 8859-14)',
        labelShort: 'ISO 8859-14',
        order: 15
    },
    windows1250: {
        labelLong: 'Central European (Windows 1250)',
        labelShort: 'Windows 1250',
        order: 16
    },
    iso88592: {
        labelLong: 'Central European (ISO 8859-2)',
        labelShort: 'ISO 8859-2',
        order: 17
    },
    cp852: {
        labelLong: 'Central European (CP 852)',
        labelShort: 'CP 852',
        order: 18
    },
    windows1251: {
        labelLong: 'Cyrillic (Windows 1251)',
        labelShort: 'Windows 1251',
        order: 19
    },
    cp866: {
        labelLong: 'Cyrillic (CP 866)',
        labelShort: 'CP 866',
        order: 20
    },
    iso88595: {
        labelLong: 'Cyrillic (ISO 8859-5)',
        labelShort: 'ISO 8859-5',
        order: 21
    },
    koi8r: {
        labelLong: 'Cyrillic (KOI8-R)',
        labelShort: 'KOI8-R',
        order: 22
    },
    koi8u: {
        labelLong: 'Cyrillic (KOI8-U)',
        labelShort: 'KOI8-U',
        order: 23
    },
    iso885913: {
        labelLong: 'Estonian (ISO 8859-13)',
        labelShort: 'ISO 8859-13',
        order: 24
    },
    windows1253: {
        labelLong: 'Greek (Windows 1253)',
        labelShort: 'Windows 1253',
        order: 25
    },
    iso88597: {
        labelLong: 'Greek (ISO 8859-7)',
        labelShort: 'ISO 8859-7',
        order: 26
    },
    windows1255: {
        labelLong: 'Hebrew (Windows 1255)',
        labelShort: 'Windows 1255',
        order: 27
    },
    iso88598: {
        labelLong: 'Hebrew (ISO 8859-8)',
        labelShort: 'ISO 8859-8',
        order: 28
    },
    iso885910: {
        labelLong: 'Nordic (ISO 8859-10)',
        labelShort: 'ISO 8859-10',
        order: 29
    },
    iso885916: {
        labelLong: 'Romanian (ISO 8859-16)',
        labelShort: 'ISO 8859-16',
        order: 30
    },
    windows1254: {
        labelLong: 'Turkish (Windows 1254)',
        labelShort: 'Windows 1254',
        order: 31
    },
    iso88599: {
        labelLong: 'Turkish (ISO 8859-9)',
        labelShort: 'ISO 8859-9',
        order: 32
    },
    windows1258: {
        labelLong: 'Vietnamese (Windows 1258)',
        labelShort: 'Windows 1258',
        order: 33
    },
    gbk: {
        labelLong: 'Simplified Chinese (GBK)',
        labelShort: 'GBK',
        order: 34
    },
    gb18030: {
        labelLong: 'Simplified Chinese (GB18030)',
        labelShort: 'GB18030',
        order: 35
    },
    cp950: {
        labelLong: 'Traditional Chinese (Big5)',
        labelShort: 'Big5',
        order: 36
    },
    big5hkscs: {
        labelLong: 'Traditional Chinese (Big5-HKSCS)',
        labelShort: 'Big5-HKSCS',
        order: 37
    },
    shiftjis: {
        labelLong: 'Japanese (Shift JIS)',
        labelShort: 'Shift JIS',
        order: 38
    },
    eucjp: {
        labelLong: 'Japanese (EUC-JP)',
        labelShort: 'EUC-JP',
        order: 39
    },
    euckr: {
        labelLong: 'Korean (EUC-KR)',
        labelShort: 'EUC-KR',
        order: 40
    },
    windows874: {
        labelLong: 'Thai (Windows 874)',
        labelShort: 'Windows 874',
        order: 41
    },
    iso885911: {
        labelLong: 'Latin/Thai (ISO 8859-11)',
        labelShort: 'ISO 8859-11',
        order: 42
    },
    koi8ru: {
        labelLong: 'Cyrillic (KOI8-RU)',
        labelShort: 'KOI8-RU',
        order: 43
    },
    koi8t: {
        labelLong: 'Tajik (KOI8-T)',
        labelShort: 'KOI8-T',
        order: 44
    },
    gb2312: {
        labelLong: 'Simplified Chinese (GB 2312)',
        labelShort: 'GB 2312',
        order: 45
    },
    cp865: {
        labelLong: 'Nordic DOS (CP 865)',
        labelShort: 'CP 865',
        order: 46
    },
    cp850: {
        labelLong: 'Western European DOS (CP 850)',
        labelShort: 'CP 850',
        order: 47
    }
};


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/theming.js":
/*!******************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/theming.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.BuiltinThemeProvider = exports.ThemeService = exports.ThemeServiceSymbol = void 0;
const event_1 = __webpack_require__(/*! ../common/event */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/event.js");
const disposable_1 = __webpack_require__(/*! ../common/disposable */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/disposable.js");
const frontend_application_config_provider_1 = __webpack_require__(/*! ./frontend-application-config-provider */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/frontend-application-config-provider.js");
const application_props_1 = __webpack_require__(/*! @theia/application-package/lib/application-props */ "../node_modules/@theia/file-search/node_modules/@theia/application-package/lib/application-props.js");
exports.ThemeServiceSymbol = Symbol('ThemeService');
class ThemeService {
    constructor() {
        this.themes = {};
        this.themeChange = new event_1.Emitter();
        this.onDidColorThemeChange = this.themeChange.event;
    }
    static get() {
        const global = window; // eslint-disable-line @typescript-eslint/no-explicit-any
        if (!global[exports.ThemeServiceSymbol]) {
            const themeService = new ThemeService();
            themeService.register(...BuiltinThemeProvider.themes);
            themeService.startupTheme();
            global[exports.ThemeServiceSymbol] = themeService;
        }
        return global[exports.ThemeServiceSymbol];
    }
    register(...themes) {
        for (const theme of themes) {
            this.themes[theme.id] = theme;
        }
        this.validateActiveTheme();
        return disposable_1.Disposable.create(() => {
            for (const theme of themes) {
                delete this.themes[theme.id];
            }
            this.validateActiveTheme();
        });
    }
    validateActiveTheme() {
        if (!this.activeTheme) {
            return;
        }
        const theme = this.themes[this.activeTheme.id];
        if (!theme) {
            this.loadUserTheme();
        }
        else if (theme !== this.activeTheme) {
            this.activeTheme = undefined;
            this.setCurrentTheme(theme.id);
        }
    }
    getThemes() {
        const result = [];
        for (const o in this.themes) {
            if (this.themes.hasOwnProperty(o)) {
                result.push(this.themes[o]);
            }
        }
        return result;
    }
    getTheme(themeId) {
        return this.themes[themeId] || this.defaultTheme;
    }
    startupTheme() {
        const theme = this.getCurrentTheme();
        theme.activate();
    }
    loadUserTheme() {
        const theme = this.getCurrentTheme();
        this.setCurrentTheme(theme.id);
    }
    setCurrentTheme(themeId) {
        const newTheme = this.getTheme(themeId);
        const oldTheme = this.activeTheme;
        if (oldTheme) {
            if (oldTheme.id === newTheme.id) {
                return;
            }
            oldTheme.deactivate();
        }
        newTheme.activate();
        this.activeTheme = newTheme;
        window.localStorage.setItem('theme', themeId);
        this.themeChange.fire({
            newTheme, oldTheme
        });
    }
    getCurrentTheme() {
        const themeId = window.localStorage.getItem('theme') || this.defaultTheme.id;
        return this.getTheme(themeId);
    }
    /**
     * The default theme. If that is not applicable, returns with the fallback theme.
     */
    get defaultTheme() {
        return this.themes[frontend_application_config_provider_1.FrontendApplicationConfigProvider.get().defaultTheme] || this.themes[application_props_1.ApplicationProps.DEFAULT.frontend.config.defaultTheme];
    }
    /**
     * Resets the state to the user's default, or to the fallback theme. Also discards any persisted state in the local storage.
     */
    reset() {
        this.setCurrentTheme(this.defaultTheme.id);
    }
}
exports.ThemeService = ThemeService;
class BuiltinThemeProvider {
}
exports.BuiltinThemeProvider = BuiltinThemeProvider;
// Webpack converts these `require` in some Javascript object that wraps the `.css` files
BuiltinThemeProvider.darkCss = __webpack_require__(/*! ../../src/browser/style/variables-dark.useable.css */ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/style/variables-dark.useable.css");
BuiltinThemeProvider.lightCss = __webpack_require__(/*! ../../src/browser/style/variables-bright.useable.css */ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/style/variables-bright.useable.css");
BuiltinThemeProvider.darkTheme = {
    id: 'dark',
    type: 'dark',
    label: 'Dark (Theia)',
    editorTheme: 'dark-theia',
    activate() {
        BuiltinThemeProvider.darkCss.use();
    },
    deactivate() {
        BuiltinThemeProvider.darkCss.unuse();
    }
};
BuiltinThemeProvider.lightTheme = {
    id: 'light',
    type: 'light',
    label: 'Light (Theia)',
    editorTheme: 'light-theia',
    activate() {
        BuiltinThemeProvider.lightCss.use();
    },
    deactivate() {
        BuiltinThemeProvider.lightCss.unuse();
    }
};
BuiltinThemeProvider.hcTheme = {
    id: 'hc-theia',
    type: 'hc',
    label: 'High Contrast (Theia)',
    editorTheme: 'hc-theia',
    activate() {
        BuiltinThemeProvider.darkCss.use();
    },
    deactivate() {
        BuiltinThemeProvider.darkCss.unuse();
    }
};
BuiltinThemeProvider.themes = [
    BuiltinThemeProvider.darkTheme,
    BuiltinThemeProvider.lightTheme,
    BuiltinThemeProvider.hcTheme
];


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/fuzzy-search.js":
/*!****************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/fuzzy-search.js ***!
  \****************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var FuzzySearch_1;
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.FuzzySearch = void 0;
const fuzzy = __webpack_require__(/*! fuzzy */ "../node_modules/fuzzy/lib/fuzzy.js");
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
let FuzzySearch = FuzzySearch_1 = class FuzzySearch {
    /**
     * Filters the input and returns with an array that contains all items that match the pattern.
     */
    async filter(input) {
        return fuzzy.filter(input.pattern, input.items.slice(), {
            pre: FuzzySearch_1.PRE,
            post: FuzzySearch_1.POST,
            extract: input.transform
        }).sort(this.sortResults.bind(this)).map(this.mapResult.bind(this));
    }
    sortResults(left, right) {
        return left.index - right.index;
    }
    mapResult(result) {
        return {
            item: result.original,
            ranges: this.mapRanges(result.string)
        };
    }
    mapRanges(input) {
        const copy = input.split('').filter(s => s !== '');
        const ranges = [];
        const validate = (pre, post) => {
            if (preIndex > postIndex || (preIndex === -1) !== (postIndex === -1)) {
                throw new Error(`Error when trying to map ranges. Escaped string was: '${input}. [${[...input].join('|')}]'`);
            }
        };
        let preIndex = copy.indexOf(FuzzySearch_1.PRE);
        let postIndex = copy.indexOf(FuzzySearch_1.POST);
        validate(preIndex, postIndex);
        while (preIndex !== -1 && postIndex !== -1) {
            ranges.push({
                offset: preIndex,
                length: postIndex - preIndex - 1
            });
            copy.splice(postIndex, 1);
            copy.splice(preIndex, 1);
            preIndex = copy.indexOf(FuzzySearch_1.PRE);
            postIndex = copy.indexOf(FuzzySearch_1.POST);
        }
        if (ranges.length === 0) {
            throw new Error(`Unexpected zero ranges for match-string: ${input}.`);
        }
        return ranges;
    }
};
FuzzySearch.PRE = '\x01';
FuzzySearch.POST = '\x02';
FuzzySearch = FuzzySearch_1 = __decorate([
    inversify_1.injectable()
], FuzzySearch);
exports.FuzzySearch = FuzzySearch;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/index.js":
/*!*********************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/index.js ***!
  \*********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
__exportStar(__webpack_require__(/*! ./tree */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree.js"), exports);
__exportStar(__webpack_require__(/*! ./tree-selection */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree-selection.js"), exports);
__exportStar(__webpack_require__(/*! ./tree-expansion */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree-expansion.js"), exports);
__exportStar(__webpack_require__(/*! ./tree-navigation */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree-navigation.js"), exports);
__exportStar(__webpack_require__(/*! ./tree-iterator */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree-iterator.js"), exports);
__exportStar(__webpack_require__(/*! ./tree-model */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree-model.js"), exports);
__exportStar(__webpack_require__(/*! ./tree-widget */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree-widget.js"), exports);
__exportStar(__webpack_require__(/*! ./tree-view-welcome-widget */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree-view-welcome-widget.js"), exports);
__exportStar(__webpack_require__(/*! ./tree-container */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree-container.js"), exports);
__exportStar(__webpack_require__(/*! ./tree-decorator */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree-decorator.js"), exports);
__exportStar(__webpack_require__(/*! ./tree-search */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree-search.js"), exports);


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/search-box-debounce.js":
/*!***********************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/search-box-debounce.js ***!
  \***********************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.SearchBoxDebounce = exports.SearchBoxDebounceOptions = void 0;
const event_1 = __webpack_require__(/*! ../../common/event */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/event.js");
const disposable_1 = __webpack_require__(/*! ../../common/disposable */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/disposable.js");
const debounce = __webpack_require__(/*! lodash.debounce */ "../node_modules/lodash.debounce/index.js");
var SearchBoxDebounceOptions;
(function (SearchBoxDebounceOptions) {
    /**
     * The default debounce option.
     */
    SearchBoxDebounceOptions.DEFAULT = {
        delay: 200
    };
})(SearchBoxDebounceOptions = exports.SearchBoxDebounceOptions || (exports.SearchBoxDebounceOptions = {}));
/**
 * It notifies the clients, once if the underlying search term has changed after a given amount of delay.
 */
class SearchBoxDebounce {
    constructor(options) {
        this.options = options;
        this.disposables = new disposable_1.DisposableCollection();
        this.emitter = new event_1.Emitter();
        this.disposables.push(this.emitter);
        this.handler = debounce(() => this.fireChanged(this.state), this.options.delay).bind(this);
    }
    append(input) {
        if (input === undefined) {
            this.reset();
            return undefined;
        }
        if (this.state === undefined) {
            this.state = input;
        }
        else {
            if (input === '\b') {
                this.state = this.state.length === 1 ? '' : this.state.substr(0, this.state.length - 1);
            }
            else {
                this.state += input;
            }
        }
        this.handler();
        return this.state;
    }
    get onChanged() {
        return this.emitter.event;
    }
    dispose() {
        this.disposables.dispose();
    }
    fireChanged(value) {
        this.emitter.fire(value);
    }
    reset() {
        this.state = undefined;
        this.fireChanged(undefined);
    }
}
exports.SearchBoxDebounce = SearchBoxDebounce;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/search-box.js":
/*!**************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/search-box.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.SearchBoxFactory = exports.SearchBox = exports.SearchBoxProps = void 0;
const search_box_debounce_1 = __webpack_require__(/*! ../tree/search-box-debounce */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/search-box-debounce.js");
const widget_1 = __webpack_require__(/*! ../widgets/widget */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/widgets/widget.js");
const event_1 = __webpack_require__(/*! ../../common/event */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/event.js");
const keys_1 = __webpack_require__(/*! ../keyboard/keys */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/keyboard/keys.js");
var SearchBoxProps;
(function (SearchBoxProps) {
    /**
     * The default search box widget option.
     */
    SearchBoxProps.DEFAULT = search_box_debounce_1.SearchBoxDebounceOptions.DEFAULT;
})(SearchBoxProps = exports.SearchBoxProps || (exports.SearchBoxProps = {}));
/**
 * The search box widget.
 */
class SearchBox extends widget_1.BaseWidget {
    constructor(props, debounce) {
        super();
        this.props = props;
        this.debounce = debounce;
        this.nextEmitter = new event_1.Emitter();
        this.previousEmitter = new event_1.Emitter();
        this.closeEmitter = new event_1.Emitter();
        this.textChangeEmitter = new event_1.Emitter();
        this.filterToggleEmitter = new event_1.Emitter();
        this._isFiltering = false;
        this.toDispose.pushAll([
            this.nextEmitter,
            this.previousEmitter,
            this.closeEmitter,
            this.textChangeEmitter,
            this.filterToggleEmitter,
            this.debounce,
            this.debounce.onChanged(data => this.fireTextChange(data))
        ]);
        this.hide();
        this.update();
        const { input, filter } = this.createContent();
        this.input = input;
        this.filter = filter;
    }
    get onPrevious() {
        return this.previousEmitter.event;
    }
    get onNext() {
        return this.nextEmitter.event;
    }
    get onClose() {
        return this.closeEmitter.event;
    }
    get onTextChange() {
        return this.textChangeEmitter.event;
    }
    get onFilterToggled() {
        return this.filterToggleEmitter.event;
    }
    get isFiltering() {
        return this._isFiltering;
    }
    get keyCodePredicate() {
        return this.canHandle.bind(this);
    }
    firePrevious() {
        this.previousEmitter.fire(undefined);
    }
    fireNext() {
        this.nextEmitter.fire(undefined);
    }
    fireClose() {
        this.closeEmitter.fire(undefined);
    }
    fireTextChange(input) {
        this.textChangeEmitter.fire(input);
    }
    fireFilterToggle() {
        this.doFireFilterToggle();
    }
    doFireFilterToggle(toggleTo = !this._isFiltering) {
        if (this.filter) {
            if (toggleTo) {
                this.filter.classList.add(SearchBox.Styles.FILTER_ON);
            }
            else {
                this.filter.classList.remove(SearchBox.Styles.FILTER_ON);
            }
            this._isFiltering = toggleTo;
            this.filterToggleEmitter.fire(toggleTo);
            this.update();
        }
    }
    handle(event) {
        event.preventDefault();
        const keyCode = keys_1.KeyCode.createKeyCode(event);
        if (this.canHandle(keyCode)) {
            if (keys_1.Key.equals(keys_1.Key.ESCAPE, keyCode) || this.isCtrlBackspace(keyCode)) {
                this.hide();
            }
            else {
                this.show();
                this.handleKey(keyCode);
            }
        }
    }
    handleArrowUp() {
        this.firePrevious();
    }
    handleArrowDown() {
        this.fireNext();
    }
    onBeforeHide() {
        this.removeClass(SearchBox.Styles.NO_MATCH);
        this.doFireFilterToggle(false);
        this.debounce.append(undefined);
        this.fireClose();
    }
    handleKey(keyCode) {
        const character = keys_1.Key.equals(keys_1.Key.BACKSPACE, keyCode) ? '\b' : keyCode.character;
        const data = this.debounce.append(character);
        if (data) {
            this.input.textContent = this.getTrimmedContent(data);
            this.update();
        }
        else {
            this.hide();
        }
    }
    getTrimmedContent(data) {
        if (data.length > SearchBox.MAX_CONTENT_LENGTH) {
            return '...' + data.substring(data.length - SearchBox.MAX_CONTENT_LENGTH);
        }
        return data;
    }
    canHandle(keyCode) {
        if (keyCode === undefined) {
            return false;
        }
        const { ctrl, alt, meta } = keyCode;
        if (this.isCtrlBackspace(keyCode)) {
            return true;
        }
        if (ctrl || alt || meta || keyCode.key === keys_1.Key.SPACE) {
            return false;
        }
        if (keyCode.character || (this.isVisible && SearchBox.SPECIAL_KEYS.some(key => keys_1.Key.equals(key, keyCode)))) {
            return true;
        }
        return false;
    }
    isCtrlBackspace(keyCode) {
        if (keyCode.ctrl && keys_1.Key.equals(keys_1.Key.BACKSPACE, keyCode)) {
            return true;
        }
        return false;
    }
    updateHighlightInfo(info) {
        if (info.filterText && info.filterText.length > 0) {
            if (info.matched === 0) {
                this.addClass(SearchBox.Styles.NO_MATCH);
            }
            else {
                this.removeClass(SearchBox.Styles.NO_MATCH);
            }
        }
    }
    createContent() {
        this.node.setAttribute('tabIndex', '0');
        this.addClass(SearchBox.Styles.SEARCH_BOX);
        const input = document.createElement('span');
        input.classList.add(SearchBox.Styles.SEARCH_INPUT);
        this.node.appendChild(input);
        const buttons = document.createElement('div');
        buttons.classList.add(SearchBox.Styles.SEARCH_BUTTONS_WRAPPER);
        this.node.appendChild(buttons);
        let filter;
        if (this.props.showFilter) {
            filter = document.createElement('div');
            filter.classList.add(SearchBox.Styles.BUTTON, ...SearchBox.Styles.FILTER);
            filter.title = 'Enable Filter on Type';
            buttons.appendChild(filter);
            filter.onclick = this.fireFilterToggle.bind(this);
        }
        let previous;
        let next;
        let close;
        if (!!this.props.showButtons) {
            previous = document.createElement('div');
            previous.classList.add(SearchBox.Styles.BUTTON, SearchBox.Styles.BUTTON_PREVIOUS);
            previous.title = 'Previous (Up)';
            buttons.appendChild(previous);
            previous.onclick = () => this.firePrevious.bind(this)();
            next = document.createElement('div');
            next.classList.add(SearchBox.Styles.BUTTON, SearchBox.Styles.BUTTON_NEXT);
            next.title = 'Next (Down)';
            buttons.appendChild(next);
            next.onclick = () => this.fireNext.bind(this)();
        }
        if (this.props.showButtons || this.props.showFilter) {
            close = document.createElement('div');
            close.classList.add(SearchBox.Styles.BUTTON, SearchBox.Styles.BUTTON_CLOSE);
            close.title = 'Close (Escape)';
            buttons.appendChild(close);
            close.onclick = () => this.hide.bind(this)();
        }
        return {
            container: this.node,
            input,
            filter,
            previous,
            next,
            close
        };
    }
    onAfterAttach(msg) {
        super.onAfterAttach(msg);
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        this.addEventListener(this.input, 'selectstart', () => false);
    }
}
exports.SearchBox = SearchBox;
SearchBox.SPECIAL_KEYS = [
    keys_1.Key.ESCAPE,
    keys_1.Key.BACKSPACE
];
SearchBox.MAX_CONTENT_LENGTH = 15;
(function (SearchBox) {
    /**
     * CSS classes for the search box widget.
     */
    let Styles;
    (function (Styles) {
        Styles.SEARCH_BOX = 'theia-search-box';
        Styles.SEARCH_INPUT = 'theia-search-input';
        Styles.SEARCH_BUTTONS_WRAPPER = 'theia-search-buttons-wrapper';
        Styles.BUTTON = 'theia-search-button';
        Styles.FILTER = ['codicon', 'codicon-filter'];
        Styles.FILTER_ON = 'filter-active';
        Styles.BUTTON_PREVIOUS = 'theia-search-button-previous';
        Styles.BUTTON_NEXT = 'theia-search-button-next';
        Styles.BUTTON_CLOSE = 'theia-search-button-close';
        Styles.NON_SELECTABLE = 'theia-non-selectable';
        Styles.NO_MATCH = 'no-match';
    })(Styles = SearchBox.Styles || (SearchBox.Styles = {}));
})(SearchBox = exports.SearchBox || (exports.SearchBox = {}));
/**
 * Search box factory.
 */
exports.SearchBoxFactory = Symbol('SearchBoxFactory');


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree-container.js":
/*!******************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree-container.js ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.createTreeContainer = void 0;
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const tree_widget_1 = __webpack_require__(/*! ./tree-widget */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree-widget.js");
const tree_model_1 = __webpack_require__(/*! ./tree-model */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree-model.js");
const tree_1 = __webpack_require__(/*! ./tree */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree.js");
const tree_selection_1 = __webpack_require__(/*! ./tree-selection */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree-selection.js");
const tree_selection_impl_1 = __webpack_require__(/*! ./tree-selection-impl */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree-selection-impl.js");
const tree_expansion_1 = __webpack_require__(/*! ./tree-expansion */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree-expansion.js");
const tree_navigation_1 = __webpack_require__(/*! ./tree-navigation */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree-navigation.js");
const tree_decorator_1 = __webpack_require__(/*! ./tree-decorator */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree-decorator.js");
const tree_search_1 = __webpack_require__(/*! ./tree-search */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree-search.js");
const fuzzy_search_1 = __webpack_require__(/*! ./fuzzy-search */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/fuzzy-search.js");
const search_box_1 = __webpack_require__(/*! ./search-box */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/search-box.js");
const search_box_debounce_1 = __webpack_require__(/*! ./search-box-debounce */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/search-box-debounce.js");
const tree_view_welcome_widget_1 = __webpack_require__(/*! ./tree-view-welcome-widget */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree-view-welcome-widget.js");
function createTreeContainer(parent, props) {
    const child = new inversify_1.Container({ defaultScope: 'Singleton' });
    child.parent = parent;
    child.bind(tree_1.TreeImpl).toSelf();
    child.bind(tree_1.Tree).toService(tree_1.TreeImpl);
    child.bind(tree_selection_impl_1.TreeSelectionServiceImpl).toSelf();
    child.bind(tree_selection_1.TreeSelectionService).toService(tree_selection_impl_1.TreeSelectionServiceImpl);
    child.bind(tree_expansion_1.TreeExpansionServiceImpl).toSelf();
    child.bind(tree_expansion_1.TreeExpansionService).toService(tree_expansion_1.TreeExpansionServiceImpl);
    child.bind(tree_navigation_1.TreeNavigationService).toSelf();
    child.bind(tree_model_1.TreeModelImpl).toSelf();
    child.bind(tree_model_1.TreeModel).toService(tree_model_1.TreeModelImpl);
    child.bind(tree_widget_1.TreeWidget).toSelf();
    child.bind(tree_widget_1.TreeProps).toConstantValue(Object.assign(Object.assign({}, tree_widget_1.defaultTreeProps), props));
    child.bind(tree_view_welcome_widget_1.TreeViewWelcomeWidget).toSelf();
    child.bind(tree_search_1.TreeSearch).toSelf().inSingletonScope();
    child.bind(fuzzy_search_1.FuzzySearch).toSelf().inSingletonScope();
    child.bind(search_box_1.SearchBoxFactory).toFactory(context => (options) => {
        const debounce = new search_box_debounce_1.SearchBoxDebounce(options);
        return new search_box_1.SearchBox(options, debounce);
    });
    child.bind(tree_decorator_1.TreeDecoratorService).to(tree_decorator_1.NoopTreeDecoratorService).inSingletonScope();
    return child;
}
exports.createTreeContainer = createTreeContainer;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree-decorator.js":
/*!******************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree-decorator.js ***!
  \******************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.DecoratedTreeNode = exports.TreeDecoration = exports.AbstractTreeDecoratorService = exports.NoopTreeDecoratorService = exports.TreeDecoratorService = void 0;
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const common_1 = __webpack_require__(/*! ../../common */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/index.js");
const widget_decoration_1 = __webpack_require__(/*! ../widget-decoration */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/widget-decoration.js");
exports.TreeDecoratorService = Symbol('TreeDecoratorService');
/**
 * The default tree decorator service. Does nothing at all. One has to rebind to a concrete implementation
 * if decorators have to be supported in the tree widget.
 */
let NoopTreeDecoratorService = class NoopTreeDecoratorService {
    constructor() {
        this.emitter = new common_1.Emitter();
        this.onDidChangeDecorations = this.emitter.event;
    }
    dispose() {
        this.emitter.dispose();
    }
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    getDecorations() {
        return new Map();
    }
    deflateDecorators() {
        return {};
    }
    inflateDecorators() {
        return new Map();
    }
};
NoopTreeDecoratorService = __decorate([
    inversify_1.injectable()
], NoopTreeDecoratorService);
exports.NoopTreeDecoratorService = NoopTreeDecoratorService;
/**
 * Abstract decorator service implementation which emits events from all known tree decorators and caches the current state.
 */
let AbstractTreeDecoratorService = class AbstractTreeDecoratorService {
    constructor(decorators) {
        this.decorators = decorators;
        this.onDidChangeDecorationsEmitter = new common_1.Emitter();
        this.onDidChangeDecorations = this.onDidChangeDecorationsEmitter.event;
        this.toDispose = new common_1.DisposableCollection();
        this.toDispose.push(this.onDidChangeDecorationsEmitter);
        this.toDispose.pushAll(this.decorators.map(decorator => decorator.onDidChangeDecorations(data => this.onDidChangeDecorationsEmitter.fire(undefined))));
    }
    dispose() {
        this.toDispose.dispose();
    }
    async getDecorations(tree) {
        const changes = new Map();
        for (const decorator of this.decorators) {
            for (const [id, data] of (await decorator.decorations(tree)).entries()) {
                if (changes.has(id)) {
                    changes.get(id).push(data);
                }
                else {
                    changes.set(id, [data]);
                }
            }
        }
        return changes;
    }
    deflateDecorators(decorations) {
        // eslint-disable-next-line no-null/no-null
        const state = Object.create(null);
        for (const [id, data] of decorations) {
            state[id] = data;
        }
        return state;
    }
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    inflateDecorators(state) {
        const decorators = new Map();
        for (const id of Object.keys(state)) {
            decorators.set(id, state[id]);
        }
        return decorators;
    }
};
AbstractTreeDecoratorService = __decorate([
    inversify_1.injectable(),
    __metadata("design:paramtypes", [Array])
], AbstractTreeDecoratorService);
exports.AbstractTreeDecoratorService = AbstractTreeDecoratorService;
/**
 * @deprecated import from `@theia/core/lib/browser/widget-decoration` instead.
 */
exports.TreeDecoration = widget_decoration_1.WidgetDecoration;
var DecoratedTreeNode;
(function (DecoratedTreeNode) {
    /**
     * Type-guard for decorated tree nodes.
     */
    function is(node) {
        return !!node && 'decorationData' in node;
    }
    DecoratedTreeNode.is = is;
})(DecoratedTreeNode = exports.DecoratedTreeNode || (exports.DecoratedTreeNode = {}));


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree-expansion.js":
/*!******************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree-expansion.js ***!
  \******************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.TreeExpansionServiceImpl = exports.ExpandableTreeNode = exports.TreeExpansionService = void 0;
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const common_1 = __webpack_require__(/*! ../../common */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/index.js");
const tree_1 = __webpack_require__(/*! ./tree */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree.js");
exports.TreeExpansionService = Symbol('TreeExpansionService');
var ExpandableTreeNode;
(function (ExpandableTreeNode) {
    function is(node) {
        return !!node && tree_1.CompositeTreeNode.is(node) && 'expanded' in node;
    }
    ExpandableTreeNode.is = is;
    function isExpanded(node) {
        return ExpandableTreeNode.is(node) && node.expanded;
    }
    ExpandableTreeNode.isExpanded = isExpanded;
    function isCollapsed(node) {
        return ExpandableTreeNode.is(node) && !node.expanded;
    }
    ExpandableTreeNode.isCollapsed = isCollapsed;
})(ExpandableTreeNode = exports.ExpandableTreeNode || (exports.ExpandableTreeNode = {}));
let TreeExpansionServiceImpl = class TreeExpansionServiceImpl {
    constructor() {
        this.onExpansionChangedEmitter = new common_1.Emitter();
    }
    init() {
        this.tree.onNodeRefreshed(node => {
            for (const child of node.children) {
                if (ExpandableTreeNode.isExpanded(child)) {
                    node.waitUntil(this.tree.refresh(child));
                }
            }
        });
    }
    dispose() {
        this.onExpansionChangedEmitter.dispose();
    }
    get onExpansionChanged() {
        return this.onExpansionChangedEmitter.event;
    }
    fireExpansionChanged(node) {
        this.onExpansionChangedEmitter.fire(node);
    }
    async expandNode(raw) {
        const node = this.tree.validateNode(raw);
        if (ExpandableTreeNode.isCollapsed(node)) {
            return this.doExpandNode(node);
        }
        return undefined;
    }
    async doExpandNode(node) {
        const refreshed = await this.tree.refresh(node);
        if (ExpandableTreeNode.is(refreshed)) {
            refreshed.expanded = true;
            this.fireExpansionChanged(refreshed);
            return refreshed;
        }
        return undefined;
    }
    async collapseNode(raw) {
        const node = this.tree.validateNode(raw);
        return this.doCollapseNode(node);
    }
    async collapseAll(raw) {
        const node = this.tree.validateNode(raw);
        return this.doCollapseAll(node);
    }
    doCollapseAll(node) {
        let result = false;
        if (tree_1.CompositeTreeNode.is(node)) {
            for (const child of node.children) {
                result = this.doCollapseAll(child) || result;
            }
        }
        return this.doCollapseNode(node) || result;
    }
    doCollapseNode(node) {
        if (!ExpandableTreeNode.isExpanded(node)) {
            return false;
        }
        node.expanded = false;
        this.fireExpansionChanged(node);
        return true;
    }
    async toggleNodeExpansion(node) {
        if (node.expanded) {
            await this.collapseNode(node);
        }
        else {
            await this.expandNode(node);
        }
    }
};
__decorate([
    inversify_1.inject(tree_1.Tree),
    __metadata("design:type", Object)
], TreeExpansionServiceImpl.prototype, "tree", void 0);
__decorate([
    inversify_1.postConstruct(),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", []),
    __metadata("design:returntype", void 0)
], TreeExpansionServiceImpl.prototype, "init", null);
TreeExpansionServiceImpl = __decorate([
    inversify_1.injectable()
], TreeExpansionServiceImpl);
exports.TreeExpansionServiceImpl = TreeExpansionServiceImpl;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree-iterator.js":
/*!*****************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree-iterator.js ***!
  \*****************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Iterators = exports.BottomUpTreeIterator = exports.TopDownTreeIterator = exports.BreadthFirstTreeIterator = exports.DepthFirstTreeIterator = exports.AbstractTreeIterator = exports.TreeIterator = void 0;
const tree_1 = __webpack_require__(/*! ./tree */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree.js");
const tree_expansion_1 = __webpack_require__(/*! ./tree-expansion */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree-expansion.js");
var TreeIterator;
(function (TreeIterator) {
    TreeIterator.DEFAULT_OPTIONS = {
        pruneCollapsed: false,
        pruneSiblings: false
    };
})(TreeIterator = exports.TreeIterator || (exports.TreeIterator = {}));
class AbstractTreeIterator {
    constructor(root, options) {
        this.root = root;
        this.options = Object.assign(Object.assign({}, TreeIterator.DEFAULT_OPTIONS), options);
        this.delegate = this.iterator(this.root);
    }
    // tslint:disable-next-line:typedef
    [Symbol.iterator]() {
        return this.delegate;
    }
    next() {
        return this.delegate.next();
    }
    children(node) {
        if (!tree_1.CompositeTreeNode.is(node)) {
            return undefined;
        }
        if (this.options.pruneCollapsed && this.isCollapsed(node)) {
            return undefined;
        }
        return node.children.slice();
    }
    isCollapsed(node) {
        return tree_expansion_1.ExpandableTreeNode.isCollapsed(node);
    }
    isEmpty(nodes) {
        return nodes === undefined || nodes.length === 0;
    }
}
exports.AbstractTreeIterator = AbstractTreeIterator;
class DepthFirstTreeIterator extends AbstractTreeIterator {
    iterator(root) {
        return Iterators.depthFirst(root, this.children.bind(this));
    }
}
exports.DepthFirstTreeIterator = DepthFirstTreeIterator;
class BreadthFirstTreeIterator extends AbstractTreeIterator {
    iterator(root) {
        return Iterators.breadthFirst(root, this.children.bind(this));
    }
}
exports.BreadthFirstTreeIterator = BreadthFirstTreeIterator;
/**
 * This tree iterator visits all nodes from top to bottom considering the following rules.
 *
 * Let assume the following tree:
 * ```
 *   R
 *   |
 *   +---1
 *   |   |
 *   |   +---1.1
 *   |   |
 *   |   +---1.2
 *   |   |
 *   |   +---1.3
 *   |   |    |
 *   |   |    +---1.3.1
 *   |   |    |
 *   |   |    +---1.3.2
 *   |   |
 *   |   +---1.4
 *   |
 *   +---2
 *       |
 *       +---2.1
 * ```
 * When selecting `1.2` as the root, the normal `DepthFirstTreeIterator` would stop on `1.2` as it does not have children,
 * but this iterator will visit the next sibling (`1.3` and `1.4` but **not** `1.1`) nodes. So the expected traversal order will be
 * `1.2`, `1.3`, `1.3.1`, `1.3.2`,  and `1.4` then jumps to `2` and continues with `2.1`.
 */
class TopDownTreeIterator extends AbstractTreeIterator {
    iterator(root) {
        const doNext = this.doNext.bind(this);
        return (function* () {
            let next = root;
            while (next) {
                yield next;
                next = doNext(next);
            }
        }).bind(this)();
    }
    doNext(node) {
        return this.findFirstChild(node) || this.findNextSibling(node);
    }
    findFirstChild(node) {
        return (this.children(node) || [])[0];
    }
    findNextSibling(node) {
        if (!node) {
            return undefined;
        }
        if (this.options.pruneSiblings && node === this.root) {
            return undefined;
        }
        if (node.nextSibling) {
            return node.nextSibling;
        }
        return this.findNextSibling(node.parent);
    }
}
exports.TopDownTreeIterator = TopDownTreeIterator;
/**
 * Unlike other tree iterators, this does not visit all the nodes, it stops once it reaches the root node
 * while traversing up the tree hierarchy in an inverse pre-order fashion. This is the counterpart of the `TopDownTreeIterator`.
 */
class BottomUpTreeIterator extends AbstractTreeIterator {
    iterator(root) {
        const doNext = this.doNext.bind(this);
        return (function* () {
            let next = root;
            while (next) {
                yield next;
                next = doNext(next);
            }
        }).bind(this)();
    }
    doNext(node) {
        const previousSibling = node.previousSibling;
        const lastChild = this.lastChild(previousSibling);
        return lastChild || node.parent;
    }
    lastChild(node) {
        const children = node ? this.children(node) : [];
        if (this.isEmpty(children)) {
            return node;
        }
        if (tree_1.CompositeTreeNode.is(node)) {
            const lastChild = tree_1.CompositeTreeNode.getLastChild(node);
            return this.lastChild(lastChild);
        }
        return undefined;
    }
}
exports.BottomUpTreeIterator = BottomUpTreeIterator;
var Iterators;
(function (Iterators) {
    /**
     * Generator for depth first, pre-order tree traversal iteration.
     */
    function* depthFirst(root, children, include = () => true) {
        const stack = [];
        stack.push(root);
        while (stack.length > 0) {
            const top = stack.pop();
            yield top;
            stack.push(...(children(top) || []).filter(include).reverse());
        }
    }
    Iterators.depthFirst = depthFirst;
    /**
     * Generator for breadth first tree traversal iteration.
     */
    function* breadthFirst(root, children, include = () => true) {
        const queue = [];
        queue.push(root);
        while (queue.length > 0) {
            const head = queue.shift();
            yield head;
            queue.push(...(children(head) || []).filter(include));
        }
    }
    Iterators.breadthFirst = breadthFirst;
    /**
     * Returns with the iterator of the argument.
     */
    function asIterator(elements) {
        return elements.slice()[Symbol.iterator]();
    }
    Iterators.asIterator = asIterator;
    /**
     * Returns an iterator that cycles indefinitely over the elements of iterable.
     *  - If `start` is given it starts the iteration from that element. Otherwise, it starts with the first element of the array.
     *  - If `start` is given, it must contain by the `elements` array. Otherwise, an error will be thrown.
     *
     * **Warning**: Typical uses of the resulting iterator may produce an infinite loop. You should use an explicit break.
     */
    function* cycle(elements, start) {
        const copy = elements.slice();
        let index = !!start ? copy.indexOf(start) : 0;
        if (index === -1) {
            throw new Error(`${start} is not contained in ${copy}.`);
        }
        while (true) {
            yield copy[index];
            index++;
            if (index === copy.length) {
                index = 0;
            }
        }
    }
    Iterators.cycle = cycle;
})(Iterators = exports.Iterators || (exports.Iterators = {}));


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree-model.js":
/*!**************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree-model.js ***!
  \**************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.TreeModelImpl = exports.TreeModel = void 0;
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const event_1 = __webpack_require__(/*! ../../common/event */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/event.js");
const disposable_1 = __webpack_require__(/*! ../../common/disposable */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/disposable.js");
const logger_1 = __webpack_require__(/*! ../../common/logger */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/logger.js");
const tree_1 = __webpack_require__(/*! ./tree */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree.js");
const tree_selection_1 = __webpack_require__(/*! ./tree-selection */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree-selection.js");
const tree_expansion_1 = __webpack_require__(/*! ./tree-expansion */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree-expansion.js");
const tree_navigation_1 = __webpack_require__(/*! ./tree-navigation */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree-navigation.js");
const tree_iterator_1 = __webpack_require__(/*! ./tree-iterator */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree-iterator.js");
const tree_search_1 = __webpack_require__(/*! ./tree-search */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree-search.js");
/**
 * The tree model.
 */
exports.TreeModel = Symbol('TreeModel');
let TreeModelImpl = class TreeModelImpl {
    constructor() {
        this.onChangedEmitter = new event_1.Emitter();
        this.onOpenNodeEmitter = new event_1.Emitter();
        this.toDispose = new disposable_1.DisposableCollection();
    }
    init() {
        this.toDispose.push(this.tree);
        this.toDispose.push(this.tree.onChanged(() => this.fireChanged()));
        this.toDispose.push(this.selectionService);
        this.toDispose.push(this.expansionService);
        this.toDispose.push(this.expansionService.onExpansionChanged(node => {
            this.fireChanged();
            this.handleExpansion(node);
        }));
        this.toDispose.push(this.onOpenNodeEmitter);
        this.toDispose.push(this.onChangedEmitter);
        this.toDispose.push(this.treeSearch);
    }
    dispose() {
        this.toDispose.dispose();
    }
    handleExpansion(node) {
        this.selectIfAncestorOfSelected(node);
    }
    /**
     * Select the given node if it is the ancestor of a selected node.
     */
    selectIfAncestorOfSelected(node) {
        if (!node.expanded && [...this.selectedNodes].some(selectedNode => tree_1.CompositeTreeNode.isAncestor(node, selectedNode))) {
            if (tree_selection_1.SelectableTreeNode.isVisible(node)) {
                this.selectNode(node);
            }
        }
    }
    get root() {
        return this.tree.root;
    }
    set root(root) {
        this.tree.root = root;
    }
    get onChanged() {
        return this.onChangedEmitter.event;
    }
    get onOpenNode() {
        return this.onOpenNodeEmitter.event;
    }
    fireChanged() {
        this.onChangedEmitter.fire(undefined);
    }
    get onNodeRefreshed() {
        return this.tree.onNodeRefreshed;
    }
    getNode(id) {
        return this.tree.getNode(id);
    }
    validateNode(node) {
        return this.tree.validateNode(node);
    }
    async refresh(parent) {
        if (parent) {
            return this.tree.refresh(parent);
        }
        return this.tree.refresh();
    }
    // tslint:disable-next-line:typedef
    get selectedNodes() {
        return this.selectionService.selectedNodes;
    }
    // tslint:disable-next-line:typedef
    get onSelectionChanged() {
        return this.selectionService.onSelectionChanged;
    }
    get onExpansionChanged() {
        return this.expansionService.onExpansionChanged;
    }
    async expandNode(raw) {
        for (const node of raw ? [raw] : this.selectedNodes) {
            if (tree_expansion_1.ExpandableTreeNode.is(node)) {
                return this.expansionService.expandNode(node);
            }
        }
        return undefined;
    }
    async collapseNode(raw) {
        for (const node of raw ? [raw] : this.selectedNodes) {
            if (tree_expansion_1.ExpandableTreeNode.is(node)) {
                return this.expansionService.collapseNode(node);
            }
        }
        return false;
    }
    async collapseAll(raw) {
        const node = raw || this.selectedNodes[0];
        if (tree_selection_1.SelectableTreeNode.is(node)) {
            this.selectNode(node);
        }
        if (tree_1.CompositeTreeNode.is(node)) {
            return this.expansionService.collapseAll(node);
        }
        return false;
    }
    async toggleNodeExpansion(raw) {
        for (const node of raw ? [raw] : this.selectedNodes) {
            if (tree_expansion_1.ExpandableTreeNode.is(node)) {
                await this.expansionService.toggleNodeExpansion(node);
                return;
            }
        }
    }
    selectPrevNode(type = tree_selection_1.TreeSelection.SelectionType.DEFAULT) {
        const node = this.getPrevSelectableNode();
        if (node) {
            this.addSelection({ node, type });
        }
    }
    getPrevSelectableNode(node = this.selectedNodes[0]) {
        const iterator = this.createBackwardIterator(node);
        return iterator && this.doGetNextNode(iterator);
    }
    selectNextNode(type = tree_selection_1.TreeSelection.SelectionType.DEFAULT) {
        const node = this.getNextSelectableNode();
        if (node) {
            this.addSelection({ node, type });
        }
    }
    getNextSelectableNode(node = this.selectedNodes[0]) {
        const iterator = this.createIterator(node);
        return iterator && this.doGetNextNode(iterator);
    }
    doGetNextNode(iterator) {
        // Skip the first item. // TODO: clean this up, and skip the first item in a different way without loading everything.
        iterator.next();
        let result = iterator.next();
        while (!result.done && !this.isVisibleSelectableNode(result.value)) {
            result = iterator.next();
        }
        const node = result.value;
        if (tree_selection_1.SelectableTreeNode.isVisible(node)) {
            return node;
        }
        return undefined;
    }
    isVisibleSelectableNode(node) {
        return tree_selection_1.SelectableTreeNode.isVisible(node);
    }
    createBackwardIterator(node) {
        const { filteredNodes } = this.treeSearch;
        if (filteredNodes.length === 0) {
            return node ? new tree_iterator_1.BottomUpTreeIterator(node, { pruneCollapsed: true }) : undefined;
        }
        if (node && filteredNodes.indexOf(node) === -1) {
            return undefined;
        }
        return tree_iterator_1.Iterators.cycle(filteredNodes.slice().reverse(), node);
    }
    createIterator(node) {
        const { filteredNodes } = this.treeSearch;
        if (filteredNodes.length === 0) {
            return node ? new tree_iterator_1.TopDownTreeIterator(node, { pruneCollapsed: true }) : undefined;
        }
        if (node && filteredNodes.indexOf(node) === -1) {
            return undefined;
        }
        return tree_iterator_1.Iterators.cycle(filteredNodes, node);
    }
    openNode(raw) {
        const node = raw || this.selectedNodes[0];
        if (node) {
            this.doOpenNode(node);
            this.onOpenNodeEmitter.fire(node);
        }
    }
    doOpenNode(node) {
        if (tree_expansion_1.ExpandableTreeNode.is(node)) {
            this.toggleNodeExpansion(node);
        }
    }
    selectParent() {
        if (this.selectedNodes.length === 1) {
            const node = this.selectedNodes[0];
            const parent = tree_selection_1.SelectableTreeNode.getVisibleParent(node);
            if (parent) {
                this.selectNode(parent);
            }
        }
    }
    async navigateTo(nodeOrId) {
        if (nodeOrId) {
            const node = typeof nodeOrId === 'string' ? this.getNode(nodeOrId) : nodeOrId;
            if (node) {
                this.navigationService.push(node);
                await this.doNavigate(node);
                return node;
            }
        }
        return undefined;
    }
    canNavigateForward() {
        return !!this.navigationService.next;
    }
    canNavigateBackward() {
        return !!this.navigationService.prev;
    }
    async navigateForward() {
        const node = this.navigationService.advance();
        if (node) {
            await this.doNavigate(node);
        }
    }
    async navigateBackward() {
        const node = this.navigationService.retreat();
        if (node) {
            await this.doNavigate(node);
        }
    }
    async doNavigate(node) {
        this.tree.root = node;
        if (tree_expansion_1.ExpandableTreeNode.is(node)) {
            await this.expandNode(node);
        }
        if (tree_selection_1.SelectableTreeNode.is(node)) {
            this.selectNode(node);
        }
    }
    addSelection(selectionOrTreeNode) {
        this.selectionService.addSelection(selectionOrTreeNode);
    }
    selectNode(node) {
        this.addSelection(node);
    }
    toggleNode(node) {
        this.addSelection({ node, type: tree_selection_1.TreeSelection.SelectionType.TOGGLE });
    }
    selectRange(node) {
        this.addSelection({ node, type: tree_selection_1.TreeSelection.SelectionType.RANGE });
    }
    storeState() {
        return {
            selection: this.selectionService.storeState()
        };
    }
    restoreState(state) {
        if (state.selection) {
            this.selectionService.restoreState(state.selection);
        }
    }
    get onDidChangeBusy() {
        return this.tree.onDidChangeBusy;
    }
    markAsBusy(node, ms, token) {
        return this.tree.markAsBusy(node, ms, token);
    }
};
__decorate([
    inversify_1.inject(logger_1.ILogger),
    __metadata("design:type", Object)
], TreeModelImpl.prototype, "logger", void 0);
__decorate([
    inversify_1.inject(tree_1.Tree),
    __metadata("design:type", Object)
], TreeModelImpl.prototype, "tree", void 0);
__decorate([
    inversify_1.inject(tree_selection_1.TreeSelectionService),
    __metadata("design:type", Object)
], TreeModelImpl.prototype, "selectionService", void 0);
__decorate([
    inversify_1.inject(tree_expansion_1.TreeExpansionService),
    __metadata("design:type", Object)
], TreeModelImpl.prototype, "expansionService", void 0);
__decorate([
    inversify_1.inject(tree_navigation_1.TreeNavigationService),
    __metadata("design:type", tree_navigation_1.TreeNavigationService)
], TreeModelImpl.prototype, "navigationService", void 0);
__decorate([
    inversify_1.inject(tree_search_1.TreeSearch),
    __metadata("design:type", tree_search_1.TreeSearch)
], TreeModelImpl.prototype, "treeSearch", void 0);
__decorate([
    inversify_1.postConstruct(),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", []),
    __metadata("design:returntype", void 0)
], TreeModelImpl.prototype, "init", null);
TreeModelImpl = __decorate([
    inversify_1.injectable()
], TreeModelImpl);
exports.TreeModelImpl = TreeModelImpl;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree-navigation.js":
/*!*******************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree-navigation.js ***!
  \*******************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.TreeNavigationService = void 0;
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
let TreeNavigationService = class TreeNavigationService {
    constructor() {
        this.index = -1;
        this.nodes = [];
    }
    get next() {
        return this.nodes[this.index + 1];
    }
    get prev() {
        return this.nodes[this.index - 1];
    }
    advance() {
        const node = this.next;
        if (node) {
            this.index = this.index + 1;
            return node;
        }
        return undefined;
    }
    retreat() {
        const node = this.prev;
        if (node) {
            this.index = this.index - 1;
            return node;
        }
        return undefined;
    }
    push(node) {
        this.nodes = this.nodes.slice(0, this.index + 1);
        this.nodes.push(node);
        this.index = this.index + 1;
    }
};
TreeNavigationService = __decorate([
    inversify_1.injectable()
], TreeNavigationService);
exports.TreeNavigationService = TreeNavigationService;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree-search.js":
/*!***************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree-search.js ***!
  \***************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.TreeSearch = void 0;
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const disposable_1 = __webpack_require__(/*! ../../common/disposable */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/disposable.js");
const event_1 = __webpack_require__(/*! ../../common/event */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/event.js");
const tree_1 = __webpack_require__(/*! ./tree */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree.js");
const fuzzy_search_1 = __webpack_require__(/*! ./fuzzy-search */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/fuzzy-search.js");
const tree_iterator_1 = __webpack_require__(/*! ./tree-iterator */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree-iterator.js");
const label_provider_1 = __webpack_require__(/*! ../label-provider */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/label-provider.js");
let TreeSearch = class TreeSearch {
    constructor() {
        this.disposables = new disposable_1.DisposableCollection();
        this.filteredNodesEmitter = new event_1.Emitter();
        this._filterResult = [];
        this._filteredNodes = [];
        this._filteredNodesAndParents = new Set();
    }
    init() {
        this.disposables.push(this.filteredNodesEmitter);
    }
    getHighlights() {
        return new Map(this._filterResult.map(m => [m.item.id, this.toCaptionHighlight(m)]));
    }
    /**
     * Resolves to all the visible tree nodes that match the search pattern.
     */
    async filter(pattern) {
        const { root } = this.tree;
        this._filteredNodesAndParents = new Set();
        if (!pattern || !root) {
            this._filterResult = [];
            this._filteredNodes = [];
            this.fireFilteredNodesChanged(this._filteredNodes);
            return [];
        }
        const items = [...new tree_iterator_1.TopDownTreeIterator(root)];
        const transform = (node) => this.labelProvider.getName(node);
        this._filterResult = await this.fuzzySearch.filter({
            items,
            pattern,
            transform
        });
        this._filteredNodes = this._filterResult.map(({ item }) => {
            this.addAllParentsToFilteredSet(item);
            return item;
        });
        this.fireFilteredNodesChanged(this._filteredNodes);
        return this._filteredNodes.slice();
    }
    addAllParentsToFilteredSet(node) {
        let toAdd = node;
        while (toAdd && !this._filteredNodesAndParents.has(toAdd.id)) {
            this._filteredNodesAndParents.add(toAdd.id);
            toAdd = toAdd.parent;
        }
        ;
    }
    /**
     * Returns with the filtered nodes after invoking the `filter` method.
     */
    get filteredNodes() {
        return this._filteredNodes.slice();
    }
    /**
     * Event that is fired when the filtered nodes have been changed.
     */
    get onFilteredNodesChanged() {
        return this.filteredNodesEmitter.event;
    }
    passesFilters(node) {
        return this._filteredNodesAndParents.has(node.id);
    }
    dispose() {
        this.disposables.dispose();
    }
    fireFilteredNodesChanged(nodes) {
        this.filteredNodesEmitter.fire(nodes);
    }
    toCaptionHighlight(match) {
        return {
            ranges: match.ranges.map(this.mapRange.bind(this))
        };
    }
    mapRange(range) {
        const { offset, length } = range;
        return {
            offset,
            length
        };
    }
};
__decorate([
    inversify_1.inject(tree_1.Tree),
    __metadata("design:type", Object)
], TreeSearch.prototype, "tree", void 0);
__decorate([
    inversify_1.inject(fuzzy_search_1.FuzzySearch),
    __metadata("design:type", fuzzy_search_1.FuzzySearch)
], TreeSearch.prototype, "fuzzySearch", void 0);
__decorate([
    inversify_1.inject(label_provider_1.LabelProvider),
    __metadata("design:type", label_provider_1.LabelProvider)
], TreeSearch.prototype, "labelProvider", void 0);
__decorate([
    inversify_1.postConstruct(),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", []),
    __metadata("design:returntype", void 0)
], TreeSearch.prototype, "init", null);
TreeSearch = __decorate([
    inversify_1.injectable()
], TreeSearch);
exports.TreeSearch = TreeSearch;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree-selection-impl.js":
/*!***********************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree-selection-impl.js ***!
  \***********************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.TreeSelectionServiceImpl = void 0;
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const tree_1 = __webpack_require__(/*! ./tree */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree.js");
const common_1 = __webpack_require__(/*! ../../common */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/index.js");
const tree_selection_state_1 = __webpack_require__(/*! ./tree-selection-state */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree-selection-state.js");
const tree_selection_1 = __webpack_require__(/*! ./tree-selection */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree-selection.js");
let TreeSelectionServiceImpl = class TreeSelectionServiceImpl {
    constructor() {
        this.onSelectionChangedEmitter = new common_1.Emitter();
    }
    init() {
        this.state = new tree_selection_state_1.TreeSelectionState(this.tree);
    }
    dispose() {
        this.onSelectionChangedEmitter.dispose();
    }
    get selectedNodes() {
        return this.state.selection();
    }
    get onSelectionChanged() {
        return this.onSelectionChangedEmitter.event;
    }
    fireSelectionChanged() {
        this.onSelectionChangedEmitter.fire(this.state.selection());
    }
    addSelection(selectionOrTreeNode) {
        const selection = ((arg) => {
            const type = tree_selection_1.TreeSelection.SelectionType.DEFAULT;
            if (tree_selection_1.TreeSelection.is(arg)) {
                return Object.assign({ type }, arg);
            }
            return {
                type,
                node: arg
            };
        })(selectionOrTreeNode);
        const node = this.validateNode(selection.node);
        if (node === undefined) {
            return;
        }
        Object.assign(selection, { node });
        const newState = this.state.nextState(selection);
        this.transiteTo(newState);
    }
    transiteTo(newState) {
        const oldNodes = this.state.selection();
        const newNodes = newState.selection();
        const toUnselect = this.difference(oldNodes, newNodes);
        const toSelect = this.difference(newNodes, oldNodes);
        this.unselect(toUnselect);
        this.select(toSelect);
        this.removeFocus(oldNodes, newNodes);
        this.addFocus(newState.focus);
        this.state = newState;
        this.fireSelectionChanged();
    }
    unselect(nodes) {
        nodes.forEach(node => node.selected = false);
    }
    select(nodes) {
        nodes.forEach(node => node.selected = true);
    }
    removeFocus(...nodes) {
        nodes.forEach(node => node.forEach(n => n.focus = false));
    }
    addFocus(node) {
        if (node) {
            node.focus = true;
        }
    }
    /**
     * Returns an array of the difference of two arrays. The returned array contains all elements that are contained by
     * `left` and not contained by `right`. `right` may also contain elements not present in `left`: these are simply ignored.
     */
    difference(left, right) {
        return left.filter(item => right.indexOf(item) === -1);
    }
    /**
     * Returns a reference to the argument if the node exists in the tree. Otherwise, `undefined`.
     */
    validateNode(node) {
        const result = this.tree.validateNode(node);
        return tree_selection_1.SelectableTreeNode.is(result) ? result : undefined;
    }
    storeState() {
        return {
            selectionStack: this.state.selectionStack.map(s => ({
                focus: s.focus && s.focus.id || undefined,
                node: s.node && s.node.id || undefined,
                type: s.type
            }))
        };
    }
    restoreState(state) {
        const selectionStack = [];
        for (const selection of state.selectionStack) {
            const node = selection.node && this.tree.getNode(selection.node) || undefined;
            if (!tree_selection_1.SelectableTreeNode.is(node)) {
                break;
            }
            const focus = selection.focus && this.tree.getNode(selection.focus) || undefined;
            selectionStack.push({
                node,
                focus: tree_selection_1.SelectableTreeNode.is(focus) && focus || undefined,
                type: selection.type
            });
        }
        if (selectionStack.length) {
            this.transiteTo(new tree_selection_state_1.TreeSelectionState(this.tree, selectionStack));
        }
    }
};
__decorate([
    inversify_1.inject(tree_1.Tree),
    __metadata("design:type", Object)
], TreeSelectionServiceImpl.prototype, "tree", void 0);
__decorate([
    inversify_1.postConstruct(),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", []),
    __metadata("design:returntype", void 0)
], TreeSelectionServiceImpl.prototype, "init", null);
TreeSelectionServiceImpl = __decorate([
    inversify_1.injectable()
], TreeSelectionServiceImpl);
exports.TreeSelectionServiceImpl = TreeSelectionServiceImpl;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree-selection-state.js":
/*!************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree-selection-state.js ***!
  \************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.TreeSelectionState = exports.FocusableTreeSelection = void 0;
const tree_iterator_1 = __webpack_require__(/*! ./tree-iterator */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree-iterator.js");
const tree_selection_1 = __webpack_require__(/*! ./tree-selection */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree-selection.js");
var FocusableTreeSelection;
(function (FocusableTreeSelection) {
    /**
     * `true` if the argument is a focusable tree selection. Otherwise, `false`.
     */
    function is(arg) {
        return tree_selection_1.TreeSelection.is(arg) && 'focus' in arg;
    }
    FocusableTreeSelection.is = is;
    /**
     * Returns with the tree node that has the focus if the argument is a focusable tree selection.
     * Otherwise, returns `undefined`.
     */
    function focus(arg) {
        return is(arg) ? arg.focus : undefined;
    }
    FocusableTreeSelection.focus = focus;
})(FocusableTreeSelection = exports.FocusableTreeSelection || (exports.FocusableTreeSelection = {}));
/**
 * Class for representing and managing the selection state and the focus of a tree.
 */
class TreeSelectionState {
    constructor(tree, selectionStack = []) {
        this.tree = tree;
        this.selectionStack = selectionStack;
    }
    nextState(selection) {
        const { node, type } = Object.assign({ type: tree_selection_1.TreeSelection.SelectionType.DEFAULT }, selection);
        switch (type) {
            case tree_selection_1.TreeSelection.SelectionType.DEFAULT: return this.handleDefault(this, node);
            case tree_selection_1.TreeSelection.SelectionType.TOGGLE: return this.handleToggle(this, node);
            case tree_selection_1.TreeSelection.SelectionType.RANGE: return this.handleRange(this, node);
            default: throw new Error(`Unexpected tree selection type: ${type}.`);
        }
    }
    selection() {
        const copy = this.checkNoDefaultSelection(this.selectionStack);
        const nodeIds = new Set();
        for (let i = 0; i < copy.length; i++) {
            const { node, type } = copy[i];
            if (tree_selection_1.TreeSelection.isRange(type)) {
                const selection = copy[i];
                for (const id of this.selectionRange(selection).map(n => n.id)) {
                    nodeIds.add(id);
                }
            }
            else if (tree_selection_1.TreeSelection.isToggle(type)) {
                if (nodeIds.has(node.id)) {
                    nodeIds.delete(node.id);
                }
                else {
                    nodeIds.add(node.id);
                }
            }
        }
        return Array.from(nodeIds.keys()).map(id => this.tree.getNode(id)).filter(tree_selection_1.SelectableTreeNode.is).reverse();
    }
    get focus() {
        const copy = this.checkNoDefaultSelection(this.selectionStack);
        const candidate = copy[copy.length - 1].focus;
        return this.toSelectableTreeNode(candidate);
    }
    handleDefault(state, node) {
        const { tree } = state;
        return new TreeSelectionState(tree, [{
                node,
                type: tree_selection_1.TreeSelection.SelectionType.TOGGLE,
                focus: node
            }]);
    }
    handleToggle(state, node) {
        const { tree, selectionStack } = state;
        const copy = this.checkNoDefaultSelection(selectionStack).slice();
        const focus = (() => {
            const allRanges = copy.filter(selection => tree_selection_1.TreeSelection.isRange(selection));
            for (let i = allRanges.length - 1; i >= 0; i--) {
                const latestRangeIndex = copy.indexOf(allRanges[i]);
                const latestRangeSelection = copy[latestRangeIndex];
                const latestRange = latestRangeSelection && latestRangeSelection.focus ? this.selectionRange(latestRangeSelection) : [];
                if (latestRange.indexOf(node) !== -1) {
                    if (this.focus === latestRangeSelection.focus) {
                        return latestRangeSelection.focus || node;
                    }
                    else {
                        return this.focus;
                    }
                }
            }
            return node;
        })();
        return new TreeSelectionState(tree, [...copy, {
                node,
                type: tree_selection_1.TreeSelection.SelectionType.TOGGLE,
                focus
            }]);
    }
    handleRange(state, node) {
        const { tree, selectionStack } = state;
        const copy = this.checkNoDefaultSelection(selectionStack).slice();
        let focus = FocusableTreeSelection.focus(copy[copy.length - 1]);
        // Drop the previous range when we are trying to modify that.
        if (tree_selection_1.TreeSelection.isRange(copy[copy.length - 1])) {
            const range = this.selectionRange(copy.pop());
            // And we drop all preceding individual nodes that were contained in the range we are dropping.
            // That means, anytime we cover individual nodes with a range, they will belong to the range so we need to drop them now.
            for (let i = copy.length - 1; i >= 0; i--) {
                if (range.indexOf(copy[i].node) !== -1) {
                    // Make sure to keep a reference to the focus while we are discarding previous elements. Otherwise, we lose this information.
                    focus = copy[i].focus;
                    copy.splice(i, 1);
                }
            }
        }
        return new TreeSelectionState(tree, [...copy, {
                node,
                type: tree_selection_1.TreeSelection.SelectionType.RANGE,
                focus
            }]);
    }
    /**
     * Returns with an array of items representing the selection range. The from node is the `focus` the to node
     * is the selected node itself on the tree selection. Both the `from` node and the `to` node are inclusive.
     */
    selectionRange(selection) {
        const fromNode = selection.focus;
        const toNode = selection.node;
        if (fromNode === undefined) {
            return [];
        }
        if (toNode === fromNode) {
            return [toNode];
        }
        const { root } = this.tree;
        if (root === undefined) {
            return [];
        }
        const to = this.tree.validateNode(toNode);
        if (to === undefined) {
            return [];
        }
        const from = this.tree.validateNode(fromNode);
        if (from === undefined) {
            return [];
        }
        let started = false;
        let finished = false;
        const range = [];
        for (const node of new tree_iterator_1.DepthFirstTreeIterator(root, { pruneCollapsed: true })) {
            if (finished) {
                break;
            }
            // Only collect items which are between (inclusive) the `from` node and the `to` node.
            if (node === from || node === to) {
                if (started) {
                    finished = true;
                }
                else {
                    started = true;
                }
            }
            if (started) {
                range.push(node);
            }
        }
        // We need to reverse the selection range order.
        if (range.indexOf(from) > range.indexOf(to)) {
            range.reverse();
        }
        return range.filter(tree_selection_1.SelectableTreeNode.is);
    }
    toSelectableTreeNode(node) {
        if (!!node) {
            const candidate = this.tree.getNode(node.id);
            if (!!candidate) {
                if (tree_selection_1.SelectableTreeNode.is(candidate)) {
                    return candidate;
                }
                else {
                    console.warn(`Could not map to a selectable tree node. Node with ID: ${node.id} is not a selectable node.`);
                }
            }
            else {
                console.warn(`Could not map to a selectable tree node. Node does not exist with ID: ${node.id}.`);
            }
        }
        return undefined;
    }
    /**
     * Checks whether the argument contains any `DEFAULT` tree selection type. If yes, throws an error, otherwise returns with a reference the argument.
     */
    checkNoDefaultSelection(selections) {
        if (selections.some(selection => selection.type === undefined || selection.type === tree_selection_1.TreeSelection.SelectionType.DEFAULT)) {
            throw new Error(`Unexpected DEFAULT selection type. [${selections.map(selection => `ID: ${selection.node.id} | ${selection.type}`).join(', ')}]`);
        }
        return selections;
    }
}
exports.TreeSelectionState = TreeSelectionState;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree-selection.js":
/*!******************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree-selection.js ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.SelectableTreeNode = exports.TreeSelection = exports.TreeSelectionService = void 0;
const tree_1 = __webpack_require__(/*! ./tree */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree.js");
/**
 * The tree selection service.
 */
exports.TreeSelectionService = Symbol('TreeSelectionService');
var TreeSelection;
(function (TreeSelection) {
    /**
     * Enumeration of selection types.
     */
    let SelectionType;
    (function (SelectionType) {
        SelectionType[SelectionType["DEFAULT"] = 0] = "DEFAULT";
        SelectionType[SelectionType["TOGGLE"] = 1] = "TOGGLE";
        SelectionType[SelectionType["RANGE"] = 2] = "RANGE";
    })(SelectionType = TreeSelection.SelectionType || (TreeSelection.SelectionType = {}));
    function is(arg) {
        return !!arg && 'node' in arg;
    }
    TreeSelection.is = is;
    function isRange(arg) {
        return isSelectionTypeOf(arg, SelectionType.RANGE);
    }
    TreeSelection.isRange = isRange;
    function isToggle(arg) {
        return isSelectionTypeOf(arg, SelectionType.TOGGLE);
    }
    TreeSelection.isToggle = isToggle;
    function isSelectionTypeOf(arg, expected) {
        if (arg === undefined) {
            return false;
        }
        const type = typeof arg === 'number' ? arg : arg.type;
        return type === expected;
    }
})(TreeSelection = exports.TreeSelection || (exports.TreeSelection = {}));
var SelectableTreeNode;
(function (SelectableTreeNode) {
    function is(node) {
        return !!node && 'selected' in node;
    }
    SelectableTreeNode.is = is;
    function isSelected(node) {
        return is(node) && node.selected;
    }
    SelectableTreeNode.isSelected = isSelected;
    function hasFocus(node) {
        return is(node) && node.focus === true;
    }
    SelectableTreeNode.hasFocus = hasFocus;
    function isVisible(node) {
        return is(node) && tree_1.TreeNode.isVisible(node);
    }
    SelectableTreeNode.isVisible = isVisible;
    function getVisibleParent(node) {
        if (node) {
            if (isVisible(node.parent)) {
                return node.parent;
            }
            return getVisibleParent(node.parent);
        }
    }
    SelectableTreeNode.getVisibleParent = getVisibleParent;
})(SelectableTreeNode = exports.SelectableTreeNode || (exports.SelectableTreeNode = {}));


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree-view-welcome-widget.js":
/*!****************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree-view-welcome-widget.js ***!
  \****************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (c) 2020 SAP SE or an SAP affiliate company and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.TreeViewWelcomeWidget = void 0;
/*---------------------------------------------------------------------------------------------
*  Copyright (c) Microsoft Corporation. All rights reserved.
*  Licensed under the MIT License. See License.txt in the project root for license information.
*--------------------------------------------------------------------------------------------*/
// some code is copied and modified from: https://github.com/microsoft/vscode/blob/573e5145ae3b50523925a6f6315d373e649d1b06/src/vs/base/common/linkedText.ts
const React = __webpack_require__(/*! react */ "../node_modules/react/index.js");
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const common_1 = __webpack_require__(/*! ../../common */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/index.js");
const context_key_service_1 = __webpack_require__(/*! ../context-key-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/context-key-service.js");
const tree_widget_1 = __webpack_require__(/*! ./tree-widget */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree-widget.js");
const window_service_1 = __webpack_require__(/*! ../window/window-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/window/window-service.js");
let TreeViewWelcomeWidget = class TreeViewWelcomeWidget extends tree_widget_1.TreeWidget {
    constructor() {
        super(...arguments);
        this.viewWelcomeNodes = [];
        this.items = [];
        this.openLinkOrCommand = (event, href) => {
            event.stopPropagation();
            if (href.startsWith('command:')) {
                const command = href.replace('command:', '');
                this.commands.executeCommand(command);
            }
            else {
                this.windowService.openNewWindow(href, { external: true });
            }
        };
    }
    get visibleItems() {
        const visibleItems = this.items.filter(v => v.visible);
        if (visibleItems.length && this.defaultItem) {
            return [this.defaultItem.welcomeInfo];
        }
        return visibleItems.map(v => v.welcomeInfo);
    }
    renderTree(model) {
        if (this.shouldShowWelcomeView() && this.visibleItems.length) {
            return this.renderViewWelcome();
        }
        return super.renderTree(model);
    }
    shouldShowWelcomeView() {
        return false;
    }
    renderViewWelcome() {
        return (React.createElement("div", { className: 'theia-WelcomeView' }, this.viewWelcomeNodes));
    }
    handleViewWelcomeContentChange(viewWelcomes) {
        this.items = [];
        for (const welcomeInfo of viewWelcomes) {
            if (welcomeInfo.when === 'default') {
                this.defaultItem = { welcomeInfo, visible: true };
            }
            else {
                const visible = welcomeInfo.when === undefined || this.contextService.match(welcomeInfo.when);
                this.items.push({ welcomeInfo, visible });
            }
        }
        this.updateViewWelcomeNodes();
        this.update();
    }
    handleWelcomeContextChange() {
        let didChange = false;
        for (const item of this.items) {
            if (!item.welcomeInfo.when || item.welcomeInfo.when === 'default') {
                continue;
            }
            const visible = item.welcomeInfo.when === undefined || this.contextService.match(item.welcomeInfo.when);
            if (item.visible === visible) {
                continue;
            }
            item.visible = visible;
            didChange = true;
        }
        if (didChange) {
            this.updateViewWelcomeNodes();
            this.update();
        }
    }
    updateViewWelcomeNodes() {
        this.viewWelcomeNodes = [];
        const items = this.visibleItems.sort((a, b) => a.order - b.order);
        for (const [iIndex, { content }] of items.entries()) {
            const lines = content.split('\n');
            for (let [lIndex, line] of lines.entries()) {
                const lineKey = `${iIndex}-${lIndex}`;
                line = line.trim();
                if (!line) {
                    continue;
                }
                const linkedTextItems = this.parseLinkedText(line);
                if (linkedTextItems.length === 1 && typeof linkedTextItems[0] !== 'string') {
                    this.viewWelcomeNodes.push(this.renderButtonNode(linkedTextItems[0], lineKey));
                }
                else {
                    const linkedTextNodes = [];
                    for (const [nIndex, node] of linkedTextItems.entries()) {
                        const linkedTextKey = `${lineKey}-${nIndex}`;
                        if (typeof node === 'string') {
                            linkedTextNodes.push(this.renderTextNode(node, linkedTextKey));
                        }
                        else {
                            linkedTextNodes.push(this.renderCommandLinkNode(node, linkedTextKey));
                        }
                    }
                    this.viewWelcomeNodes.push(React.createElement("div", { key: `line-${lineKey}` }, linkedTextNodes));
                }
            }
        }
    }
    renderButtonNode(node, lineKey) {
        return (React.createElement("div", { key: `line-${lineKey}`, className: 'theia-WelcomeViewButtonWrapper' },
            React.createElement("button", { title: node.title, className: 'theia-button theia-WelcomeViewButton', disabled: !this.isEnabledClick(node.href), onClick: e => this.openLinkOrCommand(e, node.href) }, node.label)));
    }
    renderTextNode(node, textKey) {
        return React.createElement("span", { key: `text-${textKey}` }, node);
    }
    renderCommandLinkNode(node, linkKey) {
        return (React.createElement("a", { key: `link-${linkKey}`, className: this.getLinkClassName(node.href), title: node.title || '', onClick: e => this.openLinkOrCommand(e, node.href) }, node.label));
    }
    getLinkClassName(href) {
        const classNames = ['theia-WelcomeViewCommandLink'];
        if (!this.isEnabledClick(href)) {
            classNames.push('disabled');
        }
        return classNames.join(' ');
    }
    isEnabledClick(href) {
        if (href.startsWith('command:')) {
            const command = href.replace('command:', '');
            return this.commands.isEnabled(command);
        }
        return true;
    }
    parseLinkedText(text) {
        const result = [];
        const linkRegex = /\[([^\]]+)\]\(((?:https?:\/\/|command:)[^\)\s]+)(?: ("|')([^\3]+)(\3))?\)/gi;
        let index = 0;
        let match;
        while (match = linkRegex.exec(text)) {
            if (match.index - index > 0) {
                result.push(text.substring(index, match.index));
            }
            const [, label, href, , title] = match;
            if (title) {
                result.push({ label, href, title });
            }
            else {
                result.push({ label, href });
            }
            index = match.index + match[0].length;
        }
        if (index < text.length) {
            result.push(text.substring(index));
        }
        return result;
    }
};
__decorate([
    inversify_1.inject(common_1.CommandRegistry),
    __metadata("design:type", common_1.CommandRegistry)
], TreeViewWelcomeWidget.prototype, "commands", void 0);
__decorate([
    inversify_1.inject(context_key_service_1.ContextKeyService),
    __metadata("design:type", context_key_service_1.ContextKeyService)
], TreeViewWelcomeWidget.prototype, "contextService", void 0);
__decorate([
    inversify_1.inject(window_service_1.WindowService),
    __metadata("design:type", Object)
], TreeViewWelcomeWidget.prototype, "windowService", void 0);
TreeViewWelcomeWidget = __decorate([
    inversify_1.injectable()
], TreeViewWelcomeWidget);
exports.TreeViewWelcomeWidget = TreeViewWelcomeWidget;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree-widget-selection.js":
/*!*************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree-widget-selection.js ***!
  \*************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2019 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.TreeWidgetSelection = void 0;
const tree_widget_1 = __webpack_require__(/*! ./tree-widget */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree-widget.js");
var TreeWidgetSelection;
(function (TreeWidgetSelection) {
    function isSource(selection, source) {
        return getSource(selection) === source;
    }
    TreeWidgetSelection.isSource = isSource;
    function getSource(selection) {
        return is(selection) ? selection.source : undefined;
    }
    TreeWidgetSelection.getSource = getSource;
    function is(selection) {
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        return Array.isArray(selection) && ('source' in selection) && selection['source'] instanceof tree_widget_1.TreeWidget;
    }
    TreeWidgetSelection.is = is;
    function create(source) {
        return Object.assign(source.model.selectedNodes, { source });
    }
    TreeWidgetSelection.create = create;
})(TreeWidgetSelection = exports.TreeWidgetSelection || (exports.TreeWidgetSelection = {}));


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree-widget.js":
/*!***************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree-widget.js ***!
  \***************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
var TreeWidget_1;
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.TreeWidget = exports.defaultTreeProps = exports.TreeProps = exports.TREE_NODE_INDENT_GUIDE_CLASS = exports.TREE_NODE_CAPTION_CLASS = exports.COMPOSITE_TREE_NODE_CLASS = exports.EXPANDABLE_TREE_NODE_CLASS = exports.TREE_NODE_SEGMENT_GROW_CLASS = exports.TREE_NODE_SEGMENT_CLASS = exports.TREE_NODE_TAIL_CLASS = exports.TREE_NODE_INFO_CLASS = exports.TREE_NODE_CONTENT_CLASS = exports.TREE_NODE_CLASS = exports.TREE_CONTAINER_CLASS = exports.TREE_CLASS = void 0;
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const common_1 = __webpack_require__(/*! ../../common */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/index.js");
const keys_1 = __webpack_require__(/*! ../keyboard/keys */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/keyboard/keys.js");
const context_menu_renderer_1 = __webpack_require__(/*! ../context-menu-renderer */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/context-menu-renderer.js");
const widgets_1 = __webpack_require__(/*! ../widgets */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/widgets/index.js");
const tree_1 = __webpack_require__(/*! ./tree */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree.js");
const tree_model_1 = __webpack_require__(/*! ./tree-model */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree-model.js");
const tree_expansion_1 = __webpack_require__(/*! ./tree-expansion */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree-expansion.js");
const tree_selection_1 = __webpack_require__(/*! ./tree-selection */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree-selection.js");
const tree_decorator_1 = __webpack_require__(/*! ./tree-decorator */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree-decorator.js");
const objects_1 = __webpack_require__(/*! ../../common/objects */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/objects.js");
const os_1 = __webpack_require__(/*! ../../common/os */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/os.js");
const react_widget_1 = __webpack_require__(/*! ../widgets/react-widget */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/widgets/react-widget.js");
const React = __webpack_require__(/*! react */ "../node_modules/react/index.js");
const react_virtualized_1 = __webpack_require__(/*! react-virtualized */ "../node_modules/react-virtualized/dist/es/index.js");
const tree_iterator_1 = __webpack_require__(/*! ./tree-iterator */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree-iterator.js");
const search_box_1 = __webpack_require__(/*! ./search-box */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/search-box.js");
const tree_search_1 = __webpack_require__(/*! ./tree-search */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree-search.js");
const domutils_1 = __webpack_require__(/*! @phosphor/domutils */ "../node_modules/@phosphor/domutils/lib/index.js");
const tree_widget_selection_1 = __webpack_require__(/*! ./tree-widget-selection */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree-widget-selection.js");
const label_provider_1 = __webpack_require__(/*! ../label-provider */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/label-provider.js");
const core_preferences_1 = __webpack_require__(/*! ../core-preferences */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/core-preferences.js");
const debounce = __webpack_require__(/*! lodash.debounce */ "../node_modules/lodash.debounce/index.js");
exports.TREE_CLASS = 'theia-Tree';
exports.TREE_CONTAINER_CLASS = 'theia-TreeContainer';
exports.TREE_NODE_CLASS = 'theia-TreeNode';
exports.TREE_NODE_CONTENT_CLASS = 'theia-TreeNodeContent';
exports.TREE_NODE_INFO_CLASS = 'theia-TreeNodeInfo';
exports.TREE_NODE_TAIL_CLASS = 'theia-TreeNodeTail';
exports.TREE_NODE_SEGMENT_CLASS = 'theia-TreeNodeSegment';
exports.TREE_NODE_SEGMENT_GROW_CLASS = 'theia-TreeNodeSegmentGrow';
exports.EXPANDABLE_TREE_NODE_CLASS = 'theia-ExpandableTreeNode';
exports.COMPOSITE_TREE_NODE_CLASS = 'theia-CompositeTreeNode';
exports.TREE_NODE_CAPTION_CLASS = 'theia-TreeNodeCaption';
exports.TREE_NODE_INDENT_GUIDE_CLASS = 'theia-tree-node-indent';
exports.TreeProps = Symbol('TreeProps');
/**
 * The default tree properties.
 */
exports.defaultTreeProps = {
    leftPadding: 8,
    expansionTogglePadding: 22
};
let TreeWidget = TreeWidget_1 = class TreeWidget extends react_widget_1.ReactWidget {
    constructor(props, model, contextMenuRenderer) {
        super();
        this.props = props;
        this.model = model;
        this.contextMenuRenderer = contextMenuRenderer;
        this.decorations = new Map();
        this.shouldScrollToRow = true;
        this.rows = new Map();
        this.updateRows = debounce(() => this.doUpdateRows(), 10);
        /**
         * Update tree decorations.
         * - Updating decorations are debounced in order to limit the number of expensive updates.
         */
        this.updateDecorations = debounce(() => this.doUpdateDecorations(), 150);
        this.scrollArea = this.node;
        /**
         * Handle the scroll event.
         */
        this.handleScroll = (info) => {
            this.node.scrollTop = info.scrollTop;
        };
        /**
         * Render the node row.
         */
        this.renderNodeRow = (row) => this.doRenderNodeRow(row);
        /**
         * Toggle the node.
         */
        this.toggle = (event) => this.doToggle(event);
        /**
         * Handle the double-click mouse event on the expansion toggle.
         */
        this.handleExpansionToggleDblClickEvent = (event) => this.doHandleExpansionToggleDblClickEvent(event);
        this.scrollOptions = {
            suppressScrollX: true,
            minScrollbarLength: 35
        };
        this.addClass(exports.TREE_CLASS);
        this.node.tabIndex = 0;
    }
    init() {
        if (this.props.search) {
            this.searchBox = this.searchBoxFactory(Object.assign(Object.assign({}, search_box_1.SearchBoxProps.DEFAULT), { showButtons: true, showFilter: true }));
            this.searchBox.node.addEventListener('focus', () => {
                this.node.focus();
            });
            this.toDispose.pushAll([
                this.searchBox,
                this.searchBox.onTextChange(async (data) => {
                    await this.treeSearch.filter(data);
                    this.searchHighlights = this.treeSearch.getHighlights();
                    this.searchBox.updateHighlightInfo({
                        filterText: data,
                        total: this.rows.size,
                        matched: this.searchHighlights.size
                    });
                    this.update();
                }),
                this.searchBox.onClose(data => this.treeSearch.filter(undefined)),
                this.searchBox.onNext(() => {
                    // Enable next selection if there are currently highlights.
                    if (this.searchHighlights.size > 1) {
                        this.model.selectNextNode();
                    }
                }),
                this.searchBox.onPrevious(() => {
                    // Enable previous selection if there are currently highlights.
                    if (this.searchHighlights.size > 1) {
                        this.model.selectPrevNode();
                    }
                }),
                this.searchBox.onFilterToggled(e => {
                    this.updateRows();
                }),
                this.treeSearch,
                this.treeSearch.onFilteredNodesChanged(nodes => {
                    if (this.searchBox.isFiltering) {
                        this.updateRows();
                    }
                    const node = nodes.find(tree_selection_1.SelectableTreeNode.is);
                    if (node) {
                        this.model.selectNode(node);
                    }
                }),
            ]);
        }
        this.toDispose.pushAll([
            this.model,
            this.model.onChanged(() => this.updateRows()),
            this.model.onSelectionChanged(() => this.updateScrollToRow({ resize: false })),
            this.model.onDidChangeBusy(() => this.update()),
            this.model.onNodeRefreshed(() => this.updateDecorations()),
            this.model.onExpansionChanged(() => this.updateDecorations()),
            this.decoratorService,
            this.decoratorService.onDidChangeDecorations(() => this.updateDecorations()),
            this.labelProvider.onDidChange(e => {
                for (const row of this.rows.values()) {
                    if (e.affects(row)) {
                        this.forceUpdate();
                        return;
                    }
                }
            })
        ]);
        setTimeout(() => {
            this.updateRows();
            this.updateDecorations();
        });
        if (this.props.globalSelection) {
            this.toDispose.pushAll([
                this.model.onSelectionChanged(() => {
                    if (this.node.contains(document.activeElement)) {
                        this.updateGlobalSelection();
                    }
                }),
                common_1.Disposable.create(() => {
                    const selection = this.selectionService.selection;
                    if (tree_widget_selection_1.TreeWidgetSelection.isSource(selection, this)) {
                        this.selectionService.selection = undefined;
                    }
                })
            ]);
        }
        this.toDispose.push(this.corePreferences.onPreferenceChanged(preference => {
            if (preference.preferenceName === 'workbench.tree.renderIndentGuides') {
                this.update();
            }
        }));
    }
    /**
     * Update the global selection for the tree.
     */
    updateGlobalSelection() {
        this.selectionService.selection = tree_widget_selection_1.TreeWidgetSelection.create(this);
    }
    doUpdateRows() {
        const root = this.model.root;
        const rowsToUpdate = [];
        if (root) {
            const depths = new Map();
            let index = 0;
            for (const node of new tree_iterator_1.TopDownTreeIterator(root, {
                pruneCollapsed: true,
                pruneSiblings: true
            })) {
                if (this.shouldDisplayNode(node)) {
                    const parentDepth = depths.get(node.parent);
                    const depth = parentDepth === undefined ? 0 : tree_1.TreeNode.isVisible(node.parent) ? parentDepth + 1 : parentDepth;
                    if (tree_1.CompositeTreeNode.is(node)) {
                        depths.set(node, depth);
                    }
                    rowsToUpdate.push([node.id, {
                            index: index++,
                            node,
                            depth
                        }]);
                }
            }
        }
        this.rows = new Map(rowsToUpdate);
        this.updateScrollToRow();
    }
    shouldDisplayNode(node) {
        var _a;
        return tree_1.TreeNode.isVisible(node) && (!((_a = this.searchBox) === null || _a === void 0 ? void 0 : _a.isFiltering) || this.treeSearch.passesFilters(node));
    }
    /**
     * Update the `scrollToRow`.
     * @param updateOptions the tree widget force update options.
     */
    updateScrollToRow(updateOptions) {
        this.scrollToRow = this.getScrollToRow();
        this.forceUpdate(updateOptions);
    }
    /**
     * Get the `scrollToRow`.
     *
     * @returns the `scrollToRow` if available.
     */
    getScrollToRow() {
        if (!this.shouldScrollToRow) {
            return undefined;
        }
        const selected = this.model.selectedNodes;
        const node = selected.find(tree_selection_1.SelectableTreeNode.hasFocus) || selected[0];
        const row = node && this.rows.get(node.id);
        return row && row.index;
    }
    async doUpdateDecorations() {
        this.decorations = await this.decoratorService.getDecorations(this.model);
        this.forceUpdate();
    }
    /**
     * Force deep resizing and rendering of rows.
     * https://github.com/bvaughn/react-virtualized/blob/master/docs/List.md#recomputerowheights-index-number
     */
    forceUpdate({ resize } = { resize: false }) {
        if (this.view && this.view.list) {
            if (resize && this.isVisible) {
                this.view.cache.clearAll();
                this.view.list.recomputeRowHeights();
            }
            else {
                this.view.list.forceUpdateGrid();
            }
        }
        this.update();
    }
    onActivateRequest(msg) {
        super.onActivateRequest(msg);
        this.node.focus({ preventScroll: true });
    }
    /**
     * Actually focus the tree node.
     */
    doFocus() {
        if (!this.model.selectedNodes.length) {
            const node = this.getNodeToFocus();
            if (tree_selection_1.SelectableTreeNode.is(node)) {
                this.model.selectNode(node);
            }
        }
        // It has to be called after nodes are selected.
        if (this.props.globalSelection) {
            this.updateGlobalSelection();
        }
        this.forceUpdate();
    }
    /**
     * Get the tree node to focus.
     *
     * @returns the node to focus if available.
     */
    getNodeToFocus() {
        const root = this.model.root;
        if (tree_selection_1.SelectableTreeNode.isVisible(root)) {
            return root;
        }
        return this.model.getNextSelectableNode(root);
    }
    onUpdateRequest(msg) {
        if (!this.isAttached || !this.isVisible) {
            return;
        }
        super.onUpdateRequest(msg);
    }
    onResize(msg) {
        super.onResize(msg);
        this.forceUpdate({ resize: true });
    }
    render() {
        return React.createElement('div', this.createContainerAttributes(), this.renderTree(this.model));
    }
    /**
     * Create the container attributes for the widget.
     */
    createContainerAttributes() {
        const classNames = [exports.TREE_CONTAINER_CLASS];
        if (!this.rows.size) {
            classNames.push('empty');
        }
        return {
            className: classNames.join(' '),
            onContextMenu: event => this.handleContextMenuEvent(this.getContainerTreeNode(), event)
        };
    }
    /**
     * Get the container tree node.
     *
     * @returns the tree node for the container if available.
     */
    getContainerTreeNode() {
        return this.model.root;
    }
    /**
     * Render the tree widget.
     * @param model the tree model.
     */
    renderTree(model) {
        if (model.root) {
            const rows = Array.from(this.rows.values());
            if (this.props.virtualized === false) {
                this.onRender.push(common_1.Disposable.create(() => this.scrollToSelected()));
                return rows.map(row => React.createElement("div", { key: row.index }, this.renderNodeRow(row)));
            }
            return React.createElement(TreeWidget_1.View, { ref: view => this.view = (view || undefined), width: this.node.offsetWidth, height: this.node.offsetHeight, rows: rows, renderNodeRow: this.renderNodeRow, scrollToRow: this.scrollToRow, handleScroll: this.handleScroll });
        }
        // eslint-disable-next-line no-null/no-null
        return null;
    }
    /**
     * Scroll to the selected tree node.
     */
    scrollToSelected() {
        if (this.props.scrollIfActive === true && !this.node.contains(document.activeElement)) {
            return;
        }
        const focus = this.node.getElementsByClassName(widgets_1.FOCUS_CLASS)[0];
        if (focus) {
            domutils_1.ElementExt.scrollIntoViewIfNeeded(this.scrollArea, focus);
        }
        else {
            const selected = this.node.getElementsByClassName(widgets_1.SELECTED_CLASS)[0];
            if (selected) {
                domutils_1.ElementExt.scrollIntoViewIfNeeded(this.scrollArea, selected);
            }
        }
    }
    /**
     * Actually render the node row.
     */
    doRenderNodeRow({ index, node, depth }) {
        return React.createElement(React.Fragment, null,
            this.renderIndent(node, { depth }),
            this.renderNode(node, { depth }));
    }
    /**
     * Render the tree node given the node properties.
     * @param node the tree node.
     * @param props the node properties.
     */
    renderIcon(node, props) {
        // eslint-disable-next-line no-null/no-null
        return null;
    }
    /**
     * Actually toggle the tree node.
     * @param event the mouse click event.
     */
    doToggle(event) {
        const nodeId = event.currentTarget.getAttribute('data-node-id');
        if (nodeId) {
            const node = this.model.getNode(nodeId);
            if (node && this.props.expandOnlyOnExpansionToggleClick) {
                if (this.isExpandable(node) && !this.hasShiftMask(event) && !this.hasCtrlCmdMask(event)) {
                    this.model.toggleNodeExpansion(node);
                }
            }
            else {
                this.handleClickEvent(node, event);
            }
        }
        event.stopPropagation();
    }
    /**
     * Render the node expansion toggle.
     * @param node the tree node.
     * @param props the node properties.
     */
    renderExpansionToggle(node, props) {
        if (!this.isExpandable(node)) {
            // eslint-disable-next-line no-null/no-null
            return null;
        }
        const classes = [exports.TREE_NODE_SEGMENT_CLASS, widgets_1.EXPANSION_TOGGLE_CLASS];
        if (!node.expanded) {
            classes.push(widgets_1.COLLAPSED_CLASS);
        }
        if (node.busy) {
            classes.push(widgets_1.BUSY_CLASS, ...widgets_1.CODICON_LOADING_CLASSES);
        }
        else {
            classes.push(...widgets_1.CODICON_TREE_ITEM_CLASSES);
        }
        const className = classes.join(' ');
        return React.createElement("div", { "data-node-id": node.id, className: className, onClick: this.toggle, onDoubleClick: this.handleExpansionToggleDblClickEvent });
    }
    /**
     * Render the tree node caption given the node properties.
     * @param node the tree node.
     * @param props the node properties.
     */
    renderCaption(node, props) {
        const tooltip = this.getDecorationData(node, 'tooltip').filter(objects_1.notEmpty).join('  ');
        const classes = [exports.TREE_NODE_SEGMENT_CLASS];
        if (!this.hasTrailingSuffixes(node)) {
            classes.push(exports.TREE_NODE_SEGMENT_GROW_CLASS);
        }
        const className = classes.join(' ');
        let attrs = this.decorateCaption(node, {
            className, id: node.id
        });
        if (tooltip.length > 0) {
            attrs = Object.assign(Object.assign({}, attrs), { title: tooltip });
        }
        const children = [];
        const caption = this.toNodeName(node);
        const highlight = this.getDecorationData(node, 'highlight')[0];
        if (highlight) {
            children.push(this.toReactNode(caption, highlight));
        }
        const searchHighlight = this.searchHighlights ? this.searchHighlights.get(node.id) : undefined;
        if (searchHighlight) {
            children.push(...this.toReactNode(caption, searchHighlight));
        }
        else if (!highlight) {
            children.push(caption);
        }
        return React.createElement('div', attrs, ...children);
    }
    /**
     * Update the node given the caption and highlight.
     * @param caption the caption.
     * @param highlight the tree decoration caption highlight.
     */
    toReactNode(caption, highlight) {
        let style = {};
        if (highlight.color) {
            style = Object.assign(Object.assign({}, style), { color: highlight.color });
        }
        if (highlight.backgroundColor) {
            style = Object.assign(Object.assign({}, style), { backgroundColor: highlight.backgroundColor });
        }
        const createChildren = (fragment, index) => {
            const { data } = fragment;
            if (fragment.highlight) {
                return React.createElement("mark", { className: tree_decorator_1.TreeDecoration.Styles.CAPTION_HIGHLIGHT_CLASS, style: style, key: index }, data);
            }
            else {
                return data;
            }
        };
        return tree_decorator_1.TreeDecoration.CaptionHighlight.split(caption, highlight).map(createChildren);
    }
    /**
     * Decorate the tree caption.
     * @param node the tree node.
     * @param attrs the additional attributes.
     */
    decorateCaption(node, attrs) {
        const style = this.getDecorationData(node, 'fontData')
            .filter(objects_1.notEmpty)
            .reverse()
            .map(fontData => this.applyFontStyles({}, fontData))
            .reduce((acc, current) => (Object.assign(Object.assign({}, acc), current)), {});
        return Object.assign(Object.assign({}, attrs), { style });
    }
    /**
     * Determine if the tree node contains trailing suffixes.
     * @param node the tree node.
     *
     * @returns `true` if the tree node contains trailing suffices.
     */
    hasTrailingSuffixes(node) {
        return this.getDecorationData(node, 'captionSuffixes').filter(objects_1.notEmpty).reduce((acc, current) => acc.concat(current), []).length > 0;
    }
    /**
     * Apply font styles to the tree.
     * @param original the original css properties.
     * @param fontData the optional `fontData`.
     */
    applyFontStyles(original, fontData) {
        if (fontData === undefined) {
            return original;
        }
        const modified = Object.assign({}, original); // make a copy to mutate
        const { color, style } = fontData;
        if (color) {
            modified.color = color;
        }
        if (style) {
            (Array.isArray(style) ? style : [style]).forEach(s => {
                switch (s) {
                    case 'bold':
                        modified.fontWeight = s;
                        break;
                    case 'normal':
                    case 'oblique':
                    case 'italic':
                        modified.fontStyle = s;
                        break;
                    case 'underline':
                    case 'line-through':
                        modified.textDecoration = s;
                        break;
                    default:
                        throw new Error(`Unexpected font style: "${s}".`);
                }
            });
        }
        return modified;
    }
    /**
     * Render caption affixes for the given tree node.
     * @param node the tree node.
     * @param props the node properties.
     * @param affixKey the affix key.
     */
    renderCaptionAffixes(node, props, affixKey) {
        const suffix = affixKey === 'captionSuffixes';
        const affixClass = suffix ? tree_decorator_1.TreeDecoration.Styles.CAPTION_SUFFIX_CLASS : tree_decorator_1.TreeDecoration.Styles.CAPTION_PREFIX_CLASS;
        const classes = [exports.TREE_NODE_SEGMENT_CLASS, affixClass];
        const affixes = this.getDecorationData(node, affixKey).filter(objects_1.notEmpty).reduce((acc, current) => acc.concat(current), []);
        const children = [];
        for (let i = 0; i < affixes.length; i++) {
            const affix = affixes[i];
            if (suffix && i === affixes.length - 1) {
                classes.push(exports.TREE_NODE_SEGMENT_GROW_CLASS);
            }
            const style = this.applyFontStyles({}, affix.fontData);
            const className = classes.join(' ');
            const key = node.id + '_' + i;
            const attrs = {
                className,
                style,
                key
            };
            children.push(React.createElement('div', attrs, affix.data));
        }
        return React.createElement(React.Fragment, null, children);
    }
    /**
     * Decorate the tree node icon.
     * @param node the tree node.
     * @param icon the icon.
     */
    decorateIcon(node, icon) {
        if (!icon) {
            return;
        }
        const overlayIcons = [];
        // if multiple overlays have the same overlay.position attribute, we'll de-duplicate those and only process the first one from the decoration array
        const seenPositions = new Set();
        const overlays = this.getDecorationData(node, 'iconOverlay').filter(objects_1.notEmpty);
        for (const overlay of overlays) {
            if (!seenPositions.has(overlay.position)) {
                seenPositions.add(overlay.position);
                const iconClasses = [tree_decorator_1.TreeDecoration.Styles.DECORATOR_SIZE_CLASS, tree_decorator_1.TreeDecoration.IconOverlayPosition.getStyle(overlay.position)];
                const style = (color) => color === undefined ? {} : { color };
                if (overlay.background) {
                    overlayIcons.push(React.createElement("span", { key: node.id + 'bg', className: this.getIconClass(overlay.background.shape, iconClasses), style: style(overlay.background.color) }));
                }
                const overlayIcon = 'icon' in overlay ? overlay.icon : overlay.iconClass;
                overlayIcons.push(React.createElement("span", { key: node.id, className: this.getIconClass(overlayIcon, iconClasses), style: style(overlay.color) }));
            }
        }
        if (overlayIcons.length > 0) {
            return React.createElement("div", { className: tree_decorator_1.TreeDecoration.Styles.ICON_WRAPPER_CLASS },
                icon,
                overlayIcons);
        }
        return icon;
    }
    /**
     * Render the tree node tail decorations.
     * @param node the tree node.
     * @param props the node properties.
     */
    renderTailDecorations(node, props) {
        const tailDecorations = this.getDecorationData(node, 'tailDecorations').filter(objects_1.notEmpty).reduce((acc, current) => acc.concat(current), []);
        if (tailDecorations.length === 0) {
            return;
        }
        return this.renderTailDecorationsForNode(node, props, tailDecorations);
    }
    renderTailDecorationsForNode(node, props, tailDecorations) {
        return React.createElement(React.Fragment, null, tailDecorations.map((decoration, index) => {
            const { tooltip } = decoration;
            const { data, fontData } = decoration;
            const color = decoration.color;
            const className = [exports.TREE_NODE_SEGMENT_CLASS, exports.TREE_NODE_TAIL_CLASS].join(' ');
            const style = fontData ? this.applyFontStyles({}, fontData) : color ? { color } : undefined;
            const icon = decoration.icon || decoration.iconClass;
            const content = data ? data : icon ? React.createElement("span", { key: node.id + 'icon' + index, className: this.getIconClass(icon) }) : '';
            return React.createElement("div", { key: node.id + className + index, className: className, style: style, title: tooltip }, content);
        }));
    }
    /**
     * Determine the classes to use for an icon
     * - Assumes a Font Awesome name when passed a single string, otherwise uses the passed string array
     * @param iconName the icon name or list of icon names.
     * @param additionalClasses additional CSS classes.
     *
     * @returns the icon class name.
     */
    getIconClass(iconName, additionalClasses = []) {
        const iconClass = (typeof iconName === 'string') ? ['a', 'fa', `fa-${iconName}`] : ['a'].concat(iconName);
        return iconClass.concat(additionalClasses).join(' ');
    }
    /**
     * Render indent for the file tree based on the depth
     * @param node the tree node.
     * @param depth the depth of the tree node.
     */
    renderIndent(node, props) {
        const renderIndentGuides = this.corePreferences['workbench.tree.renderIndentGuides'];
        if (renderIndentGuides === 'none') {
            return undefined;
        }
        const indentDivs = [];
        let current = node;
        let depth = props.depth;
        while (current && depth) {
            const classNames = [exports.TREE_NODE_INDENT_GUIDE_CLASS];
            if (this.needsActiveIndentGuideline(current)) {
                classNames.push('active');
            }
            else {
                classNames.push(renderIndentGuides === 'onHover' ? 'hover' : 'always');
            }
            const paddingLeft = this.props.leftPadding * depth;
            indentDivs.unshift(React.createElement("div", { key: depth, className: classNames.join(' '), style: {
                    paddingLeft: `${paddingLeft}px`
                } }));
            current = current.parent;
            depth--;
        }
        return indentDivs;
    }
    needsActiveIndentGuideline(node) {
        const parent = node.parent;
        if (!parent || !this.isExpandable(parent)) {
            return false;
        }
        if (tree_selection_1.SelectableTreeNode.isSelected(parent)) {
            return true;
        }
        if (parent.expanded) {
            for (const sibling of parent.children) {
                if (tree_selection_1.SelectableTreeNode.isSelected(sibling) && !(this.isExpandable(sibling) && sibling.expanded)) {
                    return true;
                }
            }
        }
        return false;
    }
    /**
     * Render the node given the tree node and node properties.
     * @param node the tree node.
     * @param props the node properties.
     */
    renderNode(node, props) {
        if (!tree_1.TreeNode.isVisible(node)) {
            return undefined;
        }
        const attributes = this.createNodeAttributes(node, props);
        const content = React.createElement("div", { className: exports.TREE_NODE_CONTENT_CLASS },
            this.renderExpansionToggle(node, props),
            this.decorateIcon(node, this.renderIcon(node, props)),
            this.renderCaptionAffixes(node, props, 'captionPrefixes'),
            this.renderCaption(node, props),
            this.renderCaptionAffixes(node, props, 'captionSuffixes'),
            this.renderTailDecorations(node, props));
        return React.createElement('div', attributes, content);
    }
    /**
     * Create node attributes for the tree node given the node properties.
     * @param node the tree node.
     * @param props the node properties.
     */
    createNodeAttributes(node, props) {
        const className = this.createNodeClassNames(node, props).join(' ');
        const style = this.createNodeStyle(node, props);
        return {
            className,
            style,
            onClick: event => this.handleClickEvent(node, event),
            onDoubleClick: event => this.handleDblClickEvent(node, event),
            onContextMenu: event => this.handleContextMenuEvent(node, event)
        };
    }
    /**
     * Create the node class names.
     * @param node the tree node.
     * @param props the node properties.
     *
     * @returns the list of tree node class names.
     */
    createNodeClassNames(node, props) {
        const classNames = [exports.TREE_NODE_CLASS];
        if (tree_1.CompositeTreeNode.is(node)) {
            classNames.push(exports.COMPOSITE_TREE_NODE_CLASS);
        }
        if (this.isExpandable(node)) {
            classNames.push(exports.EXPANDABLE_TREE_NODE_CLASS);
        }
        if (tree_selection_1.SelectableTreeNode.isSelected(node)) {
            classNames.push(widgets_1.SELECTED_CLASS);
        }
        if (tree_selection_1.SelectableTreeNode.hasFocus(node)) {
            classNames.push(widgets_1.FOCUS_CLASS);
        }
        return classNames;
    }
    /**
     * Get the default node style.
     * @param node the tree node.
     * @param props the node properties.
     *
     * @returns the CSS properties if available.
     */
    getDefaultNodeStyle(node, props) {
        const paddingLeft = this.getPaddingLeft(node, props) + 'px';
        return { paddingLeft };
    }
    getPaddingLeft(node, props) {
        return props.depth * this.props.leftPadding + (this.needsExpansionTogglePadding(node) ? this.props.expansionTogglePadding : 0);
    }
    /**
     * If the node is a composite, a toggle will be rendered.
     * Otherwise we need to add the width and the left, right padding => 18px
     */
    needsExpansionTogglePadding(node) {
        return !this.isExpandable(node);
    }
    /**
     * Create the tree node style.
     * @param node the tree node.
     * @param props the node properties.
     */
    createNodeStyle(node, props) {
        return this.decorateNodeStyle(node, this.getDefaultNodeStyle(node, props));
    }
    /**
     * Decorate the node style.
     * @param node the tree node.
     * @param style the optional CSS properties.
     *
     * @returns the CSS styles if available.
     */
    decorateNodeStyle(node, style) {
        const backgroundColor = this.getDecorationData(node, 'backgroundColor').filter(objects_1.notEmpty).shift();
        if (backgroundColor) {
            style = Object.assign(Object.assign({}, (style || {})), { backgroundColor });
        }
        return style;
    }
    /**
     * Determine if the tree node is expandable.
     * @param node the tree node.
     *
     * @returns `true` if the tree node is expandable.
     */
    isExpandable(node) {
        return tree_expansion_1.ExpandableTreeNode.is(node);
    }
    /**
     * Get the tree node decorations.
     * @param node the tree node.
     *
     * @returns the list of tree decoration data.
     */
    getDecorations(node) {
        const decorations = [];
        if (tree_decorator_1.DecoratedTreeNode.is(node)) {
            decorations.push(node.decorationData);
        }
        if (this.decorations.has(node.id)) {
            decorations.push(...this.decorations.get(node.id));
        }
        return decorations.sort(tree_decorator_1.TreeDecoration.Data.comparePriority);
    }
    /**
     * Get the tree decoration data for the given key.
     * @param node the tree node.
     * @param key the tree decoration data key.
     *
     * @returns the tree decoration data at the given key.
     */
    getDecorationData(node, key) {
        return this.getDecorations(node).filter(data => data[key] !== undefined).map(data => data[key]).filter(objects_1.notEmpty);
    }
    /**
     * Get the scroll container.
     */
    getScrollContainer() {
        this.toDisposeOnDetach.push(common_1.Disposable.create(() => {
            const { scrollTop, scrollLeft } = this.node;
            this.lastScrollState = { scrollTop, scrollLeft };
        }));
        if (this.lastScrollState) {
            const { scrollTop, scrollLeft } = this.lastScrollState;
            this.node.scrollTop = scrollTop;
            this.node.scrollLeft = scrollLeft;
        }
        return this.node;
    }
    onAfterAttach(msg) {
        const up = [
            keys_1.Key.ARROW_UP,
            keys_1.KeyCode.createKeyCode({ first: keys_1.Key.ARROW_UP, modifiers: [keys_1.KeyModifier.Shift] })
        ];
        const down = [
            keys_1.Key.ARROW_DOWN,
            keys_1.KeyCode.createKeyCode({ first: keys_1.Key.ARROW_DOWN, modifiers: [keys_1.KeyModifier.Shift] })
        ];
        if (this.props.search) {
            if (this.searchBox.isAttached) {
                widgets_1.Widget.detach(this.searchBox);
            }
            widgets_1.UnsafeWidgetUtilities.attach(this.searchBox, this.node.parentElement);
            this.addKeyListener(this.node, this.searchBox.keyCodePredicate.bind(this.searchBox), this.searchBox.handle.bind(this.searchBox));
            this.toDisposeOnDetach.push(common_1.Disposable.create(() => {
                widgets_1.Widget.detach(this.searchBox);
            }));
        }
        super.onAfterAttach(msg);
        this.addKeyListener(this.node, keys_1.Key.ARROW_LEFT, event => this.handleLeft(event));
        this.addKeyListener(this.node, keys_1.Key.ARROW_RIGHT, event => this.handleRight(event));
        this.addKeyListener(this.node, up, event => this.handleUp(event));
        this.addKeyListener(this.node, down, event => this.handleDown(event));
        this.addKeyListener(this.node, keys_1.Key.ENTER, event => this.handleEnter(event));
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        this.addEventListener(this.node, 'ps-scroll-y', (e) => {
            if (this.view && this.view.list && this.view.list.Grid) {
                const { scrollTop } = e.target;
                this.view.list.Grid.handleScrollEvent({ scrollTop });
            }
        });
        this.addEventListener(this.node, 'focus', () => this.doFocus());
    }
    /**
     * Handle the `left arrow` keyboard event.
     * @param event the `left arrow` keyboard event.
     */
    async handleLeft(event) {
        if (!!this.props.multiSelect && (this.hasCtrlCmdMask(event) || this.hasShiftMask(event))) {
            return;
        }
        if (!await this.model.collapseNode()) {
            this.model.selectParent();
        }
    }
    /**
     * Handle the `right arrow` keyboard event.
     * @param event the `right arrow` keyboard event.
     */
    async handleRight(event) {
        if (!!this.props.multiSelect && (this.hasCtrlCmdMask(event) || this.hasShiftMask(event))) {
            return;
        }
        if (!await this.model.expandNode()) {
            this.model.selectNextNode();
        }
    }
    /**
     * Handle the `up arrow` keyboard event.
     * @param event the `up arrow` keyboard event.
     */
    handleUp(event) {
        if (!!this.props.multiSelect && this.hasShiftMask(event)) {
            this.model.selectPrevNode(tree_selection_1.TreeSelection.SelectionType.RANGE);
        }
        else {
            this.model.selectPrevNode();
        }
    }
    /**
     * Handle the `down arrow` keyboard event.
     * @param event the `down arrow` keyboard event.
     */
    handleDown(event) {
        if (!!this.props.multiSelect && this.hasShiftMask(event)) {
            this.model.selectNextNode(tree_selection_1.TreeSelection.SelectionType.RANGE);
        }
        else {
            this.model.selectNextNode();
        }
    }
    /**
     * Handle the `enter key` keyboard event.
     * - `enter` opens the tree node.
     * @param event the `enter key` keyboard event.
     */
    handleEnter(event) {
        this.model.openNode();
    }
    /**
     * Handle the single-click mouse event.
     * @param node the tree node if available.
     * @param event the mouse single-click event.
     */
    handleClickEvent(node, event) {
        if (node) {
            const shiftMask = this.hasShiftMask(event);
            const ctrlCmdMask = this.hasCtrlCmdMask(event);
            if (!!this.props.multiSelect) {
                if (tree_selection_1.SelectableTreeNode.is(node)) {
                    if (shiftMask) {
                        this.model.selectRange(node);
                    }
                    else if (ctrlCmdMask) {
                        this.model.toggleNode(node);
                    }
                    else {
                        this.model.selectNode(node);
                    }
                }
            }
            else {
                if (tree_selection_1.SelectableTreeNode.is(node)) {
                    this.model.selectNode(node);
                }
            }
            if (!this.props.expandOnlyOnExpansionToggleClick) {
                if (this.isExpandable(node) && !shiftMask && !ctrlCmdMask) {
                    this.model.toggleNodeExpansion(node);
                }
            }
            event.stopPropagation();
        }
    }
    /**
     * Handle the double-click mouse event.
     * @param node the tree node if available.
     * @param event the double-click mouse event.
     */
    handleDblClickEvent(node, event) {
        this.model.openNode(node);
        event.stopPropagation();
    }
    /**
     * Handle the context menu click event.
     * - The context menu click event is triggered by the right-click.
     * @param node the tree node if available.
     * @param event the right-click mouse event.
     */
    handleContextMenuEvent(node, event) {
        if (tree_selection_1.SelectableTreeNode.is(node)) {
            // Keep the selection for the context menu, if the widget support multi-selection and the right click happens on an already selected node.
            if (!this.props.multiSelect || !node.selected) {
                const type = !!this.props.multiSelect && this.hasCtrlCmdMask(event) ? tree_selection_1.TreeSelection.SelectionType.TOGGLE : tree_selection_1.TreeSelection.SelectionType.DEFAULT;
                this.model.addSelection({ node, type });
            }
            const contextMenuPath = this.props.contextMenuPath;
            if (contextMenuPath) {
                const { x, y } = event.nativeEvent;
                const args = this.toContextMenuArgs(node);
                this.onRender.push(common_1.Disposable.create(() => setTimeout(() => this.contextMenuRenderer.render({
                    menuPath: contextMenuPath,
                    anchor: { x, y },
                    args
                }))));
            }
            this.doFocus();
        }
        event.stopPropagation();
        event.preventDefault();
    }
    /**
     * Actually handle the double-click mouse event on the expansion toggle.
     * @param event the double-click mouse event.
     */
    doHandleExpansionToggleDblClickEvent(event) {
        if (this.props.expandOnlyOnExpansionToggleClick) {
            // Ignore the double-click event.
            event.stopPropagation();
        }
    }
    /**
     * Convert the tree node to context menu arguments.
     * @param node the selectable tree node.
     */
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    toContextMenuArgs(node) {
        return undefined;
    }
    /**
     * Determine if the tree modifier aware event has a `ctrlcmd` mask.
     * @param event the tree modifier aware event.
     *
     * @returns `true` if the tree modifier aware event contains the `ctrlcmd` mask.
     */
    hasCtrlCmdMask(event) {
        const { metaKey, ctrlKey } = event;
        return (os_1.isOSX && metaKey) || ctrlKey;
    }
    /**
     * Determine if the tree modifier aware event has a `shift` mask.
     * @param event the tree modifier aware event.
     *
     * @returns `true` if the tree modifier aware event contains the `shift` mask.
     */
    hasShiftMask(event) {
        // Ctrl/Cmd mask overrules the Shift mask.
        if (this.hasCtrlCmdMask(event)) {
            return false;
        }
        return event.shiftKey;
    }
    /**
     * Deflate the tree node for storage.
     * @param node the tree node.
     */
    deflateForStorage(node) {
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        const copy = Object.assign({}, node);
        if (copy.parent) {
            delete copy.parent;
        }
        if ('previousSibling' in copy) {
            delete copy.previousSibling;
        }
        if ('nextSibling' in copy) {
            delete copy.nextSibling;
        }
        if ('busy' in copy) {
            delete copy.busy;
        }
        if (tree_1.CompositeTreeNode.is(node)) {
            copy.children = [];
            for (const child of node.children) {
                copy.children.push(this.deflateForStorage(child));
            }
        }
        return copy;
    }
    /**
     * Inflate the tree node from storage.
     * @param node the tree node.
     * @param parent the optional tree node.
     */
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    inflateFromStorage(node, parent) {
        if (node.selected) {
            node.selected = false;
        }
        if (parent) {
            node.parent = parent;
        }
        if (Array.isArray(node.children)) {
            for (const child of node.children) {
                this.inflateFromStorage(child, node);
            }
        }
        return node;
    }
    /**
     * Store the tree state.
     */
    storeState() {
        const decorations = this.decoratorService.deflateDecorators(this.decorations);
        let state = {
            decorations
        };
        if (this.model.root) {
            state = Object.assign(Object.assign({}, state), { root: this.deflateForStorage(this.model.root), model: this.model.storeState() });
        }
        return state;
    }
    /**
     * Restore the state.
     * @param oldState the old state object.
     */
    restoreState(oldState) {
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        const { root, decorations, model } = oldState;
        if (root) {
            this.model.root = this.inflateFromStorage(root);
        }
        if (decorations) {
            this.decorations = this.decoratorService.inflateDecorators(decorations);
        }
        if (model) {
            this.model.restoreState(model);
        }
    }
    toNodeIcon(node) {
        return this.labelProvider.getIcon(node);
    }
    toNodeName(node) {
        return this.labelProvider.getName(node);
    }
    toNodeDescription(node) {
        return this.labelProvider.getLongName(node);
    }
};
__decorate([
    inversify_1.inject(tree_decorator_1.TreeDecoratorService),
    __metadata("design:type", Object)
], TreeWidget.prototype, "decoratorService", void 0);
__decorate([
    inversify_1.inject(tree_search_1.TreeSearch),
    __metadata("design:type", tree_search_1.TreeSearch)
], TreeWidget.prototype, "treeSearch", void 0);
__decorate([
    inversify_1.inject(search_box_1.SearchBoxFactory),
    __metadata("design:type", Function)
], TreeWidget.prototype, "searchBoxFactory", void 0);
__decorate([
    inversify_1.inject(common_1.SelectionService),
    __metadata("design:type", common_1.SelectionService)
], TreeWidget.prototype, "selectionService", void 0);
__decorate([
    inversify_1.inject(label_provider_1.LabelProvider),
    __metadata("design:type", label_provider_1.LabelProvider)
], TreeWidget.prototype, "labelProvider", void 0);
__decorate([
    inversify_1.inject(core_preferences_1.CorePreferences),
    __metadata("design:type", Object)
], TreeWidget.prototype, "corePreferences", void 0);
__decorate([
    inversify_1.postConstruct(),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", []),
    __metadata("design:returntype", void 0)
], TreeWidget.prototype, "init", null);
TreeWidget = TreeWidget_1 = __decorate([
    inversify_1.injectable(),
    __param(0, inversify_1.inject(exports.TreeProps)),
    __param(1, inversify_1.inject(tree_model_1.TreeModel)),
    __param(2, inversify_1.inject(context_menu_renderer_1.ContextMenuRenderer)),
    __metadata("design:paramtypes", [Object, Object, context_menu_renderer_1.ContextMenuRenderer])
], TreeWidget);
exports.TreeWidget = TreeWidget;
(function (TreeWidget) {
    class View extends React.Component {
        constructor() {
            super(...arguments);
            this.cache = new react_virtualized_1.CellMeasurerCache({
                fixedWidth: true
            });
            this.renderTreeRow = ({ key, index, style, parent }) => {
                const row = this.props.rows[index];
                return React.createElement(react_virtualized_1.CellMeasurer, { cache: this.cache, columnIndex: 0, key: key, parent: parent, rowIndex: index },
                    React.createElement("div", { key: key, style: style }, this.props.renderNodeRow(row)));
            };
        }
        render() {
            const { rows, width, height, scrollToRow, handleScroll } = this.props;
            return React.createElement(react_virtualized_1.List, { ref: list => this.list = (list || undefined), width: width, height: height, rowCount: rows.length, rowHeight: this.cache.rowHeight, rowRenderer: this.renderTreeRow, scrollToIndex: scrollToRow, onScroll: handleScroll, tabIndex: -1 });
        }
    }
    TreeWidget.View = View;
})(TreeWidget = exports.TreeWidget || (exports.TreeWidget = {}));
exports.TreeWidget = TreeWidget;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree.js":
/*!********************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/tree/tree.js ***!
  \********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.TreeImpl = exports.CompositeTreeNode = exports.TreeNode = exports.Tree = void 0;
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const event_1 = __webpack_require__(/*! ../../common/event */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/event.js");
const disposable_1 = __webpack_require__(/*! ../../common/disposable */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/disposable.js");
const cancellation_1 = __webpack_require__(/*! ../../common/cancellation */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/cancellation.js");
const promise_util_1 = __webpack_require__(/*! ../../common/promise-util */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/promise-util.js");
exports.Tree = Symbol('Tree');
var TreeNode;
(function (TreeNode) {
    function is(node) {
        return !!node && typeof node === 'object' && 'id' in node && 'parent' in node;
    }
    TreeNode.is = is;
    function equals(left, right) {
        return left === right || (!!left && !!right && left.id === right.id);
    }
    TreeNode.equals = equals;
    function isVisible(node) {
        return !!node && (node.visible === undefined || node.visible);
    }
    TreeNode.isVisible = isVisible;
})(TreeNode = exports.TreeNode || (exports.TreeNode = {}));
var CompositeTreeNode;
(function (CompositeTreeNode) {
    function is(node) {
        return !!node && 'children' in node;
    }
    CompositeTreeNode.is = is;
    function getFirstChild(parent) {
        return parent.children[0];
    }
    CompositeTreeNode.getFirstChild = getFirstChild;
    function getLastChild(parent) {
        return parent.children[parent.children.length - 1];
    }
    CompositeTreeNode.getLastChild = getLastChild;
    function isAncestor(parent, child) {
        if (!child) {
            return false;
        }
        if (TreeNode.equals(parent, child.parent)) {
            return true;
        }
        return isAncestor(parent, child.parent);
    }
    CompositeTreeNode.isAncestor = isAncestor;
    function indexOf(parent, node) {
        if (!node) {
            return -1;
        }
        return parent.children.findIndex(child => TreeNode.equals(node, child));
    }
    CompositeTreeNode.indexOf = indexOf;
    function addChildren(parent, children) {
        for (const child of children) {
            addChild(parent, child);
        }
        return parent;
    }
    CompositeTreeNode.addChildren = addChildren;
    function addChild(parent, child) {
        const children = parent.children;
        const index = children.findIndex(value => value.id === child.id);
        if (index !== -1) {
            children.splice(index, 1, child);
            setParent(child, index, parent);
        }
        else {
            children.push(child);
            setParent(child, parent.children.length - 1, parent);
        }
        return parent;
    }
    CompositeTreeNode.addChild = addChild;
    function removeChild(parent, child) {
        const children = parent.children;
        const index = children.findIndex(value => value.id === child.id);
        if (index === -1) {
            return;
        }
        children.splice(index, 1);
        const { previousSibling, nextSibling } = child;
        if (previousSibling) {
            Object.assign(previousSibling, { nextSibling });
        }
        if (nextSibling) {
            Object.assign(nextSibling, { previousSibling });
        }
    }
    CompositeTreeNode.removeChild = removeChild;
    function setParent(child, index, parent) {
        const previousSibling = parent.children[index - 1];
        const nextSibling = parent.children[index + 1];
        Object.assign(child, { parent, previousSibling, nextSibling });
        if (previousSibling) {
            Object.assign(previousSibling, { nextSibling: child });
        }
        if (nextSibling) {
            Object.assign(nextSibling, { previousSibling: child });
        }
    }
    CompositeTreeNode.setParent = setParent;
})(CompositeTreeNode = exports.CompositeTreeNode || (exports.CompositeTreeNode = {}));
/**
 * A default implementation of the tree.
 */
let TreeImpl = class TreeImpl {
    constructor() {
        this.onChangedEmitter = new event_1.Emitter();
        this.onNodeRefreshedEmitter = new event_1.Emitter();
        this.toDispose = new disposable_1.DisposableCollection();
        this.onDidChangeBusyEmitter = new event_1.Emitter();
        this.onDidChangeBusy = this.onDidChangeBusyEmitter.event;
        this.nodes = {};
        this.toDispose.push(this.onChangedEmitter);
        this.toDispose.push(this.onNodeRefreshedEmitter);
        this.toDispose.push(this.onDidChangeBusyEmitter);
    }
    dispose() {
        this.nodes = {};
        this.toDispose.dispose();
    }
    get root() {
        return this._root;
    }
    set root(root) {
        this.nodes = {};
        this._root = root;
        this.addNode(root);
        this.refresh();
    }
    get onChanged() {
        return this.onChangedEmitter.event;
    }
    fireChanged() {
        this.onChangedEmitter.fire(undefined);
    }
    get onNodeRefreshed() {
        return this.onNodeRefreshedEmitter.event;
    }
    async fireNodeRefreshed(parent) {
        await event_1.WaitUntilEvent.fire(this.onNodeRefreshedEmitter, parent);
        this.fireChanged();
    }
    getNode(id) {
        return id !== undefined ? this.nodes[id] : undefined;
    }
    validateNode(node) {
        const id = !!node ? node.id : undefined;
        return this.getNode(id);
    }
    async refresh(raw) {
        const parent = !raw ? this._root : this.validateNode(raw);
        let result;
        if (CompositeTreeNode.is(parent)) {
            const busySource = new cancellation_1.CancellationTokenSource();
            this.doMarkAsBusy(parent, 800, busySource.token);
            try {
                result = parent;
                const children = await this.resolveChildren(parent);
                result = await this.setChildren(parent, children);
            }
            finally {
                busySource.cancel();
            }
        }
        this.fireChanged();
        return result;
    }
    resolveChildren(parent) {
        return Promise.resolve(Array.from(parent.children));
    }
    async setChildren(parent, children) {
        const root = this.getRootNode(parent);
        if (this.nodes[root.id] && this.nodes[root.id] !== root) {
            console.error(`Child node '${parent.id}' does not belong to this '${root.id}' tree.`);
            return undefined;
        }
        this.removeNode(parent);
        parent.children = children;
        this.addNode(parent);
        await this.fireNodeRefreshed(parent);
        return parent;
    }
    removeNode(node) {
        if (CompositeTreeNode.is(node)) {
            node.children.forEach(child => this.removeNode(child));
        }
        if (node) {
            delete this.nodes[node.id];
        }
    }
    getRootNode(node) {
        if (node.parent === undefined) {
            return node;
        }
        else {
            return this.getRootNode(node.parent);
        }
    }
    addNode(node) {
        if (node) {
            this.nodes[node.id] = node;
        }
        if (CompositeTreeNode.is(node)) {
            const { children } = node;
            children.forEach((child, index) => {
                CompositeTreeNode.setParent(child, index, node);
                this.addNode(child);
            });
        }
    }
    async markAsBusy(raw, ms, token) {
        const node = this.validateNode(raw);
        if (node) {
            await this.doMarkAsBusy(node, ms, token);
        }
    }
    async doMarkAsBusy(node, ms, token) {
        try {
            await promise_util_1.timeout(ms, token);
            this.doSetBusy(node);
            token.onCancellationRequested(() => this.doResetBusy(node));
        }
        catch (_a) {
            /* no-op */
        }
    }
    doSetBusy(node) {
        const oldBusy = node.busy || 0;
        node.busy = oldBusy + 1;
        if (oldBusy === 0) {
            this.onDidChangeBusyEmitter.fire(node);
        }
    }
    doResetBusy(node) {
        const oldBusy = node.busy || 0;
        if (oldBusy > 0) {
            node.busy = oldBusy - 1;
            if (node.busy === 0) {
                this.onDidChangeBusyEmitter.fire(node);
            }
        }
    }
};
TreeImpl = __decorate([
    inversify_1.injectable(),
    __metadata("design:paramtypes", [])
], TreeImpl);
exports.TreeImpl = TreeImpl;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/view-container.js":
/*!*************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/view-container.js ***!
  \*************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2018-2019 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var ViewContainer_1;
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ViewContainerLayout = exports.ViewContainerPart = exports.ViewContainer = exports.DescriptionWidget = exports.ViewContainerIdentifier = void 0;
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const algorithm_1 = __webpack_require__(/*! @phosphor/algorithm */ "../node_modules/@phosphor/algorithm/lib/index.js");
const widgets_1 = __webpack_require__(/*! ./widgets */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/widgets/index.js");
const event_1 = __webpack_require__(/*! ../common/event */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/event.js");
const disposable_1 = __webpack_require__(/*! ../common/disposable */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/disposable.js");
const command_1 = __webpack_require__(/*! ../common/command */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/command.js");
const menu_1 = __webpack_require__(/*! ../common/menu */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/menu.js");
const shell_1 = __webpack_require__(/*! ./shell */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/shell/index.js");
const theia_dock_panel_1 = __webpack_require__(/*! ./shell/theia-dock-panel */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/shell/theia-dock-panel.js");
const frontend_application_state_1 = __webpack_require__(/*! ./frontend-application-state */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/frontend-application-state.js");
const context_menu_renderer_1 = __webpack_require__(/*! ./context-menu-renderer */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/context-menu-renderer.js");
const browser_1 = __webpack_require__(/*! ./browser */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/browser.js");
const widget_manager_1 = __webpack_require__(/*! ./widget-manager */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/widget-manager.js");
const tab_bar_toolbar_1 = __webpack_require__(/*! ./shell/tab-bar-toolbar */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/shell/tab-bar-toolbar.js");
const keys_1 = __webpack_require__(/*! ./keys */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/keys.js");
const progress_bar_factory_1 = __webpack_require__(/*! ./progress-bar-factory */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/progress-bar-factory.js");
let ViewContainerIdentifier = class ViewContainerIdentifier {
};
ViewContainerIdentifier = __decorate([
    inversify_1.injectable()
], ViewContainerIdentifier);
exports.ViewContainerIdentifier = ViewContainerIdentifier;
var DescriptionWidget;
(function (DescriptionWidget) {
    function is(arg) {
        return !!arg && typeof arg === 'object' && 'onDidChangeDescription' in arg;
    }
    DescriptionWidget.is = is;
})(DescriptionWidget = exports.DescriptionWidget || (exports.DescriptionWidget = {}));
/**
 * A view container holds an arbitrary number of widgets inside a split panel.
 * Each widget is wrapped in a _part_ that displays the widget title and toolbar
 * and allows to collapse / expand the widget content.
 */
let ViewContainer = ViewContainer_1 = class ViewContainer extends widgets_1.BaseWidget {
    constructor() {
        super(...arguments);
        this.onDidChangeTrackableWidgetsEmitter = new event_1.Emitter();
        this.onDidChangeTrackableWidgets = this.onDidChangeTrackableWidgetsEmitter.event;
        this.toDisposeOnCurrentPart = new disposable_1.DisposableCollection();
        this.toDisposeOnUpdateTitle = new disposable_1.DisposableCollection();
        this._tabBarDelegate = this;
        this.toRemoveWidgets = new Map();
    }
    init() {
        this.id = this.options.id;
        this.addClass('theia-view-container');
        const layout = new widgets_1.PanelLayout();
        this.layout = layout;
        this.panel = new widgets_1.SplitPanel({
            layout: new ViewContainerLayout({
                renderer: widgets_1.SplitPanel.defaultRenderer,
                orientation: this.orientation,
                spacing: 2,
                headerSize: ViewContainerPart.HEADER_HEIGHT,
                animationDuration: 200
            }, this.splitPositionHandler)
        });
        this.panel.node.tabIndex = -1;
        this.configureLayout(layout);
        const { commandRegistry, menuRegistry, contextMenuRenderer } = this;
        this.toDispose.pushAll([
            widgets_1.addEventListener(this.node, 'contextmenu', event => {
                if (event.button === 2 && algorithm_1.every(this.containerLayout.iter(), part => !!part.isHidden)) {
                    event.stopPropagation();
                    event.preventDefault();
                    contextMenuRenderer.render({ menuPath: this.contextMenuPath, anchor: event });
                }
            }),
            commandRegistry.registerCommand({ id: this.globalHideCommandId }, {
                execute: (anchor) => {
                    const toHide = this.findPartForAnchor(anchor);
                    if (toHide && toHide.canHide) {
                        toHide.hide();
                    }
                },
                isVisible: (anchor) => {
                    const toHide = this.findPartForAnchor(anchor);
                    if (toHide) {
                        return toHide.canHide && !toHide.isHidden;
                    }
                    else {
                        return algorithm_1.some(this.containerLayout.iter(), part => !part.isHidden);
                    }
                }
            }),
            menuRegistry.registerMenuAction([...this.contextMenuPath, '0_global'], {
                commandId: this.globalHideCommandId,
                label: 'Hide'
            }),
            this.onDidChangeTrackableWidgetsEmitter
        ]);
        if (this.options.progressLocationId) {
            this.toDispose.push(this.progressBarFactory({ container: this.node, insertMode: 'prepend', locationId: this.options.progressLocationId }));
        }
    }
    configureLayout(layout) {
        layout.addWidget(this.panel);
    }
    updateCurrentPart(part) {
        if (part && this.getParts().indexOf(part) !== -1) {
            this.currentPart = part;
        }
        if (this.currentPart && !this.currentPart.isDisposed) {
            return;
        }
        const visibleParts = this.getParts().filter(p => !p.isHidden);
        const expandedParts = visibleParts.filter(p => !p.collapsed);
        this.currentPart = expandedParts[0] || visibleParts[0];
    }
    setTitleOptions(titleOptions) {
        this.titleOptions = titleOptions;
        this.updateTitle();
    }
    updateTabBarDelegate() {
        const visibleParts = this.getParts().filter(part => !part.isHidden);
        if (visibleParts.length === 1) {
            this._tabBarDelegate = visibleParts[0].wrapped;
        }
        else {
            this._tabBarDelegate = this;
        }
    }
    getTabBarDelegate() {
        return this._tabBarDelegate;
    }
    updateTitle() {
        this.toDisposeOnUpdateTitle.dispose();
        this.toDispose.push(this.toDisposeOnUpdateTitle);
        this.updateTabBarDelegate();
        const title = this.titleOptions;
        if (!title) {
            return;
        }
        const allParts = this.getParts();
        const visibleParts = allParts.filter(part => !part.isHidden);
        this.title.label = title.label;
        if (visibleParts.length === 1) {
            const part = visibleParts[0];
            this.toDisposeOnUpdateTitle.push(part.onTitleChanged(() => this.updateTitle()));
            const partLabel = part.wrapped.title.label;
            if (partLabel) {
                this.title.label += ': ' + partLabel;
            }
            part.collapsed = false;
            part.hideTitle();
        }
        else {
            visibleParts.forEach(part => part.showTitle());
        }
        this.updateToolbarItems(allParts);
        const caption = title.caption || title.label;
        if (caption) {
            this.title.caption = caption;
            if (visibleParts.length === 1) {
                const partCaption = visibleParts[0].wrapped.title.caption || visibleParts[0].wrapped.title.label;
                if (partCaption) {
                    this.title.caption += ': ' + partCaption;
                }
            }
        }
        if (title.iconClass) {
            this.title.iconClass = title.iconClass;
        }
        if (title.closeable !== undefined) {
            this.title.closable = title.closeable;
        }
    }
    updateToolbarItems(allParts) {
        if (allParts.length > 1) {
            const group = this.getToggleVisibilityGroupLabel();
            for (const part of allParts) {
                const existingId = this.toggleVisibilityCommandId(part);
                const { caption, label, dataset: { visibilityCommandLabel } } = part.wrapped.title;
                this.registerToolbarItem(existingId, { tooltip: visibilityCommandLabel || caption || label, group });
            }
        }
    }
    getToggleVisibilityGroupLabel() {
        return 'view';
    }
    registerToolbarItem(commandId, options) {
        const newId = `${this.id}-tabbar-toolbar-${commandId}`;
        const existingHandler = this.commandRegistry.getAllHandlers(commandId)[0];
        const existingCommand = this.commandRegistry.getCommand(commandId);
        if (existingHandler && existingCommand) {
            this.toDisposeOnUpdateTitle.push(this.commandRegistry.registerCommand(Object.assign(Object.assign({}, existingCommand), { id: newId }), {
                execute: (_widget, ...args) => this.commandRegistry.executeCommand(commandId, ...args),
                isToggled: (_widget, ...args) => this.commandRegistry.isToggled(commandId, ...args),
                isEnabled: (_widget, ...args) => this.commandRegistry.isEnabled(commandId, ...args),
                isVisible: (widget, ...args) => widget === this.getTabBarDelegate() && this.commandRegistry.isVisible(commandId, ...args),
            }));
            this.toDisposeOnUpdateTitle.push(this.toolbarRegistry.registerItem(Object.assign(Object.assign({}, options), { id: newId, command: newId })));
        }
    }
    findPartForAnchor(anchor) {
        const element = document.elementFromPoint(anchor.x, anchor.y);
        if (element instanceof Element) {
            const closestPart = ViewContainerPart.closestPart(element);
            if (closestPart && closestPart.id) {
                return algorithm_1.find(this.containerLayout.iter(), part => part.id === closestPart.id);
            }
        }
        return undefined;
    }
    addWidget(widget, options) {
        const existing = this.toRemoveWidgets.get(widget.id);
        if (existing) {
            return existing;
        }
        const toRemoveWidget = new disposable_1.DisposableCollection();
        this.toDispose.push(toRemoveWidget);
        this.toRemoveWidgets.set(widget.id, toRemoveWidget);
        toRemoveWidget.push(disposable_1.Disposable.create(() => this.toRemoveWidgets.delete(widget.id)));
        const description = this.widgetManager.getDescription(widget);
        const partId = description ? JSON.stringify(description) : widget.id;
        const newPart = this.createPart(widget, partId, options);
        this.registerPart(newPart);
        if (newPart.options && newPart.options.order !== undefined) {
            const index = this.getParts().findIndex(part => part.options.order === undefined || part.options.order > newPart.options.order);
            if (index >= 0) {
                this.containerLayout.insertWidget(index, newPart);
            }
            else {
                this.containerLayout.addWidget(newPart);
            }
        }
        else {
            this.containerLayout.addWidget(newPart);
        }
        this.refreshMenu(newPart);
        this.updateTitle();
        this.updateCurrentPart();
        this.update();
        this.fireDidChangeTrackableWidgets();
        toRemoveWidget.pushAll([
            newPart,
            disposable_1.Disposable.create(() => {
                this.unregisterPart(newPart);
                if (!newPart.isDisposed) {
                    this.containerLayout.removeWidget(newPart);
                }
                if (!this.isDisposed) {
                    this.update();
                    this.updateTitle();
                    this.updateCurrentPart();
                    this.fireDidChangeTrackableWidgets();
                }
            }),
            this.registerDND(newPart),
            newPart.onDidChangeVisibility(() => {
                this.updateTitle();
                this.updateCurrentPart();
            }),
            newPart.onCollapsed(() => {
                this.containerLayout.updateCollapsed(newPart, this.enableAnimation);
                this.updateCurrentPart();
            }),
            newPart.onContextMenu(event => {
                if (event.button === 2) {
                    event.preventDefault();
                    event.stopPropagation();
                    this.contextMenuRenderer.render({ menuPath: this.contextMenuPath, anchor: event });
                }
            }),
            newPart.onTitleChanged(() => this.refreshMenu(newPart)),
            newPart.onDidFocus(() => this.updateCurrentPart(newPart))
        ]);
        newPart.disposed.connect(() => toRemoveWidget.dispose());
        return toRemoveWidget;
    }
    createPart(widget, partId, options) {
        return new ViewContainerPart(widget, partId, this.id, this.toolbarRegistry, this.toolbarFactory, options);
    }
    removeWidget(widget) {
        const disposable = this.toRemoveWidgets.get(widget.id);
        if (disposable) {
            disposable.dispose();
            return true;
        }
        return false;
    }
    getParts() {
        return this.containerLayout.widgets;
    }
    getPartFor(widget) {
        return this.getParts().find(p => p.wrapped.id === widget.id);
    }
    get containerLayout() {
        const layout = this.panel.layout;
        if (layout instanceof ViewContainerLayout) {
            return layout;
        }
        throw new Error('view container is disposed');
    }
    get orientation() {
        return ViewContainer_1.getOrientation(this.node);
    }
    get enableAnimation() {
        return this.applicationStateService.state === 'ready';
    }
    storeState() {
        if (!this.isVisible && this.lastVisibleState) {
            return this.lastVisibleState;
        }
        return this.doStoreState();
    }
    doStoreState() {
        const parts = this.getParts();
        const availableSize = this.containerLayout.getAvailableSize();
        const orientation = this.orientation;
        const partStates = parts.map(part => {
            let size = this.containerLayout.getPartSize(part);
            if (size && size > ViewContainerPart.HEADER_HEIGHT && orientation === 'vertical') {
                size -= ViewContainerPart.HEADER_HEIGHT;
            }
            return {
                widget: part.wrapped,
                partId: part.partId,
                collapsed: part.collapsed,
                hidden: part.isHidden,
                relativeSize: size && availableSize ? size / availableSize : undefined
            };
        });
        return { parts: partStates, title: this.titleOptions };
    }
    restoreState(state) {
        this.lastVisibleState = state;
        this.doRestoreState(state);
    }
    doRestoreState(state) {
        this.setTitleOptions(state.title);
        // restore widgets
        for (const part of state.parts) {
            if (part.widget) {
                this.addWidget(part.widget);
            }
        }
        const partStates = state.parts.filter(partState => algorithm_1.some(this.containerLayout.iter(), p => p.partId === partState.partId));
        // Reorder the parts according to the stored state
        for (let index = 0; index < partStates.length; index++) {
            const partState = partStates[index];
            const currentIndex = this.getParts().findIndex(p => p.partId === partState.partId);
            if (currentIndex > index) {
                this.containerLayout.moveWidget(currentIndex, index, this.getParts()[currentIndex]);
            }
        }
        // Restore visibility and collapsed state
        const parts = this.getParts();
        for (let index = 0; index < parts.length; index++) {
            const part = parts[index];
            const partState = partStates.find(s => part.partId === s.partId);
            if (partState) {
                part.setHidden(partState.hidden);
                part.collapsed = partState.collapsed || !partState.relativeSize;
            }
            else if (part.canHide) {
                part.hide();
            }
            this.refreshMenu(part);
        }
        // Restore part sizes
        widgets_1.waitForRevealed(this).then(() => {
            this.containerLayout.setPartSizes(partStates.map(partState => partState.relativeSize));
        });
    }
    /**
     * Register a command to toggle the visibility of the new part.
     */
    registerPart(toRegister) {
        const commandId = this.toggleVisibilityCommandId(toRegister);
        this.commandRegistry.registerCommand({ id: commandId }, {
            execute: () => {
                const toHide = algorithm_1.find(this.containerLayout.iter(), part => part.id === toRegister.id);
                if (toHide) {
                    toHide.setHidden(!toHide.isHidden);
                }
            },
            isToggled: () => {
                if (!toRegister.canHide) {
                    return true;
                }
                const widgetToToggle = algorithm_1.find(this.containerLayout.iter(), part => part.id === toRegister.id);
                if (widgetToToggle) {
                    return !widgetToToggle.isHidden;
                }
                return false;
            },
            isEnabled: arg => toRegister.canHide && (!this.titleOptions || !(arg instanceof widgets_1.Widget) || (arg instanceof ViewContainer_1 && arg.id === this.id)),
            isVisible: arg => !this.titleOptions || !(arg instanceof widgets_1.Widget) || (arg instanceof ViewContainer_1 && arg.id === this.id)
        });
    }
    /**
     * Register a menu action to toggle the visibility of the new part.
     * The menu action is unregistered first to enable refreshing the order of menu actions.
     */
    refreshMenu(part) {
        const commandId = this.toggleVisibilityCommandId(part);
        this.menuRegistry.unregisterMenuAction(commandId);
        if (!part.wrapped.title.label) {
            return;
        }
        const { dataset: { visibilityCommandLabel }, caption, label } = part.wrapped.title;
        const action = {
            commandId: commandId,
            label: visibilityCommandLabel || caption || label,
            order: this.getParts().indexOf(part).toString()
        };
        this.menuRegistry.registerMenuAction([...this.contextMenuPath, '1_widgets'], action);
        if (this.titleOptions) {
            this.menuRegistry.registerMenuAction([...shell_1.SIDE_PANEL_TOOLBAR_CONTEXT_MENU, 'navigation'], action);
        }
    }
    unregisterPart(part) {
        const commandId = this.toggleVisibilityCommandId(part);
        this.commandRegistry.unregisterCommand(commandId);
        this.menuRegistry.unregisterMenuAction(commandId);
    }
    get contextMenuPath() {
        return [`${this.id}-context-menu`];
    }
    toggleVisibilityCommandId(part) {
        return `${this.id}:toggle-visibility-${part.id}`;
    }
    get globalHideCommandId() {
        return `${this.id}:toggle-visibility`;
    }
    moveBefore(toMovedId, moveBeforeThisId) {
        const parts = this.getParts();
        const toMoveIndex = parts.findIndex(part => part.id === toMovedId);
        const moveBeforeThisIndex = parts.findIndex(part => part.id === moveBeforeThisId);
        if (toMoveIndex >= 0 && moveBeforeThisIndex >= 0) {
            this.containerLayout.moveWidget(toMoveIndex, moveBeforeThisIndex, parts[toMoveIndex]);
            for (let index = Math.min(toMoveIndex, moveBeforeThisIndex); index < parts.length; index++) {
                this.refreshMenu(parts[index]);
                this.activate();
            }
        }
    }
    getTrackableWidgets() {
        return this.getParts().map(w => w.wrapped);
    }
    fireDidChangeTrackableWidgets() {
        this.onDidChangeTrackableWidgetsEmitter.fire(this.getTrackableWidgets());
    }
    activateWidget(id) {
        const part = this.revealPart(id);
        if (!part) {
            return undefined;
        }
        this.updateCurrentPart(part);
        return part.wrapped;
    }
    revealWidget(id) {
        const part = this.revealPart(id);
        return part && part.wrapped;
    }
    revealPart(id) {
        const part = this.getParts().find(p => p.wrapped.id === id);
        if (!part) {
            return undefined;
        }
        part.setHidden(false);
        return part;
    }
    onActivateRequest(msg) {
        super.onActivateRequest(msg);
        if (this.currentPart) {
            this.currentPart.activate();
        }
        else {
            this.panel.node.focus({ preventScroll: true });
        }
    }
    onAfterAttach(msg) {
        const orientation = this.orientation;
        this.containerLayout.orientation = orientation;
        if (orientation === 'horizontal') {
            for (const part of this.getParts()) {
                part.collapsed = false;
            }
        }
        super.onAfterAttach(msg);
    }
    onBeforeHide(msg) {
        super.onBeforeHide(msg);
        this.lastVisibleState = this.storeState();
    }
    onAfterShow(msg) {
        super.onAfterShow(msg);
        this.lastVisibleState = undefined;
    }
    registerDND(part) {
        part['header'].draggable = true;
        const style = (event) => {
            if (!this.draggingPart) {
                return;
            }
            event.preventDefault();
            const enclosingPartNode = ViewContainerPart.closestPart(event.target);
            if (enclosingPartNode && enclosingPartNode !== this.draggingPart.node) {
                enclosingPartNode.classList.add('drop-target');
            }
        };
        const unstyle = (event) => {
            if (!this.draggingPart) {
                return;
            }
            event.preventDefault();
            const enclosingPartNode = ViewContainerPart.closestPart(event.target);
            if (enclosingPartNode) {
                enclosingPartNode.classList.remove('drop-target');
            }
        };
        return new disposable_1.DisposableCollection(widgets_1.addEventListener(part['header'], 'dragstart', event => {
            const { dataTransfer } = event;
            if (dataTransfer) {
                this.draggingPart = part;
                dataTransfer.effectAllowed = 'move';
                dataTransfer.setData('view-container-dnd', part.id);
                const dragImage = document.createElement('div');
                dragImage.classList.add('theia-view-container-drag-image');
                dragImage.innerText = part.wrapped.title.label;
                document.body.appendChild(dragImage);
                dataTransfer.setDragImage(dragImage, -10, -10);
                setTimeout(() => document.body.removeChild(dragImage), 0);
            }
        }, false), widgets_1.addEventListener(part.node, 'dragend', () => this.draggingPart = undefined, false), widgets_1.addEventListener(part.node, 'dragover', style, false), widgets_1.addEventListener(part.node, 'dragleave', unstyle, false), widgets_1.addEventListener(part.node, 'drop', event => {
            const { dataTransfer } = event;
            if (dataTransfer) {
                const moveId = dataTransfer.getData('view-container-dnd');
                if (moveId && moveId !== part.id) {
                    this.moveBefore(moveId, part.id);
                }
                unstyle(event);
            }
        }, false));
    }
};
__decorate([
    inversify_1.inject(frontend_application_state_1.FrontendApplicationStateService),
    __metadata("design:type", frontend_application_state_1.FrontendApplicationStateService)
], ViewContainer.prototype, "applicationStateService", void 0);
__decorate([
    inversify_1.inject(context_menu_renderer_1.ContextMenuRenderer),
    __metadata("design:type", context_menu_renderer_1.ContextMenuRenderer)
], ViewContainer.prototype, "contextMenuRenderer", void 0);
__decorate([
    inversify_1.inject(command_1.CommandRegistry),
    __metadata("design:type", command_1.CommandRegistry)
], ViewContainer.prototype, "commandRegistry", void 0);
__decorate([
    inversify_1.inject(menu_1.MenuModelRegistry),
    __metadata("design:type", menu_1.MenuModelRegistry)
], ViewContainer.prototype, "menuRegistry", void 0);
__decorate([
    inversify_1.inject(widget_manager_1.WidgetManager),
    __metadata("design:type", widget_manager_1.WidgetManager)
], ViewContainer.prototype, "widgetManager", void 0);
__decorate([
    inversify_1.inject(shell_1.SplitPositionHandler),
    __metadata("design:type", shell_1.SplitPositionHandler)
], ViewContainer.prototype, "splitPositionHandler", void 0);
__decorate([
    inversify_1.inject(ViewContainerIdentifier),
    __metadata("design:type", ViewContainerIdentifier)
], ViewContainer.prototype, "options", void 0);
__decorate([
    inversify_1.inject(tab_bar_toolbar_1.TabBarToolbarRegistry),
    __metadata("design:type", tab_bar_toolbar_1.TabBarToolbarRegistry)
], ViewContainer.prototype, "toolbarRegistry", void 0);
__decorate([
    inversify_1.inject(tab_bar_toolbar_1.TabBarToolbarFactory),
    __metadata("design:type", Function)
], ViewContainer.prototype, "toolbarFactory", void 0);
__decorate([
    inversify_1.inject(progress_bar_factory_1.ProgressBarFactory),
    __metadata("design:type", Function)
], ViewContainer.prototype, "progressBarFactory", void 0);
__decorate([
    inversify_1.postConstruct(),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", []),
    __metadata("design:returntype", void 0)
], ViewContainer.prototype, "init", null);
ViewContainer = ViewContainer_1 = __decorate([
    inversify_1.injectable()
], ViewContainer);
exports.ViewContainer = ViewContainer;
(function (ViewContainer) {
    ViewContainer.Factory = Symbol('ViewContainerFactory');
    function getOrientation(node) {
        if (node.closest(`#${theia_dock_panel_1.MAIN_AREA_ID}`) || node.closest(`#${theia_dock_panel_1.BOTTOM_AREA_ID}`)) {
            return 'horizontal';
        }
        return 'vertical';
    }
    ViewContainer.getOrientation = getOrientation;
})(ViewContainer = exports.ViewContainer || (exports.ViewContainer = {}));
exports.ViewContainer = ViewContainer;
/**
 * Wrapper around a widget held by a view container. Adds a header to display the
 * title, toolbar, and collapse / expand handle.
 */
class ViewContainerPart extends widgets_1.BaseWidget {
    constructor(wrapped, partId, viewContainerId, toolbarRegistry, toolbarFactory, options = {}) {
        var _a;
        super();
        this.wrapped = wrapped;
        this.partId = partId;
        this.toolbarRegistry = toolbarRegistry;
        this.toolbarFactory = toolbarFactory;
        this.options = options;
        this.collapsedEmitter = new event_1.Emitter();
        this.contextMenuEmitter = new event_1.Emitter();
        /**
         * @deprecated since 0.11.0, use `onDidChangeVisibility` instead
         */
        this.onVisibilityChanged = this.onDidChangeVisibility;
        this.onTitleChangedEmitter = new event_1.Emitter();
        this.onTitleChanged = this.onTitleChangedEmitter.event;
        this.onDidFocusEmitter = new event_1.Emitter();
        this.onDidFocus = this.onDidFocusEmitter.event;
        this.onDidChangeDescriptionEmitter = new event_1.Emitter();
        this.onDidChangeDescription = this.onDidChangeDescriptionEmitter.event;
        this.toShowHeader = new disposable_1.DisposableCollection();
        wrapped.parent = this;
        wrapped.disposed.connect(() => this.dispose());
        this.id = `${viewContainerId}--${wrapped.id}`;
        this.addClass('part');
        const fireTitleChanged = () => this.onTitleChangedEmitter.fire(undefined);
        this.wrapped.title.changed.connect(fireTitleChanged);
        this.toDispose.push(disposable_1.Disposable.create(() => this.wrapped.title.changed.disconnect(fireTitleChanged)));
        if (DescriptionWidget.is(this.wrapped)) {
            const fireDescriptionChanged = () => this.onDidChangeDescriptionEmitter.fire(undefined);
            this.toDispose.push((_a = this.wrapped) === null || _a === void 0 ? void 0 : _a.onDidChangeDescription.event(fireDescriptionChanged));
        }
        const { header, body, disposable } = this.createContent();
        this.header = header;
        this.body = body;
        this.toNoDisposeWrapped = this.toDispose.push(wrapped);
        this.toolbar = this.toolbarFactory();
        this.toolbar.addClass('theia-view-container-part-title');
        this.toDispose.pushAll([
            disposable,
            this.toolbar,
            this.toolbarRegistry.onDidChange(() => this.toolbar.updateTarget(this.wrapped)),
            this.collapsedEmitter,
            this.contextMenuEmitter,
            this.onTitleChangedEmitter,
            this.onDidChangeDescriptionEmitter,
            this.registerContextMenu(),
            this.onDidFocusEmitter,
            // focus event does not bubble, capture it
            widgets_1.addEventListener(this.node, 'focus', () => this.onDidFocusEmitter.fire(this), true)
        ]);
        this.scrollOptions = {
            suppressScrollX: true,
            minScrollbarLength: 35
        };
        this.collapsed = !!options.initiallyCollapsed;
        if (options.initiallyHidden && this.canHide) {
            this.hide();
        }
    }
    get collapsed() {
        return this._collapsed;
    }
    set collapsed(collapsed) {
        // Cannot collapse/expand if the orientation of the container is `horizontal`.
        const orientation = ViewContainer.getOrientation(this.node);
        if (this._collapsed === collapsed || orientation === 'horizontal' && collapsed) {
            return;
        }
        this._collapsed = collapsed;
        this.node.classList.toggle('collapsed', collapsed);
        if (collapsed && this.wrapped.node.contains(document.activeElement)) {
            this.header.focus();
        }
        this.wrapped.setHidden(collapsed);
        const toggleIcon = this.header.querySelector(`span.${widgets_1.EXPANSION_TOGGLE_CLASS}`);
        if (toggleIcon) {
            if (collapsed) {
                toggleIcon.classList.add(widgets_1.COLLAPSED_CLASS);
            }
            else {
                toggleIcon.classList.remove(widgets_1.COLLAPSED_CLASS);
            }
        }
        this.update();
        this.collapsedEmitter.fire(collapsed);
    }
    setHidden(hidden) {
        if (!this.canHide) {
            return;
        }
        super.setHidden(hidden);
    }
    get canHide() {
        return this.options.canHide === undefined || this.options.canHide;
    }
    get onCollapsed() {
        return this.collapsedEmitter.event;
    }
    get onContextMenu() {
        return this.contextMenuEmitter.event;
    }
    get minSize() {
        const style = getComputedStyle(this.body);
        if (ViewContainer.getOrientation(this.node) === 'horizontal') {
            return browser_1.parseCssMagnitude(style.minWidth, 0);
        }
        else {
            return browser_1.parseCssMagnitude(style.minHeight, 0);
        }
    }
    showTitle() {
        this.toShowHeader.dispose();
    }
    hideTitle() {
        if (this.titleHidden) {
            return;
        }
        const display = this.header.style.display;
        const height = this.body.style.height;
        this.body.style.height = '100%';
        this.header.style.display = 'none';
        this.toShowHeader.push(disposable_1.Disposable.create(() => {
            this.header.style.display = display;
            this.body.style.height = height;
        }));
    }
    get titleHidden() {
        return !this.toShowHeader.disposed || this.collapsed;
    }
    getScrollContainer() {
        return this.body;
    }
    registerContextMenu() {
        return new disposable_1.DisposableCollection(widgets_1.addEventListener(this.header, 'contextmenu', event => {
            this.contextMenuEmitter.fire(event);
        }));
    }
    createContent() {
        const disposable = new disposable_1.DisposableCollection();
        const { header, disposable: headerDisposable } = this.createHeader();
        const body = document.createElement('div');
        body.classList.add('body');
        this.node.appendChild(header);
        this.node.appendChild(body);
        disposable.push(headerDisposable);
        return {
            header,
            body,
            disposable,
        };
    }
    createHeader() {
        const disposable = new disposable_1.DisposableCollection();
        const header = document.createElement('div');
        header.tabIndex = 0;
        header.classList.add('theia-header', 'header');
        disposable.push(widgets_1.addEventListener(header, 'click', event => {
            if (this.toolbar && this.toolbar.shouldHandleMouseEvent(event)) {
                return;
            }
            this.collapsed = !this.collapsed;
        }));
        disposable.push(widgets_1.addKeyListener(header, keys_1.Key.ARROW_LEFT, () => this.collapsed = true));
        disposable.push(widgets_1.addKeyListener(header, keys_1.Key.ARROW_RIGHT, () => this.collapsed = false));
        disposable.push(widgets_1.addKeyListener(header, keys_1.Key.ENTER, () => this.collapsed = !this.collapsed));
        const toggleIcon = document.createElement('span');
        toggleIcon.classList.add(widgets_1.EXPANSION_TOGGLE_CLASS, ...widgets_1.CODICON_TREE_ITEM_CLASSES);
        if (this.collapsed) {
            toggleIcon.classList.add(widgets_1.COLLAPSED_CLASS);
        }
        header.appendChild(toggleIcon);
        const title = document.createElement('span');
        title.classList.add('label', 'noselect');
        const description = document.createElement('span');
        description.classList.add('description');
        const updateTitle = () => title.innerText = this.wrapped.title.label;
        const updateCaption = () => title.title = this.wrapped.title.caption || this.wrapped.title.label;
        const updateDescription = () => {
            description.innerText = DescriptionWidget.is(this.wrapped) && !this.collapsed && this.wrapped.description || '';
        };
        updateTitle();
        updateCaption();
        updateDescription();
        disposable.pushAll([
            this.onTitleChanged(updateTitle),
            this.onTitleChanged(updateCaption),
            this.onDidChangeDescription(updateDescription),
            this.onCollapsed(updateDescription),
        ]);
        header.appendChild(title);
        header.appendChild(description);
        return {
            header,
            disposable
        };
    }
    onResize(msg) {
        if (this.wrapped.isAttached && !this.collapsed) {
            widgets_1.MessageLoop.sendMessage(this.wrapped, widgets_1.Widget.ResizeMessage.UnknownSize);
        }
        super.onResize(msg);
    }
    onUpdateRequest(msg) {
        if (this.wrapped.isAttached && !this.collapsed) {
            widgets_1.MessageLoop.sendMessage(this.wrapped, msg);
        }
        super.onUpdateRequest(msg);
    }
    onAfterAttach(msg) {
        if (!this.wrapped.isAttached) {
            widgets_1.UnsafeWidgetUtilities.attach(this.wrapped, this.body);
        }
        widgets_1.UnsafeWidgetUtilities.attach(this.toolbar, this.header);
        super.onAfterAttach(msg);
    }
    onBeforeDetach(msg) {
        super.onBeforeDetach(msg);
        if (this.toolbar.isAttached) {
            widgets_1.Widget.detach(this.toolbar);
        }
        if (this.wrapped.isAttached) {
            widgets_1.UnsafeWidgetUtilities.detach(this.wrapped);
        }
    }
    onBeforeShow(msg) {
        if (this.wrapped.isAttached && !this.collapsed) {
            widgets_1.MessageLoop.sendMessage(this.wrapped, msg);
        }
        super.onBeforeShow(msg);
    }
    onAfterShow(msg) {
        super.onAfterShow(msg);
        if (this.wrapped.isAttached && !this.collapsed) {
            widgets_1.MessageLoop.sendMessage(this.wrapped, msg);
        }
    }
    onBeforeHide(msg) {
        if (this.wrapped.isAttached && !this.collapsed) {
            widgets_1.MessageLoop.sendMessage(this.wrapped, msg);
        }
        super.onBeforeShow(msg);
    }
    onAfterHide(msg) {
        super.onAfterHide(msg);
        if (this.wrapped.isAttached && !this.collapsed) {
            widgets_1.MessageLoop.sendMessage(this.wrapped, msg);
        }
    }
    onChildRemoved(msg) {
        super.onChildRemoved(msg);
        // if wrapped is not disposed, but detached then we should not dispose it, but only get rid of this part
        this.toNoDisposeWrapped.dispose();
        this.dispose();
    }
    onActivateRequest(msg) {
        super.onActivateRequest(msg);
        if (this.collapsed) {
            this.header.focus();
        }
        else {
            this.wrapped.activate();
        }
    }
}
exports.ViewContainerPart = ViewContainerPart;
(function (ViewContainerPart) {
    /**
     * Make sure to adjust the `line-height` of the `.theia-view-container .part > .header` CSS class when modifying this, and vice versa.
     */
    ViewContainerPart.HEADER_HEIGHT = 22;
    function closestPart(element, selector = 'div.part') {
        if (element instanceof Element) {
            const part = element.closest(selector);
            if (part instanceof Element) {
                return part;
            }
        }
        return undefined;
    }
    ViewContainerPart.closestPart = closestPart;
})(ViewContainerPart = exports.ViewContainerPart || (exports.ViewContainerPart = {}));
class ViewContainerLayout extends widgets_1.SplitLayout {
    constructor(options, splitPositionHandler) {
        super(options);
        this.options = options;
        this.splitPositionHandler = splitPositionHandler;
    }
    get items() {
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        return this._items;
    }
    iter() {
        return algorithm_1.map(this.items, item => item.widget);
    }
    get widgets() {
        return algorithm_1.toArray(this.iter());
    }
    moveWidget(fromIndex, toIndex, widget) {
        const ref = this.widgets[toIndex < fromIndex ? toIndex : toIndex + 1];
        super.moveWidget(fromIndex, toIndex, widget);
        if (ref) {
            this.parent.node.insertBefore(this.handles[toIndex], ref.node);
        }
        else {
            this.parent.node.appendChild(this.handles[toIndex]);
        }
        widgets_1.UnsafeWidgetUtilities.detach(widget);
        widgets_1.UnsafeWidgetUtilities.attach(widget, this.parent.node, this.handles[toIndex]);
    }
    getPartSize(part) {
        if (part.collapsed || part.isHidden) {
            return part.uncollapsedSize;
        }
        if (this.orientation === 'horizontal') {
            return part.node.offsetWidth;
        }
        else {
            return part.node.offsetHeight;
        }
    }
    /**
     * Set the sizes of the view container parts according to the given weights
     * by moving the split handles. This is similar to `setRelativeSizes` defined
     * in `SplitLayout`, but here we properly consider the collapsed / expanded state.
     */
    setPartSizes(weights) {
        const parts = this.widgets;
        const availableSize = this.getAvailableSize();
        // Sum up the weights of visible parts
        let totalWeight = 0;
        let weightCount = 0;
        for (let index = 0; index < weights.length && index < parts.length; index++) {
            const part = parts[index];
            const weight = weights[index];
            if (weight && !part.isHidden && !part.collapsed) {
                totalWeight += weight;
                weightCount++;
            }
        }
        if (weightCount === 0 || availableSize === 0) {
            return;
        }
        // Add the average weight for visible parts without weight
        const averageWeight = totalWeight / weightCount;
        for (let index = 0; index < weights.length && index < parts.length; index++) {
            const part = parts[index];
            const weight = weights[index];
            if (!weight && !part.isHidden && !part.collapsed) {
                totalWeight += averageWeight;
            }
        }
        // Apply the weights to compute actual sizes
        let position = 0;
        for (let index = 0; index < weights.length && index < parts.length - 1; index++) {
            const part = parts[index];
            if (!part.isHidden) {
                if (this.orientation === 'vertical') {
                    position += this.options.headerSize;
                }
                const weight = weights[index];
                if (part.collapsed) {
                    if (weight) {
                        part.uncollapsedSize = weight / totalWeight * availableSize;
                    }
                }
                else {
                    let contentSize = (weight || averageWeight) / totalWeight * availableSize;
                    const minSize = part.minSize;
                    if (contentSize < minSize) {
                        contentSize = minSize;
                    }
                    position += contentSize;
                }
                this.setHandlePosition(index, position);
                position += this.spacing;
            }
        }
    }
    /**
     * Determine the size of the split panel area that is available for widget content,
     * i.e. excluding part headers and split handles.
     */
    getAvailableSize() {
        if (!this.parent || !this.parent.isAttached) {
            return 0;
        }
        const parts = this.widgets;
        const visiblePartCount = parts.filter(part => !part.isHidden).length;
        let availableSize;
        if (this.orientation === 'horizontal') {
            availableSize = this.parent.node.offsetWidth;
        }
        else {
            availableSize = this.parent.node.offsetHeight;
            availableSize -= visiblePartCount * this.options.headerSize;
        }
        availableSize -= (visiblePartCount - 1) * this.spacing;
        if (availableSize < 0) {
            return 0;
        }
        return availableSize;
    }
    /**
     * Update a view container part that has been collapsed or expanded. The transition
     * to the new state is animated.
     */
    updateCollapsed(part, enableAnimation) {
        const index = this.items.findIndex(item => item.widget === part);
        if (index < 0 || !this.parent || part.isHidden) {
            return;
        }
        // Do not store the height of the "stretched item". Otherwise, we mess up the "hint height".
        // Store the height only if there are other expanded items.
        const currentSize = this.orientation === 'horizontal' ? part.node.offsetWidth : part.node.offsetHeight;
        if (part.collapsed && this.items.some(item => !item.widget.collapsed && !item.widget.isHidden)) {
            part.uncollapsedSize = currentSize;
        }
        if (!enableAnimation || this.options.animationDuration <= 0) {
            widgets_1.MessageLoop.postMessage(this.parent, widgets_1.Widget.Msg.FitRequest);
            return;
        }
        let startTime = undefined;
        const duration = this.options.animationDuration;
        const direction = part.collapsed ? 'collapse' : 'expand';
        let fullSize;
        if (direction === 'collapse') {
            fullSize = currentSize - this.options.headerSize;
        }
        else {
            fullSize = Math.max((part.uncollapsedSize || 0) - this.options.headerSize, part.minSize);
            if (this.items.filter(item => !item.widget.collapsed && !item.widget.isHidden).length === 1) {
                // Expand to full available size
                fullSize = Math.max(fullSize, this.getAvailableSize());
            }
        }
        // The update function is called on every animation frame until the predefined duration has elapsed.
        const updateFunc = (time) => {
            if (!this.parent) {
                part.animatedSize = undefined;
                return;
            }
            if (startTime === undefined) {
                startTime = time;
            }
            if (time - startTime < duration) {
                // Render an intermediate state for the animation
                const t = this.tween((time - startTime) / duration);
                if (direction === 'collapse') {
                    part.animatedSize = (1 - t) * fullSize;
                }
                else {
                    part.animatedSize = t * fullSize;
                }
                requestAnimationFrame(updateFunc);
            }
            else {
                // The animation is finished
                if (direction === 'collapse') {
                    part.animatedSize = undefined;
                }
                else {
                    part.animatedSize = fullSize;
                    // Request another frame to reset the part to variable size
                    requestAnimationFrame(() => {
                        part.animatedSize = undefined;
                        if (this.parent) {
                            widgets_1.MessageLoop.sendMessage(this.parent, widgets_1.Widget.Msg.FitRequest);
                        }
                    });
                }
            }
            widgets_1.MessageLoop.sendMessage(this.parent, widgets_1.Widget.Msg.FitRequest);
        };
        requestAnimationFrame(updateFunc);
    }
    onFitRequest(msg) {
        for (const part of this.widgets) {
            const style = part.node.style;
            if (part.animatedSize !== undefined) {
                // The part size has been fixed for animating the transition to collapsed / expanded state
                const fixedSize = `${this.options.headerSize + part.animatedSize}px`;
                style.minHeight = fixedSize;
                style.maxHeight = fixedSize;
            }
            else if (part.collapsed) {
                // The part size is fixed to the header size
                const fixedSize = `${this.options.headerSize}px`;
                style.minHeight = fixedSize;
                style.maxHeight = fixedSize;
            }
            else {
                const minSize = `${this.options.headerSize + part.minSize}px`;
                style.minHeight = minSize;
                style.maxHeight = '';
            }
        }
        super.onFitRequest(msg);
    }
    /**
     * Sinusoidal tween function for smooth animation.
     */
    tween(t) {
        return 0.5 * (1 - Math.cos(Math.PI * t));
    }
    setHandlePosition(index, position) {
        const options = {
            referenceWidget: this.widgets[index],
            duration: 0
        };
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        return this.splitPositionHandler.setSplitHandlePosition(this.parent, index, position, options);
    }
}
exports.ViewContainerLayout = ViewContainerLayout;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/widget-decoration.js":
/*!****************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/widget-decoration.js ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2019 Ericsson and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.WidgetDecoration = void 0;
/**
 * Namespace for the decoration data and the styling refinements for the decorated widgets.
 */
var WidgetDecoration;
(function (WidgetDecoration) {
    /**
     * CSS styles for the decorators.
     */
    let Styles;
    (function (Styles) {
        Styles.CAPTION_HIGHLIGHT_CLASS = 'theia-caption-highlight';
        Styles.CAPTION_PREFIX_CLASS = 'theia-caption-prefix';
        Styles.CAPTION_SUFFIX_CLASS = 'theia-caption-suffix';
        Styles.ICON_WRAPPER_CLASS = 'theia-icon-wrapper';
        Styles.DECORATOR_SIZE_CLASS = 'theia-decorator-size';
        Styles.DECORATOR_SIDEBAR_SIZE_CLASS = 'theia-decorator-sidebar-size';
        Styles.TOP_RIGHT_CLASS = 'theia-top-right';
        Styles.BOTTOM_RIGHT_CLASS = 'theia-bottom-right';
        Styles.BOTTOM_RIGHT_SIDEBAR_CLASS = 'theia-bottom-right-sidebar';
        Styles.BOTTOM_LEFT_CLASS = 'theia-bottom-left';
        Styles.TOP_LEFT_CLASS = 'theia-top-left';
    })(Styles = WidgetDecoration.Styles || (WidgetDecoration.Styles = {}));
    /**
     * Enumeration for the quadrant to overlay the image on.
     */
    let IconOverlayPosition;
    (function (IconOverlayPosition) {
        /**
         * Overlays the top right quarter of the original image.
         */
        IconOverlayPosition[IconOverlayPosition["TOP_RIGHT"] = 0] = "TOP_RIGHT";
        /**
         * Overlays the bottom right of the original image.
         */
        IconOverlayPosition[IconOverlayPosition["BOTTOM_RIGHT"] = 1] = "BOTTOM_RIGHT";
        /**
         * Overlays the bottom left segment of the original image.
         */
        IconOverlayPosition[IconOverlayPosition["BOTTOM_LEFT"] = 2] = "BOTTOM_LEFT";
        /**
         * Occupies the top left quarter of the original icon.
         */
        IconOverlayPosition[IconOverlayPosition["TOP_LEFT"] = 3] = "TOP_LEFT";
    })(IconOverlayPosition = WidgetDecoration.IconOverlayPosition || (WidgetDecoration.IconOverlayPosition = {}));
    (function (IconOverlayPosition) {
        /**
         * Returns with the CSS class style for the enum.
         */
        function getStyle(position, inSideBar) {
            switch (position) {
                case IconOverlayPosition.TOP_RIGHT:
                    return WidgetDecoration.Styles.TOP_RIGHT_CLASS;
                case IconOverlayPosition.BOTTOM_RIGHT:
                    return inSideBar ? WidgetDecoration.Styles.BOTTOM_RIGHT_SIDEBAR_CLASS : WidgetDecoration.Styles.BOTTOM_RIGHT_CLASS;
                case IconOverlayPosition.BOTTOM_LEFT:
                    return WidgetDecoration.Styles.BOTTOM_LEFT_CLASS;
                case IconOverlayPosition.TOP_LEFT:
                    return WidgetDecoration.Styles.TOP_LEFT_CLASS;
            }
        }
        IconOverlayPosition.getStyle = getStyle;
    })(IconOverlayPosition = WidgetDecoration.IconOverlayPosition || (WidgetDecoration.IconOverlayPosition = {}));
    let CaptionHighlight;
    (function (CaptionHighlight) {
        let Range;
        (function (Range) {
            /**
             * `true` if the `arg` is contained in the range. The ranges are closed ranges, hence the check is inclusive.
             */
            function contains(arg, range) {
                return arg >= range.offset && arg <= (range.offset + range.length);
            }
            Range.contains = contains;
        })(Range = CaptionHighlight.Range || (CaptionHighlight.Range = {}));
        /**
         * Splits the `caption` argument based on the ranges from the `highlight` argument.
         */
        function split(caption, highlight) {
            const result = [];
            const ranges = highlight.ranges.slice();
            const containerOf = (index) => ranges.findIndex(range => Range.contains(index, range));
            let data = '';
            for (let i = 0; i < caption.length; i++) {
                const containerIndex = containerOf(i);
                if (containerIndex === -1) {
                    data += caption[i];
                }
                else {
                    if (data.length > 0) {
                        result.push({ data });
                    }
                    const { length } = ranges.splice(containerIndex, 1).shift();
                    result.push({ data: caption.substr(i, length), highlight: true });
                    data = '';
                    i = i + length - 1;
                }
            }
            if (data.length > 0) {
                result.push({ data });
            }
            if (ranges.length !== 0) {
                throw new Error('Error occurred when splitting the caption. There was a mismatch between the caption and the corresponding highlighting ranges.');
            }
            return result;
        }
        CaptionHighlight.split = split;
    })(CaptionHighlight = WidgetDecoration.CaptionHighlight || (WidgetDecoration.CaptionHighlight = {}));
    let Data;
    (function (Data) {
        /**
         * Compares the decoration data based on the priority. Lowest priorities come first.
         */
        Data.comparePriority = (left, right) => (left.priority || 0) - (right.priority || 0);
    })(Data = WidgetDecoration.Data || (WidgetDecoration.Data = {}));
})(WidgetDecoration = exports.WidgetDecoration || (exports.WidgetDecoration = {}));


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/widget-manager.js":
/*!*************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/widget-manager.js ***!
  \*************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.WidgetManager = exports.WidgetFactory = void 0;
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const widgets_1 = __webpack_require__(/*! @phosphor/widgets */ "../node_modules/@phosphor/widgets/lib/index.js");
const common_1 = __webpack_require__(/*! ../common */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/index.js");
/* eslint-disable @typescript-eslint/no-explicit-any */
exports.WidgetFactory = Symbol('WidgetFactory');
/**
 * The {@link WidgetManager} is the common component responsible for creating and managing widgets. Additional widget factories
 * can be registered by using the {@link WidgetFactory} contribution point. To identify a widget, created by a factory, the factory id and
 * the creation options are used. This key is commonly referred to as `description` of the widget.
 */
let WidgetManager = class WidgetManager {
    constructor() {
        this.widgets = new Map();
        this.widgetPromises = new Map();
        this.pendingWidgetPromises = new Map();
        this.onWillCreateWidgetEmitter = new common_1.Emitter();
        /**
         * An event can be used to participate in the widget creation.
         * Listeners may not dispose the given widget.
         */
        this.onWillCreateWidget = this.onWillCreateWidgetEmitter.event;
        this.onDidCreateWidgetEmitter = new common_1.Emitter();
        this.onDidCreateWidget = this.onDidCreateWidgetEmitter.event;
    }
    /**
     * Get the list of widgets created by the given widget factory.
     * @param factoryId the widget factory id.
     *
     * @returns the list of widgets created by the factory with the given id.
     */
    getWidgets(factoryId) {
        const result = [];
        for (const [key, widget] of this.widgets.entries()) {
            if (this.fromKey(key).factoryId === factoryId) {
                result.push(widget);
            }
        }
        return result;
    }
    /**
     * Try to get the existing widget for the given description.
     * @param factoryId The widget factory id.
     * @param options The widget factory specific information.
     *
     * @returns the widget if available, else `undefined`.
     */
    tryGetWidget(factoryId, options) {
        const key = this.toKey({ factoryId, options });
        const existing = this.widgetPromises.get(key);
        if (existing instanceof widgets_1.Widget) {
            return existing;
        }
        return undefined;
    }
    /**
     * Try to get the existing widget for the given description.
     * @param factoryId The widget factory id.
     * @param options The widget factory specific information.
     *
     * @returns A promise that resolves to the widget, if any exists. The promise may be pending, so be cautious when assuming that it will not reject.
     */
    tryGetPendingWidget(factoryId, options) {
        const key = this.toKey({ factoryId, options });
        return this.doGetWidget(key);
    }
    /**
     * Get the widget for the given description.
     * @param factoryId The widget factory id.
     * @param options The widget factory specific information.
     *
     * @returns a promise resolving to the widget if available, else `undefined`.
     */
    async getWidget(factoryId, options) {
        const key = this.toKey({ factoryId, options });
        const pendingWidget = this.doGetWidget(key);
        const widget = pendingWidget && await pendingWidget;
        return widget;
    }
    doGetWidget(key) {
        var _a;
        const pendingWidget = (_a = this.widgetPromises.get(key)) !== null && _a !== void 0 ? _a : this.pendingWidgetPromises.get(key);
        if (pendingWidget) {
            return pendingWidget;
        }
        return undefined;
    }
    /**
     * Creates a new widget or returns the existing widget for the given description.
     * @param factoryId the widget factory id.
     * @param options the widget factory specific information.
     *
     * @returns a promise resolving to the widget.
     */
    async getOrCreateWidget(factoryId, options) {
        const key = this.toKey({ factoryId, options });
        const existingWidget = this.doGetWidget(key);
        if (existingWidget) {
            return existingWidget;
        }
        const factory = this.factories.get(factoryId);
        if (!factory) {
            throw Error("No widget factory '" + factoryId + "' has been registered.");
        }
        try {
            const widgetPromise = factory.createWidget(options);
            this.pendingWidgetPromises.set(key, widgetPromise);
            const widget = await widgetPromise;
            await common_1.WaitUntilEvent.fire(this.onWillCreateWidgetEmitter, { factoryId, widget });
            this.widgetPromises.set(key, widgetPromise);
            this.widgets.set(key, widget);
            widget.disposed.connect(() => {
                this.widgets.delete(key);
                this.widgetPromises.delete(key);
            });
            this.onDidCreateWidgetEmitter.fire({ factoryId, widget });
            return widget;
        }
        finally {
            this.pendingWidgetPromises.delete(key);
        }
    }
    /**
     * Get the widget construction options.
     * @param widget the widget.
     *
     * @returns the widget construction options if the widget was created through the manager, else `undefined`.
     */
    getDescription(widget) {
        for (const [key, aWidget] of this.widgets.entries()) {
            if (aWidget === widget) {
                return this.fromKey(key);
            }
        }
        return undefined;
    }
    /**
     * Convert the widget construction options to string.
     * @param options the widget construction options.
     *
     * @returns the widget construction options represented as a string.
     */
    toKey(options) {
        return JSON.stringify(options);
    }
    /**
     * Convert the key into the widget construction options object.
     * @param key the key.
     *
     * @returns the widget construction options object.
     */
    fromKey(key) {
        return JSON.parse(key);
    }
    get factories() {
        if (!this._cachedFactories) {
            this._cachedFactories = new Map();
            for (const factory of this.factoryProvider.getContributions()) {
                if (factory.id) {
                    this._cachedFactories.set(factory.id, factory);
                }
                else {
                    this.logger.error('Invalid ID for factory: ' + factory + ". ID was: '" + factory.id + "'.");
                }
            }
        }
        return this._cachedFactories;
    }
};
__decorate([
    inversify_1.inject(common_1.ContributionProvider),
    inversify_1.named(exports.WidgetFactory),
    __metadata("design:type", Object)
], WidgetManager.prototype, "factoryProvider", void 0);
__decorate([
    inversify_1.inject(common_1.ILogger),
    __metadata("design:type", Object)
], WidgetManager.prototype, "logger", void 0);
WidgetManager = __decorate([
    inversify_1.injectable()
], WidgetManager);
exports.WidgetManager = WidgetManager;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/widget-open-handler.js":
/*!******************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/widget-open-handler.js ***!
  \******************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.WidgetOpenHandler = void 0;
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const common_1 = __webpack_require__(/*! ../common */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/index.js");
const shell_1 = __webpack_require__(/*! ./shell */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/shell/index.js");
const widget_manager_1 = __webpack_require__(/*! ./widget-manager */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/widget-manager.js");
/**
 * Generic base class for {@link OpenHandler}s that are opening a widget for a given {@link URI}.
 */
let WidgetOpenHandler = class WidgetOpenHandler {
    constructor() {
        this.onCreatedEmitter = new common_1.Emitter();
        /**
         * Emit when a new widget is created.
         */
        this.onCreated = this.onCreatedEmitter.event;
    }
    init() {
        this.widgetManager.onDidCreateWidget(({ factoryId, widget }) => {
            if (factoryId === this.id) {
                this.onCreatedEmitter.fire(widget);
            }
        });
    }
    /**
     * Open a widget for the given uri and options.
     * Reject if the given options are not widget options or a widget cannot be opened.
     * @param uri the uri of the resource that should be opened.
     * @param options the widget opener options.
     *
     * @returns promise of the widget that resolves when the widget has been opened.
     */
    async open(uri, options) {
        const widget = await this.getOrCreateWidget(uri, options);
        await this.doOpen(widget, options);
        return widget;
    }
    async doOpen(widget, options) {
        const op = Object.assign({ mode: 'activate' }, options);
        if (!widget.isAttached) {
            this.shell.addWidget(widget, op.widgetOptions || { area: 'main' });
        }
        if (op.mode === 'activate') {
            await this.shell.activateWidget(widget.id);
        }
        else if (op.mode === 'reveal') {
            await this.shell.revealWidget(widget.id);
        }
    }
    /**
     * Tries to get an existing widget for the given uri.
     * @param uri the uri of the widget.
     *
     * @returns a promise that resolves to the existing widget or `undefined` if no widget for the given uri exists.
     */
    getByUri(uri) {
        return this.getWidget(uri);
    }
    /**
     * Return an existing widget for the given uri or creates a new one.
     *
     * It does not open a widget, use {@link WidgetOpenHandler#open} instead.
     * @param uri uri of the widget.
     *
     * @returns a promise of the existing or newly created widget.
     */
    getOrCreateByUri(uri) {
        return this.getOrCreateWidget(uri);
    }
    /**
     * Retrieves all open widgets that have been opened by this handler.
     *
     * @returns all open widgets for this open handler.
     */
    get all() {
        return this.widgetManager.getWidgets(this.id);
    }
    tryGetPendingWidget(uri, options) {
        const factoryOptions = this.createWidgetOptions(uri, options);
        return this.widgetManager.tryGetPendingWidget(this.id, factoryOptions);
    }
    getWidget(uri, options) {
        const widgetOptions = this.createWidgetOptions(uri, options);
        return this.widgetManager.getWidget(this.id, widgetOptions);
    }
    getOrCreateWidget(uri, options) {
        const widgetOptions = this.createWidgetOptions(uri, options);
        return this.widgetManager.getOrCreateWidget(this.id, widgetOptions);
    }
    /**
     * Closes all widgets that have been opened by this open handler.
     * @param options the close options that should be applied to all widgets.
     *
     * @returns a promise of all closed widgets that resolves after they have been closed.
     */
    async closeAll(options) {
        const closed = await Promise.all(this.all.map(widget => this.shell.closeWidget(widget.id, options)));
        return closed.filter(widget => !!widget);
    }
};
__decorate([
    inversify_1.inject(shell_1.ApplicationShell),
    __metadata("design:type", shell_1.ApplicationShell)
], WidgetOpenHandler.prototype, "shell", void 0);
__decorate([
    inversify_1.inject(widget_manager_1.WidgetManager),
    __metadata("design:type", widget_manager_1.WidgetManager)
], WidgetOpenHandler.prototype, "widgetManager", void 0);
__decorate([
    inversify_1.postConstruct(),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", []),
    __metadata("design:returntype", void 0)
], WidgetOpenHandler.prototype, "init", null);
WidgetOpenHandler = __decorate([
    inversify_1.injectable()
], WidgetOpenHandler);
exports.WidgetOpenHandler = WidgetOpenHandler;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/widgets/index.js":
/*!************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/widgets/index.js ***!
  \************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
__exportStar(__webpack_require__(/*! ./widget */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/widgets/widget.js"), exports);
__exportStar(__webpack_require__(/*! ./react-renderer */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/widgets/react-renderer.js"), exports);
__exportStar(__webpack_require__(/*! ./react-widget */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/widgets/react-widget.js"), exports);


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/widgets/react-renderer.js":
/*!*********************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/widgets/react-renderer.js ***!
  \*********************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ReactRenderer = exports.RendererHost = void 0;
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const React = __webpack_require__(/*! react */ "../node_modules/react/index.js");
const ReactDOM = __webpack_require__(/*! react-dom */ "../node_modules/react-dom/index.js");
exports.RendererHost = Symbol('RendererHost');
let ReactRenderer = class ReactRenderer {
    constructor(host) {
        this.host = host || document.createElement('div');
    }
    dispose() {
        ReactDOM.unmountComponentAtNode(this.host);
    }
    render() {
        ReactDOM.render(React.createElement(React.Fragment, null, this.doRender()), this.host);
    }
    doRender() {
        return undefined;
    }
};
ReactRenderer = __decorate([
    inversify_1.injectable(),
    __param(0, inversify_1.inject(exports.RendererHost)), __param(0, inversify_1.optional()),
    __metadata("design:paramtypes", [Object])
], ReactRenderer);
exports.ReactRenderer = ReactRenderer;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/widgets/react-widget.js":
/*!*******************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/widgets/react-widget.js ***!
  \*******************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ReactWidget = void 0;
const ReactDOM = __webpack_require__(/*! react-dom */ "../node_modules/react-dom/index.js");
const React = __webpack_require__(/*! react */ "../node_modules/react/index.js");
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const common_1 = __webpack_require__(/*! ../../common */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/index.js");
const widget_1 = __webpack_require__(/*! ./widget */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/widgets/widget.js");
const widgets_1 = __webpack_require__(/*! @phosphor/widgets */ "../node_modules/@phosphor/widgets/lib/index.js");
let ReactWidget = class ReactWidget extends widget_1.BaseWidget {
    constructor(options) {
        super(options);
        this.onRender = new common_1.DisposableCollection();
        this.scrollOptions = {
            suppressScrollX: true,
            minScrollbarLength: 35,
        };
        this.toDispose.push(common_1.Disposable.create(() => {
            ReactDOM.unmountComponentAtNode(this.node);
        }));
    }
    onUpdateRequest(msg) {
        super.onUpdateRequest(msg);
        ReactDOM.render(React.createElement(React.Fragment, null, this.render()), this.node, () => this.onRender.dispose());
    }
};
ReactWidget = __decorate([
    inversify_1.injectable(),
    __param(0, inversify_1.unmanaged()),
    __metadata("design:paramtypes", [Object])
], ReactWidget);
exports.ReactWidget = ReactWidget;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/widgets/widget.js":
/*!*************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/widgets/widget.js ***!
  \*************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.waitForHidden = exports.waitForRevealed = exports.waitForClosed = exports.addClipboardListener = exports.addKeyListener = exports.addEventListener = exports.EventListenerObject = exports.createIconButton = exports.setEnabled = exports.BaseWidget = exports.UnsafeWidgetUtilities = exports.DEFAULT_SCROLL_OPTIONS = exports.FOCUS_CLASS = exports.SELECTED_CLASS = exports.CODICON_LOADING_CLASSES = exports.BUSY_CLASS = exports.COLLAPSED_CLASS = exports.CODICON_TREE_ITEM_CLASSES = exports.EXPANSION_TOGGLE_CLASS = exports.DISABLED_CLASS = exports.codicon = exports.codiconArray = exports.ACTION_ITEM = void 0;
/* eslint-disable @typescript-eslint/no-explicit-any */
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const widgets_1 = __webpack_require__(/*! @phosphor/widgets */ "../node_modules/@phosphor/widgets/lib/index.js");
const messaging_1 = __webpack_require__(/*! @phosphor/messaging */ "../node_modules/@phosphor/messaging/lib/index.js");
const common_1 = __webpack_require__(/*! ../../common */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/index.js");
const keys_1 = __webpack_require__(/*! ../keyboard/keys */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/keyboard/keys.js");
const perfect_scrollbar_1 = __webpack_require__(/*! perfect-scrollbar */ "../node_modules/perfect-scrollbar/dist/perfect-scrollbar.esm.js");
inversify_1.decorate(inversify_1.injectable(), widgets_1.Widget);
inversify_1.decorate(inversify_1.unmanaged(), widgets_1.Widget, 0);
__exportStar(__webpack_require__(/*! @phosphor/widgets */ "../node_modules/@phosphor/widgets/lib/index.js"), exports);
__exportStar(__webpack_require__(/*! @phosphor/messaging */ "../node_modules/@phosphor/messaging/lib/index.js"), exports);
exports.ACTION_ITEM = 'action-item';
function codiconArray(name, actionItem = false) {
    const array = ['codicon', `codicon-${name}`];
    if (actionItem) {
        array.push(exports.ACTION_ITEM);
    }
    return array;
}
exports.codiconArray = codiconArray;
function codicon(name, actionItem = false) {
    return `codicon codicon-${name}${actionItem ? ` ${exports.ACTION_ITEM}` : ''}`;
}
exports.codicon = codicon;
exports.DISABLED_CLASS = 'theia-mod-disabled';
exports.EXPANSION_TOGGLE_CLASS = 'theia-ExpansionToggle';
exports.CODICON_TREE_ITEM_CLASSES = codiconArray('chevron-down');
exports.COLLAPSED_CLASS = 'theia-mod-collapsed';
exports.BUSY_CLASS = 'theia-mod-busy';
exports.CODICON_LOADING_CLASSES = codiconArray('loading');
exports.SELECTED_CLASS = 'theia-mod-selected';
exports.FOCUS_CLASS = 'theia-mod-focus';
exports.DEFAULT_SCROLL_OPTIONS = {
    suppressScrollX: true,
    minScrollbarLength: 35,
};
/**
 * At a number of places in the code, we have effectively reimplemented Phosphor's Widget.attach and Widget.detach,
 * but omitted the checks that Phosphor expects to be performed for those operations. That is a bad idea, because it
 * means that we are telling widgets that they are attached or detached when not all the conditions that should apply
 * do apply. We should explicitly mark those locations so that we know where we should go fix them later.
 */
var UnsafeWidgetUtilities;
(function (UnsafeWidgetUtilities) {
    /**
     * Ordinarily, the following checks should be performed before detaching a widget:
     * It should not be the child of another widget
     * It should be attached and it should be a child of document.body
     */
    function detach(widget) {
        messaging_1.MessageLoop.sendMessage(widget, widgets_1.Widget.Msg.BeforeDetach);
        widget.node.remove();
        messaging_1.MessageLoop.sendMessage(widget, widgets_1.Widget.Msg.AfterDetach);
    }
    UnsafeWidgetUtilities.detach = detach;
    ;
    /**
     * @param ref The child of the host element to insert the widget before.
     * Ordinarily the following checks should be performed:
     * The widget should have no parent
     * The widget should not be attached, and its node should not be a child of document.body
     * The host should be a child of document.body
     * We often violate the last condition.
     */
    // eslint-disable-next-line no-null/no-null
    function attach(widget, host, ref = null) {
        messaging_1.MessageLoop.sendMessage(widget, widgets_1.Widget.Msg.BeforeAttach);
        host.insertBefore(widget.node, ref);
        messaging_1.MessageLoop.sendMessage(widget, widgets_1.Widget.Msg.AfterAttach);
    }
    UnsafeWidgetUtilities.attach = attach;
    ;
})(UnsafeWidgetUtilities = exports.UnsafeWidgetUtilities || (exports.UnsafeWidgetUtilities = {}));
let BaseWidget = class BaseWidget extends widgets_1.Widget {
    constructor() {
        super(...arguments);
        this.onScrollYReachEndEmitter = new common_1.Emitter();
        this.onScrollYReachEnd = this.onScrollYReachEndEmitter.event;
        this.onScrollUpEmitter = new common_1.Emitter();
        this.onScrollUp = this.onScrollUpEmitter.event;
        this.onDidChangeVisibilityEmitter = new common_1.Emitter();
        this.onDidChangeVisibility = this.onDidChangeVisibilityEmitter.event;
        this.onDidDisposeEmitter = new common_1.Emitter();
        this.onDidDispose = this.onDidDisposeEmitter.event;
        this.toDispose = new common_1.DisposableCollection(this.onDidDisposeEmitter, common_1.Disposable.create(() => this.onDidDisposeEmitter.fire()), this.onScrollYReachEndEmitter, this.onScrollUpEmitter, this.onDidChangeVisibilityEmitter);
        this.toDisposeOnDetach = new common_1.DisposableCollection();
    }
    dispose() {
        if (this.isDisposed) {
            return;
        }
        super.dispose();
        this.toDispose.dispose();
    }
    onCloseRequest(msg) {
        super.onCloseRequest(msg);
        this.dispose();
    }
    onBeforeAttach(msg) {
        if (this.title.iconClass === '') {
            this.title.iconClass = 'no-icon';
        }
        super.onBeforeAttach(msg);
    }
    onAfterDetach(msg) {
        if (this.title.iconClass === 'no-icon') {
            this.title.iconClass = '';
        }
        super.onAfterDetach(msg);
    }
    onBeforeDetach(msg) {
        this.toDisposeOnDetach.dispose();
        super.onBeforeDetach(msg);
    }
    onAfterAttach(msg) {
        super.onAfterAttach(msg);
        if (this.scrollOptions) {
            (async () => {
                const container = await this.getScrollContainer();
                container.style.overflow = 'hidden';
                this.scrollBar = new perfect_scrollbar_1.default(container, this.scrollOptions);
                this.disableScrollBarFocus(container);
                this.toDisposeOnDetach.push(addEventListener(container, 'ps-y-reach-end', () => { this.onScrollYReachEndEmitter.fire(undefined); }));
                this.toDisposeOnDetach.push(addEventListener(container, 'ps-scroll-up', () => { this.onScrollUpEmitter.fire(undefined); }));
                this.toDisposeOnDetach.push(common_1.Disposable.create(() => {
                    if (this.scrollBar) {
                        this.scrollBar.destroy();
                        this.scrollBar = undefined;
                    }
                    container.style.overflow = 'initial';
                }));
            })();
        }
    }
    getScrollContainer() {
        return this.node;
    }
    disableScrollBarFocus(scrollContainer) {
        for (const thumbs of [scrollContainer.getElementsByClassName('ps__thumb-x'), scrollContainer.getElementsByClassName('ps__thumb-y')]) {
            for (let i = 0; i < thumbs.length; i++) {
                const element = thumbs.item(i);
                if (element) {
                    element.removeAttribute('tabIndex');
                }
            }
        }
    }
    onUpdateRequest(msg) {
        super.onUpdateRequest(msg);
        if (this.scrollBar) {
            this.scrollBar.update();
        }
    }
    addUpdateListener(element, type, useCapture) {
        this.addEventListener(element, type, e => {
            this.update();
            e.preventDefault();
        }, useCapture);
    }
    addEventListener(element, type, listener, useCapture) {
        this.toDisposeOnDetach.push(addEventListener(element, type, listener, useCapture));
    }
    addKeyListener(element, keysOrKeyCodes, action, ...additionalEventTypes) {
        this.toDisposeOnDetach.push(addKeyListener(element, keysOrKeyCodes, action, ...additionalEventTypes));
    }
    addClipboardListener(element, type, listener) {
        this.toDisposeOnDetach.push(addClipboardListener(element, type, listener));
    }
    setFlag(flag) {
        super.setFlag(flag);
        if (flag === widgets_1.Widget.Flag.IsVisible) {
            this.onDidChangeVisibilityEmitter.fire(this.isVisible);
        }
    }
    clearFlag(flag) {
        super.clearFlag(flag);
        if (flag === widgets_1.Widget.Flag.IsVisible) {
            this.onDidChangeVisibilityEmitter.fire(this.isVisible);
        }
    }
};
BaseWidget = __decorate([
    inversify_1.injectable()
], BaseWidget);
exports.BaseWidget = BaseWidget;
function setEnabled(element, enabled) {
    element.classList.toggle(exports.DISABLED_CLASS, !enabled);
    element.tabIndex = enabled ? 0 : -1;
}
exports.setEnabled = setEnabled;
function createIconButton(...classNames) {
    const icon = document.createElement('i');
    icon.classList.add(...classNames);
    const button = document.createElement('span');
    button.tabIndex = 0;
    button.appendChild(icon);
    return button;
}
exports.createIconButton = createIconButton;
var EventListenerObject;
(function (EventListenerObject) {
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    function is(listener) {
        return !!listener && 'handleEvent' in listener;
    }
    EventListenerObject.is = is;
})(EventListenerObject = exports.EventListenerObject || (exports.EventListenerObject = {}));
function addEventListener(element, type, listener, useCapture) {
    element.addEventListener(type, listener, useCapture);
    return common_1.Disposable.create(() => element.removeEventListener(type, listener, useCapture));
}
exports.addEventListener = addEventListener;
function addKeyListener(element, keysOrKeyCodes, action, ...additionalEventTypes) {
    const toDispose = new common_1.DisposableCollection();
    const keyCodePredicate = (() => {
        if (typeof keysOrKeyCodes === 'function') {
            return keysOrKeyCodes;
        }
        else {
            return (actual) => keys_1.KeysOrKeyCodes.toKeyCodes(keysOrKeyCodes).some(k => k.equals(actual));
        }
    })();
    toDispose.push(addEventListener(element, 'keydown', e => {
        const kc = keys_1.KeyCode.createKeyCode(e);
        if (keyCodePredicate(kc)) {
            const result = action(e);
            if (typeof result !== 'boolean' || result) {
                e.stopPropagation();
                e.preventDefault();
            }
        }
    }));
    for (const type of additionalEventTypes) {
        toDispose.push(addEventListener(element, type, e => {
            // eslint-disable-next-line @typescript-eslint/no-explicit-any
            const event = type['keydown'];
            const result = action(event);
            if (typeof result !== 'boolean' || result) {
                e.stopPropagation();
                e.preventDefault();
            }
        }));
    }
    return toDispose;
}
exports.addKeyListener = addKeyListener;
function addClipboardListener(element, type, listener) {
    const documentListener = (e) => {
        const activeElement = document.activeElement;
        if (activeElement && element.contains(activeElement)) {
            if (EventListenerObject.is(listener)) {
                listener.handleEvent(e);
            }
            else {
                listener.bind(element)(e);
            }
        }
    };
    document.addEventListener(type, documentListener);
    return common_1.Disposable.create(() => document.removeEventListener(type, documentListener));
}
exports.addClipboardListener = addClipboardListener;
/**
 * Resolves when the given widget is detached and hidden.
 */
function waitForClosed(widget) {
    return waitForVisible(widget, false, false);
}
exports.waitForClosed = waitForClosed;
/**
 * Resolves when the given widget is attached and visible.
 */
function waitForRevealed(widget) {
    return waitForVisible(widget, true, true);
}
exports.waitForRevealed = waitForRevealed;
/**
 * Resolves when the given widget is hidden regardless of attachment.
 */
function waitForHidden(widget) {
    return waitForVisible(widget, true);
}
exports.waitForHidden = waitForHidden;
function waitForVisible(widget, visible, attached) {
    if ((typeof attached !== 'boolean' || widget.isAttached === attached) &&
        (widget.isVisible === visible || (widget.node.style.visibility !== 'hidden') === visible)) {
        return new Promise(resolve => window.requestAnimationFrame(() => resolve()));
    }
    return new Promise(resolve => {
        const waitFor = () => window.requestAnimationFrame(() => {
            if ((typeof attached !== 'boolean' || widget.isAttached === attached) &&
                (widget.isVisible === visible || (widget.node.style.visibility !== 'hidden') === visible)) {
                window.requestAnimationFrame(() => resolve());
            }
            else {
                waitFor();
            }
        });
        waitFor();
    });
}


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/window/window-service.js":
/*!********************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/window/window-service.js ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.DEFAULT_WINDOW_HASH = exports.WindowService = void 0;
/**
 * Service for opening new browser windows.
 */
exports.WindowService = Symbol('WindowService');
/**
 * The window hash value that is used to spawn a new default window.
 */
exports.DEFAULT_WINDOW_HASH = '!empty';


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/application-error.js":
/*!***************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/application-error.js ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ApplicationError = void 0;
var ApplicationError;
(function (ApplicationError) {
    const codes = [];
    function declare(code, factory) {
        if (codes.indexOf(code) !== -1) {
            throw new Error(`An application error for '${code}' code is already declared`);
        }
        const constructorOpt = Object.assign((...args) => new Impl(code, factory(...args), constructorOpt), {
            code,
            is(arg) {
                return arg instanceof Impl && arg.code === code;
            }
        });
        return constructorOpt;
    }
    ApplicationError.declare = declare;
    function is(arg) {
        return arg instanceof Impl;
    }
    ApplicationError.is = is;
    function fromJson(code, raw) {
        return new Impl(code, raw);
    }
    ApplicationError.fromJson = fromJson;
    class Impl extends Error {
        constructor(code, raw, constructorOpt) {
            super(raw.message);
            this.code = code;
            this.data = raw.data;
            Object.setPrototypeOf(this, Impl.prototype);
            if (raw.stack) {
                this.stack = raw.stack;
            }
            else if (Error.captureStackTrace && constructorOpt) {
                Error.captureStackTrace(this, constructorOpt);
            }
        }
        toJson() {
            const { message, data, stack } = this;
            return { message, data, stack };
        }
    }
})(ApplicationError = exports.ApplicationError || (exports.ApplicationError = {}));


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/application-protocol.js":
/*!******************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/application-protocol.js ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 Ericsson and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ApplicationServer = exports.applicationPath = void 0;
exports.applicationPath = '/services/application';
exports.ApplicationServer = Symbol('ApplicationServer');


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/buffer.js":
/*!****************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/buffer.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";
/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ "../node_modules/buffer/index.js")["Buffer"];

/********************************************************************************
 * Copyright (C) 2020 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
// based on https://github.com/microsoft/vscode/blob/04c36be045a94fee58e5f8992d3e3fd980294a84/src/vs/base/common/buffer.ts
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.BinaryBufferWriteableStream = exports.BinaryBufferReadableBufferedStream = exports.BinaryBufferReadableStream = exports.BinaryBufferReadable = exports.BinaryBuffer = void 0;
/* eslint-disable no-null/no-null */
const safer_buffer_1 = __webpack_require__(/*! safer-buffer */ "../node_modules/safer-buffer/safer.js");
const iconv = __webpack_require__(/*! iconv-lite */ "../node_modules/iconv-lite/lib/index.js");
const streams = __webpack_require__(/*! ./stream */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/stream.js");
const hasBuffer = (typeof Buffer !== 'undefined');
const hasTextEncoder = (typeof TextEncoder !== 'undefined');
const hasTextDecoder = (typeof TextDecoder !== 'undefined');
let textEncoder;
let textDecoder;
class BinaryBuffer {
    constructor(buffer) {
        this.buffer = buffer;
        this.byteLength = this.buffer.byteLength;
    }
    static alloc(byteLength) {
        if (hasBuffer) {
            return new BinaryBuffer(Buffer.allocUnsafe(byteLength));
        }
        else {
            return new BinaryBuffer(new Uint8Array(byteLength));
        }
    }
    static wrap(actual) {
        if (hasBuffer && !(Buffer.isBuffer(actual))) {
            // https://nodejs.org/dist/latest-v10.x/docs/api/buffer.html#buffer_class_method_buffer_from_arraybuffer_byteoffset_length
            // Create a zero-copy Buffer wrapper around the ArrayBuffer pointed to by the Uint8Array
            actual = Buffer.from(actual.buffer, actual.byteOffset, actual.byteLength);
        }
        return new BinaryBuffer(actual);
    }
    static fromString(source) {
        if (hasBuffer) {
            return new BinaryBuffer(Buffer.from(source));
        }
        else if (hasTextEncoder) {
            if (!textEncoder) {
                textEncoder = new TextEncoder();
            }
            return new BinaryBuffer(textEncoder.encode(source));
        }
        else {
            return new BinaryBuffer(iconv.encode(source, 'utf8'));
        }
    }
    static concat(buffers, totalLength) {
        if (typeof totalLength === 'undefined') {
            totalLength = 0;
            for (let i = 0, len = buffers.length; i < len; i++) {
                totalLength += buffers[i].byteLength;
            }
        }
        const ret = BinaryBuffer.alloc(totalLength);
        let offset = 0;
        for (let i = 0, len = buffers.length; i < len; i++) {
            const element = buffers[i];
            ret.set(element, offset);
            offset += element.byteLength;
        }
        return ret;
    }
    toString() {
        if (hasBuffer) {
            return this.buffer.toString();
        }
        else if (hasTextDecoder) {
            if (!textDecoder) {
                textDecoder = new TextDecoder();
            }
            return textDecoder.decode(this.buffer);
        }
        else {
            return iconv.decode(safer_buffer_1.Buffer.from(this.buffer), 'utf8');
        }
    }
    slice(start, end) {
        // IMPORTANT: use subarray instead of slice because TypedArray#slice
        // creates shallow copy and NodeBuffer#slice doesn't. The use of subarray
        // ensures the same, performant, behaviour.
        return new BinaryBuffer(this.buffer.subarray(start, end));
    }
    set(array, offset) {
        if (array instanceof BinaryBuffer) {
            this.buffer.set(array.buffer, offset);
        }
        else {
            this.buffer.set(array, offset);
        }
    }
    readUInt32BE(offset) {
        return (this.buffer[offset] * 2 ** 24
            + this.buffer[offset + 1] * 2 ** 16
            + this.buffer[offset + 2] * 2 ** 8
            + this.buffer[offset + 3]);
    }
    writeUInt32BE(value, offset) {
        this.buffer[offset + 3] = value;
        value = value >>> 8;
        this.buffer[offset + 2] = value;
        value = value >>> 8;
        this.buffer[offset + 1] = value;
        value = value >>> 8;
        this.buffer[offset] = value;
    }
    readUInt32LE(offset) {
        return (((this.buffer[offset + 0] << 0) >>> 0) |
            ((this.buffer[offset + 1] << 8) >>> 0) |
            ((this.buffer[offset + 2] << 16) >>> 0) |
            ((this.buffer[offset + 3] << 24) >>> 0));
    }
    writeUInt32LE(value, offset) {
        this.buffer[offset + 0] = (value & 0b11111111);
        value = value >>> 8;
        this.buffer[offset + 1] = (value & 0b11111111);
        value = value >>> 8;
        this.buffer[offset + 2] = (value & 0b11111111);
        value = value >>> 8;
        this.buffer[offset + 3] = (value & 0b11111111);
    }
    readUInt8(offset) {
        return this.buffer[offset];
    }
    writeUInt8(value, offset) {
        this.buffer[offset] = value;
    }
}
exports.BinaryBuffer = BinaryBuffer;
var BinaryBufferReadable;
(function (BinaryBufferReadable) {
    function toBuffer(readable) {
        return streams.consumeReadable(readable, chunks => BinaryBuffer.concat(chunks));
    }
    BinaryBufferReadable.toBuffer = toBuffer;
    function fromBuffer(buffer) {
        return streams.toReadable(buffer);
    }
    BinaryBufferReadable.fromBuffer = fromBuffer;
    function fromReadable(readable) {
        return {
            read() {
                const value = readable.read();
                if (typeof value === 'string') {
                    return BinaryBuffer.fromString(value);
                }
                return null;
            }
        };
    }
    BinaryBufferReadable.fromReadable = fromReadable;
})(BinaryBufferReadable = exports.BinaryBufferReadable || (exports.BinaryBufferReadable = {}));
var BinaryBufferReadableStream;
(function (BinaryBufferReadableStream) {
    function toBuffer(stream) {
        return streams.consumeStream(stream, chunks => BinaryBuffer.concat(chunks));
    }
    BinaryBufferReadableStream.toBuffer = toBuffer;
    function fromBuffer(buffer) {
        return streams.toStream(buffer, chunks => BinaryBuffer.concat(chunks));
    }
    BinaryBufferReadableStream.fromBuffer = fromBuffer;
})(BinaryBufferReadableStream = exports.BinaryBufferReadableStream || (exports.BinaryBufferReadableStream = {}));
var BinaryBufferReadableBufferedStream;
(function (BinaryBufferReadableBufferedStream) {
    async function toBuffer(bufferedStream) {
        if (bufferedStream.ended) {
            return BinaryBuffer.concat(bufferedStream.buffer);
        }
        return BinaryBuffer.concat([
            // Include already read chunks...
            ...bufferedStream.buffer,
            // ...and all additional chunks
            await BinaryBufferReadableStream.toBuffer(bufferedStream.stream)
        ]);
    }
    BinaryBufferReadableBufferedStream.toBuffer = toBuffer;
})(BinaryBufferReadableBufferedStream = exports.BinaryBufferReadableBufferedStream || (exports.BinaryBufferReadableBufferedStream = {}));
var BinaryBufferWriteableStream;
(function (BinaryBufferWriteableStream) {
    function create(options) {
        return streams.newWriteableStream(chunks => BinaryBuffer.concat(chunks), options);
    }
    BinaryBufferWriteableStream.create = create;
})(BinaryBufferWriteableStream = exports.BinaryBufferWriteableStream || (exports.BinaryBufferWriteableStream = {}));


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/cancellation.js":
/*!**********************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/cancellation.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation and others. All rights reserved.
 *  Licensed under the MIT License. See https://github.com/Microsoft/vscode/blob/master/LICENSE.txt for license information.
 *--------------------------------------------------------------------------------------------*/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.checkCancelled = exports.isCancelled = exports.cancelled = exports.CancellationTokenSource = exports.CancellationError = exports.CancellationToken = void 0;
const event_1 = __webpack_require__(/*! ./event */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/event.js");
// eslint-disable-next-line @typescript-eslint/no-explicit-any
const shortcutEvent = Object.freeze(Object.assign(function (callback, context) {
    const handle = setTimeout(callback.bind(context), 0);
    return { dispose() { clearTimeout(handle); } };
}, { maxListeners: 0 }));
var CancellationToken;
(function (CancellationToken) {
    CancellationToken.None = Object.freeze({
        isCancellationRequested: false,
        onCancellationRequested: event_1.Event.None
    });
    CancellationToken.Cancelled = Object.freeze({
        isCancellationRequested: true,
        onCancellationRequested: shortcutEvent
    });
})(CancellationToken = exports.CancellationToken || (exports.CancellationToken = {}));
class CancellationError extends Error {
    constructor() {
        super('Canceled');
        this.name = this.message;
    }
}
exports.CancellationError = CancellationError;
class MutableToken {
    constructor() {
        this._isCancelled = false;
    }
    cancel() {
        if (!this._isCancelled) {
            this._isCancelled = true;
            if (this._emitter) {
                this._emitter.fire(undefined);
                this._emitter = undefined;
            }
        }
    }
    get isCancellationRequested() {
        return this._isCancelled;
    }
    get onCancellationRequested() {
        if (this._isCancelled) {
            return shortcutEvent;
        }
        if (!this._emitter) {
            this._emitter = new event_1.Emitter();
        }
        return this._emitter.event;
    }
}
class CancellationTokenSource {
    get token() {
        if (!this._token) {
            // be lazy and create the token only when
            // actually needed
            this._token = new MutableToken();
        }
        return this._token;
    }
    cancel() {
        if (!this._token) {
            // save an object by returning the default
            // cancelled token when cancellation happens
            // before someone asks for the token
            this._token = CancellationToken.Cancelled;
        }
        else if (this._token !== CancellationToken.Cancelled) {
            this._token.cancel();
        }
    }
    dispose() {
        this.cancel();
    }
}
exports.CancellationTokenSource = CancellationTokenSource;
const cancelledMessage = 'Cancelled';
function cancelled() {
    return new Error(cancelledMessage);
}
exports.cancelled = cancelled;
function isCancelled(err) {
    return !!err && err.message === cancelledMessage;
}
exports.isCancelled = isCancelled;
function checkCancelled(token) {
    if (!!token && token.isCancellationRequested) {
        throw cancelled();
    }
}
exports.checkCancelled = checkCancelled;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/command.js":
/*!*****************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/command.js ***!
  \*****************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.CommandRegistry = exports.CommandService = exports.commandServicePath = exports.CommandContribution = exports.Command = void 0;
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const event_1 = __webpack_require__(/*! ./event */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/event.js");
const disposable_1 = __webpack_require__(/*! ./disposable */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/disposable.js");
const contribution_provider_1 = __webpack_require__(/*! ./contribution-provider */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/contribution-provider.js");
// eslint-disable-next-line @theia/runtime-import-check
const nls_1 = __webpack_require__(/*! ../browser/nls */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/nls.js");
var Command;
(function (Command) {
    /* Determine whether object is a Command */
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    function is(arg) {
        return !!arg && arg === Object(arg) && 'id' in arg;
    }
    Command.is = is;
    /** Utility function to easily translate commands */
    function toLocalizedCommand(command, nlsLabelKey = command.id, nlsCategoryKey) {
        return Object.assign(Object.assign({}, command), { label: command.label && nls_1.nls.localize(nlsLabelKey, command.label), originalLabel: command.label, category: nlsCategoryKey && command.category && nls_1.nls.localize(nlsCategoryKey, command.category) || command.category, originalCategory: command.category });
    }
    Command.toLocalizedCommand = toLocalizedCommand;
    /** Comparator function for when sorting commands */
    function compareCommands(a, b) {
        if (a.label && b.label) {
            const aCommand = (a.category ? `${a.category}: ${a.label}` : a.label).toLowerCase();
            const bCommand = (b.category ? `${b.category}: ${b.label}` : b.label).toLowerCase();
            return (aCommand).localeCompare(bCommand);
        }
        else {
            return 0;
        }
    }
    Command.compareCommands = compareCommands;
    /**
     * Determine if two commands are equal.
     *
     * @param a the first command for comparison.
     * @param b the second command for comparison.
     */
    function equals(a, b) {
        return (a.id === b.id &&
            a.label === b.label &&
            a.iconClass === b.iconClass &&
            a.category === b.category);
    }
    Command.equals = equals;
})(Command = exports.Command || (exports.Command = {}));
exports.CommandContribution = Symbol('CommandContribution');
exports.commandServicePath = '/services/commands';
exports.CommandService = Symbol('CommandService');
/**
 * The command registry manages commands and handlers.
 */
let CommandRegistry = class CommandRegistry {
    constructor(contributionProvider) {
        this.contributionProvider = contributionProvider;
        this._commands = {};
        this._handlers = {};
        this.toUnregisterCommands = new Map();
        // List of recently used commands.
        this._recent = [];
        this.onWillExecuteCommandEmitter = new event_1.Emitter();
        this.onWillExecuteCommand = this.onWillExecuteCommandEmitter.event;
        this.onDidExecuteCommandEmitter = new event_1.Emitter();
        this.onDidExecuteCommand = this.onDidExecuteCommandEmitter.event;
    }
    onStart() {
        const contributions = this.contributionProvider.getContributions();
        for (const contrib of contributions) {
            contrib.registerCommands(this);
        }
    }
    /**
     * Register the given command and handler if present.
     *
     * Throw if a command is already registered for the given command identifier.
     */
    registerCommand(command, handler) {
        if (this._commands[command.id]) {
            console.warn(`A command ${command.id} is already registered.`);
            return disposable_1.Disposable.NULL;
        }
        const toDispose = new disposable_1.DisposableCollection(this.doRegisterCommand(command));
        if (handler) {
            toDispose.push(this.registerHandler(command.id, handler));
        }
        this.toUnregisterCommands.set(command.id, toDispose);
        toDispose.push(disposable_1.Disposable.create(() => this.toUnregisterCommands.delete(command.id)));
        return toDispose;
    }
    doRegisterCommand(command) {
        this._commands[command.id] = command;
        return {
            dispose: () => {
                delete this._commands[command.id];
            }
        };
    }
    unregisterCommand(commandOrId) {
        const id = Command.is(commandOrId) ? commandOrId.id : commandOrId;
        const toUnregister = this.toUnregisterCommands.get(id);
        if (toUnregister) {
            toUnregister.dispose();
        }
    }
    /**
     * Register the given handler for the given command identifier.
     *
     * If there is already a handler for the given command
     * then the given handler is registered as more specific, and
     * has higher priority during enablement, visibility and toggle state evaluations.
     */
    registerHandler(commandId, handler) {
        let handlers = this._handlers[commandId];
        if (!handlers) {
            this._handlers[commandId] = handlers = [];
        }
        handlers.unshift(handler);
        return {
            dispose: () => {
                const idx = handlers.indexOf(handler);
                if (idx >= 0) {
                    handlers.splice(idx, 1);
                }
            }
        };
    }
    /**
     * Test whether there is an active handler for the given command.
     */
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    isEnabled(command, ...args) {
        return typeof this.getActiveHandler(command, ...args) !== 'undefined';
    }
    /**
     * Test whether there is a visible handler for the given command.
     */
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    isVisible(command, ...args) {
        return typeof this.getVisibleHandler(command, ...args) !== 'undefined';
    }
    /**
     * Test whether there is a toggled handler for the given command.
     */
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    isToggled(command, ...args) {
        return typeof this.getToggledHandler(command, ...args) !== 'undefined';
    }
    /**
     * Execute the active handler for the given command and arguments.
     *
     * Reject if a command cannot be executed.
     */
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    async executeCommand(commandId, ...args) {
        const handler = this.getActiveHandler(commandId, ...args);
        if (handler) {
            await this.fireWillExecuteCommand(commandId, args);
            const result = await handler.execute(...args);
            this.onDidExecuteCommandEmitter.fire({ commandId, args });
            return result;
        }
        throw Object.assign(new Error(`The command '${commandId}' cannot be executed. There are no active handlers available for the command.`), { code: 'NO_ACTIVE_HANDLER' });
    }
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    async fireWillExecuteCommand(commandId, args = []) {
        await event_1.WaitUntilEvent.fire(this.onWillExecuteCommandEmitter, { commandId, args }, 30000);
    }
    /**
     * Get a visible handler for the given command or `undefined`.
     */
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    getVisibleHandler(commandId, ...args) {
        const handlers = this._handlers[commandId];
        if (handlers) {
            for (const handler of handlers) {
                try {
                    if (!handler.isVisible || handler.isVisible(...args)) {
                        return handler;
                    }
                }
                catch (error) {
                    console.error(error);
                }
            }
        }
        return undefined;
    }
    /**
     * Get an active handler for the given command or `undefined`.
     */
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    getActiveHandler(commandId, ...args) {
        const handlers = this._handlers[commandId];
        if (handlers) {
            for (const handler of handlers) {
                try {
                    if (!handler.isEnabled || handler.isEnabled(...args)) {
                        return handler;
                    }
                }
                catch (error) {
                    console.error(error);
                }
            }
        }
        return undefined;
    }
    /**
     * Get a toggled handler for the given command or `undefined`.
     */
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    getToggledHandler(commandId, ...args) {
        const handlers = this._handlers[commandId];
        if (handlers) {
            for (const handler of handlers) {
                try {
                    if (handler.isToggled && handler.isToggled(...args)) {
                        return handler;
                    }
                }
                catch (error) {
                    console.error(error);
                }
            }
        }
        return undefined;
    }
    /**
     * Returns with all handlers for the given command. If the command does not have any handlers,
     * or the command is not registered, returns an empty array.
     */
    getAllHandlers(commandId) {
        const handlers = this._handlers[commandId];
        return handlers ? handlers.slice() : [];
    }
    /**
     * Get all registered commands.
     */
    get commands() {
        const commands = [];
        for (const id of this.commandIds) {
            const cmd = this.getCommand(id);
            if (cmd) {
                commands.push(cmd);
            }
        }
        return commands;
    }
    /**
     * Get a command for the given command identifier.
     */
    getCommand(id) {
        return this._commands[id];
    }
    /**
     * Get all registered commands identifiers.
     */
    get commandIds() {
        return Object.keys(this._commands);
    }
    /**
     * Get the list of recently used commands.
     */
    get recent() {
        return this._recent;
    }
    /**
     * Set the list of recently used commands.
     * @param commands the list of recently used commands.
     */
    set recent(commands) {
        this._recent = commands;
    }
    /**
     * Adds a command to recently used list.
     * Prioritizes commands that were recently executed to be most recent.
     *
     * @param recent a recent command, or array of recent commands.
     */
    addRecentCommand(recent) {
        if (Array.isArray(recent)) {
            recent.forEach((command) => this.addRecentCommand(command));
        }
        else {
            // Determine if the command currently exists in the recently used list.
            const index = this._recent.findIndex((command) => Command.equals(recent, command));
            // If the command exists, remove it from the array so it can later be placed at the top.
            if (index >= 0) {
                this._recent.splice(index, 1);
            }
            // Add the recent command to the beginning of the array (most recent).
            this._recent.unshift(recent);
        }
    }
    /**
     * Clear the list of recently used commands.
     */
    clearCommandHistory() {
        this.recent = [];
    }
};
CommandRegistry = __decorate([
    inversify_1.injectable(),
    __param(0, inversify_1.inject(contribution_provider_1.ContributionProvider)), __param(0, inversify_1.named(exports.CommandContribution)),
    __metadata("design:paramtypes", [Object])
], CommandRegistry);
exports.CommandRegistry = CommandRegistry;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/contribution-filter/contribution-filter-registry.js":
/*!**********************************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/contribution-filter/contribution-filter-registry.js ***!
  \**********************************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2021 STMicroelectronics and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ContributionFilterRegistryImpl = void 0;
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const contribution_filter_1 = __webpack_require__(/*! ./contribution-filter */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/contribution-filter/contribution-filter.js");
/**
 * Registry of contribution filters.
 *
 * Implement/bind to the `FilterContribution` interface/symbol to register your contribution filters.
 */
let ContributionFilterRegistryImpl = class ContributionFilterRegistryImpl {
    constructor(contributions = []) {
        this.initialized = false;
        this.genericFilters = [];
        this.typeToFilters = new Map();
        for (const contribution of contributions) {
            contribution.registerContributionFilters(this);
        }
        this.initialized = true;
    }
    addFilters(types, filters) {
        if (this.initialized) {
            throw new Error('cannot add filters after initialization is done.');
        }
        else if (types === '*') {
            this.genericFilters.push(...filters);
        }
        else {
            for (const type of types) {
                this.getOrCreate(type).push(...filters);
            }
        }
    }
    applyFilters(toFilter, type) {
        const filters = this.getFilters(type);
        if (filters.length === 0) {
            return toFilter;
        }
        return toFilter.filter(object => filters.every(filter => filter(object)));
    }
    getOrCreate(type) {
        let value = this.typeToFilters.get(type);
        if (value === undefined) {
            this.typeToFilters.set(type, value = []);
        }
        return value;
    }
    getFilters(type) {
        return [
            ...this.typeToFilters.get(type) || [],
            ...this.genericFilters
        ];
    }
};
ContributionFilterRegistryImpl = __decorate([
    inversify_1.injectable(),
    __param(0, inversify_1.multiInject(contribution_filter_1.FilterContribution)), __param(0, inversify_1.optional()),
    __metadata("design:paramtypes", [Array])
], ContributionFilterRegistryImpl);
exports.ContributionFilterRegistryImpl = ContributionFilterRegistryImpl;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/contribution-filter/contribution-filter.js":
/*!*************************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/contribution-filter/contribution-filter.js ***!
  \*************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2021 STMicroelectronics and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.FilterContribution = exports.ContributionFilterRegistry = void 0;
exports.ContributionFilterRegistry = Symbol('ContributionFilterRegistry');
exports.FilterContribution = Symbol('FilterContribution');


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/contribution-filter/filter.js":
/*!************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/contribution-filter/filter.js ***!
  \************************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2021 STMicroelectronics and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Filter = void 0;
exports.Filter = Symbol('Filter');


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/contribution-filter/index.js":
/*!***********************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/contribution-filter/index.js ***!
  \***********************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2021 STMicroelectronics and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
__exportStar(__webpack_require__(/*! ./contribution-filter */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/contribution-filter/contribution-filter.js"), exports);
__exportStar(__webpack_require__(/*! ./contribution-filter-registry */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/contribution-filter/contribution-filter-registry.js"), exports);
__exportStar(__webpack_require__(/*! ./filter */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/contribution-filter/filter.js"), exports);


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/contribution-provider.js":
/*!*******************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/contribution-provider.js ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.bindContribution = exports.bindContributionProvider = exports.Bindable = exports.ContributionProvider = void 0;
const contribution_filter_1 = __webpack_require__(/*! ./contribution-filter */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/contribution-filter/index.js");
exports.ContributionProvider = Symbol('ContributionProvider');
class ContainerBasedContributionProvider {
    constructor(serviceIdentifier, container) {
        this.serviceIdentifier = serviceIdentifier;
        this.container = container;
    }
    getContributions(recursive) {
        if (this.services === undefined) {
            const currentServices = [];
            let filterRegistry;
            let currentContainer = this.container;
            // eslint-disable-next-line no-null/no-null
            while (currentContainer !== null) {
                if (currentContainer.isBound(this.serviceIdentifier)) {
                    try {
                        currentServices.push(...currentContainer.getAll(this.serviceIdentifier));
                    }
                    catch (error) {
                        console.error(error);
                    }
                }
                if (filterRegistry === undefined && currentContainer.isBound(contribution_filter_1.ContributionFilterRegistry)) {
                    filterRegistry = currentContainer.get(contribution_filter_1.ContributionFilterRegistry);
                }
                // eslint-disable-next-line no-null/no-null
                currentContainer = recursive === true ? currentContainer.parent : null;
            }
            this.services = filterRegistry ? filterRegistry.applyFilters(currentServices, this.serviceIdentifier) : currentServices;
        }
        return this.services;
    }
}
var Bindable;
(function (Bindable) {
    function isContainer(arg) {
        return typeof arg !== 'function'
            // https://github.com/eclipse-theia/theia/issues/3204#issue-371029654
            // In InversifyJS `4.14.0` containers no longer have a property `guid`.
            && ('guid' in arg || 'parent' in arg);
    }
    Bindable.isContainer = isContainer;
})(Bindable = exports.Bindable || (exports.Bindable = {}));
function bindContributionProvider(bindable, id) {
    const bindingToSyntax = (Bindable.isContainer(bindable) ? bindable.bind(exports.ContributionProvider) : bindable(exports.ContributionProvider));
    bindingToSyntax
        .toDynamicValue(ctx => new ContainerBasedContributionProvider(id, ctx.container))
        .inSingletonScope().whenTargetNamed(id);
}
exports.bindContributionProvider = bindContributionProvider;
/**
 * Helper function to bind a service to a list of contributions easily.
 * @param bindable a Container or the bind function directly.
 * @param service an already bound service to refer the contributions to.
 * @param contributions array of contribution identifiers to bind the service to.
 */
// eslint-disable-next-line @typescript-eslint/no-explicit-any
function bindContribution(bindable, service, contributions) {
    const bind = Bindable.isContainer(bindable) ? bindable.bind.bind(bindable) : bindable;
    for (const contribution of contributions) {
        bind(contribution).toService(service);
    }
}
exports.bindContribution = bindContribution;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/disposable.js":
/*!********************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/disposable.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.DisposableCollection = exports.Disposable = void 0;
/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
const event_1 = __webpack_require__(/*! ./event */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/event.js");
var Disposable;
(function (Disposable) {
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    function is(arg) {
        return !!arg && typeof arg === 'object' && 'dispose' in arg && typeof arg['dispose'] === 'function';
    }
    Disposable.is = is;
    function create(func) {
        return {
            dispose: func
        };
    }
    Disposable.create = create;
    Disposable.NULL = create(() => { });
})(Disposable = exports.Disposable || (exports.Disposable = {}));
class DisposableCollection {
    constructor(...toDispose) {
        this.disposables = [];
        this.onDisposeEmitter = new event_1.Emitter();
        this.disposingElements = false;
        toDispose.forEach(d => this.push(d));
    }
    /**
     * This event is fired only once
     * on first dispose of not empty collection.
     */
    get onDispose() {
        return this.onDisposeEmitter.event;
    }
    checkDisposed() {
        if (this.disposed && !this.disposingElements) {
            this.onDisposeEmitter.fire(undefined);
            this.onDisposeEmitter.dispose();
        }
    }
    get disposed() {
        return this.disposables.length === 0;
    }
    dispose() {
        if (this.disposed || this.disposingElements) {
            return;
        }
        this.disposingElements = true;
        while (!this.disposed) {
            try {
                this.disposables.pop().dispose();
            }
            catch (e) {
                console.error(e);
            }
        }
        this.disposingElements = false;
        this.checkDisposed();
    }
    push(disposable) {
        const disposables = this.disposables;
        disposables.push(disposable);
        const originalDispose = disposable.dispose.bind(disposable);
        const toRemove = Disposable.create(() => {
            const index = disposables.indexOf(disposable);
            if (index !== -1) {
                disposables.splice(index, 1);
            }
            this.checkDisposed();
        });
        disposable.dispose = () => {
            toRemove.dispose();
            disposable.dispose = originalDispose;
            originalDispose();
        };
        return toRemove;
    }
    pushAll(disposables) {
        return disposables.map(disposable => this.push(disposable));
    }
}
exports.DisposableCollection = DisposableCollection;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/encoding-service.js":
/*!**************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/encoding-service.js ***!
  \**************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2020 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
// based on https://github.com/microsoft/vscode/blob/04c36be045a94fee58e5f8992d3e3fd980294a84/src/vs/workbench/services/textfile/common/encoding.ts
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.EncodingService = void 0;
/* eslint-disable no-null/no-null */
const iconv = __webpack_require__(/*! iconv-lite */ "../node_modules/iconv-lite/lib/index.js");
const safer_buffer_1 = __webpack_require__(/*! safer-buffer */ "../node_modules/safer-buffer/safer.js");
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const buffer_1 = __webpack_require__(/*! ./buffer */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/buffer.js");
const encodings_1 = __webpack_require__(/*! ./encodings */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/encodings.js");
const stream_1 = __webpack_require__(/*! ./stream */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/stream.js");
const ZERO_BYTE_DETECTION_BUFFER_MAX_LEN = 512; // number of bytes to look at to decide about a file being binary or not
const NO_ENCODING_GUESS_MIN_BYTES = 512; // when not auto guessing the encoding, small number of bytes are enough
const AUTO_ENCODING_GUESS_MIN_BYTES = 512 * 8; // with auto guessing we want a lot more content to be read for guessing
const AUTO_ENCODING_GUESS_MAX_BYTES = 512 * 128; // set an upper limit for the number of bytes we pass on to jschardet
// we explicitly ignore a specific set of encodings from auto guessing
// - ASCII: we never want this encoding (most UTF-8 files would happily detect as
//          ASCII files and then you could not type non-ASCII characters anymore)
// - UTF-16: we have our own detection logic for UTF-16
// - UTF-32: we do not support this encoding in VSCode
const IGNORE_ENCODINGS = ['ascii', 'utf-16', 'utf-32'];
let EncodingService = class EncodingService {
    encode(value, options) {
        let encoding = options === null || options === void 0 ? void 0 : options.encoding;
        const addBOM = options === null || options === void 0 ? void 0 : options.hasBOM;
        encoding = this.toIconvEncoding(encoding);
        if (encoding === encodings_1.UTF8 && !addBOM) {
            return buffer_1.BinaryBuffer.fromString(value);
        }
        const buffer = iconv.encode(value, encoding, { addBOM });
        return buffer_1.BinaryBuffer.wrap(buffer);
    }
    decode(value, encoding) {
        const buffer = safer_buffer_1.Buffer.from(value.buffer);
        encoding = this.toIconvEncoding(encoding);
        return iconv.decode(buffer, encoding);
    }
    exists(encoding) {
        encoding = this.toIconvEncoding(encoding);
        return iconv.encodingExists(encoding);
    }
    toIconvEncoding(encoding) {
        if (encoding === encodings_1.UTF8_with_bom || !encoding) {
            return encodings_1.UTF8; // iconv does not distinguish UTF 8 with or without BOM, so we need to help it
        }
        return encoding;
    }
    async toResourceEncoding(encoding, options) {
        // Some encodings come with a BOM automatically
        if (encoding === encodings_1.UTF16be || encoding === encodings_1.UTF16le || encoding === encodings_1.UTF8_with_bom) {
            return { encoding, hasBOM: true };
        }
        // Ensure that we preserve an existing BOM if found for UTF8
        // unless we are instructed to overwrite the encoding
        const overwriteEncoding = options === null || options === void 0 ? void 0 : options.overwriteEncoding;
        if (!overwriteEncoding && encoding === encodings_1.UTF8) {
            try {
                // stream here to avoid fetching the whole content on write
                const buffer = await options.read(encodings_1.UTF8_BOM.length);
                if (this.detectEncodingByBOMFromBuffer(safer_buffer_1.Buffer.from(buffer), buffer.byteLength) === encodings_1.UTF8_with_bom) {
                    return { encoding, hasBOM: true };
                }
            }
            catch (error) {
                // ignore - file might not exist
            }
        }
        return { encoding, hasBOM: false };
    }
    async detectEncoding(data, autoGuessEncoding) {
        const buffer = safer_buffer_1.Buffer.from(data.buffer);
        const bytesRead = data.byteLength;
        // Always first check for BOM to find out about encoding
        let encoding = this.detectEncodingByBOMFromBuffer(buffer, bytesRead);
        // Detect 0 bytes to see if file is binary or UTF-16 LE/BE
        // unless we already know that this file has a UTF-16 encoding
        let seemsBinary = false;
        if (encoding !== encodings_1.UTF16be && encoding !== encodings_1.UTF16le && buffer) {
            let couldBeUTF16LE = true; // e.g. 0xAA 0x00
            let couldBeUTF16BE = true; // e.g. 0x00 0xAA
            let containsZeroByte = false;
            // This is a simplified guess to detect UTF-16 BE or LE by just checking if
            // the first 512 bytes have the 0-byte at a specific location. For UTF-16 LE
            // this would be the odd byte index and for UTF-16 BE the even one.
            // Note: this can produce false positives (a binary file that uses a 2-byte
            // encoding of the same format as UTF-16) and false negatives (a UTF-16 file
            // that is using 4 bytes to encode a character).
            for (let i = 0; i < bytesRead && i < ZERO_BYTE_DETECTION_BUFFER_MAX_LEN; i++) {
                const isEndian = (i % 2 === 1); // assume 2-byte sequences typical for UTF-16
                const isZeroByte = (buffer.readUInt8(i) === 0);
                if (isZeroByte) {
                    containsZeroByte = true;
                }
                // UTF-16 LE: expect e.g. 0xAA 0x00
                if (couldBeUTF16LE && (isEndian && !isZeroByte || !isEndian && isZeroByte)) {
                    couldBeUTF16LE = false;
                }
                // UTF-16 BE: expect e.g. 0x00 0xAA
                if (couldBeUTF16BE && (isEndian && isZeroByte || !isEndian && !isZeroByte)) {
                    couldBeUTF16BE = false;
                }
                // Return if this is neither UTF16-LE nor UTF16-BE and thus treat as binary
                if (isZeroByte && !couldBeUTF16LE && !couldBeUTF16BE) {
                    break;
                }
            }
            // Handle case of 0-byte included
            if (containsZeroByte) {
                if (couldBeUTF16LE) {
                    encoding = encodings_1.UTF16le;
                }
                else if (couldBeUTF16BE) {
                    encoding = encodings_1.UTF16be;
                }
                else {
                    seemsBinary = true;
                }
            }
        }
        // Auto guess encoding if configured
        if (autoGuessEncoding && !seemsBinary && !encoding && buffer) {
            const guessedEncoding = await this.guessEncodingByBuffer(buffer.slice(0, bytesRead));
            return {
                seemsBinary: false,
                encoding: guessedEncoding
            };
        }
        return { seemsBinary, encoding };
    }
    detectEncodingByBOMFromBuffer(buffer, bytesRead) {
        if (!buffer || bytesRead < encodings_1.UTF16be_BOM.length) {
            return undefined;
        }
        const b0 = buffer.readUInt8(0);
        const b1 = buffer.readUInt8(1);
        // UTF-16 BE
        if (b0 === encodings_1.UTF16be_BOM[0] && b1 === encodings_1.UTF16be_BOM[1]) {
            return encodings_1.UTF16be;
        }
        // UTF-16 LE
        if (b0 === encodings_1.UTF16le_BOM[0] && b1 === encodings_1.UTF16le_BOM[1]) {
            return encodings_1.UTF16le;
        }
        if (bytesRead < encodings_1.UTF8_BOM.length) {
            return undefined;
        }
        const b2 = buffer.readUInt8(2);
        // UTF-8
        if (b0 === encodings_1.UTF8_BOM[0] && b1 === encodings_1.UTF8_BOM[1] && b2 === encodings_1.UTF8_BOM[2]) {
            return encodings_1.UTF8_with_bom;
        }
        return undefined;
    }
    async guessEncodingByBuffer(buffer) {
        const jschardet = await Promise.resolve().then(() => __webpack_require__(/*! jschardet */ "../node_modules/jschardet/index.js"));
        const guessed = jschardet.detect(buffer.slice(0, AUTO_ENCODING_GUESS_MAX_BYTES)); // ensure to limit buffer for guessing due to https://github.com/aadsm/jschardet/issues/53
        if (!guessed || !guessed.encoding) {
            return undefined;
        }
        const enc = guessed.encoding.toLowerCase();
        if (0 <= IGNORE_ENCODINGS.indexOf(enc)) {
            return undefined; // see comment above why we ignore some encodings
        }
        return this.toIconvEncoding(guessed.encoding);
    }
    decodeStream(source, options) {
        var _a;
        const minBytesRequiredForDetection = ((_a = options.minBytesRequiredForDetection) !== null && _a !== void 0 ? _a : options.guessEncoding) ? AUTO_ENCODING_GUESS_MIN_BYTES : NO_ENCODING_GUESS_MIN_BYTES;
        return new Promise((resolve, reject) => {
            const target = stream_1.newWriteableStream(strings => strings.join(''));
            const bufferedChunks = [];
            let bytesBuffered = 0;
            let decoder = undefined;
            const createDecoder = async () => {
                try {
                    // detect encoding from buffer
                    const detected = await this.detectEncoding(buffer_1.BinaryBuffer.concat(bufferedChunks), options.guessEncoding);
                    // ensure to respect overwrite of encoding
                    detected.encoding = await options.overwriteEncoding(detected.encoding);
                    // decode and write buffered content
                    decoder = iconv.getDecoder(this.toIconvEncoding(detected.encoding));
                    const decoded = decoder.write(safer_buffer_1.Buffer.from(buffer_1.BinaryBuffer.concat(bufferedChunks).buffer));
                    target.write(decoded);
                    bufferedChunks.length = 0;
                    bytesBuffered = 0;
                    // signal to the outside our detected encoding and final decoder stream
                    resolve({
                        stream: target,
                        detected
                    });
                }
                catch (error) {
                    reject(error);
                }
            };
            // Stream error: forward to target
            source.on('error', error => target.error(error));
            // Stream data
            source.on('data', async (chunk) => {
                // if the decoder is ready, we just write directly
                if (decoder) {
                    target.write(decoder.write(safer_buffer_1.Buffer.from(chunk.buffer)));
                }
                else {
                    bufferedChunks.push(chunk);
                    bytesBuffered += chunk.byteLength;
                    // buffered enough data for encoding detection, create stream
                    if (bytesBuffered >= minBytesRequiredForDetection) {
                        // pause stream here until the decoder is ready
                        source.pause();
                        await createDecoder();
                        // resume stream now that decoder is ready but
                        // outside of this stack to reduce recursion
                        setTimeout(() => source.resume());
                    }
                }
            });
            // Stream end
            source.on('end', async () => {
                // we were still waiting for data to do the encoding
                // detection. thus, wrap up starting the stream even
                // without all the data to get things going
                if (!decoder) {
                    await createDecoder();
                }
                // end the target with the remainders of the decoder
                target.end(decoder === null || decoder === void 0 ? void 0 : decoder.end());
            });
        });
    }
    async encodeStream(value, options) {
        let encoding = options === null || options === void 0 ? void 0 : options.encoding;
        const addBOM = options === null || options === void 0 ? void 0 : options.hasBOM;
        encoding = this.toIconvEncoding(encoding);
        if (encoding === encodings_1.UTF8 && !addBOM) {
            return value === undefined ? undefined : typeof value === 'string' ?
                buffer_1.BinaryBuffer.fromString(value) : buffer_1.BinaryBufferReadable.fromReadable(value);
        }
        value = value || '';
        const readable = typeof value === 'string' ? stream_1.Readable.fromString(value) : value;
        const encoder = iconv.getEncoder(encoding, { addBOM });
        let bytesWritten = false;
        let done = false;
        return {
            read() {
                if (done) {
                    return null;
                }
                const chunk = readable.read();
                if (typeof chunk !== 'string') {
                    done = true;
                    // If we are instructed to add a BOM but we detect that no
                    // bytes have been written, we must ensure to return the BOM
                    // ourselves so that we comply with the contract.
                    if (!bytesWritten && addBOM) {
                        switch (encoding) {
                            case encodings_1.UTF8:
                            case encodings_1.UTF8_with_bom:
                                return buffer_1.BinaryBuffer.wrap(Uint8Array.from(encodings_1.UTF8_BOM));
                            case encodings_1.UTF16be:
                                return buffer_1.BinaryBuffer.wrap(Uint8Array.from(encodings_1.UTF16be_BOM));
                            case encodings_1.UTF16le:
                                return buffer_1.BinaryBuffer.wrap(Uint8Array.from(encodings_1.UTF16le_BOM));
                        }
                    }
                    const leftovers = encoder.end();
                    if (leftovers && leftovers.length > 0) {
                        bytesWritten = true;
                        return buffer_1.BinaryBuffer.wrap(leftovers);
                    }
                    return null;
                }
                bytesWritten = true;
                return buffer_1.BinaryBuffer.wrap(encoder.write(chunk));
            }
        };
    }
};
EncodingService = __decorate([
    inversify_1.injectable()
], EncodingService);
exports.EncodingService = EncodingService;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/encodings.js":
/*!*******************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/encodings.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2020 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.UTF8_BOM = exports.UTF16le_BOM = exports.UTF16be_BOM = exports.UTF16le = exports.UTF16be = exports.UTF8_with_bom = exports.UTF8 = void 0;
exports.UTF8 = 'utf8';
exports.UTF8_with_bom = 'utf8bom';
exports.UTF16be = 'utf16be';
exports.UTF16le = 'utf16le';
exports.UTF16be_BOM = [0xFE, 0xFF];
exports.UTF16le_BOM = [0xFF, 0xFE];
exports.UTF8_BOM = [0xEF, 0xBB, 0xBF];


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/env-variables/env-variables-protocol.js":
/*!**********************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/env-variables/env-variables-protocol.js ***!
  \**********************************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 Red Hat, Inc. and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.EnvVariablesServer = exports.envVariablesPath = void 0;
exports.envVariablesPath = '/services/envs';
exports.EnvVariablesServer = Symbol('EnvVariablesServer');


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/env-variables/index.js":
/*!*****************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/env-variables/index.js ***!
  \*****************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 Red Hat, Inc. and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
__exportStar(__webpack_require__(/*! ./env-variables-protocol */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/env-variables/env-variables-protocol.js"), exports);


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/event.js":
/*!***************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/event.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.AsyncEmitter = exports.WaitUntilEvent = exports.Emitter = exports.Event = void 0;
var Event;
(function (Event) {
    const _disposable = { dispose() { } };
    Event.None = Object.assign(function () { return _disposable; }, {
        get maxListeners() { return 0; },
        set maxListeners(maxListeners) { }
    });
    /**
     * Given an event and a `map` function, returns another event which maps each element
     * through the mapping function.
     */
    function map(event, mapFunc) {
        return Object.assign((listener, thisArgs, disposables) => event(i => listener.call(thisArgs, mapFunc(i)), undefined, disposables), {
            maxListeners: 0,
        });
    }
    Event.map = map;
})(Event = exports.Event || (exports.Event = {}));
class CallbackList {
    get length() {
        return this._callbacks && this._callbacks.length || 0;
    }
    add(callback, context = undefined, bucket) {
        if (!this._callbacks) {
            this._callbacks = [];
            this._contexts = [];
        }
        this._callbacks.push(callback);
        this._contexts.push(context);
        if (Array.isArray(bucket)) {
            bucket.push({ dispose: () => this.remove(callback, context) });
        }
    }
    remove(callback, context = undefined) {
        if (!this._callbacks) {
            return;
        }
        let foundCallbackWithDifferentContext = false;
        for (let i = 0; i < this._callbacks.length; i++) {
            if (this._callbacks[i] === callback) {
                if (this._contexts[i] === context) {
                    // callback & context match => remove it
                    this._callbacks.splice(i, 1);
                    this._contexts.splice(i, 1);
                    return;
                }
                else {
                    foundCallbackWithDifferentContext = true;
                }
            }
        }
        if (foundCallbackWithDifferentContext) {
            throw new Error('When adding a listener with a context, you should remove it with the same context');
        }
    }
    // tslint:disable-next-line:typedef
    [Symbol.iterator]() {
        if (!this._callbacks) {
            return [][Symbol.iterator]();
        }
        const callbacks = this._callbacks.slice(0);
        const contexts = this._contexts.slice(0);
        return callbacks.map((callback, i) => (...args) => callback.apply(contexts[i], args))[Symbol.iterator]();
    }
    invoke(...args) {
        const ret = [];
        for (const callback of this) {
            try {
                ret.push(callback(...args));
            }
            catch (e) {
                console.error(e);
            }
        }
        return ret;
    }
    isEmpty() {
        return !this._callbacks || this._callbacks.length === 0;
    }
    dispose() {
        this._callbacks = undefined;
        this._contexts = undefined;
    }
}
class Emitter {
    constructor(_options) {
        this._options = _options;
        this._disposed = false;
        this._leakWarnCountdown = 0;
    }
    /**
     * For the public to allow to subscribe
     * to events from this Emitter
     */
    get event() {
        if (!this._event) {
            this._event = Object.assign((listener, thisArgs, disposables) => {
                if (!this._callbacks) {
                    this._callbacks = new CallbackList();
                }
                if (this._options && this._options.onFirstListenerAdd && this._callbacks.isEmpty()) {
                    this._options.onFirstListenerAdd(this);
                }
                this._callbacks.add(listener, thisArgs);
                const removeMaxListenersCheck = this.checkMaxListeners(this._event.maxListeners);
                const result = {
                    dispose: () => {
                        if (removeMaxListenersCheck) {
                            removeMaxListenersCheck();
                        }
                        result.dispose = Emitter._noop;
                        if (!this._disposed) {
                            this._callbacks.remove(listener, thisArgs);
                            result.dispose = Emitter._noop;
                            if (this._options && this._options.onLastListenerRemove && this._callbacks.isEmpty()) {
                                this._options.onLastListenerRemove(this);
                            }
                        }
                    }
                };
                if (Array.isArray(disposables)) {
                    disposables.push(result);
                }
                return result;
            }, {
                maxListeners: Emitter.LEAK_WARNING_THRESHHOLD
            });
        }
        return this._event;
    }
    checkMaxListeners(maxListeners) {
        if (maxListeners === 0 || !this._callbacks) {
            return undefined;
        }
        const listenerCount = this._callbacks.length;
        if (listenerCount <= maxListeners) {
            return undefined;
        }
        const popStack = this.pushLeakingStack();
        this._leakWarnCountdown -= 1;
        if (this._leakWarnCountdown <= 0) {
            // only warn on first exceed and then every time the limit
            // is exceeded by 50% again
            this._leakWarnCountdown = maxListeners * 0.5;
            let topStack;
            let topCount = 0;
            this._leakingStacks.forEach((stackCount, stack) => {
                if (!topStack || topCount < stackCount) {
                    topStack = stack;
                    topCount = stackCount;
                }
            });
            // eslint-disable-next-line max-len
            console.warn(`Possible Emitter memory leak detected. ${listenerCount} listeners added. Use event.maxListeners to increase the limit (${maxListeners}). MOST frequent listener (${topCount}):`);
            console.warn(topStack);
        }
        return popStack;
    }
    pushLeakingStack() {
        if (!this._leakingStacks) {
            this._leakingStacks = new Map();
        }
        const stack = new Error().stack.split('\n').slice(3).join('\n');
        const count = (this._leakingStacks.get(stack) || 0);
        this._leakingStacks.set(stack, count + 1);
        return () => this.popLeakingStack(stack);
    }
    popLeakingStack(stack) {
        if (!this._leakingStacks) {
            return;
        }
        const count = (this._leakingStacks.get(stack) || 0);
        this._leakingStacks.set(stack, count - 1);
    }
    /**
     * To be kept private to fire an event to
     * subscribers
     */
    fire(event) {
        if (this._callbacks) {
            this._callbacks.invoke(event);
        }
    }
    /**
     * Process each listener one by one.
     * Return `false` to stop iterating over the listeners, `true` to continue.
     */
    async sequence(processor) {
        if (this._callbacks) {
            for (const listener of this._callbacks) {
                if (!await processor(listener)) {
                    break;
                }
            }
        }
    }
    dispose() {
        if (this._leakingStacks) {
            this._leakingStacks.clear();
            this._leakingStacks = undefined;
        }
        if (this._callbacks) {
            this._callbacks.dispose();
            this._callbacks = undefined;
        }
        this._disposed = true;
    }
}
exports.Emitter = Emitter;
Emitter.LEAK_WARNING_THRESHHOLD = 175;
Emitter._noop = function () { };
var WaitUntilEvent;
(function (WaitUntilEvent) {
    /**
     * Fire all listeners in the same tick.
     *
     * Use `AsyncEmitter.fire` to fire listeners async one after another.
     */
    async function fire(emitter, event, timeout = undefined) {
        const waitables = [];
        const asyncEvent = Object.assign(event, {
            waitUntil: (thenable) => {
                if (Object.isFrozen(waitables)) {
                    throw new Error('waitUntil cannot be called asynchronously.');
                }
                waitables.push(thenable);
            }
        });
        try {
            emitter.fire(asyncEvent);
            // Asynchronous calls to `waitUntil` should fail.
            Object.freeze(waitables);
        }
        finally {
            delete asyncEvent['waitUntil'];
        }
        if (!waitables.length) {
            return;
        }
        if (timeout !== undefined) {
            await Promise.race([Promise.all(waitables), new Promise(resolve => setTimeout(resolve, timeout))]);
        }
        else {
            await Promise.all(waitables);
        }
    }
    WaitUntilEvent.fire = fire;
})(WaitUntilEvent = exports.WaitUntilEvent || (exports.WaitUntilEvent = {}));
const cancellation_1 = __webpack_require__(/*! ./cancellation */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/cancellation.js");
class AsyncEmitter extends Emitter {
    /**
     * Fire listeners async one after another.
     */
    fire(event, token = cancellation_1.CancellationToken.None, promiseJoin) {
        const callbacks = this._callbacks;
        if (!callbacks) {
            return Promise.resolve();
        }
        const listeners = [...callbacks];
        if (this.deliveryQueue) {
            return this.deliveryQueue = this.deliveryQueue.then(() => this.deliver(listeners, event, token, promiseJoin));
        }
        return this.deliveryQueue = this.deliver(listeners, event, token, promiseJoin);
    }
    async deliver(listeners, event, token, promiseJoin) {
        for (const listener of listeners) {
            if (token.isCancellationRequested) {
                return;
            }
            const waitables = [];
            const asyncEvent = Object.assign(event, {
                waitUntil: (thenable) => {
                    if (Object.isFrozen(waitables)) {
                        throw new Error('waitUntil cannot be called asynchronously.');
                    }
                    if (promiseJoin) {
                        thenable = promiseJoin(thenable, listener);
                    }
                    waitables.push(thenable);
                }
            });
            try {
                listener(event);
                // Asynchronous calls to `waitUntil` should fail.
                Object.freeze(waitables);
            }
            catch (e) {
                console.error(e);
            }
            finally {
                delete asyncEvent['waitUntil'];
            }
            if (!waitables.length) {
                return;
            }
            try {
                await Promise.all(waitables);
            }
            catch (e) {
                console.error(e);
            }
        }
    }
}
exports.AsyncEmitter = AsyncEmitter;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/i18n/localization.js":
/*!***************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/i18n/localization.js ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2021 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.AsyncLocalizationProvider = exports.localizationPath = void 0;
exports.localizationPath = '/services/i18n';
exports.AsyncLocalizationProvider = Symbol('AsyncLocalizationProvider');


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/index.js":
/*!***************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/index.js ***!
  \***************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.environment = void 0;
__exportStar(__webpack_require__(/*! ./types */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/types.js"), exports);
__exportStar(__webpack_require__(/*! ./disposable */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/disposable.js"), exports);
__exportStar(__webpack_require__(/*! ./reference */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/reference.js"), exports);
__exportStar(__webpack_require__(/*! ./event */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/event.js"), exports);
__exportStar(__webpack_require__(/*! ./cancellation */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/cancellation.js"), exports);
__exportStar(__webpack_require__(/*! ./command */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/command.js"), exports);
__exportStar(__webpack_require__(/*! ./menu */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/menu.js"), exports);
__exportStar(__webpack_require__(/*! ./selection-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/selection-service.js"), exports);
__exportStar(__webpack_require__(/*! ./objects */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/objects.js"), exports);
__exportStar(__webpack_require__(/*! ./os */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/os.js"), exports);
__exportStar(__webpack_require__(/*! ./resource */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/resource.js"), exports);
__exportStar(__webpack_require__(/*! ./contribution-provider */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/contribution-provider.js"), exports);
__exportStar(__webpack_require__(/*! ./path */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/path.js"), exports);
__exportStar(__webpack_require__(/*! ./logger */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/logger.js"), exports);
__exportStar(__webpack_require__(/*! ./messaging */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/messaging/index.js"), exports);
__exportStar(__webpack_require__(/*! ./message-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/message-service.js"), exports);
__exportStar(__webpack_require__(/*! ./message-service-protocol */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/message-service-protocol.js"), exports);
__exportStar(__webpack_require__(/*! ./progress-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/progress-service.js"), exports);
__exportStar(__webpack_require__(/*! ./progress-service-protocol */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/progress-service-protocol.js"), exports);
__exportStar(__webpack_require__(/*! ./selection */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/selection.js"), exports);
__exportStar(__webpack_require__(/*! ./strings */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/strings.js"), exports);
__exportStar(__webpack_require__(/*! ./application-error */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/application-error.js"), exports);
__exportStar(__webpack_require__(/*! ./lsp-types */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/lsp-types.js"), exports);
__exportStar(__webpack_require__(/*! ./contribution-filter */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/contribution-filter/index.js"), exports);
const environment_1 = __webpack_require__(/*! @theia/application-package/lib/environment */ "../node_modules/@theia/file-search/node_modules/@theia/application-package/lib/environment.js");
Object.defineProperty(exports, "environment", ({ enumerable: true, get: function () { return environment_1.environment; } }));


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/keybinding.js":
/*!********************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/keybinding.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Keybinding = void 0;
var Keybinding;
(function (Keybinding) {
    /**
     * Compares two keybindings for equality.
     * Can optionally ignore the keybinding and/or args property in the comparison.
     * @param a The first Keybinding in the comparison
     * @param b The second Keybinding in the comparison
     * @param ignoreKeybinding Ignore the 'keybinding' property in the comparison
     * @param ignoreArgs Ignore the 'args' property in the comparison
     */
    function equals(a, b, ignoreKeybinding = false, ignoreArgs = false) {
        if (a.command === b.command &&
            (a.context || '') === (b.context || '') &&
            (a.when || '') === (b.when || '') &&
            (ignoreKeybinding || a.keybinding === b.keybinding) &&
            (ignoreArgs || (a.args || '') === (b.args || ''))) {
            return true;
        }
        return false;
    }
    Keybinding.equals = equals;
    /**
     * Returns a new object only containing properties which
     * are described on the `Keybinding` API.
     *
     * @param binding the binding to create an API object for.
     */
    function apiObjectify(binding) {
        return {
            command: binding.command,
            keybinding: binding.keybinding,
            context: binding.context,
            when: binding.when,
            args: binding.args
        };
    }
    Keybinding.apiObjectify = apiObjectify;
    /**
     * Returns with the string representation of the binding.
     * Any additional properties which are not described on
     * the `Keybinding` API will be ignored.
     *
     * @param binding the binding to stringify.
     */
    function stringify(binding) {
        return JSON.stringify(apiObjectify(binding));
    }
    Keybinding.stringify = stringify;
    /* Determine whether object is a KeyBinding */
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    function is(arg) {
        return !!arg && arg === Object(arg) && 'command' in arg && 'keybinding' in arg;
    }
    Keybinding.is = is;
})(Keybinding = exports.Keybinding || (exports.Keybinding = {}));


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/keyboard/keyboard-layout-provider.js":
/*!*******************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/keyboard/keyboard-layout-provider.js ***!
  \*******************************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2019 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.KeyValidator = exports.KeyboardLayoutChangeNotifier = exports.KeyboardLayoutProvider = exports.keyboardPath = void 0;
exports.keyboardPath = '/services/keyboard';
exports.KeyboardLayoutProvider = Symbol('KeyboardLayoutProvider');
exports.KeyboardLayoutChangeNotifier = Symbol('KeyboardLayoutChangeNotifier');
exports.KeyValidator = Symbol('KeyValidator');


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/logger-protocol.js":
/*!*************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/logger-protocol.js ***!
  \*************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 Ericsson and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ConsoleLogger = exports.LogLevel = exports.rootLoggerName = exports.DispatchingLoggerClient = exports.ILoggerClient = exports.loggerPath = exports.ILoggerServer = void 0;
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
exports.ILoggerServer = Symbol('ILoggerServer');
exports.loggerPath = '/services/logger';
exports.ILoggerClient = Symbol('ILoggerClient');
let DispatchingLoggerClient = class DispatchingLoggerClient {
    constructor() {
        this.clients = new Set();
    }
    onLogLevelChanged(event) {
        this.clients.forEach(client => client.onLogLevelChanged(event));
    }
};
DispatchingLoggerClient = __decorate([
    inversify_1.injectable()
], DispatchingLoggerClient);
exports.DispatchingLoggerClient = DispatchingLoggerClient;
exports.rootLoggerName = 'root';
var LogLevel;
(function (LogLevel) {
    LogLevel[LogLevel["FATAL"] = 60] = "FATAL";
    LogLevel[LogLevel["ERROR"] = 50] = "ERROR";
    LogLevel[LogLevel["WARN"] = 40] = "WARN";
    LogLevel[LogLevel["INFO"] = 30] = "INFO";
    LogLevel[LogLevel["DEBUG"] = 20] = "DEBUG";
    LogLevel[LogLevel["TRACE"] = 10] = "TRACE";
})(LogLevel = exports.LogLevel || (exports.LogLevel = {}));
(function (LogLevel) {
    LogLevel.strings = new Map([
        [LogLevel.FATAL, 'fatal'],
        [LogLevel.ERROR, 'error'],
        [LogLevel.WARN, 'warn'],
        [LogLevel.INFO, 'info'],
        [LogLevel.DEBUG, 'debug'],
        [LogLevel.TRACE, 'trace']
    ]);
    function toString(level) {
        return LogLevel.strings.get(level);
    }
    LogLevel.toString = toString;
    function fromString(levelStr) {
        for (const pair of LogLevel.strings) {
            if (pair[1] === levelStr) {
                return pair[0];
            }
        }
        return undefined;
    }
    LogLevel.fromString = fromString;
})(LogLevel = exports.LogLevel || (exports.LogLevel = {}));
/* eslint-disable @typescript-eslint/no-explicit-any */
var ConsoleLogger;
(function (ConsoleLogger) {
    const originalConsoleLog = console.log;
    const consoles = new Map([
        [LogLevel.FATAL, console.error],
        [LogLevel.ERROR, console.error],
        [LogLevel.WARN, console.warn],
        [LogLevel.INFO, console.info],
        [LogLevel.DEBUG, console.debug],
        [LogLevel.TRACE, console.trace]
    ]);
    function reset() {
        console.error = consoles.get(LogLevel.ERROR);
        console.warn = consoles.get(LogLevel.WARN);
        console.info = consoles.get(LogLevel.INFO);
        console.debug = consoles.get(LogLevel.DEBUG);
        console.trace = consoles.get(LogLevel.TRACE);
        console.log = originalConsoleLog;
    }
    ConsoleLogger.reset = reset;
    function log(name, logLevel, message, params) {
        const console = consoles.get(logLevel) || originalConsoleLog;
        const severity = (LogLevel.strings.get(logLevel) || 'unknown').toUpperCase();
        console(`${name} ${severity} ${message}`, ...params);
    }
    ConsoleLogger.log = log;
})(ConsoleLogger = exports.ConsoleLogger || (exports.ConsoleLogger = {}));


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/logger-watcher.js":
/*!************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/logger-watcher.js ***!
  \************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 Ericsson and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.LoggerWatcher = void 0;
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const event_1 = __webpack_require__(/*! ./event */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/event.js");
let LoggerWatcher = class LoggerWatcher {
    constructor() {
        this.onLogLevelChangedEmitter = new event_1.Emitter();
    }
    getLoggerClient() {
        const emitter = this.onLogLevelChangedEmitter;
        return {
            onLogLevelChanged(event) {
                emitter.fire(event);
            }
        };
    }
    get onLogLevelChanged() {
        return this.onLogLevelChangedEmitter.event;
    }
    // FIXME: get rid of it, backend services should as well set a client on the server
    fireLogLevelChanged(event) {
        this.onLogLevelChangedEmitter.fire(event);
    }
};
LoggerWatcher = __decorate([
    inversify_1.injectable()
], LoggerWatcher);
exports.LoggerWatcher = LoggerWatcher;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/logger.js":
/*!****************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/logger.js ***!
  \****************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 Ericsson and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Logger = exports.ILogger = exports.LoggerName = exports.LoggerFactory = exports.setRootLogger = exports.unsetRootLogger = exports.logger = exports.rootLoggerName = exports.LogLevel = void 0;
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const logger_watcher_1 = __webpack_require__(/*! ./logger-watcher */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/logger-watcher.js");
const logger_protocol_1 = __webpack_require__(/*! ./logger-protocol */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/logger-protocol.js");
Object.defineProperty(exports, "LogLevel", ({ enumerable: true, get: function () { return logger_protocol_1.LogLevel; } }));
Object.defineProperty(exports, "rootLoggerName", ({ enumerable: true, get: function () { return logger_protocol_1.rootLoggerName; } }));
/**
 * Counterpart of the `#setRootLogger(ILogger)`. Restores the `console.xxx` bindings to the original one.
 * Invoking has no side-effect if `setRootLogger` was not called before. Multiple function invocation has
 * no side-effect either.
 */
function unsetRootLogger() {
    if (exports.logger !== undefined) {
        logger_protocol_1.ConsoleLogger.reset();
        exports.logger = undefined;
    }
}
exports.unsetRootLogger = unsetRootLogger;
function setRootLogger(aLogger) {
    exports.logger = aLogger;
    const log = (logLevel, message, ...optionalParams) => exports.logger.log(logLevel, message, ...optionalParams);
    console.error = log.bind(undefined, logger_protocol_1.LogLevel.ERROR);
    console.warn = log.bind(undefined, logger_protocol_1.LogLevel.WARN);
    console.info = log.bind(undefined, logger_protocol_1.LogLevel.INFO);
    console.debug = log.bind(undefined, logger_protocol_1.LogLevel.DEBUG);
    console.trace = log.bind(undefined, logger_protocol_1.LogLevel.TRACE);
    console.log = log.bind(undefined, logger_protocol_1.LogLevel.INFO);
}
exports.setRootLogger = setRootLogger;
exports.LoggerFactory = Symbol('LoggerFactory');
exports.LoggerName = Symbol('LoggerName');
exports.ILogger = Symbol('ILogger');
let Logger = class Logger {
    /**
     * Build a new Logger.
     */
    constructor(server, loggerWatcher, factory, name) {
        this.server = server;
        this.loggerWatcher = loggerWatcher;
        this.factory = factory;
        this.name = name;
        if (name !== logger_protocol_1.rootLoggerName) {
            /* Creating a child logger.  */
            this.created = server.child(name);
        }
        else {
            /* Creating the root logger (it already exists at startup).  */
            this.created = Promise.resolve();
        }
        /* Fetch the log level so it's cached in the frontend.  */
        this._logLevel = this.created.then(_ => this.server.getLogLevel(name));
        /* Update the log level if it changes in the backend. */
        loggerWatcher.onLogLevelChanged(event => {
            this.created.then(() => {
                if (event.loggerName === name) {
                    this._logLevel = Promise.resolve(event.newLogLevel);
                }
            });
        });
    }
    setLogLevel(logLevel) {
        return new Promise(resolve => {
            this.created.then(() => {
                this._logLevel.then(oldLevel => {
                    this.server.setLogLevel(this.name, logLevel).then(() => {
                        this._logLevel = Promise.resolve(logLevel);
                        resolve();
                    });
                });
            });
        });
    }
    getLogLevel() {
        return this._logLevel;
    }
    isEnabled(logLevel) {
        return this._logLevel.then(level => logLevel >= level);
    }
    ifEnabled(logLevel) {
        return new Promise(resolve => this.isEnabled(logLevel).then(enabled => {
            if (enabled) {
                resolve();
            }
        }));
    }
    log(logLevel, arg2, ...params) {
        return this.getLog(logLevel).then(log => {
            if (typeof arg2 === 'function') {
                const loggable = arg2;
                loggable(log);
            }
            else if (arg2) {
                log(arg2, ...params);
            }
        });
    }
    getLog(logLevel) {
        return this.ifEnabled(logLevel).then(() => this.created.then(() => (message, ...params) => this.server.log(this.name, logLevel, this.format(message), params.map(p => this.format(p)))));
    }
    format(value) {
        if (value instanceof Error) {
            return value.stack || value.toString();
        }
        return value;
    }
    isTrace() {
        return this.isEnabled(logger_protocol_1.LogLevel.TRACE);
    }
    ifTrace() {
        return this.ifEnabled(logger_protocol_1.LogLevel.TRACE);
    }
    trace(arg, ...params) {
        return this.log(logger_protocol_1.LogLevel.TRACE, arg, ...params);
    }
    isDebug() {
        return this.isEnabled(logger_protocol_1.LogLevel.DEBUG);
    }
    ifDebug() {
        return this.ifEnabled(logger_protocol_1.LogLevel.DEBUG);
    }
    debug(arg, ...params) {
        return this.log(logger_protocol_1.LogLevel.DEBUG, arg, ...params);
    }
    isInfo() {
        return this.isEnabled(logger_protocol_1.LogLevel.INFO);
    }
    ifInfo() {
        return this.ifEnabled(logger_protocol_1.LogLevel.INFO);
    }
    info(arg, ...params) {
        return this.log(logger_protocol_1.LogLevel.INFO, arg, ...params);
    }
    isWarn() {
        return this.isEnabled(logger_protocol_1.LogLevel.WARN);
    }
    ifWarn() {
        return this.ifEnabled(logger_protocol_1.LogLevel.WARN);
    }
    warn(arg, ...params) {
        return this.log(logger_protocol_1.LogLevel.WARN, arg, ...params);
    }
    isError() {
        return this.isEnabled(logger_protocol_1.LogLevel.ERROR);
    }
    ifError() {
        return this.ifEnabled(logger_protocol_1.LogLevel.ERROR);
    }
    error(arg, ...params) {
        return this.log(logger_protocol_1.LogLevel.ERROR, arg, ...params);
    }
    isFatal() {
        return this.isEnabled(logger_protocol_1.LogLevel.FATAL);
    }
    ifFatal() {
        return this.ifEnabled(logger_protocol_1.LogLevel.FATAL);
    }
    fatal(arg, ...params) {
        return this.log(logger_protocol_1.LogLevel.FATAL, arg, ...params);
    }
    child(name) {
        return this.factory(name);
    }
};
Logger = __decorate([
    inversify_1.injectable(),
    __param(0, inversify_1.inject(logger_protocol_1.ILoggerServer)),
    __param(1, inversify_1.inject(logger_watcher_1.LoggerWatcher)),
    __param(2, inversify_1.inject(exports.LoggerFactory)),
    __param(3, inversify_1.inject(exports.LoggerName)),
    __metadata("design:paramtypes", [Object, logger_watcher_1.LoggerWatcher, Function, String])
], Logger);
exports.Logger = Logger;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/lsp-types.js":
/*!*******************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/lsp-types.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2019 Ericsson and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.TextDocumentContentChangeDelta = void 0;
const vscode_languageserver_types_1 = __webpack_require__(/*! vscode-languageserver-types */ "../node_modules/vscode-languageserver-types/lib/esm/main.js");
var TextDocumentContentChangeDelta;
(function (TextDocumentContentChangeDelta) {
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    function is(arg) {
        return !!arg && typeof arg['text'] === 'string' && (typeof arg['rangeLength'] === 'number' || typeof arg['rangeLength'] === 'undefined') && vscode_languageserver_types_1.Range.is(arg['range']);
    }
    TextDocumentContentChangeDelta.is = is;
})(TextDocumentContentChangeDelta = exports.TextDocumentContentChangeDelta || (exports.TextDocumentContentChangeDelta = {}));


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/menu.js":
/*!**************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/menu.js ***!
  \**************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ActionMenuNode = exports.CompositeMenuNode = exports.MenuModelRegistry = exports.MenuContribution = exports.ACCOUNTS_SUBMENU = exports.ACCOUNTS_MENU = exports.SETTINGS_MENU = exports.MAIN_MENU_BAR = exports.MenuAction = void 0;
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const command_1 = __webpack_require__(/*! ./command */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/command.js");
const contribution_provider_1 = __webpack_require__(/*! ./contribution-provider */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/contribution-provider.js");
var MenuAction;
(function (MenuAction) {
    /* Determine whether object is a MenuAction */
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    function is(arg) {
        return !!arg && arg === Object(arg) && 'commandId' in arg;
    }
    MenuAction.is = is;
})(MenuAction = exports.MenuAction || (exports.MenuAction = {}));
exports.MAIN_MENU_BAR = ['menubar'];
exports.SETTINGS_MENU = ['settings_menu'];
exports.ACCOUNTS_MENU = ['accounts_menu'];
exports.ACCOUNTS_SUBMENU = [...exports.ACCOUNTS_MENU, '1_accounts_submenu'];
exports.MenuContribution = Symbol('MenuContribution');
/**
 * The MenuModelRegistry allows to register and unregister menus, submenus and actions
 * via strings and {@link MenuAction}s without the need to access the underlying UI
 * representation.
 */
let MenuModelRegistry = class MenuModelRegistry {
    constructor(contributions, commands) {
        this.contributions = contributions;
        this.commands = commands;
        this.root = new CompositeMenuNode('');
    }
    onStart() {
        for (const contrib of this.contributions.getContributions()) {
            contrib.registerMenus(this);
        }
    }
    /**
     * Adds the given menu action to the menu denoted by the given path.
     *
     * @returns a disposable which, when called, will remove the menu action again.
     */
    registerMenuAction(menuPath, item) {
        const menuNode = new ActionMenuNode(item, this.commands);
        return this.registerMenuNode(menuPath, menuNode);
    }
    /**
     * Adds the given menu node to the menu denoted by the given path.
     *
     * @returns a disposable which, when called, will remove the menu node again.
     */
    registerMenuNode(menuPath, menuNode) {
        const parent = this.findGroup(menuPath);
        return parent.addNode(menuNode);
    }
    /**
     * Register a new menu at the given path with the given label.
     * (If the menu already exists without a label, iconClass or order this method can be used to set them.)
     *
     * @param menuPath the path for which a new submenu shall be registered.
     * @param label the label to be used for the new submenu.
     * @param options optionally allows to set an icon class and specify the order of the new menu.
     *
     * @returns if the menu was successfully created a disposable will be returned which,
     * when called, will remove the menu again. If the menu already existed a no-op disposable
     * will be returned.
     *
     * Note that if the menu already existed and was registered with a different label an error
     * will be thrown.
     */
    registerSubmenu(menuPath, label, options) {
        if (menuPath.length === 0) {
            throw new Error('The sub menu path cannot be empty.');
        }
        const index = menuPath.length - 1;
        const menuId = menuPath[index];
        const groupPath = index === 0 ? [] : menuPath.slice(0, index);
        const parent = this.findGroup(groupPath, options);
        let groupNode = this.findSubMenu(parent, menuId, options);
        if (!groupNode) {
            groupNode = new CompositeMenuNode(menuId, label, options);
            return parent.addNode(groupNode);
        }
        else {
            if (!groupNode.label) {
                groupNode.label = label;
            }
            else if (groupNode.label !== label) {
                throw new Error("The group '" + menuPath.join('/') + "' already has a different label.");
            }
            if (options) {
                if (!groupNode.iconClass) {
                    groupNode.iconClass = options.iconClass;
                }
                if (!groupNode.order) {
                    groupNode.order = options.order;
                }
            }
            return { dispose: () => { } };
        }
    }
    unregisterMenuAction(itemOrCommandOrId, menuPath) {
        const id = MenuAction.is(itemOrCommandOrId) ? itemOrCommandOrId.commandId
            : command_1.Command.is(itemOrCommandOrId) ? itemOrCommandOrId.id
                : itemOrCommandOrId;
        if (menuPath) {
            const parent = this.findGroup(menuPath);
            parent.removeNode(id);
            return;
        }
        this.unregisterMenuNode(id);
    }
    /**
     * Recurse all menus, removing any menus matching the `id`.
     *
     * @param id technical identifier of the `MenuNode`.
     */
    unregisterMenuNode(id) {
        const recurse = (root) => {
            root.children.forEach(node => {
                if (node instanceof CompositeMenuNode) {
                    node.removeNode(id);
                    recurse(node);
                }
            });
        };
        recurse(this.root);
    }
    findGroup(menuPath, options) {
        let currentMenu = this.root;
        for (const segment of menuPath) {
            currentMenu = this.findSubMenu(currentMenu, segment, options);
        }
        return currentMenu;
    }
    findSubMenu(current, menuId, options) {
        const sub = current.children.find(e => e.id === menuId);
        if (sub instanceof CompositeMenuNode) {
            return sub;
        }
        if (sub) {
            throw new Error(`'${menuId}' is not a menu group.`);
        }
        const newSub = new CompositeMenuNode(menuId, undefined, options);
        current.addNode(newSub);
        return newSub;
    }
    /**
     * Returns the menu at the given path.
     *
     * @param menuPath the path specifying the menu to return. If not given the empty path will be used.
     *
     * @returns the root menu when `menuPath` is empty. If `menuPath` is not empty the specified menu is
     * returned if it exists, otherwise an error is thrown.
     */
    getMenu(menuPath = []) {
        return this.findGroup(menuPath);
    }
};
MenuModelRegistry = __decorate([
    inversify_1.injectable(),
    __param(0, inversify_1.inject(contribution_provider_1.ContributionProvider)), __param(0, inversify_1.named(exports.MenuContribution)),
    __param(1, inversify_1.inject(command_1.CommandRegistry)),
    __metadata("design:paramtypes", [Object, command_1.CommandRegistry])
], MenuModelRegistry);
exports.MenuModelRegistry = MenuModelRegistry;
/**
 * Node representing a (sub)menu in the menu tree structure.
 */
class CompositeMenuNode {
    constructor(id, label, options) {
        this.id = id;
        this.label = label;
        this._children = [];
        if (options) {
            this.iconClass = options.iconClass;
            this.order = options.order;
        }
    }
    get children() {
        return this._children;
    }
    /**
     * Inserts the given node at the position indicated by `sortString`.
     *
     * @returns a disposable which, when called, will remove the given node again.
     */
    addNode(node) {
        this._children.push(node);
        this._children.sort((m1, m2) => {
            // The navigation group is special as it will always be sorted to the top/beginning of a menu.
            if (CompositeMenuNode.isNavigationGroup(m1)) {
                return -1;
            }
            if (CompositeMenuNode.isNavigationGroup(m2)) {
                return 1;
            }
            if (m1.sortString < m2.sortString) {
                return -1;
            }
            else if (m1.sortString > m2.sortString) {
                return 1;
            }
            else {
                return 0;
            }
        });
        return {
            dispose: () => {
                const idx = this._children.indexOf(node);
                if (idx >= 0) {
                    this._children.splice(idx, 1);
                }
            }
        };
    }
    /**
     * Removes the first node with the given id.
     *
     * @param id node id.
     */
    removeNode(id) {
        const node = this._children.find(n => n.id === id);
        if (node) {
            const idx = this._children.indexOf(node);
            if (idx >= 0) {
                this._children.splice(idx, 1);
            }
        }
    }
    get sortString() {
        return this.order || this.id;
    }
    get isSubmenu() {
        return this.label !== undefined;
    }
    /**
     * Indicates whether the given node is the special `navigation` menu.
     *
     * @param node the menu node to check.
     * @returns `true` when the given node is a {@link CompositeMenuNode} with id `navigation`,
     * `false` otherwise.
     */
    static isNavigationGroup(node) {
        return node instanceof CompositeMenuNode && node.id === 'navigation';
    }
}
exports.CompositeMenuNode = CompositeMenuNode;
/**
 * Node representing an action in the menu tree structure.
 * It's based on {@link MenuAction} for which it tries to determine the
 * best label, icon and sortString with the given data.
 */
class ActionMenuNode {
    constructor(action, commands) {
        this.action = action;
        this.commands = commands;
        if (action.alt) {
            this.altNode = new ActionMenuNode({ commandId: action.alt }, commands);
        }
    }
    get id() {
        return this.action.commandId;
    }
    get label() {
        if (this.action.label) {
            return this.action.label;
        }
        const cmd = this.commands.getCommand(this.action.commandId);
        if (!cmd) {
            console.debug(`No label for action menu node: No command "${this.action.commandId}" exists.`);
            return '';
        }
        return cmd.label || cmd.id;
    }
    get icon() {
        if (this.action.icon) {
            return this.action.icon;
        }
        const command = this.commands.getCommand(this.action.commandId);
        return command && command.iconClass;
    }
    get sortString() {
        return this.action.order || this.label;
    }
}
exports.ActionMenuNode = ActionMenuNode;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/message-service-protocol.js":
/*!**********************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/message-service-protocol.js ***!
  \**********************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.MessageClient = exports.ProgressMessage = exports.MessageType = exports.messageServicePath = void 0;
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
exports.messageServicePath = '/services/messageService';
var MessageType;
(function (MessageType) {
    MessageType[MessageType["Error"] = 1] = "Error";
    MessageType[MessageType["Warning"] = 2] = "Warning";
    MessageType[MessageType["Info"] = 3] = "Info";
    MessageType[MessageType["Log"] = 4] = "Log";
    MessageType[MessageType["Progress"] = 5] = "Progress";
})(MessageType = exports.MessageType || (exports.MessageType = {}));
var ProgressMessage;
(function (ProgressMessage) {
    ProgressMessage.Cancel = 'Cancel';
    function isCancelable(message) {
        var _a;
        return !!((_a = message.options) === null || _a === void 0 ? void 0 : _a.cancelable);
    }
    ProgressMessage.isCancelable = isCancelable;
})(ProgressMessage = exports.ProgressMessage || (exports.ProgressMessage = {}));
let MessageClient = class MessageClient {
    /**
     * Show a message of the given type and possible actions to the user.
     * Resolve to a chosen action.
     * Never reject.
     *
     * To be implemented by an extension, e.g. by the messages extension.
     */
    showMessage(message) {
        console.info(message.text);
        return Promise.resolve(undefined);
    }
    /**
     * Show a progress message with possible actions to user.
     *
     * To be implemented by an extension, e.g. by the messages extension.
     */
    showProgress(progressId, message, cancellationToken) {
        console.info(message.text);
        return Promise.resolve(undefined);
    }
    /**
     * Update a previously created progress message.
     *
     * To be implemented by an extension, e.g. by the messages extension.
     */
    reportProgress(progressId, update, message, cancellationToken) {
        return Promise.resolve(undefined);
    }
};
MessageClient = __decorate([
    inversify_1.injectable()
], MessageClient);
exports.MessageClient = MessageClient;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/message-service.js":
/*!*************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/message-service.js ***!
  \*************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.MessageService = exports.MessageServiceFactory = void 0;
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const message_service_protocol_1 = __webpack_require__(/*! ./message-service-protocol */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/message-service-protocol.js");
const cancellation_1 = __webpack_require__(/*! ./cancellation */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/cancellation.js");
exports.MessageServiceFactory = Symbol('MessageServiceFactory');
/**
 * Service to log and categorize messages, show progress information and offer actions.
 *
 * The messages are processed by this service and forwarded to an injected {@link MessageClient}.
 * For example "@theia/messages" provides such a client, rendering messages as notifications
 * in the frontend.
 *
 * ### Example usage
 *
 * ```typescript
 *   @inject(MessageService)
 *   protected readonly messageService: MessageService;
 *
 *   messageService.warn("Typings not available");
 *
 *   messageService.error("Could not restore state", ["Rollback", "Ignore"])
 *   .then(action => action === "Rollback" && rollback());
 * ```
 */
let MessageService = class MessageService {
    constructor(client) {
        this.client = client;
        this.progressIdPrefix = Math.random().toString(36).substring(5);
        this.counter = 0;
    }
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    log(message, ...args) {
        return this.processMessage(message_service_protocol_1.MessageType.Log, message, args);
    }
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    info(message, ...args) {
        return this.processMessage(message_service_protocol_1.MessageType.Info, message, args);
    }
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    warn(message, ...args) {
        return this.processMessage(message_service_protocol_1.MessageType.Warning, message, args);
    }
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    error(message, ...args) {
        return this.processMessage(message_service_protocol_1.MessageType.Error, message, args);
    }
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    processMessage(type, text, args) {
        if (!!args && args.length > 0) {
            const first = args[0];
            const actions = Array.from(new Set(args.filter(a => typeof a === 'string')));
            const options = (typeof first === 'object' && !Array.isArray(first))
                ? first
                : undefined;
            return this.client.showMessage({ type, options, text, actions });
        }
        return this.client.showMessage({ type, text });
    }
    /**
     * Shows the given message as a progress.
     *
     * @param message the message to show for the progress.
     * @param onDidCancel an optional callback which will be invoked if the progress indicator was canceled.
     *
     * @returns a promise resolving to a {@link Progress} object with which the progress can be updated.
     *
     * ### Example usage
     *
     * ```typescript
     *   @inject(MessageService)
     *   protected readonly messageService: MessageService;
     *
     *   // this will show "Progress" as a cancelable message
     *   this.messageService.showProgress({text: 'Progress'});
     *
     *   // this will show "Rolling back" with "Cancel" and an additional "Skip" action
     *   this.messageService.showProgress({
     *     text: `Rolling back`,
     *     actions: ["Skip"],
     *   },
     *   () => console.log("canceled"))
     *   .then((progress) => {
     *     // register if interested in the result (only necessary for custom actions)
     *     progress.result.then((result) => {
     *       // will be 'Cancel', 'Skip' or `undefined`
     *       console.log("result is", result);
     *     });
     *     progress.report({message: "Cleaning references", work: {done: 10, total: 100}});
     *     progress.report({message: "Restoring previous state", work: {done: 80, total: 100}});
     *     progress.report({message: "Complete", work: {done: 100, total: 100}});
     *     // we are done so we can cancel the progress message, note that this will also invoke `onDidCancel`
     *     progress.cancel();
     *   });
     * ```
     */
    async showProgress(message, onDidCancel) {
        const id = this.newProgressId();
        const cancellationSource = new cancellation_1.CancellationTokenSource();
        const report = (update) => {
            this.client.reportProgress(id, update, message, cancellationSource.token);
        };
        const actions = new Set(message.actions);
        if (message_service_protocol_1.ProgressMessage.isCancelable(message)) {
            actions.delete(message_service_protocol_1.ProgressMessage.Cancel);
            actions.add(message_service_protocol_1.ProgressMessage.Cancel);
        }
        const clientMessage = Object.assign(Object.assign({}, message), { actions: Array.from(actions) });
        const result = this.client.showProgress(id, clientMessage, cancellationSource.token);
        if (message_service_protocol_1.ProgressMessage.isCancelable(message) && typeof onDidCancel === 'function') {
            result.then(value => {
                if (value === message_service_protocol_1.ProgressMessage.Cancel) {
                    onDidCancel();
                }
            });
        }
        return {
            id,
            cancel: () => cancellationSource.cancel(),
            result,
            report
        };
    }
    newProgressId() {
        return `${this.progressIdPrefix}-${++this.counter}`;
    }
};
MessageService = __decorate([
    inversify_1.injectable(),
    __param(0, inversify_1.inject(message_service_protocol_1.MessageClient)),
    __metadata("design:paramtypes", [message_service_protocol_1.MessageClient])
], MessageService);
exports.MessageService = MessageService;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/messaging/abstract-connection-provider.js":
/*!************************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/messaging/abstract-connection-provider.js ***!
  \************************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2020 Ericsson and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.AbstractConnectionProvider = void 0;
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const vscode_ws_jsonrpc_1 = __webpack_require__(/*! vscode-ws-jsonrpc */ "../node_modules/vscode-ws-jsonrpc/lib/index.js");
const event_1 = __webpack_require__(/*! ../event */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/event.js");
const proxy_factory_1 = __webpack_require__(/*! ./proxy-factory */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/messaging/proxy-factory.js");
/**
 * Factor common logic according to `ElectronIpcConnectionProvider` and
 * `WebSocketConnectionProvider`. This class handles channels in a somewhat
 * generic way.
 */
let AbstractConnectionProvider = class AbstractConnectionProvider {
    constructor() {
        this.channelIdSeq = 0;
        this.channels = new Map();
        this.onIncomingMessageActivityEmitter = new event_1.Emitter();
        this.onIncomingMessageActivity = this.onIncomingMessageActivityEmitter.event;
    }
    /**
     * Create a proxy object to remote interface of T type
     * over an electron ipc connection for the given path.
     *
     * An optional target can be provided to handle
     * notifications and requests from a remote side.
     */
    static createProxy(container, path, target) {
        throw new Error('abstract');
    }
    createProxy(path, arg) {
        const factory = arg instanceof proxy_factory_1.JsonRpcProxyFactory ? arg : new proxy_factory_1.JsonRpcProxyFactory(arg);
        this.listen({
            path,
            onConnection: c => factory.listen(c)
        });
        return factory.createProxy();
    }
    /**
     * Install a connection handler for the given path.
     */
    listen(handler, options) {
        this.openChannel(handler.path, channel => {
            const connection = vscode_ws_jsonrpc_1.createWebSocketConnection(channel, this.createLogger());
            connection.onDispose(() => channel.close());
            handler.onConnection(connection);
        }, options);
    }
    openChannel(path, handler, options) {
        const id = this.channelIdSeq++;
        const channel = this.createChannel(id);
        this.channels.set(id, channel);
        channel.onClose(() => {
            if (this.channels.delete(channel.id)) {
                const { reconnecting } = Object.assign({ reconnecting: true }, options);
                if (reconnecting) {
                    this.openChannel(path, handler, options);
                }
            }
            else {
                console.error('The ws channel does not exist', channel.id);
            }
        });
        channel.onOpen(() => handler(channel));
        channel.open(path);
    }
    handleIncomingRawMessage(data) {
        const message = JSON.parse(data);
        const channel = this.channels.get(message.id);
        if (channel) {
            channel.handleMessage(message);
        }
        else {
            console.error('The ws channel does not exist', message.id);
        }
        this.onIncomingMessageActivityEmitter.fire(undefined);
    }
    createLogger() {
        return new vscode_ws_jsonrpc_1.ConsoleLogger();
    }
};
AbstractConnectionProvider = __decorate([
    inversify_1.injectable()
], AbstractConnectionProvider);
exports.AbstractConnectionProvider = AbstractConnectionProvider;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/messaging/connection-error-handler.js":
/*!********************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/messaging/connection-error-handler.js ***!
  \********************************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ConnectionErrorHandler = void 0;
class ConnectionErrorHandler {
    constructor(options) {
        this.restarts = [];
        this.options = Object.assign({ maxErrors: 3, maxRestarts: 5, restartInterval: 3 }, options);
    }
    shouldStop(error, message, count) {
        return !count || count > this.options.maxErrors;
    }
    shouldRestart() {
        this.restarts.push(Date.now());
        if (this.restarts.length <= this.options.maxRestarts) {
            return true;
        }
        const diff = this.restarts[this.restarts.length - 1] - this.restarts[0];
        if (diff <= this.options.restartInterval * 60 * 1000) {
            // eslint-disable-next-line max-len
            this.options.logger.error(`The ${this.options.serverName} server crashed ${this.options.maxRestarts} times in the last ${this.options.restartInterval} minutes. The server will not be restarted.`);
            return false;
        }
        this.restarts.shift();
        return true;
    }
}
exports.ConnectionErrorHandler = ConnectionErrorHandler;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/messaging/handler.js":
/*!***************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/messaging/handler.js ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ConnectionHandler = void 0;
exports.ConnectionHandler = Symbol('ConnectionHandler');


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/messaging/index.js":
/*!*************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/messaging/index.js ***!
  \*************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
__exportStar(__webpack_require__(/*! ./handler */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/messaging/handler.js"), exports);
__exportStar(__webpack_require__(/*! ./proxy-factory */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/messaging/proxy-factory.js"), exports);
__exportStar(__webpack_require__(/*! ./connection-error-handler */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/messaging/connection-error-handler.js"), exports);


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/messaging/proxy-factory.js":
/*!*********************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/messaging/proxy-factory.js ***!
  \*********************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.JsonRpcProxyFactory = exports.JsonRpcConnectionHandler = void 0;
/* eslint-disable @typescript-eslint/no-explicit-any */
const vscode_ws_jsonrpc_1 = __webpack_require__(/*! vscode-ws-jsonrpc */ "../node_modules/vscode-ws-jsonrpc/lib/index.js");
const application_error_1 = __webpack_require__(/*! ../application-error */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/application-error.js");
const event_1 = __webpack_require__(/*! ../event */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/event.js");
class JsonRpcConnectionHandler {
    constructor(path, targetFactory, factoryConstructor = JsonRpcProxyFactory) {
        this.path = path;
        this.targetFactory = targetFactory;
        this.factoryConstructor = factoryConstructor;
    }
    onConnection(connection) {
        const factory = new this.factoryConstructor();
        const proxy = factory.createProxy();
        factory.target = this.targetFactory(proxy);
        factory.listen(connection);
    }
}
exports.JsonRpcConnectionHandler = JsonRpcConnectionHandler;
/**
 * Factory for JSON-RPC proxy objects.
 *
 * A JSON-RPC proxy exposes the programmatic interface of an object through
 * JSON-RPC.  This allows remote programs to call methods of this objects by
 * sending JSON-RPC requests.  This takes place over a bi-directional stream,
 * where both ends can expose an object and both can call methods each other's
 * exposed object.
 *
 * For example, assuming we have an object of the following type on one end:
 *
 *     class Foo {
 *         bar(baz: number): number { return baz + 1 }
 *     }
 *
 * which we want to expose through a JSON-RPC interface.  We would do:
 *
 *     let target = new Foo()
 *     let factory = new JsonRpcProxyFactory<Foo>('/foo', target)
 *     factory.onConnection(connection)
 *
 * The party at the other end of the `connection`, in order to remotely call
 * methods on this object would do:
 *
 *     let factory = new JsonRpcProxyFactory<Foo>('/foo')
 *     factory.onConnection(connection)
 *     let proxy = factory.createProxy();
 *     let result = proxy.bar(42)
 *     // result is equal to 43
 *
 * One the wire, it would look like this:
 *
 *     --> {"jsonrpc": "2.0", "id": 0, "method": "bar", "params": {"baz": 42}}
 *     <-- {"jsonrpc": "2.0", "id": 0, "result": 43}
 *
 * Note that in the code of the caller, we didn't pass a target object to
 * JsonRpcProxyFactory, because we don't want/need to expose an object.
 * If we had passed a target object, the other side could've called methods on
 * it.
 *
 * @param <T> - The type of the object to expose to JSON-RPC.
 */
class JsonRpcProxyFactory {
    /**
     * Build a new JsonRpcProxyFactory.
     *
     * @param target - The object to expose to JSON-RPC methods calls.  If this
     *   is omitted, the proxy won't be able to handle requests, only send them.
     */
    constructor(target) {
        this.target = target;
        this.onDidOpenConnectionEmitter = new event_1.Emitter();
        this.onDidCloseConnectionEmitter = new event_1.Emitter();
        this.waitForConnection();
    }
    waitForConnection() {
        this.connectionPromise = new Promise(resolve => this.connectionPromiseResolve = resolve);
        this.connectionPromise.then(connection => {
            connection.onClose(() => this.onDidCloseConnectionEmitter.fire(undefined));
            this.onDidOpenConnectionEmitter.fire(undefined);
        });
    }
    /**
     * Connect a MessageConnection to the factory.
     *
     * This connection will be used to send/receive JSON-RPC requests and
     * response.
     */
    listen(connection) {
        connection.onRequest((prop, ...args) => this.onRequest(prop, ...args));
        connection.onNotification((prop, ...args) => this.onNotification(prop, ...args));
        connection.onDispose(() => this.waitForConnection());
        connection.listen();
        this.connectionPromiseResolve(connection);
    }
    /**
     * Process an incoming JSON-RPC method call.
     *
     * onRequest is called when the JSON-RPC connection received a method call
     * request.  It calls the corresponding method on [[target]].
     *
     * The return value is a Promise object that is resolved with the return
     * value of the method call, if it is successful.  The promise is rejected
     * if the called method does not exist or if it throws.
     *
     * @returns A promise of the method call completion.
     */
    async onRequest(method, ...args) {
        try {
            if (this.target) {
                return await this.target[method](...args);
            }
            else {
                throw new Error(`no target was set to handle ${method}`);
            }
        }
        catch (error) {
            const e = this.serializeError(error);
            if (e instanceof vscode_ws_jsonrpc_1.ResponseError) {
                throw e;
            }
            const reason = e.message || '';
            const stack = e.stack || '';
            console.error(`Request ${method} failed with error: ${reason}`, stack);
            throw e;
        }
    }
    /**
     * Process an incoming JSON-RPC notification.
     *
     * Same as [[onRequest]], but called on incoming notifications rather than
     * methods calls.
     */
    onNotification(method, ...args) {
        if (this.target) {
            this.target[method](...args);
        }
    }
    /**
     * Create a Proxy exposing the interface of an object of type T.  This Proxy
     * can be used to do JSON-RPC method calls on the remote target object as
     * if it was local.
     *
     * If `T` implements `JsonRpcServer` then a client is used as a target object for a remote target object.
     */
    createProxy() {
        const result = new Proxy(this, this);
        return result;
    }
    /**
     * Get a callable object that executes a JSON-RPC method call.
     *
     * Getting a property on the Proxy object returns a callable that, when
     * called, executes a JSON-RPC call.  The name of the property defines the
     * method to be called.  The callable takes a variable number of arguments,
     * which are passed in the JSON-RPC method call.
     *
     * For example, if you have a Proxy object:
     *
     *     let fooProxyFactory = JsonRpcProxyFactory<Foo>('/foo')
     *     let fooProxy = fooProxyFactory.createProxy()
     *
     * accessing `fooProxy.bar` will return a callable that, when called,
     * executes a JSON-RPC method call to method `bar`.  Therefore, doing
     * `fooProxy.bar()` will call the `bar` method on the remote Foo object.
     *
     * @param target - unused.
     * @param p - The property accessed on the Proxy object.
     * @param receiver - unused.
     * @returns A callable that executes the JSON-RPC call.
     */
    get(target, p, receiver) {
        if (p === 'setClient') {
            return (client) => {
                this.target = client;
            };
        }
        if (p === 'getClient') {
            return () => this.target;
        }
        if (p === 'onDidOpenConnection') {
            return this.onDidOpenConnectionEmitter.event;
        }
        if (p === 'onDidCloseConnection') {
            return this.onDidCloseConnectionEmitter.event;
        }
        const isNotify = this.isNotification(p);
        return (...args) => {
            const method = p.toString();
            const capturedError = new Error(`Request '${method}' failed`);
            return this.connectionPromise.then(connection => new Promise((resolve, reject) => {
                try {
                    if (isNotify) {
                        connection.sendNotification(method, ...args);
                        resolve();
                    }
                    else {
                        const resultPromise = connection.sendRequest(method, ...args);
                        resultPromise
                            .catch((err) => reject(this.deserializeError(capturedError, err)))
                            .then((result) => resolve(result));
                    }
                }
                catch (err) {
                    reject(err);
                }
            }));
        };
    }
    /**
     * Return whether the given property represents a notification.
     *
     * A property leads to a notification rather than a method call if its name
     * begins with `notify` or `on`.
     *
     * @param p - The property being called on the proxy.
     * @return Whether `p` represents a notification.
     */
    isNotification(p) {
        return p.toString().startsWith('notify') || p.toString().startsWith('on');
    }
    serializeError(e) {
        if (application_error_1.ApplicationError.is(e)) {
            return new vscode_ws_jsonrpc_1.ResponseError(e.code, '', Object.assign({ kind: 'application' }, e.toJson()));
        }
        return e;
    }
    deserializeError(capturedError, e) {
        if (e instanceof vscode_ws_jsonrpc_1.ResponseError) {
            const capturedStack = capturedError.stack || '';
            if (e.data && e.data.kind === 'application') {
                const { stack, data, message } = e.data;
                return application_error_1.ApplicationError.fromJson(e.code, {
                    message: message || capturedError.message,
                    data,
                    stack: `${capturedStack}\nCaused by: ${stack}`
                });
            }
            e.stack = capturedStack;
        }
        return e;
    }
}
exports.JsonRpcProxyFactory = JsonRpcProxyFactory;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/messaging/web-socket-channel.js":
/*!**************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/messaging/web-socket-channel.js ***!
  \**************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.WebSocketChannel = void 0;
const disposable_1 = __webpack_require__(/*! ../disposable */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/disposable.js");
const event_1 = __webpack_require__(/*! ../event */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/event.js");
class WebSocketChannel {
    constructor(id, doSend) {
        this.id = id;
        this.doSend = doSend;
        this.closeEmitter = new event_1.Emitter();
        this.toDispose = new disposable_1.DisposableCollection(this.closeEmitter);
        this.fireOpen = () => { };
        this.fireMessage = () => { };
        this.fireError = () => { };
        this.closing = false;
    }
    dispose() {
        this.toDispose.dispose();
    }
    checkNotDisposed() {
        if (this.toDispose.disposed) {
            throw new Error('The channel has been disposed.');
        }
    }
    handleMessage(message) {
        if (message.kind === 'ready') {
            this.fireOpen();
        }
        else if (message.kind === 'data') {
            this.fireMessage(message.content);
        }
        else if (message.kind === 'close') {
            this.fireClose(message.code, message.reason);
        }
    }
    open(path) {
        this.checkNotDisposed();
        this.doSend(JSON.stringify({
            kind: 'open',
            id: this.id,
            path
        }));
    }
    ready() {
        this.checkNotDisposed();
        this.doSend(JSON.stringify({
            kind: 'ready',
            id: this.id
        }));
    }
    send(content) {
        this.checkNotDisposed();
        this.doSend(JSON.stringify({
            kind: 'data',
            id: this.id,
            content
        }));
    }
    close(code = 1000, reason = '') {
        if (this.closing) {
            // Do not try to close the channel if it is already closing.
            return;
        }
        this.checkNotDisposed();
        this.doSend(JSON.stringify({
            kind: 'close',
            id: this.id,
            code,
            reason
        }));
        this.fireClose(code, reason);
    }
    tryClose(code = 1000, reason = '') {
        if (this.closing || this.toDispose.disposed) {
            // Do not try to close the channel if it is already closing or disposed.
            return;
        }
        this.doSend(JSON.stringify({
            kind: 'close',
            id: this.id,
            code,
            reason
        }));
        this.fireClose(code, reason);
    }
    onOpen(cb) {
        this.checkNotDisposed();
        this.fireOpen = cb;
        this.toDispose.push(disposable_1.Disposable.create(() => this.fireOpen = () => { }));
    }
    onMessage(cb) {
        this.checkNotDisposed();
        this.fireMessage = cb;
        this.toDispose.push(disposable_1.Disposable.create(() => this.fireMessage = () => { }));
    }
    onError(cb) {
        this.checkNotDisposed();
        this.fireError = cb;
        this.toDispose.push(disposable_1.Disposable.create(() => this.fireError = () => { }));
    }
    fireClose(code, reason) {
        if (this.closing) {
            return;
        }
        this.closing = true;
        try {
            this.closeEmitter.fire([code, reason]);
        }
        finally {
            this.closing = false;
        }
        this.dispose();
    }
    onClose(cb) {
        this.checkNotDisposed();
        return this.closeEmitter.event(([code, reason]) => cb(code, reason));
    }
}
exports.WebSocketChannel = WebSocketChannel;
WebSocketChannel.wsPath = '/services';


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/objects.js":
/*!*****************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/objects.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 Ericsson and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.isEmpty = exports.notEmpty = exports.deepFreeze = exports.deepClone = void 0;
function deepClone(obj) {
    if (!obj || typeof obj !== 'object') {
        return obj;
    }
    if (obj instanceof RegExp) {
        return obj;
    }
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    const result = Array.isArray(obj) ? [] : {};
    Object.keys(obj).forEach((key) => {
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        const prop = obj[key];
        if (prop && typeof prop === 'object') {
            result[key] = deepClone(prop);
        }
        else {
            result[key] = prop;
        }
    });
    return result;
}
exports.deepClone = deepClone;
function deepFreeze(obj) {
    if (!obj || typeof obj !== 'object') {
        return obj;
    }
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    const stack = [obj];
    while (stack.length > 0) {
        const objectToFreeze = stack.shift();
        Object.freeze(objectToFreeze);
        for (const key in objectToFreeze) {
            if (_hasOwnProperty.call(objectToFreeze, key)) {
                const prop = objectToFreeze[key];
                if (typeof prop === 'object' && !Object.isFrozen(prop)) {
                    stack.push(prop);
                }
            }
        }
    }
    return obj;
}
exports.deepFreeze = deepFreeze;
const _hasOwnProperty = Object.prototype.hasOwnProperty;
function notEmpty(arg) {
    // eslint-disable-next-line no-null/no-null
    return arg !== undefined && arg !== null;
}
exports.notEmpty = notEmpty;
/**
 * `true` if the argument is an empty object. Otherwise, `false`.
 */
function isEmpty(arg) {
    return Object.keys(arg).length === 0 && arg.constructor === Object;
}
exports.isEmpty = isEmpty;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/os.js":
/*!************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/os.js ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.OS = exports.cmd = exports.isOSX = exports.isWindows = void 0;
function is(userAgent, platform) {
    if (typeof navigator !== 'undefined') {
        if (navigator.userAgent && navigator.userAgent.indexOf(userAgent) >= 0) {
            return true;
        }
    }
    if (typeof process !== 'undefined') {
        return (process.platform === platform);
    }
    return false;
}
exports.isWindows = is('Windows', 'win32');
exports.isOSX = is('Mac', 'darwin');
function cmd(command, ...args) {
    return [
        exports.isWindows ? 'cmd' : command,
        exports.isWindows ? ['/c', command, ...args] : args
    ];
}
exports.cmd = cmd;
var OS;
(function (OS) {
    /**
     * Enumeration of the supported operating systems.
     */
    let Type;
    (function (Type) {
        Type["Windows"] = "Windows";
        Type["Linux"] = "Linux";
        Type["OSX"] = "OSX";
    })(Type = OS.Type || (OS.Type = {}));
    /**
     * Returns with the type of the operating system. If it is neither [Windows](isWindows) nor [OS X](isOSX), then
     * it always return with the `Linux` OS type.
     */
    function type() {
        if (exports.isWindows) {
            return Type.Windows;
        }
        if (exports.isOSX) {
            return Type.OSX;
        }
        return Type.Linux;
    }
    OS.type = type;
})(OS = exports.OS || (exports.OS = {}));


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/path.js":
/*!**************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/path.js ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.Path = void 0;
/**
 * On POSIX:
 * 
 *           dir             base    
 *                
 *  root                 name  ext 
 * "  /     home/user/dir / file  .txt "
 * 
 *
 * On Windows:
 * 
 *            dir            base    
 *                
 *  root                 name  ext 
 * "  /c: / home/user/dir / file  .txt "
 * 
 */
class Path {
    /**
     * The raw should be normalized, meaning that only '/' is allowed as a path separator.
     */
    constructor(raw) {
        this.raw = Path.normalizeDrive(raw);
        const firstIndex = raw.indexOf(Path.separator);
        const lastIndex = raw.lastIndexOf(Path.separator);
        this.isAbsolute = firstIndex === 0;
        this.base = lastIndex === -1 ? raw : raw.substr(lastIndex + 1);
        this.isRoot = this.isAbsolute && firstIndex === lastIndex && (!this.base || Path.isDrive(this.base));
        this.root = this.computeRoot();
        const extIndex = this.base.lastIndexOf('.');
        this.name = extIndex === -1 ? this.base : this.base.substr(0, extIndex);
        this.ext = extIndex === -1 ? '' : this.base.substr(extIndex);
    }
    static isDrive(segment) {
        return segment.endsWith(':');
    }
    /**
     * vscode-uri always normalizes drive letters to lower case:
     * https://github.com/Microsoft/vscode-uri/blob/b1d3221579f97f28a839b6f996d76fc45e9964d8/src/index.ts#L1025
     * Theia path should be adjusted to this.
     */
    static normalizeDrive(path) {
        // lower-case windows drive letters in /C:/fff or C:/fff
        if (path.length >= 3 && path.charCodeAt(0) === 47 /* '/' */ && path.charCodeAt(2) === 58 /* ':' */) {
            const code = path.charCodeAt(1);
            if (code >= 65 /* A */ && code <= 90 /* Z */) {
                path = `/${String.fromCharCode(code + 32)}:${path.substr(3)}`; // "/c:".length === 3
            }
        }
        else if (path.length >= 2 && path.charCodeAt(1) === 58 /* ':' */) {
            const code = path.charCodeAt(0);
            if (code >= 65 /* A */ && code <= 90 /* Z */) {
                path = `${String.fromCharCode(code + 32)}:${path.substr(2)}`; // "/c:".length === 3
            }
        }
        return path;
    }
    /**
     * Tildify path, replacing `home` with `~` if user's `home` is present at the beginning of the path.
     * This is a non-operation for Windows.
     *
     * @param resourcePath
     * @param home
     */
    static tildify(resourcePath, home) {
        const path = new Path(resourcePath);
        const isWindows = path.root && Path.isDrive(path.root.base);
        if (!isWindows && home && resourcePath.indexOf(`${home}/`) === 0) {
            return resourcePath.replace(`${home}/`, '~/');
        }
        return resourcePath;
    }
    /**
     * Untildify path, replacing `~` with `home` if `~` present at the beginning of the path.
     * This is a non-operation for Windows.
     *
     * @param resourcePath
     * @param home
     */
    static untildify(resourcePath, home) {
        if (resourcePath.startsWith('~')) {
            const untildifiedResource = resourcePath.replace(/^~/, home);
            const untildifiedPath = new Path(untildifiedResource);
            const isWindows = untildifiedPath.root && Path.isDrive(untildifiedPath.root.base);
            if (!isWindows && home && untildifiedResource.startsWith(`${home}`)) {
                return untildifiedResource;
            }
        }
        return resourcePath;
    }
    computeRoot() {
        // '/' -> '/'
        // '/c:' -> '/c:'
        if (this.isRoot) {
            return this;
        }
        // 'foo/bar' -> `undefined`
        if (!this.isAbsolute) {
            return undefined;
        }
        const index = this.raw.indexOf(Path.separator, Path.separator.length);
        if (index === -1) {
            // '/foo/bar' -> '/'
            return new Path(Path.separator);
        }
        // '/c:/foo/bar' -> '/c:'
        // '/foo/bar' -> '/'
        return new Path(this.raw.substr(0, index)).root;
    }
    /**
     * Returns the parent directory if it exists (`hasDir === true`) or `this` otherwise.
     */
    get dir() {
        if (this._dir === undefined) {
            this._dir = this.computeDir();
        }
        return this._dir;
    }
    /**
     * Returns `true` if this has a parent directory, `false` otherwise.
     *
     * _This implementation returns `true` if and only if this is not the root dir and
     * there is a path separator in the raw path._
     */
    get hasDir() {
        return !this.isRoot && this.raw.lastIndexOf(Path.separator) !== -1;
    }
    computeDir() {
        if (!this.hasDir) {
            return this;
        }
        const lastIndex = this.raw.lastIndexOf(Path.separator);
        if (this.isAbsolute) {
            const firstIndex = this.raw.indexOf(Path.separator);
            if (firstIndex === lastIndex) {
                return new Path(this.raw.substr(0, firstIndex + 1));
            }
        }
        return new Path(this.raw.substr(0, lastIndex));
    }
    join(...paths) {
        const relativePath = paths.filter(s => !!s).join(Path.separator);
        if (!relativePath) {
            return this;
        }
        if (this.raw.endsWith(Path.separator)) {
            return new Path(this.raw + relativePath);
        }
        return new Path(this.raw + Path.separator + relativePath);
    }
    toString() {
        return this.raw;
    }
    relative(path) {
        if (this.raw === path.raw) {
            return new Path('');
        }
        if (!this.raw || !path.raw) {
            return undefined;
        }
        const raw = this.base ? this.raw + Path.separator : this.raw;
        if (!path.raw.startsWith(raw)) {
            return undefined;
        }
        const relativePath = path.raw.substr(raw.length);
        return new Path(relativePath);
    }
    isEqualOrParent(path) {
        return !!this.relative(path);
    }
    relativity(path) {
        const relative = this.relative(path);
        if (relative) {
            const relativeStr = relative.toString();
            if (relativeStr === '') {
                return 0;
            }
            return relativeStr.split(Path.separator).length;
        }
        return -1;
    }
    /*
     * return a normalized Path, resolving '..' and '.' segments
     */
    normalize() {
        const trailingSlash = this.raw.endsWith('/');
        const pathArray = this.toString().split('/');
        const resultArray = [];
        pathArray.forEach((value, index) => {
            if (!value || value === '.') {
                return;
            }
            if (value === '..') {
                if (resultArray.length && resultArray[resultArray.length - 1] !== '..') {
                    resultArray.pop();
                }
                else if (!this.isAbsolute) {
                    resultArray.push('..');
                }
            }
            else {
                resultArray.push(value);
            }
        });
        if (resultArray.length === 0) {
            if (this.isRoot) {
                return new Path('/');
            }
            else {
                return new Path('.');
            }
        }
        return new Path((this.isAbsolute ? '/' : '') + resultArray.join('/') + (trailingSlash ? '/' : ''));
    }
}
exports.Path = Path;
Path.separator = '/';


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/preferences/preference-schema.js":
/*!***************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/preferences/preference-schema.js ***!
  \***************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2019 Ericsson and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.PreferenceDataProperty = exports.PreferenceSchemaProperties = exports.PreferenceSchema = void 0;
/* eslint-disable @typescript-eslint/no-explicit-any */
const preference_scope_1 = __webpack_require__(/*! ./preference-scope */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/preferences/preference-scope.js");
var PreferenceSchema;
(function (PreferenceSchema) {
    function is(obj) {
        return !!obj && ('properties' in obj) && PreferenceSchemaProperties.is(obj['properties']);
    }
    PreferenceSchema.is = is;
    function getDefaultScope(schema) {
        let defaultScope = preference_scope_1.PreferenceScope.Workspace;
        if (!preference_scope_1.PreferenceScope.is(schema.scope)) {
            defaultScope = preference_scope_1.PreferenceScope.fromString(schema.scope) || preference_scope_1.PreferenceScope.Workspace;
        }
        else {
            defaultScope = schema.scope;
        }
        return defaultScope;
    }
    PreferenceSchema.getDefaultScope = getDefaultScope;
})(PreferenceSchema = exports.PreferenceSchema || (exports.PreferenceSchema = {}));
var PreferenceSchemaProperties;
(function (PreferenceSchemaProperties) {
    function is(obj) {
        return !!obj && typeof obj === 'object';
    }
    PreferenceSchemaProperties.is = is;
})(PreferenceSchemaProperties = exports.PreferenceSchemaProperties || (exports.PreferenceSchemaProperties = {}));
var PreferenceDataProperty;
(function (PreferenceDataProperty) {
    function fromPreferenceSchemaProperty(schemaProps, defaultScope = preference_scope_1.PreferenceScope.Workspace) {
        if (!schemaProps.scope) {
            schemaProps.scope = defaultScope;
        }
        else if (typeof schemaProps.scope === 'string') {
            return Object.assign(schemaProps, { scope: preference_scope_1.PreferenceScope.fromString(schemaProps.scope) || defaultScope });
        }
        return schemaProps;
    }
    PreferenceDataProperty.fromPreferenceSchemaProperty = fromPreferenceSchemaProperty;
})(PreferenceDataProperty = exports.PreferenceDataProperty || (exports.PreferenceDataProperty = {}));


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/preferences/preference-scope.js":
/*!**************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/preferences/preference-scope.js ***!
  \**************************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2019 Ericsson and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.PreferenceScope = void 0;
/* eslint-disable @typescript-eslint/no-explicit-any */
var PreferenceScope;
(function (PreferenceScope) {
    PreferenceScope[PreferenceScope["Default"] = 0] = "Default";
    PreferenceScope[PreferenceScope["User"] = 1] = "User";
    PreferenceScope[PreferenceScope["Workspace"] = 2] = "Workspace";
    PreferenceScope[PreferenceScope["Folder"] = 3] = "Folder";
})(PreferenceScope = exports.PreferenceScope || (exports.PreferenceScope = {}));
(function (PreferenceScope) {
    function is(scope) {
        return typeof scope === 'number' && getScopes().findIndex(s => s === scope) >= 0;
    }
    PreferenceScope.is = is;
    /**
     * @returns preference scopes from broadest to narrowest: Default -> Folder.
     */
    function getScopes() {
        return Object.keys(PreferenceScope)
            .filter(k => typeof PreferenceScope[k] === 'string')
            .map(v => Number(v));
    }
    PreferenceScope.getScopes = getScopes;
    /**
     * @returns preference scopes from narrowest to broadest. Folder -> Default.
     */
    function getReversedScopes() {
        return getScopes().reverse();
    }
    PreferenceScope.getReversedScopes = getReversedScopes;
    function getScopeNames(scope) {
        const names = [];
        const allNames = Object.keys(PreferenceScope)
            .filter(k => typeof PreferenceScope[k] === 'number');
        if (scope) {
            for (const name of allNames) {
                if (PreferenceScope[name] <= scope) {
                    names.push(name);
                }
            }
        }
        return names;
    }
    PreferenceScope.getScopeNames = getScopeNames;
    function fromString(strScope) {
        switch (strScope) {
            case 'application':
                return PreferenceScope.User;
            case 'window':
                return PreferenceScope.Folder;
            case 'resource':
                return PreferenceScope.Folder;
            case 'language-overridable':
                return PreferenceScope.Folder;
        }
    }
    PreferenceScope.fromString = fromString;
})(PreferenceScope = exports.PreferenceScope || (exports.PreferenceScope = {}));


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/progress-service-protocol.js":
/*!***********************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/progress-service-protocol.js ***!
  \***********************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2019 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ProgressClient = void 0;
exports.ProgressClient = Symbol('ProgressClient');


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/progress-service.js":
/*!**************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/progress-service.js ***!
  \**************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2019 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ProgressService = void 0;
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const message_service_protocol_1 = __webpack_require__(/*! ./message-service-protocol */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/message-service-protocol.js");
const cancellation_1 = __webpack_require__(/*! ./cancellation */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/cancellation.js");
const progress_service_protocol_1 = __webpack_require__(/*! ./progress-service-protocol */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/progress-service-protocol.js");
const message_service_1 = __webpack_require__(/*! ./message-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/message-service.js");
let ProgressService = class ProgressService {
    constructor() {
        this.progressIdPrefix = Math.random().toString(36).substring(5);
        this.counter = 0;
    }
    async showProgress(message, onDidCancel) {
        if (this.shouldDelegate(message)) {
            return this.messageService.showProgress(message, onDidCancel);
        }
        const id = this.newProgressId();
        const cancellationSource = new cancellation_1.CancellationTokenSource();
        const report = (update) => {
            this.client.reportProgress(id, update, message, cancellationSource.token);
        };
        const actions = new Set(message.actions);
        if (message_service_protocol_1.ProgressMessage.isCancelable(message)) {
            actions.delete(message_service_protocol_1.ProgressMessage.Cancel);
            actions.add(message_service_protocol_1.ProgressMessage.Cancel);
        }
        const clientMessage = Object.assign(Object.assign({}, message), { actions: Array.from(actions) });
        const result = this.client.showProgress(id, clientMessage, cancellationSource.token);
        if (message_service_protocol_1.ProgressMessage.isCancelable(message) && typeof onDidCancel === 'function') {
            result.then(value => {
                if (value === message_service_protocol_1.ProgressMessage.Cancel) {
                    onDidCancel();
                }
            });
        }
        return {
            id,
            cancel: () => cancellationSource.cancel(),
            result,
            report
        };
    }
    shouldDelegate(message) {
        const location = message.options && message.options.location;
        return location === 'notification';
    }
    newProgressId() {
        return `${this.progressIdPrefix}-${++this.counter}`;
    }
    async withProgress(text, locationId, task) {
        const progress = await this.showProgress({ text, options: { cancelable: true, location: locationId } });
        try {
            return await task();
        }
        finally {
            progress.cancel();
        }
    }
};
__decorate([
    inversify_1.inject(progress_service_protocol_1.ProgressClient),
    __metadata("design:type", Object)
], ProgressService.prototype, "client", void 0);
__decorate([
    inversify_1.inject(message_service_1.MessageService),
    __metadata("design:type", message_service_1.MessageService)
], ProgressService.prototype, "messageService", void 0);
ProgressService = __decorate([
    inversify_1.injectable()
], ProgressService);
exports.ProgressService = ProgressService;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/promise-util.js":
/*!**********************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/promise-util.js ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.wait = exports.delay = exports.retry = exports.timeout = exports.Deferred = void 0;
const cancellation_1 = __webpack_require__(/*! ./cancellation */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/cancellation.js");
/**
 * Simple implementation of the deferred pattern.
 * An object that exposes a promise and functions to resolve and reject it.
 */
class Deferred {
    constructor() {
        this.state = 'unresolved';
        this.promise = new Promise((resolve, reject) => {
            this.resolve = result => {
                resolve(result);
                if (this.state === 'unresolved') {
                    this.state = 'resolved';
                }
            };
            this.reject = err => {
                reject(err);
                if (this.state === 'unresolved') {
                    this.state = 'rejected';
                }
            };
        });
    }
}
exports.Deferred = Deferred;
/**
 * @returns resolves after a specified number of milliseconds
 * @throws cancelled if a given token is cancelled before a specified number of milliseconds
 */
function timeout(ms, token = cancellation_1.CancellationToken.None) {
    const deferred = new Deferred();
    const handle = setTimeout(() => deferred.resolve(), ms);
    token.onCancellationRequested(() => {
        clearTimeout(handle);
        deferred.reject(cancellation_1.cancelled());
    });
    return deferred.promise;
}
exports.timeout = timeout;
async function retry(task, retryDelay, retries) {
    let lastError;
    for (let i = 0; i < retries; i++) {
        try {
            return await task();
        }
        catch (error) {
            lastError = error;
            await timeout(retryDelay);
        }
    }
    throw lastError;
}
exports.retry = retry;
/**
 * A function to allow a promise resolution to be delayed by a number of milliseconds. Usage is as follows:
 *
 * `const stringValue = await myPromise.then(delay(600)).then(value => value.toString());`
 *
 * @param ms the number of millisecond to delay
 * @returns a function that returns a promise that returns the given value, but delayed
 */
function delay(ms) {
    return value => new Promise((resolve, reject) => { setTimeout(() => resolve(value), ms); });
}
exports.delay = delay;
/**
 * Constructs a promise that will resolve after a given delay.
 * @param ms the number of milliseconds to wait
 */
async function wait(ms) {
    await delay(ms)(undefined);
}
exports.wait = wait;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/reference.js":
/*!*******************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/reference.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.SyncReferenceCollection = exports.ReferenceCollection = exports.AbstractReferenceCollection = void 0;
const disposable_1 = __webpack_require__(/*! ./disposable */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/disposable.js");
const event_1 = __webpack_require__(/*! ./event */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/event.js");
class AbstractReferenceCollection {
    constructor() {
        this._keys = new Map();
        this._values = new Map();
        this.references = new Map();
        this.onDidCreateEmitter = new event_1.Emitter();
        this.onDidCreate = this.onDidCreateEmitter.event;
        this.onWillDisposeEmitter = new event_1.Emitter();
        this.onWillDispose = this.onWillDisposeEmitter.event;
        this.toDispose = new disposable_1.DisposableCollection();
        this.toDispose.push(this.onDidCreateEmitter);
        this.toDispose.push(this.onWillDisposeEmitter);
        this.toDispose.push(disposable_1.Disposable.create(() => this.clear()));
    }
    dispose() {
        this.toDispose.dispose();
    }
    clear() {
        for (const value of this._values.values()) {
            try {
                value.dispose();
            }
            catch (e) {
                console.error(e);
            }
        }
    }
    has(args) {
        const key = this.toKey(args);
        return this.references.has(key);
    }
    keys() {
        return [...this._keys.values()];
    }
    values() {
        return [...this._values.values()];
    }
    get(args) {
        const key = this.toKey(args);
        return this._values.get(key);
    }
    doAcquire(key, object) {
        const references = this.references.get(key) || this.createReferences(key, object);
        const reference = {
            object,
            dispose: () => { }
        };
        references.push(reference);
        return reference;
    }
    toKey(args) {
        return JSON.stringify(args);
    }
    createReferences(key, value) {
        const references = new disposable_1.DisposableCollection();
        references.onDispose(() => value.dispose());
        const disposeObject = value.dispose.bind(value);
        value.dispose = () => {
            this.onWillDisposeEmitter.fire(value);
            disposeObject();
            this._values.delete(key);
            this._keys.delete(key);
            this.references.delete(key);
            references.dispose();
        };
        this.references.set(key, references);
        return references;
    }
}
exports.AbstractReferenceCollection = AbstractReferenceCollection;
class ReferenceCollection extends AbstractReferenceCollection {
    constructor(factory) {
        super();
        this.factory = factory;
        this.pendingValues = new Map();
    }
    async acquire(args) {
        const key = this.toKey(args);
        const existing = this._values.get(key);
        if (existing) {
            return this.doAcquire(key, existing);
        }
        const object = await this.getOrCreateValue(key, args);
        return this.doAcquire(key, object);
    }
    async getOrCreateValue(key, args) {
        const existing = this.pendingValues.get(key);
        if (existing) {
            return existing;
        }
        const pending = this.factory(args);
        this._keys.set(key, args);
        this.pendingValues.set(key, pending);
        try {
            const value = await pending;
            this._values.set(key, value);
            this.onDidCreateEmitter.fire(value);
            return value;
        }
        catch (e) {
            this._keys.delete(key);
            throw e;
        }
        finally {
            this.pendingValues.delete(key);
        }
    }
}
exports.ReferenceCollection = ReferenceCollection;
class SyncReferenceCollection extends AbstractReferenceCollection {
    constructor(factory) {
        super();
        this.factory = factory;
    }
    acquire(args) {
        const key = this.toKey(args);
        const object = this.getOrCreateValue(key, args);
        return this.doAcquire(key, object);
    }
    getOrCreateValue(key, args) {
        const existing = this._values.get(key);
        if (existing) {
            return existing;
        }
        const value = this.factory(args);
        this._keys.set(key, args);
        this._values.set(key, value);
        this.onDidCreateEmitter.fire(value);
        return value;
    }
}
exports.SyncReferenceCollection = SyncReferenceCollection;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/resource.js":
/*!******************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/resource.js ***!
  \******************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.InMemoryTextResourceResolver = exports.InMemoryTextResource = exports.MEMORY_TEXT = exports.InMemoryResources = exports.ReferenceMutableResource = exports.MutableResource = exports.DefaultResourceProvider = exports.ResourceProvider = exports.ResourceResolver = exports.ResourceError = exports.Resource = void 0;
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const uri_1 = __webpack_require__(/*! ../common/uri */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/uri.js");
const contribution_provider_1 = __webpack_require__(/*! ./contribution-provider */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/contribution-provider.js");
const event_1 = __webpack_require__(/*! ./event */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/event.js");
const application_error_1 = __webpack_require__(/*! ./application-error */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/application-error.js");
const stream_1 = __webpack_require__(/*! ./stream */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/stream.js");
const reference_1 = __webpack_require__(/*! ./reference */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/reference.js");
var Resource;
(function (Resource) {
    async function save(resource, context, token) {
        if (!resource.saveContents) {
            return;
        }
        if (await trySaveContentChanges(resource, context)) {
            return;
        }
        if (token && token.isCancellationRequested) {
            return;
        }
        if (typeof context.content !== 'string' && resource.saveStream) {
            await resource.saveStream(context.content, context.options);
        }
        else {
            const content = typeof context.content === 'string' ? context.content : stream_1.Readable.toString(context.content);
            await resource.saveContents(content, context.options);
        }
    }
    Resource.save = save;
    async function trySaveContentChanges(resource, context) {
        if (!context.changes || !resource.saveContentChanges || shouldSaveContent(resource, context)) {
            return false;
        }
        try {
            await resource.saveContentChanges(context.changes, context.options);
            return true;
        }
        catch (e) {
            if (!ResourceError.NotFound.is(e) && !ResourceError.OutOfSync.is(e)) {
                console.error(`Failed to apply incremental changes to '${resource.uri.toString()}':`, e);
            }
            return false;
        }
    }
    Resource.trySaveContentChanges = trySaveContentChanges;
    function shouldSaveContent(resource, { contentLength, changes }) {
        if (!changes || (resource.saveStream && contentLength > 32 * 1024 * 1024)) {
            return true;
        }
        let contentChangesLength = 0;
        for (const change of changes) {
            contentChangesLength += JSON.stringify(change).length;
            if (contentChangesLength > contentLength) {
                return true;
            }
        }
        return contentChangesLength > contentLength;
    }
    Resource.shouldSaveContent = shouldSaveContent;
})(Resource = exports.Resource || (exports.Resource = {}));
var ResourceError;
(function (ResourceError) {
    ResourceError.NotFound = application_error_1.ApplicationError.declare(-40000, (raw) => raw);
    ResourceError.OutOfSync = application_error_1.ApplicationError.declare(-40001, (raw) => raw);
})(ResourceError = exports.ResourceError || (exports.ResourceError = {}));
exports.ResourceResolver = Symbol('ResourceResolver');
exports.ResourceProvider = Symbol('ResourceProvider');
let DefaultResourceProvider = class DefaultResourceProvider {
    constructor(resolversProvider) {
        this.resolversProvider = resolversProvider;
    }
    /**
     * Reject if a resource cannot be provided.
     */
    async get(uri) {
        const resolvers = this.resolversProvider.getContributions();
        for (const resolver of resolvers) {
            try {
                return await resolver.resolve(uri);
            }
            catch (err) {
                // no-op
            }
        }
        return Promise.reject(new Error(`A resource provider for '${uri.toString()}' is not registered.`));
    }
};
DefaultResourceProvider = __decorate([
    inversify_1.injectable(),
    __param(0, inversify_1.inject(contribution_provider_1.ContributionProvider)), __param(0, inversify_1.named(exports.ResourceResolver)),
    __metadata("design:paramtypes", [Object])
], DefaultResourceProvider);
exports.DefaultResourceProvider = DefaultResourceProvider;
class MutableResource {
    constructor(uri) {
        this.uri = uri;
        this.contents = '';
        this.onDidChangeContentsEmitter = new event_1.Emitter();
        this.onDidChangeContents = this.onDidChangeContentsEmitter.event;
    }
    dispose() { }
    async readContents() {
        return this.contents;
    }
    async saveContents(contents) {
        this.contents = contents;
        this.fireDidChangeContents();
    }
    fireDidChangeContents() {
        this.onDidChangeContentsEmitter.fire(undefined);
    }
}
exports.MutableResource = MutableResource;
class ReferenceMutableResource {
    constructor(reference) {
        this.reference = reference;
    }
    get uri() {
        return this.reference.object.uri;
    }
    get onDidChangeContents() {
        return this.reference.object.onDidChangeContents;
    }
    dispose() {
        this.reference.dispose();
    }
    readContents() {
        return this.reference.object.readContents();
    }
    saveContents(contents) {
        return this.reference.object.saveContents(contents);
    }
}
exports.ReferenceMutableResource = ReferenceMutableResource;
let InMemoryResources = class InMemoryResources {
    constructor() {
        this.resources = new reference_1.SyncReferenceCollection(uri => new MutableResource(new uri_1.default(uri)));
    }
    add(uri, contents) {
        const resourceUri = uri.toString();
        if (this.resources.has(resourceUri)) {
            throw new Error(`Cannot add already existing in-memory resource '${resourceUri}'`);
        }
        const resource = this.acquire(resourceUri);
        resource.saveContents(contents);
        return resource;
    }
    update(uri, contents) {
        const resourceUri = uri.toString();
        const resource = this.resources.get(resourceUri);
        if (!resource) {
            throw new Error(`Cannot update non-existed in-memory resource '${resourceUri}'`);
        }
        resource.saveContents(contents);
        return resource;
    }
    resolve(uri) {
        const uriString = uri.toString();
        if (!this.resources.has(uriString)) {
            throw new Error(`In memory '${uriString}' resource does not exist.`);
        }
        return this.acquire(uriString);
    }
    acquire(uri) {
        const reference = this.resources.acquire(uri);
        return new ReferenceMutableResource(reference);
    }
};
InMemoryResources = __decorate([
    inversify_1.injectable()
], InMemoryResources);
exports.InMemoryResources = InMemoryResources;
exports.MEMORY_TEXT = 'mem-txt';
/**
 * Resource implementation for 'mem-txt' URI scheme where content is saved in URI query.
 */
class InMemoryTextResource {
    constructor(uri) {
        this.uri = uri;
    }
    async readContents(options) {
        return this.uri.query;
    }
    dispose() { }
}
exports.InMemoryTextResource = InMemoryTextResource;
/**
 * ResourceResolver implementation for 'mem-txt' URI scheme.
 */
let InMemoryTextResourceResolver = class InMemoryTextResourceResolver {
    resolve(uri) {
        if (uri.scheme !== exports.MEMORY_TEXT) {
            throw new Error(`Expected a URI with ${exports.MEMORY_TEXT} scheme. Was: ${uri}.`);
        }
        return new InMemoryTextResource(uri);
    }
};
InMemoryTextResourceResolver = __decorate([
    inversify_1.injectable()
], InMemoryTextResourceResolver);
exports.InMemoryTextResourceResolver = InMemoryTextResourceResolver;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/selection-service.js":
/*!***************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/selection-service.js ***!
  \***************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.SelectionService = void 0;
const inversify_1 = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");
const event_1 = __webpack_require__(/*! ../common/event */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/event.js");
let SelectionService = class SelectionService {
    constructor() {
        this.onSelectionChangedEmitter = new event_1.Emitter();
        this.onSelectionChanged = this.onSelectionChangedEmitter.event;
    }
    get selection() {
        return this.currentSelection;
    }
    set selection(selection) {
        this.currentSelection = selection;
        this.onSelectionChangedEmitter.fire(this.currentSelection);
    }
};
SelectionService = __decorate([
    inversify_1.injectable()
], SelectionService);
exports.SelectionService = SelectionService;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/selection.js":
/*!*******************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/selection.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.UriSelection = void 0;
const uri_1 = __webpack_require__(/*! ./uri */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/uri.js");
var UriSelection;
(function (UriSelection) {
    function is(arg) {
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        return typeof arg === 'object' && ('uri' in arg) && arg['uri'] instanceof uri_1.default;
    }
    UriSelection.is = is;
    function getUri(selection) {
        if (is(selection)) {
            return selection.uri;
        }
        if (Array.isArray(selection) && is(selection[0])) {
            return selection[0].uri;
        }
        return undefined;
    }
    UriSelection.getUri = getUri;
    function getUris(selection) {
        if (is(selection)) {
            return [selection.uri];
        }
        if (Array.isArray(selection)) {
            return selection.filter(is).map(s => s.uri);
        }
        return [];
    }
    UriSelection.getUris = getUris;
})(UriSelection = exports.UriSelection || (exports.UriSelection = {}));


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/stream.js":
/*!****************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/stream.js ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2020 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.transform = exports.toReadable = exports.toStream = exports.consumeStreamWithLimit = exports.peekStream = exports.consumeStream = exports.peekReadable = exports.consumeReadableWithLimit = exports.consumeReadable = exports.newWriteableStream = exports.isReadableBufferedStream = exports.isReadableStream = exports.Readable = void 0;
// based on https://github.com/microsoft/vscode/blob/04c36be045a94fee58e5f8992d3e3fd980294a84/src/vs/base/common/stream.ts
/* eslint-disable max-len */
/* eslint-disable no-null/no-null */
/* eslint-disable @typescript-eslint/tslint/config */
/* eslint-disable @typescript-eslint/no-explicit-any */
const disposable_1 = __webpack_require__(/*! ./disposable */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/disposable.js");
var Readable;
(function (Readable) {
    function fromString(value) {
        let done = false;
        return {
            read() {
                if (!done) {
                    done = true;
                    return value;
                }
                return null;
            }
        };
    }
    Readable.fromString = fromString;
    function toString(readable) {
        let result = '';
        let chunk;
        while ((chunk = readable.read()) != null) {
            result += chunk;
        }
        return result;
    }
    Readable.toString = toString;
})(Readable = exports.Readable || (exports.Readable = {}));
function isReadableStream(obj) {
    const candidate = obj;
    return candidate && [candidate.on, candidate.pause, candidate.resume, candidate.destroy].every(fn => typeof fn === 'function');
}
exports.isReadableStream = isReadableStream;
function isReadableBufferedStream(obj) {
    const candidate = obj;
    return candidate && isReadableStream(candidate.stream) && Array.isArray(candidate.buffer) && typeof candidate.ended === 'boolean';
}
exports.isReadableBufferedStream = isReadableBufferedStream;
function newWriteableStream(reducer, options) {
    return new WriteableStreamImpl(reducer);
}
exports.newWriteableStream = newWriteableStream;
class WriteableStreamImpl {
    constructor(reducer, options) {
        this.reducer = reducer;
        this.options = options;
        this.state = {
            flowing: false,
            ended: false,
            destroyed: false
        };
        this.buffer = {
            data: [],
            error: []
        };
        this.listeners = {
            data: [],
            error: [],
            end: []
        };
        this.pendingWritePromises = [];
    }
    pause() {
        if (this.state.destroyed) {
            return;
        }
        this.state.flowing = false;
    }
    resume() {
        if (this.state.destroyed) {
            return;
        }
        if (!this.state.flowing) {
            this.state.flowing = true;
            // emit buffered events
            this.flowData();
            this.flowErrors();
            this.flowEnd();
        }
    }
    write(data) {
        var _a;
        if (this.state.destroyed) {
            return;
        }
        // flowing: directly send the data to listeners
        if (this.state.flowing) {
            this.listeners.data.forEach(listener => listener(data));
        }
        // not yet flowing: buffer data until flowing
        else {
            this.buffer.data.push(data);
            // highWaterMark: if configured, signal back when buffer reached limits
            if (typeof ((_a = this.options) === null || _a === void 0 ? void 0 : _a.highWaterMark) === 'number' && this.buffer.data.length > this.options.highWaterMark) {
                return new Promise(resolve => this.pendingWritePromises.push(resolve));
            }
        }
    }
    error(error) {
        if (this.state.destroyed) {
            return;
        }
        // flowing: directly send the error to listeners
        if (this.state.flowing) {
            this.listeners.error.forEach(listener => listener(error));
        }
        // not yet flowing: buffer errors until flowing
        else {
            this.buffer.error.push(error);
        }
    }
    end(result) {
        if (this.state.destroyed) {
            return;
        }
        // end with data or error if provided
        if (result instanceof Error) {
            this.error(result);
        }
        else if (result) {
            this.write(result);
        }
        // flowing: send end event to listeners
        if (this.state.flowing) {
            this.listeners.end.forEach(listener => listener());
            this.destroy();
        }
        // not yet flowing: remember state
        else {
            this.state.ended = true;
        }
    }
    on(event, callback) {
        if (this.state.destroyed) {
            return;
        }
        switch (event) {
            case 'data':
                this.listeners.data.push(callback);
                // switch into flowing mode as soon as the first 'data'
                // listener is added and we are not yet in flowing mode
                this.resume();
                break;
            case 'end':
                this.listeners.end.push(callback);
                // emit 'end' event directly if we are flowing
                // and the end has already been reached
                //
                // finish() when it went through
                if (this.state.flowing && this.flowEnd()) {
                    this.destroy();
                }
                break;
            case 'error':
                this.listeners.error.push(callback);
                // emit buffered 'error' events unless done already
                // now that we know that we have at least one listener
                if (this.state.flowing) {
                    this.flowErrors();
                }
                break;
        }
    }
    removeListener(event, callback) {
        if (this.state.destroyed) {
            return;
        }
        let listeners = undefined;
        switch (event) {
            case 'data':
                listeners = this.listeners.data;
                break;
            case 'end':
                listeners = this.listeners.end;
                break;
            case 'error':
                listeners = this.listeners.error;
                break;
        }
        if (listeners) {
            const index = listeners.indexOf(callback);
            if (index >= 0) {
                listeners.splice(index, 1);
            }
        }
    }
    flowData() {
        if (this.buffer.data.length > 0) {
            const fullDataBuffer = this.reducer(this.buffer.data);
            this.listeners.data.forEach(listener => listener(fullDataBuffer));
            this.buffer.data.length = 0;
            // When the buffer is empty, resolve all pending writers
            const pendingWritePromises = [...this.pendingWritePromises];
            this.pendingWritePromises.length = 0;
            pendingWritePromises.forEach(pendingWritePromise => pendingWritePromise());
        }
    }
    flowErrors() {
        if (this.listeners.error.length > 0) {
            for (const error of this.buffer.error) {
                this.listeners.error.forEach(listener => listener(error));
            }
            this.buffer.error.length = 0;
        }
    }
    flowEnd() {
        if (this.state.ended) {
            this.listeners.end.forEach(listener => listener());
            return this.listeners.end.length > 0;
        }
        return false;
    }
    destroy() {
        if (!this.state.destroyed) {
            this.state.destroyed = true;
            this.state.ended = true;
            this.buffer.data.length = 0;
            this.buffer.error.length = 0;
            this.listeners.data.length = 0;
            this.listeners.error.length = 0;
            this.listeners.end.length = 0;
            this.pendingWritePromises.length = 0;
        }
    }
}
/**
 * Helper to fully read a T readable into a T.
 */
function consumeReadable(readable, reducer) {
    const chunks = [];
    let chunk;
    while ((chunk = readable.read()) !== null) {
        chunks.push(chunk);
    }
    return reducer(chunks);
}
exports.consumeReadable = consumeReadable;
/**
 * Helper to read a T readable up to a maximum of chunks. If the limit is
 * reached, will return a readable instead to ensure all data can still
 * be read.
 */
function consumeReadableWithLimit(readable, reducer, maxChunks) {
    const chunks = [];
    let chunk = undefined;
    while ((chunk = readable.read()) !== null && chunks.length < maxChunks) {
        chunks.push(chunk);
    }
    // If the last chunk is null, it means we reached the end of
    // the readable and return all the data at once
    if (chunk === null && chunks.length > 0) {
        return reducer(chunks);
    }
    // Otherwise, we still have a chunk, it means we reached the maxChunks
    // value and as such we return a new Readable that first returns
    // the existing read chunks and then continues with reading from
    // the underlying readable.
    return {
        read: () => {
            // First consume chunks from our array
            if (chunks.length > 0) {
                return chunks.shift();
            }
            // Then ensure to return our last read chunk
            if (typeof chunk !== 'undefined') {
                const lastReadChunk = chunk;
                // explicitly use undefined here to indicate that we consumed
                // the chunk, which could have either been null or valued.
                chunk = undefined;
                return lastReadChunk;
            }
            // Finally delegate back to the Readable
            return readable.read();
        }
    };
}
exports.consumeReadableWithLimit = consumeReadableWithLimit;
/**
 * Helper to read a T readable up to a maximum of chunks. If the limit is
 * reached, will return a readable instead to ensure all data can still
 * be read.
 */
function peekReadable(readable, reducer, maxChunks) {
    const chunks = [];
    let chunk = undefined;
    while ((chunk = readable.read()) !== null && chunks.length < maxChunks) {
        chunks.push(chunk);
    }
    // If the last chunk is null, it means we reached the end of
    // the readable and return all the data at once
    if (chunk === null && chunks.length > 0) {
        return reducer(chunks);
    }
    // Otherwise, we still have a chunk, it means we reached the maxChunks
    // value and as such we return a new Readable that first returns
    // the existing read chunks and then continues with reading from
    // the underlying readable.
    return {
        read: () => {
            // First consume chunks from our array
            if (chunks.length > 0) {
                return chunks.shift();
            }
            // Then ensure to return our last read chunk
            if (typeof chunk !== 'undefined') {
                const lastReadChunk = chunk;
                // explicitly use undefined here to indicate that we consumed
                // the chunk, which could have either been null or valued.
                chunk = undefined;
                return lastReadChunk;
            }
            // Finally delegate back to the Readable
            return readable.read();
        }
    };
}
exports.peekReadable = peekReadable;
/**
 * Helper to fully read a T stream into a T.
 */
function consumeStream(stream, reducer) {
    return new Promise((resolve, reject) => {
        const chunks = [];
        stream.on('data', data => chunks.push(data));
        stream.on('error', error => reject(error));
        stream.on('end', () => resolve(reducer(chunks)));
    });
}
exports.consumeStream = consumeStream;
/**
 * Helper to peek up to `maxChunks` into a stream. The return type signals if
 * the stream has ended or not. If not, caller needs to add a `data` listener
 * to continue reading.
 */
function peekStream(stream, maxChunks) {
    return new Promise((resolve, reject) => {
        const streamListeners = new disposable_1.DisposableCollection();
        // Data Listener
        const buffer = [];
        const dataListener = (chunk) => {
            // Add to buffer
            buffer.push(chunk);
            // We reached maxChunks and thus need to return
            if (buffer.length > maxChunks) {
                // Dispose any listeners and ensure to pause the
                // stream so that it can be consumed again by caller
                streamListeners.dispose();
                stream.pause();
                return resolve({ stream, buffer, ended: false });
            }
        };
        streamListeners.push(disposable_1.Disposable.create(() => stream.removeListener('data', dataListener)));
        stream.on('data', dataListener);
        // Error Listener
        const errorListener = (error) => reject(error);
        streamListeners.push(disposable_1.Disposable.create(() => stream.removeListener('error', errorListener)));
        stream.on('error', errorListener);
        const endListener = () => resolve({ stream, buffer, ended: true });
        streamListeners.push(disposable_1.Disposable.create(() => stream.removeListener('end', endListener)));
        stream.on('end', endListener);
    });
}
exports.peekStream = peekStream;
/**
 * Helper to read a T stream up to a maximum of chunks. If the limit is
 * reached, will return a stream instead to ensure all data can still
 * be read.
 */
function consumeStreamWithLimit(stream, reducer, maxChunks) {
    return new Promise((resolve, reject) => {
        const chunks = [];
        let wrapperStream = undefined;
        stream.on('data', data => {
            // If we reach maxChunks, we start to return a stream
            // and make sure that any data we have already read
            // is in it as well
            if (!wrapperStream && chunks.length === maxChunks) {
                wrapperStream = newWriteableStream(reducer);
                while (chunks.length) {
                    wrapperStream.write(chunks.shift());
                }
                wrapperStream.write(data);
                return resolve(wrapperStream);
            }
            if (wrapperStream) {
                wrapperStream.write(data);
            }
            else {
                chunks.push(data);
            }
        });
        stream.on('error', error => {
            if (wrapperStream) {
                wrapperStream.error(error);
            }
            else {
                return reject(error);
            }
        });
        stream.on('end', () => {
            if (wrapperStream) {
                while (chunks.length) {
                    wrapperStream.write(chunks.shift());
                }
                wrapperStream.end();
            }
            else {
                return resolve(reducer(chunks));
            }
        });
    });
}
exports.consumeStreamWithLimit = consumeStreamWithLimit;
/**
 * Helper to create a readable stream from an existing T.
 */
function toStream(t, reducer) {
    const stream = newWriteableStream(reducer);
    stream.end(t);
    return stream;
}
exports.toStream = toStream;
/**
 * Helper to convert a T into a Readable<T>.
 */
function toReadable(t) {
    let consumed = false;
    return {
        read: () => {
            if (consumed) {
                return null;
            }
            consumed = true;
            return t;
        }
    };
}
exports.toReadable = toReadable;
/**
 * Helper to transform a readable stream into another stream.
 */
function transform(stream, transformer, reducer) {
    const target = newWriteableStream(reducer);
    stream.on('data', data => target.write(transformer.data(data)));
    stream.on('end', () => target.end());
    stream.on('error', error => target.error(transformer.error ? transformer.error(error) : error));
    return target;
}
exports.transform = transform;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/strings.js":
/*!*****************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/strings.js ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.compareSubstringIgnoreCase = exports.compareIgnoreCase = exports.compareSubstring = exports.compare = exports.unescapeInvisibleChars = exports.escapeInvisibleChars = exports.split = exports.startsWithIgnoreCase = exports.escapeRegExpCharacters = exports.commonPrefixLength = exports.equalsIgnoreCase = exports.isUpperAsciiLetter = exports.isLowerAsciiLetter = exports.endsWith = void 0;
/**
 * Determines if haystack ends with needle.
 */
function endsWith(haystack, needle) {
    const diff = haystack.length - needle.length;
    if (diff > 0) {
        return haystack.indexOf(needle, diff) === diff;
    }
    else if (diff === 0) {
        return haystack === needle;
    }
    else {
        return false;
    }
}
exports.endsWith = endsWith;
function isLowerAsciiLetter(code) {
    return code >= 97 /* a */ && code <= 122 /* z */;
}
exports.isLowerAsciiLetter = isLowerAsciiLetter;
function isUpperAsciiLetter(code) {
    return code >= 65 /* A */ && code <= 90 /* Z */;
}
exports.isUpperAsciiLetter = isUpperAsciiLetter;
function isAsciiLetter(code) {
    return isLowerAsciiLetter(code) || isUpperAsciiLetter(code);
}
function equalsIgnoreCase(a, b) {
    const len1 = a ? a.length : 0;
    const len2 = b ? b.length : 0;
    if (len1 !== len2) {
        return false;
    }
    return doEqualsIgnoreCase(a, b);
}
exports.equalsIgnoreCase = equalsIgnoreCase;
function doEqualsIgnoreCase(a, b, stopAt = a.length) {
    if (typeof a !== 'string' || typeof b !== 'string') {
        return false;
    }
    for (let i = 0; i < stopAt; i++) {
        const codeA = a.charCodeAt(i);
        const codeB = b.charCodeAt(i);
        if (codeA === codeB) {
            continue;
        }
        // a-z A-Z
        if (isAsciiLetter(codeA) && isAsciiLetter(codeB)) {
            const diff = Math.abs(codeA - codeB);
            if (diff !== 0 && diff !== 32) {
                return false;
            }
        }
        // Any other charcode
        // tslint:disable-next-line:one-line
        else {
            if (String.fromCharCode(codeA).toLowerCase() !== String.fromCharCode(codeB).toLowerCase()) {
                return false;
            }
        }
    }
    return true;
}
/**
 * @returns the length of the common prefix of the two strings.
 */
function commonPrefixLength(a, b) {
    let i;
    const len = Math.min(a.length, b.length);
    for (i = 0; i < len; i++) {
        if (a.charCodeAt(i) !== b.charCodeAt(i)) {
            return i;
        }
    }
    return len;
}
exports.commonPrefixLength = commonPrefixLength;
/**
 * Escapes regular expression characters in a given string
 */
function escapeRegExpCharacters(value) {
    return value.replace(/[\-\\\{\}\*\+\?\|\^\$\.\[\]\(\)\#]/g, '\\$&');
}
exports.escapeRegExpCharacters = escapeRegExpCharacters;
function startsWithIgnoreCase(str, candidate) {
    const candidateLength = candidate.length;
    if (candidate.length > str.length) {
        return false;
    }
    return doEqualsIgnoreCase(str, candidate, candidateLength);
}
exports.startsWithIgnoreCase = startsWithIgnoreCase;
function* split(s, splitter) {
    let start = 0;
    while (start < s.length) {
        let end = s.indexOf(splitter, start);
        if (end === -1) {
            end = s.length;
        }
        yield s.substring(start, end);
        start = end + splitter.length;
    }
}
exports.split = split;
function escapeInvisibleChars(value) {
    return value.replace(/\n/g, '\\n').replace(/\r/g, '\\r');
}
exports.escapeInvisibleChars = escapeInvisibleChars;
function unescapeInvisibleChars(value) {
    return value.replace(/\\n/g, '\n').replace(/\\r/g, '\r');
}
exports.unescapeInvisibleChars = unescapeInvisibleChars;
function compare(a, b) {
    if (a < b) {
        return -1;
    }
    else if (a > b) {
        return 1;
    }
    else {
        return 0;
    }
}
exports.compare = compare;
function compareSubstring(a, b, aStart = 0, aEnd = a.length, bStart = 0, bEnd = b.length) {
    for (; aStart < aEnd && bStart < bEnd; aStart++, bStart++) {
        const codeA = a.charCodeAt(aStart);
        const codeB = b.charCodeAt(bStart);
        if (codeA < codeB) {
            return -1;
        }
        else if (codeA > codeB) {
            return 1;
        }
    }
    const aLen = aEnd - aStart;
    const bLen = bEnd - bStart;
    if (aLen < bLen) {
        return -1;
    }
    else if (aLen > bLen) {
        return 1;
    }
    return 0;
}
exports.compareSubstring = compareSubstring;
function compareIgnoreCase(a, b) {
    return compareSubstringIgnoreCase(a, b, 0, a.length, 0, b.length);
}
exports.compareIgnoreCase = compareIgnoreCase;
function compareSubstringIgnoreCase(a, b, aStart = 0, aEnd = a.length, bStart = 0, bEnd = b.length) {
    for (; aStart < aEnd && bStart < bEnd; aStart++, bStart++) {
        const codeA = a.charCodeAt(aStart);
        const codeB = b.charCodeAt(bStart);
        if (codeA === codeB) {
            // equal
            continue;
        }
        const diff = codeA - codeB;
        if (diff === 32 && isUpperAsciiLetter(codeB)) { // codeB =[65-90] && codeA =[97-122]
            continue;
        }
        else if (diff === -32 && isUpperAsciiLetter(codeA)) { // codeB =[97-122] && codeA =[65-90]
            continue;
        }
        if (isLowerAsciiLetter(codeA) && isLowerAsciiLetter(codeB)) {
            //
            return diff;
        }
        else {
            return compareSubstring(a.toLowerCase(), b.toLowerCase(), aStart, aEnd, bStart, bEnd);
        }
    }
    const aLen = aEnd - aStart;
    const bLen = bEnd - bStart;
    if (aLen < bLen) {
        return -1;
    }
    else if (aLen > bLen) {
        return 1;
    }
    return 0;
}
exports.compareSubstringIgnoreCase = compareSubstringIgnoreCase;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/ternary-search-tree.js":
/*!*****************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/ternary-search-tree.js ***!
  \*****************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2020 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.TernarySearchTree = exports.UriIterator = exports.PathIterator = void 0;
const strings_1 = __webpack_require__(/*! ./strings */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/strings.js");
class PathIterator {
    constructor(_splitOnBackslash = true, _caseSensitive = true) {
        this._splitOnBackslash = _splitOnBackslash;
        this._caseSensitive = _caseSensitive;
    }
    reset(key) {
        this._value = key.replace(/\\$|\/$/, '');
        this._from = 0;
        this._to = 0;
        return this.next();
    }
    hasNext() {
        return this._to < this._value.length;
    }
    next() {
        // this._data = key.split(/[\\/]/).filter(s => !!s);
        this._from = this._to;
        let justSeps = true;
        for (; this._to < this._value.length; this._to++) {
            const ch = this._value.charCodeAt(this._to);
            if (ch === 47 /* Slash */ || this._splitOnBackslash && ch === 92 /* Backslash */) {
                if (justSeps) {
                    this._from++;
                }
                else {
                    break;
                }
            }
            else {
                justSeps = false;
            }
        }
        return this;
    }
    cmp(a) {
        return this._caseSensitive
            ? strings_1.compareSubstring(a, this._value, 0, a.length, this._from, this._to)
            : strings_1.compareSubstringIgnoreCase(a, this._value, 0, a.length, this._from, this._to);
    }
    value() {
        return this._value.substring(this._from, this._to);
    }
}
exports.PathIterator = PathIterator;
class UriIterator {
    constructor(caseSensitive) {
        this.caseSensitive = caseSensitive;
        this._states = [];
        this._stateIdx = 0;
    }
    reset(key) {
        this._value = key;
        this._states = [];
        if (this._value.scheme) {
            this._states.push(1 /* Scheme */);
        }
        if (this._value.authority) {
            this._states.push(2 /* Authority */);
        }
        if (this._value.path) {
            this._pathIterator = new PathIterator(false, this.caseSensitive);
            this._pathIterator.reset(key.path.toString());
            if (this._pathIterator.value()) {
                this._states.push(3 /* Path */);
            }
        }
        if (this._value.query) {
            this._states.push(4 /* Query */);
        }
        if (this._value.fragment) {
            this._states.push(5 /* Fragment */);
        }
        this._stateIdx = 0;
        return this;
    }
    next() {
        if (this._states[this._stateIdx] === 3 /* Path */ && this._pathIterator.hasNext()) {
            this._pathIterator.next();
        }
        else {
            this._stateIdx += 1;
        }
        return this;
    }
    hasNext() {
        return (this._states[this._stateIdx] === 3 /* Path */ && this._pathIterator.hasNext())
            || this._stateIdx < this._states.length - 1;
    }
    cmp(a) {
        if (this._states[this._stateIdx] === 1 /* Scheme */) {
            return strings_1.compareSubstringIgnoreCase(a, this._value.scheme);
        }
        else if (this._states[this._stateIdx] === 2 /* Authority */) {
            return strings_1.compareSubstringIgnoreCase(a, this._value.authority);
        }
        else if (this._states[this._stateIdx] === 3 /* Path */) {
            return this._pathIterator.cmp(a);
        }
        else if (this._states[this._stateIdx] === 4 /* Query */) {
            return strings_1.compare(a, this._value.query);
        }
        else if (this._states[this._stateIdx] === 5 /* Fragment */) {
            return strings_1.compare(a, this._value.fragment);
        }
        throw new Error();
    }
    value() {
        if (this._states[this._stateIdx] === 1 /* Scheme */) {
            return this._value.scheme;
        }
        else if (this._states[this._stateIdx] === 2 /* Authority */) {
            return this._value.authority;
        }
        else if (this._states[this._stateIdx] === 3 /* Path */) {
            return this._pathIterator.value();
        }
        else if (this._states[this._stateIdx] === 4 /* Query */) {
            return this._value.query;
        }
        else if (this._states[this._stateIdx] === 5 /* Fragment */) {
            return this._value.fragment;
        }
        throw new Error();
    }
}
exports.UriIterator = UriIterator;
class TernarySearchTreeNode {
    isEmpty() {
        return !this.left && !this.mid && !this.right && !this.value;
    }
}
class TernarySearchTree {
    constructor(segments) {
        this._iter = segments;
    }
    static forUris(caseSensitive) {
        return new TernarySearchTree(new UriIterator(caseSensitive));
    }
    static forPaths() {
        return new TernarySearchTree(new PathIterator());
    }
    clear() {
        this._root = undefined;
    }
    set(key, element) {
        const iter = this._iter.reset(key);
        let node;
        if (!this._root) {
            this._root = new TernarySearchTreeNode();
            this._root.segment = iter.value();
        }
        node = this._root;
        while (true) {
            const val = iter.cmp(node.segment);
            if (val > 0) {
                // left
                if (!node.left) {
                    node.left = new TernarySearchTreeNode();
                    node.left.segment = iter.value();
                }
                node = node.left;
            }
            else if (val < 0) {
                // right
                if (!node.right) {
                    node.right = new TernarySearchTreeNode();
                    node.right.segment = iter.value();
                }
                node = node.right;
            }
            else if (iter.hasNext()) {
                // mid
                iter.next();
                if (!node.mid) {
                    node.mid = new TernarySearchTreeNode();
                    node.mid.segment = iter.value();
                }
                node = node.mid;
            }
            else {
                break;
            }
        }
        const oldElement = node.value;
        node.value = element;
        node.key = key;
        return oldElement;
    }
    get(key) {
        const iter = this._iter.reset(key);
        let node = this._root;
        while (node) {
            const val = iter.cmp(node.segment);
            if (val > 0) {
                // left
                node = node.left;
            }
            else if (val < 0) {
                // right
                node = node.right;
            }
            else if (iter.hasNext()) {
                // mid
                iter.next();
                node = node.mid;
            }
            else {
                break;
            }
        }
        return node ? node.value : undefined;
    }
    delete(key) {
        const iter = this._iter.reset(key);
        const stack = [];
        let node = this._root;
        // find and unset node
        while (node) {
            const val = iter.cmp(node.segment);
            if (val > 0) {
                // left
                stack.push([1, node]);
                node = node.left;
            }
            else if (val < 0) {
                // right
                stack.push([-1, node]);
                node = node.right;
            }
            else if (iter.hasNext()) {
                // mid
                iter.next();
                stack.push([0, node]);
                node = node.mid;
            }
            else {
                // remove element
                node.value = undefined;
                // clean up empty nodes
                while (stack.length > 0 && node.isEmpty()) {
                    const [dir, parent] = stack.pop();
                    switch (dir) {
                        case 1:
                            parent.left = undefined;
                            break;
                        case 0:
                            parent.mid = undefined;
                            break;
                        case -1:
                            parent.right = undefined;
                            break;
                    }
                    node = parent;
                }
                break;
            }
        }
    }
    findSubstr(key) {
        const iter = this._iter.reset(key);
        let node = this._root;
        let candidate = undefined;
        while (node) {
            const val = iter.cmp(node.segment);
            if (val > 0) {
                // left
                node = node.left;
            }
            else if (val < 0) {
                // right
                node = node.right;
            }
            else if (iter.hasNext()) {
                // mid
                iter.next();
                candidate = node.value || candidate;
                node = node.mid;
            }
            else {
                break;
            }
        }
        return node && node.value || candidate;
    }
    findSuperstr(key) {
        const iter = this._iter.reset(key);
        let node = this._root;
        while (node) {
            const val = iter.cmp(node.segment);
            if (val > 0) {
                // left
                node = node.left;
            }
            else if (val < 0) {
                // right
                node = node.right;
            }
            else if (iter.hasNext()) {
                // mid
                iter.next();
                node = node.mid;
            }
            else {
                // collect
                if (!node.mid) {
                    return undefined;
                }
                else {
                    return this._nodeIterator(node.mid);
                }
            }
        }
        return undefined;
    }
    _nodeIterator(node) {
        let res;
        let idx;
        let data;
        const next = () => {
            if (!data) {
                // lazy till first invocation
                data = [];
                idx = 0;
                this._forEach(node, value => data.push(value));
            }
            if (idx >= data.length) {
                return { done: true, value: undefined };
            }
            if (!res) {
                res = { done: false, value: data[idx++] };
            }
            else {
                res.value = data[idx++];
            }
            return res;
        };
        return { next };
    }
    forEach(callback) {
        this._forEach(this._root, callback);
    }
    _forEach(node, callback) {
        if (node) {
            // left
            this._forEach(node.left, callback);
            // node
            if (node.value) {
                // callback(node.value, this._iter.join(parts));
                callback(node.value, node.key);
            }
            // mid
            this._forEach(node.mid, callback);
            // right
            this._forEach(node.right, callback);
        }
    }
}
exports.TernarySearchTree = TernarySearchTree;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/types.js":
/*!***************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/types.js ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.unreachable = exports.Prioritizeable = void 0;
var Prioritizeable;
(function (Prioritizeable) {
    async function toPrioritizeable(rawValue, getPriority) {
        if (rawValue instanceof Array) {
            return Promise.all(rawValue.map(v => toPrioritizeable(v, getPriority)));
        }
        const value = await rawValue;
        const priority = await getPriority(value);
        return { priority, value };
    }
    Prioritizeable.toPrioritizeable = toPrioritizeable;
    function toPrioritizeableSync(rawValue, getPriority) {
        return rawValue.map(v => ({
            value: v,
            priority: getPriority(v)
        }));
    }
    Prioritizeable.toPrioritizeableSync = toPrioritizeableSync;
    function prioritizeAllSync(values, getPriority) {
        const prioritizeable = toPrioritizeableSync(values, getPriority);
        return prioritizeable.filter(isValid).sort(compare);
    }
    Prioritizeable.prioritizeAllSync = prioritizeAllSync;
    async function prioritizeAll(values, getPriority) {
        const prioritizeable = await toPrioritizeable(values, getPriority);
        return prioritizeable.filter(isValid).sort(compare);
    }
    Prioritizeable.prioritizeAll = prioritizeAll;
    function isValid(p) {
        return p.priority > 0;
    }
    Prioritizeable.isValid = isValid;
    function compare(p, p2) {
        return p2.priority - p.priority;
    }
    Prioritizeable.compare = compare;
})(Prioritizeable = exports.Prioritizeable || (exports.Prioritizeable = {}));
/**
 * Throws when called and statically make sure that all variants of a type were consumed.
 */
function unreachable(_never, message = 'unhandled case') {
    throw new Error(message);
}
exports.unreachable = unreachable;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/uri-command-handler.js":
/*!*****************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/uri-command-handler.js ***!
  \*****************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 Ericsson and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.UriAwareCommandHandler = void 0;
const selection_1 = __webpack_require__(/*! ../common/selection */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/selection.js");
const uri_1 = __webpack_require__(/*! ./uri */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/uri.js");
class UriAwareCommandHandler {
    /**
     * @deprecated since 1.6.0. Please use `UriAwareCommandHandler.MonoSelect` or `UriAwareCommandHandler.MultiSelect`.
     */
    constructor(selectionService, handler, options) {
        this.selectionService = selectionService;
        this.handler = handler;
        this.options = options;
    }
    getUri(...args) {
        const [maybeUriArray] = args;
        const firstArgIsOK = this.isMulti()
            ? Array.isArray(maybeUriArray) && maybeUriArray.every(uri => uri instanceof uri_1.default)
            : maybeUriArray instanceof uri_1.default;
        if (firstArgIsOK) {
            return maybeUriArray;
        }
        const { selection } = this.selectionService;
        const uriOrUris = this.isMulti()
            ? selection_1.UriSelection.getUris(selection)
            : selection_1.UriSelection.getUri(selection);
        return uriOrUris;
    }
    getArgsWithUri(...args) {
        const uri = this.getUri(...args);
        const [maybeUri, ...others] = args;
        if (uri === maybeUri) {
            return [maybeUri, ...others];
        }
        return [uri, ...args];
    }
    execute(...args) {
        const [uri, ...others] = this.getArgsWithUri(...args);
        return uri ? this.handler.execute(uri, ...others) : undefined;
    }
    isVisible(...args) {
        const [uri, ...others] = this.getArgsWithUri(...args);
        if (uri) {
            if (this.handler.isVisible) {
                return this.handler.isVisible(uri, ...others);
            }
            return true;
        }
        return false;
    }
    isEnabled(...args) {
        const [uri, ...others] = this.getArgsWithUri(...args);
        if (uri) {
            if (this.handler.isEnabled) {
                return this.handler.isEnabled(uri, ...others);
            }
            return true;
        }
        return false;
    }
    isMulti() {
        return this.options && !!this.options.multi;
    }
}
exports.UriAwareCommandHandler = UriAwareCommandHandler;
(function (UriAwareCommandHandler) {
    /**
     * @returns a command handler for mono-select contexts that expects a `URI` as the first parameter of its methods.
     */
    function MonoSelect(selectionService, handler) {
        /* eslint-disable-next-line deprecation/deprecation*/ // Safe to use when the generic and the options agree.
        return new UriAwareCommandHandler(selectionService, handler, { multi: false });
    }
    UriAwareCommandHandler.MonoSelect = MonoSelect;
    /**
     * @returns a command handler for multi-select contexts that expects a `URI[]` as the first parameter of its methods.
     */
    function MultiSelect(selectionService, handler) {
        /* eslint-disable-next-line deprecation/deprecation*/ // Safe to use when the generic and the options agree.
        return new UriAwareCommandHandler(selectionService, handler, { multi: true });
    }
    UriAwareCommandHandler.MultiSelect = MultiSelect;
})(UriAwareCommandHandler = exports.UriAwareCommandHandler || (exports.UriAwareCommandHandler = {}));


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/uri.js":
/*!*************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/uri.js ***!
  \*************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
const vscode_uri_1 = __webpack_require__(/*! vscode-uri */ "../node_modules/vscode-uri/lib/esm/index.js");
const path_1 = __webpack_require__(/*! ./path */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/path.js");
class URI {
    constructor(uri = '') {
        if (uri instanceof vscode_uri_1.URI) {
            this.codeUri = uri;
        }
        else {
            this.codeUri = vscode_uri_1.URI.parse(uri);
        }
    }
    /**
     * TODO move implementation to `DefaultUriLabelProviderContribution.getName`
     *
     * @deprecated use `LabelProvider.getName` instead
     */
    get displayName() {
        const base = this.path.base;
        if (base) {
            return base;
        }
        if (this.path.isRoot) {
            return this.path.toString();
        }
        return '';
    }
    /**
     * Return all uri from the current to the top most.
     */
    get allLocations() {
        const locations = [];
        let location = this;
        while (!location.path.isRoot && location.path.hasDir) {
            locations.push(location);
            location = location.parent;
        }
        locations.push(location);
        return locations;
    }
    get parent() {
        if (this.path.isRoot) {
            return this;
        }
        return this.withPath(this.path.dir);
    }
    relative(uri) {
        if (this.authority !== uri.authority || this.scheme !== uri.scheme) {
            return undefined;
        }
        return this.path.relative(uri.path);
    }
    resolve(path) {
        return this.withPath(this.path.join(path.toString()));
    }
    /**
     * return a new URI replacing the current with the given scheme
     */
    withScheme(scheme) {
        const newCodeUri = vscode_uri_1.URI.from(Object.assign(Object.assign({}, this.codeUri.toJSON()), { scheme }));
        return new URI(newCodeUri);
    }
    /**
     * return a new URI replacing the current with the given authority
     */
    withAuthority(authority) {
        const newCodeUri = vscode_uri_1.URI.from(Object.assign(Object.assign({}, this.codeUri.toJSON()), { scheme: this.codeUri.scheme, authority }));
        return new URI(newCodeUri);
    }
    /**
     * return this URI without a authority
     */
    withoutAuthority() {
        return this.withAuthority('');
    }
    /**
     * return a new URI replacing the current with the given path
     */
    withPath(path) {
        const newCodeUri = vscode_uri_1.URI.from(Object.assign(Object.assign({}, this.codeUri.toJSON()), { scheme: this.codeUri.scheme, path: path.toString() }));
        return new URI(newCodeUri);
    }
    /**
     * return this URI without a path
     */
    withoutPath() {
        return this.withPath('');
    }
    /**
     * return a new URI replacing the current with the given query
     */
    withQuery(query) {
        const newCodeUri = vscode_uri_1.URI.from(Object.assign(Object.assign({}, this.codeUri.toJSON()), { scheme: this.codeUri.scheme, query }));
        return new URI(newCodeUri);
    }
    /**
     * return this URI without a query
     */
    withoutQuery() {
        return this.withQuery('');
    }
    /**
     * return a new URI replacing the current with the given fragment
     */
    withFragment(fragment) {
        const newCodeUri = vscode_uri_1.URI.from(Object.assign(Object.assign({}, this.codeUri.toJSON()), { scheme: this.codeUri.scheme, fragment }));
        return new URI(newCodeUri);
    }
    /**
     * return this URI without a fragment
     */
    withoutFragment() {
        return this.withFragment('');
    }
    /**
     * return a new URI replacing the current with its normalized path, resolving '..' and '.' segments
     */
    normalizePath() {
        return this.withPath(this.path.normalize());
    }
    get scheme() {
        return this.codeUri.scheme;
    }
    get authority() {
        return this.codeUri.authority;
    }
    get path() {
        if (this._path === undefined) {
            this._path = new path_1.Path(this.codeUri.path);
        }
        return this._path;
    }
    get query() {
        return this.codeUri.query;
    }
    get fragment() {
        return this.codeUri.fragment;
    }
    toString(skipEncoding) {
        return this.codeUri.toString(skipEncoding);
    }
    isEqual(uri, caseSensitive = true) {
        if (!this.hasSameOrigin(uri)) {
            return false;
        }
        return caseSensitive
            ? this.toString() === uri.toString()
            : this.toString().toLowerCase() === uri.toString().toLowerCase();
    }
    isEqualOrParent(uri, caseSensitive = true) {
        if (!this.hasSameOrigin(uri)) {
            return false;
        }
        let left = this.path;
        let right = uri.path;
        if (!caseSensitive) {
            left = new path_1.Path(left.toString().toLowerCase());
            right = new path_1.Path(right.toString().toLowerCase());
        }
        return left.isEqualOrParent(right);
    }
    static getDistinctParents(uris) {
        const result = [];
        uris.forEach((uri, i) => {
            if (!uris.some((otherUri, index) => index !== i && otherUri.isEqualOrParent(uri))) {
                result.push(uri);
            }
        });
        return result;
    }
    hasSameOrigin(uri) {
        return (this.authority === uri.authority) && (this.scheme === uri.scheme);
    }
}
exports.default = URI;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/shared/@phosphor/coreutils.js":
/*!*************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/shared/@phosphor/coreutils.js ***!
  \*************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = __webpack_require__(/*! @phosphor/coreutils */ "../node_modules/@phosphor/coreutils/lib/index.js");


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/shared/@phosphor/widgets.js":
/*!***********************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/shared/@phosphor/widgets.js ***!
  \***********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = __webpack_require__(/*! @phosphor/widgets */ "../node_modules/@phosphor/widgets/lib/index.js");


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/shared/@theia/application-package/lib/environment.js":
/*!************************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/shared/@theia/application-package/lib/environment.js ***!
  \************************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = __webpack_require__(/*! @theia/application-package/lib/environment */ "../node_modules/@theia/file-search/node_modules/@theia/application-package/lib/environment.js");


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/shared/fuzzy.js":
/*!***********************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/shared/fuzzy.js ***!
  \***********************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = __webpack_require__(/*! fuzzy */ "../node_modules/fuzzy/lib/fuzzy.js");


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/shared/inversify.js":
/*!***************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/shared/inversify.js ***!
  \***************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = __webpack_require__(/*! inversify */ "../node_modules/inversify/lib/inversify.js");


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/shared/lodash.throttle.js":
/*!*********************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/shared/lodash.throttle.js ***!
  \*********************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = __webpack_require__(/*! lodash.throttle */ "../node_modules/lodash.throttle/index.js");


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/shared/react-dom.js":
/*!***************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/shared/react-dom.js ***!
  \***************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = __webpack_require__(/*! react-dom */ "../node_modules/react-dom/index.js");


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/shared/react.js":
/*!***********************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/shared/react.js ***!
  \***********************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

module.exports = __webpack_require__(/*! react */ "../node_modules/react/index.js");


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/decorations/editor-decoration-style.js":
/*!************************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/decorations/editor-decoration-style.js ***!
  \************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.EditorDecorationStyle = void 0;
class EditorDecorationStyle {
    constructor(selector, styleProvider) {
        this.selector = selector;
        EditorDecorationStyle.createRule(selector, styleProvider);
    }
    get className() {
        return this.selector.split('::')[0];
    }
    dispose() {
        EditorDecorationStyle.deleteRule(this.selector);
    }
}
exports.EditorDecorationStyle = EditorDecorationStyle;
(function (EditorDecorationStyle) {
    function copyStyle(from, to) {
        Object.keys(from).forEach(key => {
            // eslint-disable-next-line @typescript-eslint/no-explicit-any
            to[key] = from[key];
        });
    }
    EditorDecorationStyle.copyStyle = copyStyle;
    function createStyleSheet(container = document.getElementsByTagName('head')[0]) {
        if (!container) {
            return undefined;
        }
        const style = document.createElement('style');
        style.id = 'editorDecorationsStyle';
        style.type = 'text/css';
        style.media = 'screen';
        style.appendChild(document.createTextNode('')); // trick for webkit
        container.appendChild(style);
        return style.sheet;
    }
    EditorDecorationStyle.createStyleSheet = createStyleSheet;
    const editorDecorationsStyleSheet = createStyleSheet();
    function createRule(selector, styleProvider, styleSheet = editorDecorationsStyleSheet) {
        if (!styleSheet) {
            return;
        }
        const index = styleSheet.insertRule('.' + selector + '{}', 0);
        const rules = styleSheet.cssRules || styleSheet.rules;
        const rule = rules[index];
        if (rule && rule.type === CSSRule.STYLE_RULE) {
            const styleRule = rule;
            styleProvider(styleRule.style);
        }
    }
    EditorDecorationStyle.createRule = createRule;
    function deleteRule(selector, styleSheet = editorDecorationsStyleSheet) {
        if (!styleSheet) {
            return;
        }
        const rules = styleSheet.cssRules || styleSheet.rules;
        for (let i = 0; i < rules.length; i++) {
            if (rules[i].type === CSSRule.STYLE_RULE) {
                if (rules[i].selectorText === selector) {
                    styleSheet.removeRule(i);
                }
            }
        }
    }
    EditorDecorationStyle.deleteRule = deleteRule;
})(EditorDecorationStyle = exports.EditorDecorationStyle || (exports.EditorDecorationStyle = {}));


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/decorations/editor-decoration.js":
/*!******************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/decorations/editor-decoration.js ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.TrackedRangeStickiness = exports.OverviewRulerLane = exports.MinimapPosition = void 0;
var MinimapPosition;
(function (MinimapPosition) {
    MinimapPosition[MinimapPosition["Inline"] = 1] = "Inline";
    MinimapPosition[MinimapPosition["Gutter"] = 2] = "Gutter";
})(MinimapPosition = exports.MinimapPosition || (exports.MinimapPosition = {}));
var OverviewRulerLane;
(function (OverviewRulerLane) {
    OverviewRulerLane[OverviewRulerLane["Left"] = 1] = "Left";
    OverviewRulerLane[OverviewRulerLane["Center"] = 2] = "Center";
    OverviewRulerLane[OverviewRulerLane["Right"] = 4] = "Right";
    OverviewRulerLane[OverviewRulerLane["Full"] = 7] = "Full";
})(OverviewRulerLane = exports.OverviewRulerLane || (exports.OverviewRulerLane = {}));
var TrackedRangeStickiness;
(function (TrackedRangeStickiness) {
    TrackedRangeStickiness[TrackedRangeStickiness["AlwaysGrowsWhenTypingAtEdges"] = 0] = "AlwaysGrowsWhenTypingAtEdges";
    TrackedRangeStickiness[TrackedRangeStickiness["NeverGrowsWhenTypingAtEdges"] = 1] = "NeverGrowsWhenTypingAtEdges";
    TrackedRangeStickiness[TrackedRangeStickiness["GrowsOnlyWhenTypingBefore"] = 2] = "GrowsOnlyWhenTypingBefore";
    TrackedRangeStickiness[TrackedRangeStickiness["GrowsOnlyWhenTypingAfter"] = 3] = "GrowsOnlyWhenTypingAfter";
})(TrackedRangeStickiness = exports.TrackedRangeStickiness || (exports.TrackedRangeStickiness = {}));


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/decorations/editor-decorator.js":
/*!*****************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/decorations/editor-decorator.js ***!
  \*****************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.EditorDecorator = void 0;
const inversify_1 = __webpack_require__(/*! @theia/core/shared/inversify */ "../node_modules/@theia/file-search/node_modules/@theia/core/shared/inversify.js");
let EditorDecorator = class EditorDecorator {
    constructor() {
        this.appliedDecorations = new Map();
    }
    setDecorations(editor, newDecorations) {
        const uri = editor.uri.toString();
        const oldDecorations = this.appliedDecorations.get(uri) || [];
        if (oldDecorations.length === 0 && newDecorations.length === 0) {
            return;
        }
        const decorationIds = editor.deltaDecorations({ oldDecorations, newDecorations });
        this.appliedDecorations.set(uri, decorationIds);
    }
};
EditorDecorator = __decorate([
    inversify_1.injectable()
], EditorDecorator);
exports.EditorDecorator = EditorDecorator;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/decorations/index.js":
/*!******************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/decorations/index.js ***!
  \******************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
__exportStar(__webpack_require__(/*! ./editor-decoration */ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/decorations/editor-decoration.js"), exports);
__exportStar(__webpack_require__(/*! ./editor-decoration-style */ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/decorations/editor-decoration-style.js"), exports);
__exportStar(__webpack_require__(/*! ./editor-decorator */ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/decorations/editor-decorator.js"), exports);


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/diff-navigator.js":
/*!***************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/diff-navigator.js ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.DiffNavigatorProvider = void 0;
exports.DiffNavigatorProvider = Symbol('DiffNavigatorProvider');


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/editor-command.js":
/*!***************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/editor-command.js ***!
  \***************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var EditorCommandContribution_1;
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.EditorCommandContribution = exports.EditorCommands = void 0;
const inversify_1 = __webpack_require__(/*! @theia/core/shared/inversify */ "../node_modules/@theia/file-search/node_modules/@theia/core/shared/inversify.js");
const uri_1 = __webpack_require__(/*! @theia/core/lib/common/uri */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/uri.js");
const browser_1 = __webpack_require__(/*! @theia/core/lib/browser */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/index.js");
const editor_manager_1 = __webpack_require__(/*! ./editor-manager */ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/editor-manager.js");
const editor_preferences_1 = __webpack_require__(/*! ./editor-preferences */ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/editor-preferences.js");
const core_1 = __webpack_require__(/*! @theia/core */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/index.js");
const language_service_1 = __webpack_require__(/*! @theia/core/lib/browser/language-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/language-service.js");
const supported_encodings_1 = __webpack_require__(/*! @theia/core/lib/browser/supported-encodings */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/supported-encodings.js");
var EditorCommands;
(function (EditorCommands) {
    const EDITOR_CATEGORY = 'Editor';
    const VIEW_CATEGORY = 'View';
    /**
     * Show editor references
     */
    EditorCommands.SHOW_REFERENCES = {
        id: 'textEditor.commands.showReferences'
    };
    /**
     * Change indentation configuration (i.e., indent using tabs / spaces, and how many spaces per tab)
     */
    EditorCommands.CONFIG_INDENTATION = {
        id: 'textEditor.commands.configIndentation'
    };
    EditorCommands.CONFIG_EOL = {
        id: 'textEditor.commands.configEol',
        category: EDITOR_CATEGORY,
        label: 'Change End of Line Sequence'
    };
    EditorCommands.INDENT_USING_SPACES = {
        id: 'textEditor.commands.indentUsingSpaces',
        category: EDITOR_CATEGORY,
        label: 'Indent Using Spaces'
    };
    EditorCommands.INDENT_USING_TABS = {
        id: 'textEditor.commands.indentUsingTabs',
        category: EDITOR_CATEGORY,
        label: 'Indent Using Tabs'
    };
    EditorCommands.CHANGE_LANGUAGE = {
        id: 'textEditor.change.language',
        category: EDITOR_CATEGORY,
        label: 'Change Language Mode'
    };
    EditorCommands.CHANGE_ENCODING = {
        id: 'textEditor.change.encoding',
        category: EDITOR_CATEGORY,
        label: 'Change File Encoding'
    };
    EditorCommands.REVERT_AND_CLOSE = {
        id: 'workbench.action.revertAndCloseActiveEditor',
        category: 'View',
        label: 'Revert and Close Editor'
    };
    /**
     * Command for going back to the last editor navigation location.
     */
    EditorCommands.GO_BACK = {
        id: 'textEditor.commands.go.back',
        category: EDITOR_CATEGORY,
        label: 'Go Back'
    };
    /**
     * Command for going to the forthcoming editor navigation location.
     */
    EditorCommands.GO_FORWARD = {
        id: 'textEditor.commands.go.forward',
        category: EDITOR_CATEGORY,
        label: 'Go Forward'
    };
    /**
     * Command that reveals the last text edit location, if any.
     */
    EditorCommands.GO_LAST_EDIT = {
        id: 'textEditor.commands.go.lastEdit',
        category: EDITOR_CATEGORY,
        label: 'Go to Last Edit Location'
    };
    /**
     * Command that clears the editor navigation history.
     */
    EditorCommands.CLEAR_EDITOR_HISTORY = {
        id: 'textEditor.commands.clear.history',
        category: EDITOR_CATEGORY,
        label: 'Clear Editor History'
    };
    /**
     * Command that displays all editors that are currently opened.
     */
    EditorCommands.SHOW_ALL_OPENED_EDITORS = {
        id: 'workbench.action.showAllEditors',
        category: VIEW_CATEGORY,
        label: 'Show All Opened Editors'
    };
    /**
     * Command that toggles the minimap.
     */
    EditorCommands.TOGGLE_MINIMAP = {
        id: 'editor.action.toggleMinimap',
        category: VIEW_CATEGORY,
        label: 'Toggle Minimap'
    };
    /**
     * Command that toggles the rendering of whitespace characters in the editor.
     */
    EditorCommands.TOGGLE_RENDER_WHITESPACE = {
        id: 'editor.action.toggleRenderWhitespace',
        category: VIEW_CATEGORY,
        label: 'Toggle Render Whitespace'
    };
    /**
     * Command that toggles the word wrap.
     */
    EditorCommands.TOGGLE_WORD_WRAP = {
        id: 'editor.action.toggleWordWrap',
        category: VIEW_CATEGORY,
        label: 'Toggle Word Wrap'
    };
    /**
     * Command that re-opens the last closed editor.
     */
    EditorCommands.REOPEN_CLOSED_EDITOR = {
        id: 'workbench.action.reopenClosedEditor',
        category: VIEW_CATEGORY,
        label: 'Reopen Closed Editor'
    };
    /**
     * Opens a second instance of the current editor, splitting the view in the direction specified.
     */
    EditorCommands.SPLIT_EDITOR_RIGHT = {
        id: 'workbench.action.splitEditorRight',
        category: VIEW_CATEGORY,
        label: 'Split Editor Right'
    };
    EditorCommands.SPLIT_EDITOR_DOWN = {
        id: 'workbench.action.splitEditorDown',
        category: VIEW_CATEGORY,
        label: 'Split Editor Down'
    };
    EditorCommands.SPLIT_EDITOR_UP = {
        id: 'workbench.action.splitEditorUp',
        category: VIEW_CATEGORY,
        label: 'Split Editor Up'
    };
    EditorCommands.SPLIT_EDITOR_LEFT = {
        id: 'workbench.action.splitEditorLeft',
        category: VIEW_CATEGORY,
        label: 'Split Editor Left'
    };
    /**
     * Default horizontal split: right.
     */
    EditorCommands.SPLIT_EDITOR_HORIZONTAL = {
        id: 'workbench.action.splitEditor',
        category: VIEW_CATEGORY,
        label: 'Split Editor'
    };
    /**
     * Default vertical split: down.
     */
    EditorCommands.SPLIT_EDITOR_VERTICAL = {
        id: 'workbench.action.splitEditorOrthogonal',
        category: VIEW_CATEGORY,
        label: 'Split Editor Orthogonal'
    };
})(EditorCommands = exports.EditorCommands || (exports.EditorCommands = {}));
let EditorCommandContribution = EditorCommandContribution_1 = class EditorCommandContribution {
    init() {
        this.editorPreferences.onPreferenceChanged(e => {
            if (e.preferenceName === 'editor.autoSave' && e.newValue === 'on') {
                this.shell.saveAll();
            }
        });
    }
    registerCommands(registry) {
        registry.registerCommand(EditorCommands.SHOW_REFERENCES);
        registry.registerCommand(EditorCommands.CONFIG_INDENTATION);
        registry.registerCommand(EditorCommands.CONFIG_EOL);
        registry.registerCommand(EditorCommands.INDENT_USING_SPACES);
        registry.registerCommand(EditorCommands.INDENT_USING_TABS);
        registry.registerCommand(EditorCommands.REVERT_AND_CLOSE);
        registry.registerCommand(EditorCommands.CHANGE_LANGUAGE, {
            isEnabled: () => this.canConfigureLanguage(),
            isVisible: () => this.canConfigureLanguage(),
            execute: () => this.configureLanguage()
        });
        registry.registerCommand(EditorCommands.CHANGE_ENCODING, {
            isEnabled: () => this.canConfigureEncoding(),
            isVisible: () => this.canConfigureEncoding(),
            execute: () => this.configureEncoding()
        });
        registry.registerCommand(EditorCommands.GO_BACK);
        registry.registerCommand(EditorCommands.GO_FORWARD);
        registry.registerCommand(EditorCommands.GO_LAST_EDIT);
        registry.registerCommand(EditorCommands.CLEAR_EDITOR_HISTORY);
        registry.registerCommand(EditorCommands.TOGGLE_MINIMAP);
        registry.registerCommand(EditorCommands.TOGGLE_RENDER_WHITESPACE);
        registry.registerCommand(EditorCommands.TOGGLE_WORD_WRAP);
        registry.registerCommand(EditorCommands.REOPEN_CLOSED_EDITOR);
        registry.registerCommand(browser_1.CommonCommands.AUTO_SAVE, {
            isToggled: () => this.isAutoSaveOn(),
            execute: () => this.toggleAutoSave()
        });
    }
    canConfigureLanguage() {
        const widget = this.editorManager.currentEditor;
        const editor = widget && widget.editor;
        return !!editor && !!this.languages.languages;
    }
    async configureLanguage() {
        var _a;
        const widget = this.editorManager.currentEditor;
        const editor = widget && widget.editor;
        if (!editor || !this.languages.languages) {
            return;
        }
        const current = editor.document.languageId;
        const items = [
            { label: 'Auto Detect', value: 'autoDetect' },
            { type: 'separator', label: 'languages (identifier)' },
            ...(this.languages.languages.map(language => this.toQuickPickLanguage(language, current))).sort((e, e2) => e.label.localeCompare(e2.label))
        ];
        const selectedMode = await ((_a = this.quickInputService) === null || _a === void 0 ? void 0 : _a.showQuickPick(items, { placeholder: 'Select Language Mode' }));
        if (selectedMode && ('value' in selectedMode)) {
            if (selectedMode.value === 'autoDetect') {
                editor.detectLanguage();
            }
            else if (selectedMode.value) {
                editor.setLanguage(selectedMode.value.id);
            }
        }
    }
    canConfigureEncoding() {
        const widget = this.editorManager.currentEditor;
        const editor = widget && widget.editor;
        return !!editor;
    }
    async configureEncoding() {
        var _a, _b;
        const widget = this.editorManager.currentEditor;
        const editor = widget && widget.editor;
        if (!editor) {
            return;
        }
        const reopenWithEncodingPick = { label: 'Reopen with Encoding', value: 'reopen' };
        const saveWithEncodingPick = { label: 'Save with Encoding', value: 'save' };
        const actionItems = [
            reopenWithEncodingPick,
            saveWithEncodingPick
        ];
        const selectedEncoding = await ((_a = this.quickInputService) === null || _a === void 0 ? void 0 : _a.showQuickPick(actionItems, { placeholder: 'Select Action' }));
        if (!selectedEncoding) {
            return;
        }
        const isReopenWithEncoding = (selectedEncoding.value === reopenWithEncodingPick.value);
        const configuredEncoding = this.preferencesService.get('files.encoding', 'utf8', editor.uri.toString());
        const resource = await this.resourceProvider(editor.uri);
        const guessedEncoding = resource.guessEncoding ? await resource.guessEncoding() : undefined;
        resource.dispose();
        const encodingItems = Object.keys(supported_encodings_1.SUPPORTED_ENCODINGS)
            .sort((k1, k2) => {
            if (k1 === configuredEncoding) {
                return -1;
            }
            else if (k2 === configuredEncoding) {
                return 1;
            }
            return supported_encodings_1.SUPPORTED_ENCODINGS[k1].order - supported_encodings_1.SUPPORTED_ENCODINGS[k2].order;
        })
            .filter(k => {
            if (k === guessedEncoding && guessedEncoding !== configuredEncoding) {
                return false; // do not show encoding if it is the guessed encoding that does not match the configured
            }
            return !isReopenWithEncoding || !supported_encodings_1.SUPPORTED_ENCODINGS[k].encodeOnly; // hide those that can only be used for encoding if we are about to decode
        })
            .map(key => ({ label: supported_encodings_1.SUPPORTED_ENCODINGS[key].labelLong, value: { id: key, description: key } }));
        // Insert guessed encoding
        if (guessedEncoding && configuredEncoding !== guessedEncoding && supported_encodings_1.SUPPORTED_ENCODINGS[guessedEncoding]) {
            encodingItems.unshift({
                label: `Guessed from content: ${supported_encodings_1.SUPPORTED_ENCODINGS[guessedEncoding].labelLong}`,
                value: { id: guessedEncoding, description: guessedEncoding }
            });
        }
        const selectedFileEncoding = await ((_b = this.quickInputService) === null || _b === void 0 ? void 0 : _b.showQuickPick(encodingItems, {
            placeholder: isReopenWithEncoding ? 'Select File Encoding to Reopen File' : 'Select File Encoding to Save with'
        }));
        if (!selectedFileEncoding) {
            return;
        }
        if (editor.document.dirty && isReopenWithEncoding) {
            this.messageService.info('The file is dirty. Please save it first before reopening it with another encoding.');
            return;
        }
        else if (selectedFileEncoding.value) {
            editor.setEncoding(selectedFileEncoding.value.id, isReopenWithEncoding ? 1 /* Decode */ : 0 /* Encode */);
        }
    }
    toQuickPickLanguage(value, current) {
        const languageUri = this.toLanguageUri(value);
        const icon = this.labelProvider.getIcon(languageUri);
        const iconClasses = icon !== '' ? [icon + ' file-icon'] : undefined;
        return {
            value,
            label: value.name,
            description: `(${value.id})${current === value.id ? ' - Configured Language' : ''}`,
            iconClasses
        };
    }
    toLanguageUri(language) {
        const extension = language.extensions.values().next();
        if (extension.value) {
            return new uri_1.default('file:///' + extension.value);
        }
        const filename = language.filenames.values().next();
        if (filename.value) {
            return new uri_1.default('file:///' + filename.value);
        }
        return new uri_1.default('file:///.txt');
    }
    isAutoSaveOn() {
        const autoSave = this.preferencesService.get(EditorCommandContribution_1.AUTOSAVE_PREFERENCE);
        return autoSave === 'on' || autoSave === undefined;
    }
    async toggleAutoSave() {
        this.preferencesService.updateValue(EditorCommandContribution_1.AUTOSAVE_PREFERENCE, this.isAutoSaveOn() ? 'off' : 'on');
    }
};
EditorCommandContribution.AUTOSAVE_PREFERENCE = 'editor.autoSave';
__decorate([
    inversify_1.inject(browser_1.ApplicationShell),
    __metadata("design:type", browser_1.ApplicationShell)
], EditorCommandContribution.prototype, "shell", void 0);
__decorate([
    inversify_1.inject(browser_1.PreferenceService),
    __metadata("design:type", Object)
], EditorCommandContribution.prototype, "preferencesService", void 0);
__decorate([
    inversify_1.inject(editor_preferences_1.EditorPreferences),
    __metadata("design:type", Object)
], EditorCommandContribution.prototype, "editorPreferences", void 0);
__decorate([
    inversify_1.inject(browser_1.QuickInputService),
    inversify_1.optional(),
    __metadata("design:type", Object)
], EditorCommandContribution.prototype, "quickInputService", void 0);
__decorate([
    inversify_1.inject(core_1.MessageService),
    __metadata("design:type", core_1.MessageService)
], EditorCommandContribution.prototype, "messageService", void 0);
__decorate([
    inversify_1.inject(browser_1.LabelProvider),
    __metadata("design:type", browser_1.LabelProvider)
], EditorCommandContribution.prototype, "labelProvider", void 0);
__decorate([
    inversify_1.inject(language_service_1.LanguageService),
    __metadata("design:type", language_service_1.LanguageService)
], EditorCommandContribution.prototype, "languages", void 0);
__decorate([
    inversify_1.inject(editor_manager_1.EditorManager),
    __metadata("design:type", editor_manager_1.EditorManager)
], EditorCommandContribution.prototype, "editorManager", void 0);
__decorate([
    inversify_1.inject(core_1.ResourceProvider),
    __metadata("design:type", Function)
], EditorCommandContribution.prototype, "resourceProvider", void 0);
__decorate([
    inversify_1.postConstruct(),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", []),
    __metadata("design:returntype", void 0)
], EditorCommandContribution.prototype, "init", null);
EditorCommandContribution = EditorCommandContribution_1 = __decorate([
    inversify_1.injectable()
], EditorCommandContribution);
exports.EditorCommandContribution = EditorCommandContribution;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/editor-contribution.js":
/*!********************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/editor-contribution.js ***!
  \********************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.EditorContribution = void 0;
const editor_manager_1 = __webpack_require__(/*! ./editor-manager */ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/editor-manager.js");
const inversify_1 = __webpack_require__(/*! @theia/core/shared/inversify */ "../node_modules/@theia/file-search/node_modules/@theia/core/shared/inversify.js");
const status_bar_1 = __webpack_require__(/*! @theia/core/lib/browser/status-bar/status-bar */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/status-bar/status-bar.js");
const browser_1 = __webpack_require__(/*! @theia/core/lib/browser */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/index.js");
const context_key_service_1 = __webpack_require__(/*! @theia/core/lib/browser/context-key-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/context-key-service.js");
const core_1 = __webpack_require__(/*! @theia/core */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/index.js");
const editor_command_1 = __webpack_require__(/*! ./editor-command */ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/editor-command.js");
const language_service_1 = __webpack_require__(/*! @theia/core/lib/browser/language-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/language-service.js");
const supported_encodings_1 = __webpack_require__(/*! @theia/core/lib/browser/supported-encodings */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/supported-encodings.js");
let EditorContribution = class EditorContribution {
    constructor() {
        this.toDisposeOnCurrentEditorChanged = new core_1.DisposableCollection();
    }
    onStart() {
        this.initEditorContextKeys();
        this.updateStatusBar();
        this.editorManager.onCurrentEditorChanged(() => this.updateStatusBar());
    }
    initEditorContextKeys() {
        const editorIsOpen = this.contextKeyService.createKey('editorIsOpen', false);
        const textCompareEditorVisible = this.contextKeyService.createKey('textCompareEditorVisible', false);
        const updateContextKeys = () => {
            const widgets = this.editorManager.all;
            editorIsOpen.set(!!widgets.length);
            textCompareEditorVisible.set(widgets.some(widget => browser_1.DiffUris.isDiffUri(widget.editor.uri)));
        };
        updateContextKeys();
        for (const widget of this.editorManager.all) {
            widget.disposed.connect(updateContextKeys);
        }
        this.editorManager.onCreated(widget => {
            updateContextKeys();
            widget.disposed.connect(updateContextKeys);
        });
    }
    updateStatusBar() {
        this.toDisposeOnCurrentEditorChanged.dispose();
        const widget = this.editorManager.currentEditor;
        const editor = widget && widget.editor;
        this.updateLanguageStatus(editor);
        this.updateEncodingStatus(editor);
        this.setCursorPositionStatus(editor);
        if (editor) {
            this.toDisposeOnCurrentEditorChanged.pushAll([
                editor.onLanguageChanged(() => this.updateLanguageStatus(editor)),
                editor.onEncodingChanged(() => this.updateEncodingStatus(editor)),
                editor.onCursorPositionChanged(() => this.setCursorPositionStatus(editor))
            ]);
        }
    }
    updateLanguageStatus(editor) {
        if (!editor) {
            this.statusBar.removeElement('editor-status-language');
            return;
        }
        const language = this.languages.getLanguage(editor.document.languageId);
        const languageName = language ? language.name : '';
        this.statusBar.setElement('editor-status-language', {
            text: languageName,
            alignment: status_bar_1.StatusBarAlignment.RIGHT,
            priority: 1,
            command: editor_command_1.EditorCommands.CHANGE_LANGUAGE.id,
            tooltip: 'Select Language Mode'
        });
    }
    updateEncodingStatus(editor) {
        if (!editor) {
            this.statusBar.removeElement('editor-status-encoding');
            return;
        }
        this.statusBar.setElement('editor-status-encoding', {
            text: supported_encodings_1.SUPPORTED_ENCODINGS[editor.getEncoding()].labelShort,
            alignment: status_bar_1.StatusBarAlignment.RIGHT,
            priority: 10,
            command: editor_command_1.EditorCommands.CHANGE_ENCODING.id,
            tooltip: 'Select Encoding'
        });
    }
    setCursorPositionStatus(editor) {
        if (!editor) {
            this.statusBar.removeElement('editor-status-cursor-position');
            return;
        }
        const { cursor } = editor;
        this.statusBar.setElement('editor-status-cursor-position', {
            text: `Ln ${cursor.line + 1}, Col ${editor.getVisibleColumn(cursor)}`,
            alignment: status_bar_1.StatusBarAlignment.RIGHT,
            priority: 100,
            tooltip: 'Go To Line',
            command: 'editor.action.gotoLine'
        });
    }
    registerCommands(commands) {
        commands.registerCommand(editor_command_1.EditorCommands.SHOW_ALL_OPENED_EDITORS, {
            execute: () => { var _a; return (_a = this.quickInputService) === null || _a === void 0 ? void 0 : _a.open('edt '); }
        });
        const splitHandlerFactory = (splitMode) => ({
            isEnabled: () => !!this.editorManager.currentEditor,
            isVisible: () => !!this.editorManager.currentEditor,
            execute: async () => {
                const { currentEditor } = this.editorManager;
                if (currentEditor) {
                    const selection = currentEditor.editor.selection;
                    const newEditor = await this.editorManager.openToSide(currentEditor.editor.uri, { selection, widgetOptions: { mode: splitMode } });
                    const oldEditorState = currentEditor.editor.storeViewState();
                    newEditor.editor.restoreViewState(oldEditorState);
                }
            }
        });
        commands.registerCommand(editor_command_1.EditorCommands.SPLIT_EDITOR_HORIZONTAL, splitHandlerFactory('split-right'));
        commands.registerCommand(editor_command_1.EditorCommands.SPLIT_EDITOR_VERTICAL, splitHandlerFactory('split-bottom'));
        commands.registerCommand(editor_command_1.EditorCommands.SPLIT_EDITOR_RIGHT, splitHandlerFactory('split-right'));
        commands.registerCommand(editor_command_1.EditorCommands.SPLIT_EDITOR_DOWN, splitHandlerFactory('split-bottom'));
        commands.registerCommand(editor_command_1.EditorCommands.SPLIT_EDITOR_UP, splitHandlerFactory('split-top'));
        commands.registerCommand(editor_command_1.EditorCommands.SPLIT_EDITOR_LEFT, splitHandlerFactory('split-left'));
    }
    registerKeybindings(keybindings) {
        keybindings.registerKeybinding({
            command: editor_command_1.EditorCommands.SHOW_ALL_OPENED_EDITORS.id,
            keybinding: 'ctrlcmd+k ctrlcmd+p'
        });
        keybindings.registerKeybinding({
            command: editor_command_1.EditorCommands.SPLIT_EDITOR_HORIZONTAL.id,
            keybinding: 'ctrlcmd+\\',
        });
        keybindings.registerKeybinding({
            command: editor_command_1.EditorCommands.SPLIT_EDITOR_VERTICAL.id,
            keybinding: 'ctrlcmd+k ctrlcmd+\\',
        });
    }
};
__decorate([
    inversify_1.inject(status_bar_1.StatusBar),
    __metadata("design:type", Object)
], EditorContribution.prototype, "statusBar", void 0);
__decorate([
    inversify_1.inject(editor_manager_1.EditorManager),
    __metadata("design:type", editor_manager_1.EditorManager)
], EditorContribution.prototype, "editorManager", void 0);
__decorate([
    inversify_1.inject(language_service_1.LanguageService),
    __metadata("design:type", language_service_1.LanguageService)
], EditorContribution.prototype, "languages", void 0);
__decorate([
    inversify_1.inject(context_key_service_1.ContextKeyService),
    __metadata("design:type", context_key_service_1.ContextKeyService)
], EditorContribution.prototype, "contextKeyService", void 0);
__decorate([
    inversify_1.inject(browser_1.QuickInputService),
    inversify_1.optional(),
    __metadata("design:type", Object)
], EditorContribution.prototype, "quickInputService", void 0);
EditorContribution = __decorate([
    inversify_1.injectable()
], EditorContribution);
exports.EditorContribution = EditorContribution;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/editor-frontend-module.js":
/*!***********************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/editor-frontend-module.js ***!
  \***********************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
__webpack_require__(/*! ../../src/browser/style/index.css */ "../node_modules/@theia/file-search/node_modules/@theia/editor/src/browser/style/index.css");
const inversify_1 = __webpack_require__(/*! @theia/core/shared/inversify */ "../node_modules/@theia/file-search/node_modules/@theia/core/shared/inversify.js");
const common_1 = __webpack_require__(/*! @theia/core/lib/common */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/index.js");
const browser_1 = __webpack_require__(/*! @theia/core/lib/browser */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/index.js");
const browser_2 = __webpack_require__(/*! @theia/variable-resolver/lib/browser */ "../node_modules/@theia/file-search/node_modules/@theia/variable-resolver/lib/browser/index.js");
const editor_manager_1 = __webpack_require__(/*! ./editor-manager */ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/editor-manager.js");
const editor_contribution_1 = __webpack_require__(/*! ./editor-contribution */ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/editor-contribution.js");
const editor_menu_1 = __webpack_require__(/*! ./editor-menu */ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/editor-menu.js");
const editor_command_1 = __webpack_require__(/*! ./editor-command */ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/editor-command.js");
const editor_keybinding_contexts_1 = __webpack_require__(/*! ./editor-keybinding-contexts */ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/editor-keybinding-contexts.js");
const editor_keybinding_1 = __webpack_require__(/*! ./editor-keybinding */ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/editor-keybinding.js");
const editor_preferences_1 = __webpack_require__(/*! ./editor-preferences */ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/editor-preferences.js");
const editor_widget_factory_1 = __webpack_require__(/*! ./editor-widget-factory */ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/editor-widget-factory.js");
const editor_navigation_contribution_1 = __webpack_require__(/*! ./editor-navigation-contribution */ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/editor-navigation-contribution.js");
const navigation_location_updater_1 = __webpack_require__(/*! ./navigation/navigation-location-updater */ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/navigation/navigation-location-updater.js");
const navigation_location_service_1 = __webpack_require__(/*! ./navigation/navigation-location-service */ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/navigation/navigation-location-service.js");
const navigation_location_similarity_1 = __webpack_require__(/*! ./navigation/navigation-location-similarity */ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/navigation/navigation-location-similarity.js");
const editor_variable_contribution_1 = __webpack_require__(/*! ./editor-variable-contribution */ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/editor-variable-contribution.js");
const quick_access_1 = __webpack_require__(/*! @theia/core/lib/browser/quick-input/quick-access */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/quick-input/quick-access.js");
const quick_editor_service_1 = __webpack_require__(/*! ./quick-editor-service */ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/quick-editor-service.js");
exports.default = new inversify_1.ContainerModule(bind => {
    editor_preferences_1.bindEditorPreferences(bind);
    bind(editor_widget_factory_1.EditorWidgetFactory).toSelf().inSingletonScope();
    bind(browser_1.WidgetFactory).toService(editor_widget_factory_1.EditorWidgetFactory);
    bind(editor_manager_1.EditorManager).toSelf().inSingletonScope();
    bind(browser_1.OpenHandler).toService(editor_manager_1.EditorManager);
    bind(editor_command_1.EditorCommandContribution).toSelf().inSingletonScope();
    bind(common_1.CommandContribution).toService(editor_command_1.EditorCommandContribution);
    bind(editor_menu_1.EditorMenuContribution).toSelf().inSingletonScope();
    bind(common_1.MenuContribution).toService(editor_menu_1.EditorMenuContribution);
    bind(editor_keybinding_contexts_1.StrictEditorTextFocusContext).toSelf().inSingletonScope();
    bind(browser_1.KeybindingContext).toService(editor_keybinding_contexts_1.StrictEditorTextFocusContext);
    bind(browser_1.KeybindingContext).to(editor_keybinding_contexts_1.EditorTextFocusContext).inSingletonScope();
    bind(browser_1.KeybindingContext).to(editor_keybinding_contexts_1.DiffEditorTextFocusContext).inSingletonScope();
    bind(editor_keybinding_1.EditorKeybindingContribution).toSelf().inSingletonScope();
    bind(browser_1.KeybindingContribution).toService(editor_keybinding_1.EditorKeybindingContribution);
    bind(editor_contribution_1.EditorContribution).toSelf().inSingletonScope();
    bind(browser_1.FrontendApplicationContribution).toService(editor_contribution_1.EditorContribution);
    bind(editor_navigation_contribution_1.EditorNavigationContribution).toSelf().inSingletonScope();
    bind(browser_1.FrontendApplicationContribution).toService(editor_navigation_contribution_1.EditorNavigationContribution);
    bind(navigation_location_service_1.NavigationLocationService).toSelf().inSingletonScope();
    bind(navigation_location_updater_1.NavigationLocationUpdater).toSelf().inSingletonScope();
    bind(navigation_location_similarity_1.NavigationLocationSimilarity).toSelf().inSingletonScope();
    bind(browser_2.VariableContribution).to(editor_variable_contribution_1.EditorVariableContribution).inSingletonScope();
    [common_1.CommandContribution, browser_1.KeybindingContribution].forEach(serviceIdentifier => {
        bind(serviceIdentifier).toService(editor_contribution_1.EditorContribution);
    });
    bind(quick_editor_service_1.QuickEditorService).toSelf().inSingletonScope();
    bind(quick_access_1.QuickAccessContribution).to(quick_editor_service_1.QuickEditorService);
    bind(editor_manager_1.CurrentEditorAccess).toSelf().inSingletonScope();
    bind(editor_manager_1.ActiveEditorAccess).toSelf().inSingletonScope();
    bind(editor_manager_1.EditorAccess).to(editor_manager_1.CurrentEditorAccess).inSingletonScope().whenTargetNamed(editor_manager_1.EditorAccess.CURRENT);
    bind(editor_manager_1.EditorAccess).to(editor_manager_1.ActiveEditorAccess).inSingletonScope().whenTargetNamed(editor_manager_1.EditorAccess.ACTIVE);
});


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/editor-keybinding-contexts.js":
/*!***************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/editor-keybinding-contexts.js ***!
  \***************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.StrictEditorTextFocusContext = exports.DiffEditorTextFocusContext = exports.EditorTextFocusContext = exports.EditorKeybindingContexts = void 0;
const inversify_1 = __webpack_require__(/*! @theia/core/shared/inversify */ "../node_modules/@theia/file-search/node_modules/@theia/core/shared/inversify.js");
const editor_manager_1 = __webpack_require__(/*! ./editor-manager */ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/editor-manager.js");
const browser_1 = __webpack_require__(/*! @theia/core/lib/browser */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/index.js");
var EditorKeybindingContexts;
(function (EditorKeybindingContexts) {
    /**
     * ID of a keybinding context that is enabled when the active text editor has the focus.
     */
    EditorKeybindingContexts.editorTextFocus = 'editorTextFocus';
    /**
     * ID of a keybinding context that is enabled when the active diff editor has the focus.
     */
    EditorKeybindingContexts.diffEditorTextFocus = 'diffEditorTextFocus';
    /**
     * Unique identifier of a keybinding context that is enabled if the active editor has the focus but it does not have any overlaying widgets, such as the content assist widget.
     */
    EditorKeybindingContexts.strictEditorTextFocus = 'strictEditorTextFocus';
})(EditorKeybindingContexts = exports.EditorKeybindingContexts || (exports.EditorKeybindingContexts = {}));
let EditorTextFocusContext = class EditorTextFocusContext {
    constructor() {
        this.id = EditorKeybindingContexts.editorTextFocus;
    }
    isEnabled() {
        return !!this.getEditor();
    }
    getEditor() {
        const widget = this.editorManager.activeEditor;
        if (widget && this.canHandle(widget)) {
            return widget;
        }
        return undefined;
    }
    canHandle(widget) {
        return widget.editor.isFocused();
    }
};
__decorate([
    inversify_1.inject(editor_manager_1.EditorManager),
    __metadata("design:type", editor_manager_1.EditorManager)
], EditorTextFocusContext.prototype, "editorManager", void 0);
EditorTextFocusContext = __decorate([
    inversify_1.injectable()
], EditorTextFocusContext);
exports.EditorTextFocusContext = EditorTextFocusContext;
let DiffEditorTextFocusContext = class DiffEditorTextFocusContext extends EditorTextFocusContext {
    constructor() {
        super(...arguments);
        this.id = EditorKeybindingContexts.diffEditorTextFocus;
    }
    canHandle(widget) {
        return super.canHandle(widget) && browser_1.DiffUris.isDiffUri(widget.editor.uri);
    }
};
DiffEditorTextFocusContext = __decorate([
    inversify_1.injectable()
], DiffEditorTextFocusContext);
exports.DiffEditorTextFocusContext = DiffEditorTextFocusContext;
/**
 * Keybinding context that is enabled when the active text editor has the focus **AND** it does not
 * have any widgets (for example, the content assist widget) overlaying the active editor.
 */
let StrictEditorTextFocusContext = class StrictEditorTextFocusContext extends EditorTextFocusContext {
    constructor() {
        super(...arguments);
        this.id = EditorKeybindingContexts.strictEditorTextFocus;
    }
};
StrictEditorTextFocusContext = __decorate([
    inversify_1.injectable()
], StrictEditorTextFocusContext);
exports.StrictEditorTextFocusContext = StrictEditorTextFocusContext;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/editor-keybinding.js":
/*!******************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/editor-keybinding.js ***!
  \******************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.EditorKeybindingContribution = void 0;
const inversify_1 = __webpack_require__(/*! @theia/core/shared/inversify */ "../node_modules/@theia/file-search/node_modules/@theia/core/shared/inversify.js");
const environment_1 = __webpack_require__(/*! @theia/core/shared/@theia/application-package/lib/environment */ "../node_modules/@theia/file-search/node_modules/@theia/core/shared/@theia/application-package/lib/environment.js");
const os_1 = __webpack_require__(/*! @theia/core/lib/common/os */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/os.js");
const editor_command_1 = __webpack_require__(/*! ./editor-command */ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/editor-command.js");
let EditorKeybindingContribution = class EditorKeybindingContribution {
    registerKeybindings(registry) {
        registry.registerKeybindings({
            command: editor_command_1.EditorCommands.GO_BACK.id,
            keybinding: os_1.isOSX ? 'ctrl+-' : os_1.isWindows ? 'alt+left' : /* isLinux */ 'ctrl+alt+-'
        }, {
            command: editor_command_1.EditorCommands.GO_FORWARD.id,
            keybinding: os_1.isOSX ? 'ctrl+shift+-' : os_1.isWindows ? 'alt+right' : /* isLinux */ 'ctrl+shift+-'
        }, {
            command: editor_command_1.EditorCommands.GO_LAST_EDIT.id,
            keybinding: 'ctrl+alt+q'
        }, {
            command: editor_command_1.EditorCommands.TOGGLE_WORD_WRAP.id,
            keybinding: 'alt+z'
        }, {
            command: editor_command_1.EditorCommands.REOPEN_CLOSED_EDITOR.id,
            keybinding: this.isElectron() ? 'ctrlcmd+shift+t' : 'alt+shift+t'
        });
    }
    isElectron() {
        return environment_1.environment.electron.is();
    }
};
EditorKeybindingContribution = __decorate([
    inversify_1.injectable()
], EditorKeybindingContribution);
exports.EditorKeybindingContribution = EditorKeybindingContribution;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/editor-manager.js":
/*!***************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/editor-manager.js ***!
  \***************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ActiveEditorAccess = exports.CurrentEditorAccess = exports.EditorAccess = exports.EditorManager = void 0;
const inversify_1 = __webpack_require__(/*! @theia/core/shared/inversify */ "../node_modules/@theia/file-search/node_modules/@theia/core/shared/inversify.js");
const common_1 = __webpack_require__(/*! @theia/core/lib/common */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/index.js");
const browser_1 = __webpack_require__(/*! @theia/core/lib/browser */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/index.js");
const editor_widget_1 = __webpack_require__(/*! ./editor-widget */ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/editor-widget.js");
const editor_1 = __webpack_require__(/*! ./editor */ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/editor.js");
const editor_widget_factory_1 = __webpack_require__(/*! ./editor-widget-factory */ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/editor-widget-factory.js");
let EditorManager = class EditorManager extends browser_1.NavigatableWidgetOpenHandler {
    constructor() {
        super(...arguments);
        this.id = editor_widget_factory_1.EditorWidgetFactory.ID;
        this.label = 'Code Editor';
        this.editorCounters = new Map();
        this.onActiveEditorChangedEmitter = new common_1.Emitter();
        /**
         * Emit when the active editor is changed.
         */
        this.onActiveEditorChanged = this.onActiveEditorChangedEmitter.event;
        this.onCurrentEditorChangedEmitter = new common_1.Emitter();
        /**
         * Emit when the current editor is changed.
         */
        this.onCurrentEditorChanged = this.onCurrentEditorChangedEmitter.event;
        this.recentlyVisibleIds = [];
    }
    init() {
        super.init();
        this.shell.onDidChangeActiveWidget(() => this.updateActiveEditor());
        this.shell.onDidChangeCurrentWidget(() => this.updateCurrentEditor());
        this.onCreated(widget => {
            widget.onDidChangeVisibility(() => {
                if (widget.isVisible) {
                    this.addRecentlyVisible(widget);
                }
                this.updateCurrentEditor();
            });
            this.checkCounterForWidget(widget);
            widget.disposed.connect(() => {
                this.removeFromCounter(widget);
                this.removeRecentlyVisible(widget);
                this.updateCurrentEditor();
            });
        });
        for (const widget of this.all) {
            if (widget.isVisible) {
                this.addRecentlyVisible(widget);
            }
        }
        this.updateCurrentEditor();
    }
    getByUri(uri, options) {
        return this.getWidget(uri, options);
    }
    getOrCreateByUri(uri, options) {
        return this.getOrCreateWidget(uri, options);
    }
    tryGetPendingWidget(uri, options) {
        const editorPromise = super.tryGetPendingWidget(uri, options);
        if (editorPromise) {
            // Reveal selection before attachment to manage nav stack. (https://github.com/eclipse-theia/theia/issues/8955)
            if (!(editorPromise instanceof browser_1.Widget)) {
                editorPromise.then(editor => this.revealSelection(editor, options, uri));
            }
            else {
                this.revealSelection(editorPromise, options);
            }
        }
        return editorPromise;
    }
    async getWidget(uri, options) {
        const editor = await super.getWidget(uri, options);
        if (editor) {
            // Reveal selection before attachment to manage nav stack. (https://github.com/eclipse-theia/theia/issues/8955)
            this.revealSelection(editor, options, uri);
        }
        return editor;
    }
    async getOrCreateWidget(uri, options) {
        const editor = await super.getOrCreateWidget(uri, options);
        // Reveal selection before attachment to manage nav stack. (https://github.com/eclipse-theia/theia/issues/8955)
        this.revealSelection(editor, options, uri);
        return editor;
    }
    get recentlyVisible() {
        const id = this.recentlyVisibleIds[0];
        return id && this.all.find(w => w.id === id) || undefined;
    }
    addRecentlyVisible(widget) {
        this.removeRecentlyVisible(widget);
        this.recentlyVisibleIds.unshift(widget.id);
    }
    removeRecentlyVisible(widget) {
        const index = this.recentlyVisibleIds.indexOf(widget.id);
        if (index !== -1) {
            this.recentlyVisibleIds.splice(index, 1);
        }
    }
    /**
     * The active editor.
     * If there is an active editor (one that has focus), active and current are the same.
     */
    get activeEditor() {
        return this._activeEditor;
    }
    setActiveEditor(active) {
        if (this._activeEditor !== active) {
            this._activeEditor = active;
            this.onActiveEditorChangedEmitter.fire(this._activeEditor);
        }
    }
    updateActiveEditor() {
        const widget = this.shell.activeWidget;
        if (widget instanceof editor_widget_1.EditorWidget) {
            this.addRecentlyVisible(widget);
            this.setActiveEditor(widget);
        }
        else {
            this.setActiveEditor(undefined);
        }
    }
    /**
     * The most recently activated editor (which might not have the focus anymore, hence it is not active).
     * If no editor has focus, e.g. when a context menu is shown, the active editor is `undefined`, but current might be the editor that was active before the menu popped up.
     */
    get currentEditor() {
        return this._currentEditor;
    }
    setCurrentEditor(current) {
        if (this._currentEditor !== current) {
            this._currentEditor = current;
            this.onCurrentEditorChangedEmitter.fire(this._currentEditor);
        }
    }
    updateCurrentEditor() {
        const widget = this.shell.currentWidget;
        if (widget instanceof editor_widget_1.EditorWidget) {
            this.setCurrentEditor(widget);
        }
        else if (!this._currentEditor || !this._currentEditor.isVisible || this.currentEditor !== this.recentlyVisible) {
            this.setCurrentEditor(this.recentlyVisible);
        }
    }
    canHandle(uri, options) {
        return 100;
    }
    // This override only serves to inform external callers that they can use EditorOpenerOptions.
    open(uri, options) {
        return super.open(uri, options);
    }
    /**
     * Opens an editor to the side of the current editor. Defaults to opening to the right.
     * To modify direction, pass options with `{widgetOptions: {mode: ...}}`
     */
    openToSide(uri, options) {
        const counter = this.createCounterForUri(uri);
        const splitOptions = Object.assign(Object.assign({ widgetOptions: { mode: 'split-right' } }, options), { counter });
        return this.open(uri, splitOptions);
    }
    revealSelection(widget, input, uri) {
        let inputSelection = input === null || input === void 0 ? void 0 : input.selection;
        if (!inputSelection && uri) {
            const match = /^L?(\d+)(?:,(\d+))?/.exec(uri.fragment);
            if (match) {
                // support file:///some/file.js#73,84
                // support file:///some/file.js#L73
                inputSelection = {
                    start: {
                        line: parseInt(match[1]) - 1,
                        character: match[2] ? parseInt(match[2]) - 1 : 0
                    }
                };
            }
        }
        if (inputSelection) {
            const editor = widget.editor;
            const selection = this.getSelection(widget, inputSelection);
            if (editor_1.Position.is(selection)) {
                editor.cursor = selection;
                editor.revealPosition(selection);
            }
            else if (editor_1.Range.is(selection)) {
                editor.cursor = selection.end;
                editor.selection = selection;
                editor.revealRange(selection);
            }
        }
    }
    getSelection(widget, selection) {
        const { start, end } = selection;
        const line = start && start.line !== undefined && start.line >= 0 ? start.line : undefined;
        if (line === undefined) {
            return undefined;
        }
        const character = start && start.character !== undefined && start.character >= 0 ? start.character : widget.editor.document.getLineMaxColumn(line);
        const endLine = end && end.line !== undefined && end.line >= 0 ? end.line : undefined;
        if (endLine === undefined) {
            return { line, character };
        }
        const endCharacter = end && end.character !== undefined && end.character >= 0 ? end.character : widget.editor.document.getLineMaxColumn(endLine);
        return {
            start: { line, character },
            end: { line: endLine, character: endCharacter }
        };
    }
    removeFromCounter(widget) {
        const { id, uri } = this.extractIdFromWidget(widget);
        if (uri && !Number.isNaN(id)) {
            let max = -Infinity;
            this.all.forEach(editor => {
                const candidateID = this.extractIdFromWidget(editor);
                if ((candidateID.uri === uri) && (candidateID.id > max)) {
                    max = candidateID.id;
                }
            });
            if (max > -Infinity) {
                this.editorCounters.set(uri, max);
            }
            else {
                this.editorCounters.delete(uri);
            }
        }
    }
    extractIdFromWidget(widget) {
        const uri = widget.editor.uri.toString();
        const id = Number(widget.id.slice(widget.id.lastIndexOf(':') + 1));
        return { id, uri };
    }
    checkCounterForWidget(widget) {
        var _a;
        const { id, uri } = this.extractIdFromWidget(widget);
        const numericalId = Number(id);
        if (uri && !Number.isNaN(numericalId)) {
            const highestKnownId = (_a = this.editorCounters.get(uri)) !== null && _a !== void 0 ? _a : -Infinity;
            if (numericalId > highestKnownId) {
                this.editorCounters.set(uri, numericalId);
            }
        }
    }
    createCounterForUri(uri) {
        var _a;
        const identifier = uri.toString();
        const next = ((_a = this.editorCounters.get(identifier)) !== null && _a !== void 0 ? _a : 0) + 1;
        return next;
    }
    getCounterForUri(uri) {
        var _a;
        const idWithoutCounter = editor_widget_factory_1.EditorWidgetFactory.createID(uri);
        const counterOfMostRecentlyVisibleEditor = (_a = this.recentlyVisibleIds.find(id => id.startsWith(idWithoutCounter))) === null || _a === void 0 ? void 0 : _a.slice(idWithoutCounter.length + 1);
        return counterOfMostRecentlyVisibleEditor === undefined ? undefined : parseInt(counterOfMostRecentlyVisibleEditor);
    }
    getOrCreateCounterForUri(uri) {
        var _a;
        return (_a = this.getCounterForUri(uri)) !== null && _a !== void 0 ? _a : this.createCounterForUri(uri);
    }
    createWidgetOptions(uri, options) {
        var _a;
        const navigatableOptions = super.createWidgetOptions(uri, options);
        navigatableOptions.counter = (_a = options === null || options === void 0 ? void 0 : options.counter) !== null && _a !== void 0 ? _a : this.getOrCreateCounterForUri(uri);
        return navigatableOptions;
    }
};
__decorate([
    inversify_1.postConstruct(),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", []),
    __metadata("design:returntype", void 0)
], EditorManager.prototype, "init", null);
EditorManager = __decorate([
    inversify_1.injectable()
], EditorManager);
exports.EditorManager = EditorManager;
/**
 * Provides direct access to the underlying text editor.
 */
let EditorAccess = class EditorAccess {
    /**
     * The URI of the underlying document from the editor.
     */
    get uri() {
        const editor = this.editor;
        if (editor) {
            return editor.uri.toString();
        }
        return undefined;
    }
    /**
     * The selection location from the text editor.
     */
    get selection() {
        const editor = this.editor;
        if (editor) {
            const uri = editor.uri.toString();
            const range = editor.selection;
            return {
                range,
                uri
            };
        }
        return undefined;
    }
    /**
     * The unique identifier of the language the current editor belongs to.
     */
    get languageId() {
        const editor = this.editor;
        if (editor) {
            return editor.document.languageId;
        }
        return undefined;
    }
    /**
     * The text editor.
     */
    get editor() {
        const editorWidget = this.editorWidget();
        if (editorWidget) {
            return editorWidget.editor;
        }
        return undefined;
    }
};
__decorate([
    inversify_1.inject(EditorManager),
    __metadata("design:type", EditorManager)
], EditorAccess.prototype, "editorManager", void 0);
EditorAccess = __decorate([
    inversify_1.injectable()
], EditorAccess);
exports.EditorAccess = EditorAccess;
/**
 * Provides direct access to the currently active text editor.
 */
let CurrentEditorAccess = class CurrentEditorAccess extends EditorAccess {
    editorWidget() {
        return this.editorManager.currentEditor;
    }
};
CurrentEditorAccess = __decorate([
    inversify_1.injectable()
], CurrentEditorAccess);
exports.CurrentEditorAccess = CurrentEditorAccess;
/**
 * Provides access to the active text editor.
 */
let ActiveEditorAccess = class ActiveEditorAccess extends EditorAccess {
    editorWidget() {
        return this.editorManager.activeEditor;
    }
};
ActiveEditorAccess = __decorate([
    inversify_1.injectable()
], ActiveEditorAccess);
exports.ActiveEditorAccess = ActiveEditorAccess;
(function (EditorAccess) {
    EditorAccess.CURRENT = 'current-editor-access';
    EditorAccess.ACTIVE = 'active-editor-access';
})(EditorAccess = exports.EditorAccess || (exports.EditorAccess = {}));
exports.EditorAccess = EditorAccess;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/editor-menu.js":
/*!************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/editor-menu.js ***!
  \************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.EditorMenuContribution = exports.EditorMainMenu = exports.EditorContextMenu = exports.EDITOR_CONTEXT_MENU = void 0;
const inversify_1 = __webpack_require__(/*! @theia/core/shared/inversify */ "../node_modules/@theia/file-search/node_modules/@theia/core/shared/inversify.js");
const core_1 = __webpack_require__(/*! @theia/core */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/index.js");
const browser_1 = __webpack_require__(/*! @theia/core/lib/browser */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/index.js");
const editor_command_1 = __webpack_require__(/*! ./editor-command */ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/editor-command.js");
exports.EDITOR_CONTEXT_MENU = ['editor_context_menu'];
/**
 * Editor context menu default groups should be aligned
 * with VS Code default groups: https://code.visualstudio.com/api/references/contribution-points#contributes.menus
 */
var EditorContextMenu;
(function (EditorContextMenu) {
    EditorContextMenu.NAVIGATION = [...exports.EDITOR_CONTEXT_MENU, 'navigation'];
    EditorContextMenu.MODIFICATION = [...exports.EDITOR_CONTEXT_MENU, '1_modification'];
    EditorContextMenu.CUT_COPY_PASTE = [...exports.EDITOR_CONTEXT_MENU, '9_cutcopypaste'];
    EditorContextMenu.COMMANDS = [...exports.EDITOR_CONTEXT_MENU, 'z_commands'];
    EditorContextMenu.UNDO_REDO = [...exports.EDITOR_CONTEXT_MENU, '1_undo'];
})(EditorContextMenu = exports.EditorContextMenu || (exports.EditorContextMenu = {}));
var EditorMainMenu;
(function (EditorMainMenu) {
    /**
     * The main `Go` menu item.
     */
    EditorMainMenu.GO = [...core_1.MAIN_MENU_BAR, '5_go'];
    /**
     * Navigation menu group in the `Go` menu.
     */
    EditorMainMenu.NAVIGATION_GROUP = [...EditorMainMenu.GO, '1_navigation_group'];
})(EditorMainMenu = exports.EditorMainMenu || (exports.EditorMainMenu = {}));
let EditorMenuContribution = class EditorMenuContribution {
    registerMenus(registry) {
        registry.registerMenuAction(EditorContextMenu.UNDO_REDO, {
            commandId: browser_1.CommonCommands.UNDO.id
        });
        registry.registerMenuAction(EditorContextMenu.UNDO_REDO, {
            commandId: browser_1.CommonCommands.REDO.id
        });
        registry.registerMenuAction(EditorContextMenu.CUT_COPY_PASTE, {
            commandId: browser_1.CommonCommands.CUT.id,
            order: '0'
        });
        registry.registerMenuAction(EditorContextMenu.CUT_COPY_PASTE, {
            commandId: browser_1.CommonCommands.COPY.id,
            order: '1'
        });
        registry.registerMenuAction(EditorContextMenu.CUT_COPY_PASTE, {
            commandId: browser_1.CommonCommands.PASTE.id,
            order: '2'
        });
        // Editor navigation. Go > Back and Go > Forward.
        registry.registerSubmenu(EditorMainMenu.GO, 'Go');
        registry.registerMenuAction(EditorMainMenu.NAVIGATION_GROUP, {
            commandId: editor_command_1.EditorCommands.GO_BACK.id,
            label: 'Back'
        });
        registry.registerMenuAction(EditorMainMenu.NAVIGATION_GROUP, {
            commandId: editor_command_1.EditorCommands.GO_FORWARD.id,
            label: 'Forward'
        });
        registry.registerMenuAction(EditorMainMenu.NAVIGATION_GROUP, {
            commandId: editor_command_1.EditorCommands.GO_LAST_EDIT.id,
            label: 'Last Edit Location'
        });
        // Toggle Commands.
        registry.registerMenuAction(browser_1.CommonMenus.VIEW_TOGGLE, {
            commandId: editor_command_1.EditorCommands.TOGGLE_WORD_WRAP.id,
            label: editor_command_1.EditorCommands.TOGGLE_WORD_WRAP.label,
            order: '0'
        });
        registry.registerMenuAction(browser_1.CommonMenus.VIEW_TOGGLE, {
            commandId: editor_command_1.EditorCommands.TOGGLE_MINIMAP.id,
            label: 'Show Minimap',
            order: '1',
        });
        registry.registerMenuAction(browser_1.CommonMenus.VIEW_TOGGLE, {
            commandId: editor_command_1.EditorCommands.TOGGLE_RENDER_WHITESPACE.id,
            label: 'Render Whitespace',
            order: '2'
        });
    }
};
EditorMenuContribution = __decorate([
    inversify_1.injectable()
], EditorMenuContribution);
exports.EditorMenuContribution = EditorMenuContribution;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/editor-navigation-contribution.js":
/*!*******************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/editor-navigation-contribution.js ***!
  \*******************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var EditorNavigationContribution_1;
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.EditorNavigationContribution = void 0;
const inversify_1 = __webpack_require__(/*! @theia/core/shared/inversify */ "../node_modules/@theia/file-search/node_modules/@theia/core/shared/inversify.js");
const logger_1 = __webpack_require__(/*! @theia/core/lib/common/logger */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/logger.js");
const storage_service_1 = __webpack_require__(/*! @theia/core/lib/browser/storage-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/storage-service.js");
const disposable_1 = __webpack_require__(/*! @theia/core/lib/common/disposable */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/disposable.js");
const command_1 = __webpack_require__(/*! @theia/core/lib/common/command */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/command.js");
const editor_command_1 = __webpack_require__(/*! ./editor-command */ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/editor-command.js");
const editor_manager_1 = __webpack_require__(/*! ./editor-manager */ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/editor-manager.js");
const navigation_location_1 = __webpack_require__(/*! ./navigation/navigation-location */ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/navigation/navigation-location.js");
const navigation_location_service_1 = __webpack_require__(/*! ./navigation/navigation-location-service */ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/navigation/navigation-location-service.js");
const browser_1 = __webpack_require__(/*! @theia/core/lib/browser */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/index.js");
let EditorNavigationContribution = EditorNavigationContribution_1 = class EditorNavigationContribution {
    constructor() {
        this.toDispose = new disposable_1.DisposableCollection();
        this.toDisposePerCurrentEditor = new disposable_1.DisposableCollection();
    }
    init() {
        this.toDispose.pushAll([
            // TODO listen on file resource changes, if a file gets deleted, remove the corresponding navigation locations (if any).
            // This would require introducing the FS dependency in the editor extension.
            this.editorManager.onCurrentEditorChanged(this.onCurrentEditorChanged.bind(this)),
            this.editorManager.onCreated(widget => {
                this.locationStack.removeClosedEditor(widget.editor.uri);
                widget.disposed.connect(() => this.locationStack.addClosedEditor({
                    uri: widget.editor.uri,
                    viewState: widget.editor.storeViewState()
                }));
            })
        ]);
        this.commandRegistry.registerHandler(editor_command_1.EditorCommands.GO_BACK.id, {
            execute: () => this.locationStack.back(),
            isEnabled: () => this.locationStack.canGoBack()
        });
        this.commandRegistry.registerHandler(editor_command_1.EditorCommands.GO_FORWARD.id, {
            execute: () => this.locationStack.forward(),
            isEnabled: () => this.locationStack.canGoForward()
        });
        this.commandRegistry.registerHandler(editor_command_1.EditorCommands.GO_LAST_EDIT.id, {
            execute: () => this.locationStack.reveal(this.locationStack.lastEditLocation()),
            isEnabled: () => !!this.locationStack.lastEditLocation()
        });
        this.commandRegistry.registerHandler(editor_command_1.EditorCommands.CLEAR_EDITOR_HISTORY.id, {
            execute: () => this.locationStack.clearHistory(),
            isEnabled: () => this.locationStack.locations().length > 0
        });
        this.commandRegistry.registerHandler(editor_command_1.EditorCommands.TOGGLE_MINIMAP.id, {
            execute: () => this.toggleMinimap(),
            isEnabled: () => true,
            isToggled: () => this.isMinimapEnabled()
        });
        this.commandRegistry.registerHandler(editor_command_1.EditorCommands.TOGGLE_RENDER_WHITESPACE.id, {
            execute: () => this.toggleRenderWhitespace(),
            isEnabled: () => true,
            isToggled: () => this.isRenderWhitespaceEnabled()
        });
        this.commandRegistry.registerHandler(editor_command_1.EditorCommands.TOGGLE_WORD_WRAP.id, {
            execute: () => this.toggleWordWrap(),
            isEnabled: () => true,
        });
        this.commandRegistry.registerHandler(editor_command_1.EditorCommands.REOPEN_CLOSED_EDITOR.id, {
            execute: () => this.reopenLastClosedEditor()
        });
    }
    /**
     * Reopens the last closed editor with its stored view state if possible from history.
     * If the editor cannot be restored, continue to the next editor in history.
     */
    async reopenLastClosedEditor() {
        const lastClosedEditor = this.locationStack.getLastClosedEditor();
        if (lastClosedEditor === undefined) {
            return;
        }
        try {
            const widget = await this.editorManager.open(lastClosedEditor.uri);
            widget.editor.restoreViewState(lastClosedEditor.viewState);
        }
        catch (_a) {
            this.locationStack.removeClosedEditor(lastClosedEditor.uri);
            this.reopenLastClosedEditor();
        }
    }
    async onStart() {
        await this.restoreState();
    }
    onStop() {
        this.storeState();
        this.dispose();
    }
    dispose() {
        this.toDispose.dispose();
    }
    /**
     * Toggle the editor word wrap behavior.
     */
    async toggleWordWrap() {
        // Get the current word wrap.
        const wordWrap = this.preferenceService.get('editor.wordWrap');
        if (wordWrap === undefined) {
            return;
        }
        // The list of allowed word wrap values.
        const values = ['off', 'on', 'wordWrapColumn', 'bounded'];
        // Get the index of the current value, and toggle to the next available value.
        const index = values.indexOf(wordWrap) + 1;
        if (index > -1) {
            this.preferenceService.set('editor.wordWrap', values[index % values.length], browser_1.PreferenceScope.User);
        }
    }
    /**
     * Toggle the display of minimap in the editor.
     */
    async toggleMinimap() {
        const value = this.preferenceService.get('editor.minimap.enabled');
        this.preferenceService.set('editor.minimap.enabled', !value, browser_1.PreferenceScope.User);
    }
    /**
     * Toggle the rendering of whitespace in the editor.
     */
    async toggleRenderWhitespace() {
        const renderWhitespace = this.preferenceService.get('editor.renderWhitespace');
        let updatedRenderWhitespace;
        if (renderWhitespace === 'none') {
            updatedRenderWhitespace = 'all';
        }
        else {
            updatedRenderWhitespace = 'none';
        }
        this.preferenceService.set('editor.renderWhitespace', updatedRenderWhitespace, browser_1.PreferenceScope.User);
    }
    onCurrentEditorChanged(editorWidget) {
        this.toDisposePerCurrentEditor.dispose();
        if (editorWidget) {
            const { editor } = editorWidget;
            this.toDisposePerCurrentEditor.pushAll([
                // Instead of registering an `onCursorPositionChanged` listener, we treat the zero length selection as a cursor position change.
                // Otherwise we would have two events for a single cursor change interaction.
                editor.onSelectionChanged(selection => this.onSelectionChanged(editor, selection)),
                editor.onDocumentContentChanged(event => this.onDocumentContentChanged(editor, event))
            ]);
            this.locationStack.register(navigation_location_1.NavigationLocation.create(editor, editor.selection));
        }
    }
    onCursorPositionChanged(editor, position) {
        this.locationStack.register(navigation_location_1.NavigationLocation.create(editor, position));
    }
    onSelectionChanged(editor, selection) {
        if (this.isZeroLengthRange(selection)) {
            this.onCursorPositionChanged(editor, selection.start);
        }
        else {
            this.locationStack.register(navigation_location_1.NavigationLocation.create(editor, selection));
        }
    }
    onDocumentContentChanged(editor, event) {
        if (event.contentChanges.length > 0) {
            this.locationStack.register(navigation_location_1.NavigationLocation.create(editor, event.contentChanges[0]));
        }
    }
    /**
     * `true` if the `range` argument has zero length. In other words, the `start` and the `end` positions are the same. Otherwise, `false`.
     */
    isZeroLengthRange(range) {
        const { start, end } = range;
        return start.line === end.line && start.character === end.character;
    }
    async storeState() {
        this.storageService.setData(EditorNavigationContribution_1.ID, {
            locations: this.locationStack.locations().map(navigation_location_1.NavigationLocation.toObject)
        });
        this.storageService.setData(EditorNavigationContribution_1.CLOSED_EDITORS_KEY, {
            closedEditors: this.shouldStoreClosedEditors() ? this.locationStack.closedEditorsStack.map(navigation_location_1.RecentlyClosedEditor.toObject) : []
        });
    }
    async restoreState() {
        await this.restoreNavigationLocations();
        await this.restoreClosedEditors();
    }
    async restoreNavigationLocations() {
        const raw = await this.storageService.getData(EditorNavigationContribution_1.ID);
        if (raw && raw.locations) {
            const locations = [];
            for (let i = 0; i < raw.locations.length; i++) {
                const location = navigation_location_1.NavigationLocation.fromObject(raw.locations[i]);
                if (location) {
                    locations.push(location);
                }
                else {
                    this.logger.warn('Could not restore the state of the editor navigation history.');
                    return;
                }
            }
            this.locationStack.register(...locations);
        }
    }
    async restoreClosedEditors() {
        const raw = await this.storageService.getData(EditorNavigationContribution_1.CLOSED_EDITORS_KEY);
        if (raw && raw.closedEditors) {
            for (let i = 0; i < raw.closedEditors.length; i++) {
                const editor = navigation_location_1.RecentlyClosedEditor.fromObject(raw.closedEditors[i]);
                if (editor) {
                    this.locationStack.addClosedEditor(editor);
                }
                else {
                    this.logger.warn('Could not restore the state of the closed editors stack.');
                }
            }
        }
    }
    isMinimapEnabled() {
        return !!this.preferenceService.get('editor.minimap.enabled');
    }
    isRenderWhitespaceEnabled() {
        const renderWhitespace = this.preferenceService.get('editor.renderWhitespace');
        return renderWhitespace === 'none' ? false : true;
    }
    shouldStoreClosedEditors() {
        return !!this.preferenceService.get('editor.history.persistClosedEditors');
    }
};
EditorNavigationContribution.ID = 'editor-navigation-contribution';
EditorNavigationContribution.CLOSED_EDITORS_KEY = 'recently-closed-editors';
__decorate([
    inversify_1.inject(logger_1.ILogger),
    __metadata("design:type", Object)
], EditorNavigationContribution.prototype, "logger", void 0);
__decorate([
    inversify_1.inject(editor_manager_1.EditorManager),
    __metadata("design:type", editor_manager_1.EditorManager)
], EditorNavigationContribution.prototype, "editorManager", void 0);
__decorate([
    inversify_1.inject(navigation_location_service_1.NavigationLocationService),
    __metadata("design:type", navigation_location_service_1.NavigationLocationService)
], EditorNavigationContribution.prototype, "locationStack", void 0);
__decorate([
    inversify_1.inject(storage_service_1.StorageService),
    __metadata("design:type", Object)
], EditorNavigationContribution.prototype, "storageService", void 0);
__decorate([
    inversify_1.inject(browser_1.PreferenceService),
    __metadata("design:type", Object)
], EditorNavigationContribution.prototype, "preferenceService", void 0);
__decorate([
    inversify_1.inject(command_1.CommandRegistry),
    __metadata("design:type", command_1.CommandRegistry)
], EditorNavigationContribution.prototype, "commandRegistry", void 0);
__decorate([
    inversify_1.postConstruct(),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", []),
    __metadata("design:returntype", void 0)
], EditorNavigationContribution.prototype, "init", null);
EditorNavigationContribution = EditorNavigationContribution_1 = __decorate([
    inversify_1.injectable()
], EditorNavigationContribution);
exports.EditorNavigationContribution = EditorNavigationContribution;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/editor-preferences.js":
/*!*******************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/editor-preferences.js ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 Ericsson and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.bindEditorPreferences = exports.createEditorPreferences = exports.EditorPreferences = exports.EditorPreferenceContribution = exports.editorPreferenceSchema = exports.DEFAULT_WORD_SEPARATORS = exports.EDITOR_MODEL_DEFAULTS = exports.EDITOR_FONT_DEFAULTS = void 0;
const preferences_1 = __webpack_require__(/*! @theia/core/lib/browser/preferences */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/preferences/index.js");
const os_1 = __webpack_require__(/*! @theia/core/lib/common/os */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/os.js");
const DEFAULT_WINDOWS_FONT_FAMILY = 'Consolas, \'Courier New\', monospace';
const DEFAULT_MAC_FONT_FAMILY = 'Menlo, Monaco, \'Courier New\', monospace';
const DEFAULT_LINUX_FONT_FAMILY = '\'Droid Sans Mono\', \'monospace\', monospace, \'Droid Sans Fallback\'';
const platform = {
    isMacintosh: os_1.isOSX,
    isLinux: os_1.OS.type() === os_1.OS.Type.Linux
};
// should be in sync with https://github.com/theia-ide/vscode/blob/standalone/0.23.x/src/vs/editor/common/config/editorOptions.ts#L3687
exports.EDITOR_FONT_DEFAULTS = {
    fontFamily: (os_1.isOSX ? DEFAULT_MAC_FONT_FAMILY : (os_1.isWindows ? DEFAULT_WINDOWS_FONT_FAMILY : DEFAULT_LINUX_FONT_FAMILY)),
    fontWeight: 'normal',
    fontSize: (os_1.isOSX ? 12 : 14),
    lineHeight: 0,
    letterSpacing: 0,
};
// should be in sync with https://github.com/theia-ide/vscode/blob/standalone/0.23.x/src/vs/editor/common/config/editorOptions.ts#L3702
exports.EDITOR_MODEL_DEFAULTS = {
    tabSize: 4,
    indentSize: 4,
    insertSpaces: true,
    detectIndentation: true,
    trimAutoWhitespace: true,
    largeFileOptimizations: true
};
exports.DEFAULT_WORD_SEPARATORS = '`~!@#$%^&*()-=+[{]}\\|;:\'",.<>/?';
/* eslint-disable max-len */
/* eslint-disable no-null/no-null */
// should be in sync with:
//        1. https://github.com/theia-ide/vscode/blob/standalone/0.23.x/src/vs/editor/common/config/commonEditorConfig.ts#L458
//        2. https://github.com/theia-ide/vscode/blob/standalone/0.23.x/src/vs/editor/common/config/commonEditorConfig.ts#L577
// 1. Copy from https://github.com/theia-ide/vscode/blob/standalone/0.23.x/src/vs/editor/common/config/commonEditorConfig.ts#L577
// 2. Align first items with https://github.com/theia-ide/vscode/blob/standalone/0.23.x/src/vs/editor/common/config/commonEditorConfig.ts#L458
// 3. Find -> Use Regular Expressions to clean up data and replace " by ', for example -> nls\.localize\(.*, "(.*)"\) -> "$1"
// 4. Apply `quotemark` quick fixes
// 5. Fix the rest manually
const codeEditorPreferenceProperties = {
    'editor.tabSize': {
        'type': 'number',
        'default': exports.EDITOR_MODEL_DEFAULTS.tabSize,
        'minimum': 1,
        'markdownDescription': 'The number of spaces a tab is equal to. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.'
    },
    'editor.defaultFormatter': {
        'type': 'string',
        'default': null,
        'description': 'Default formatter.'
    },
    'editor.insertSpaces': {
        'type': 'boolean',
        'default': exports.EDITOR_MODEL_DEFAULTS.insertSpaces,
        'markdownDescription': 'Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.'
    },
    'editor.detectIndentation': {
        'type': 'boolean',
        'default': exports.EDITOR_MODEL_DEFAULTS.detectIndentation,
        'markdownDescription': 'Controls whether `#editor.tabSize#` and `#editor.insertSpaces#` will be automatically detected when a file is opened based on the file contents.'
    },
    'editor.trimAutoWhitespace': {
        'type': 'boolean',
        'default': exports.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace,
        'description': 'Remove trailing auto inserted whitespace.'
    },
    'editor.largeFileOptimizations': {
        'type': 'boolean',
        'default': exports.EDITOR_MODEL_DEFAULTS.largeFileOptimizations,
        'description': 'Special handling for large files to disable certain memory intensive features.'
    },
    'editor.wordBasedSuggestions': {
        'type': 'boolean',
        'default': true,
        'description': 'Controls whether completions should be computed based on words in the document.'
    },
    'editor.wordBasedSuggestionsMode': {
        'enum': ['currentDocument', 'matchingDocuments', 'allDocuments'],
        'default': 'matchingDocuments',
        'enumDescriptions': [
            'Only suggest words from the active document.',
            'Suggest words from all open documents of the same language.',
            'Suggest words from all open documents.'
        ],
        'description': 'Controls form what documents word based completions are computed.'
    },
    'editor.semanticHighlighting.enabled': {
        'enum': [true, false, 'configuredByTheme'],
        'enumDescriptions': [
            'Semantic highlighting enabled for all color themes.',
            'Semantic highlighting disabled for all color themes.',
            'Semantic highlighting is configured by the current color theme\'s `semanticHighlighting` setting.'
        ],
        'default': 'configuredByTheme',
        'description': 'Controls whether the semanticHighlighting is shown for the languages that support it.'
    },
    'editor.stablePeek': {
        'type': 'boolean',
        'default': false,
        'markdownDescription': 'Keep peek editors open even when double clicking their content or when hitting `Escape`.'
    },
    'editor.maxTokenizationLineLength': {
        'type': 'integer',
        'default': 400,
        'description': 'Lines above this length will not be tokenized for performance reasons.'
    },
    'diffEditor.maxComputationTime': {
        'type': 'number',
        'default': 5000,
        'description': 'Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.'
    },
    'diffEditor.renderSideBySide': {
        'type': 'boolean',
        'default': true,
        'description': 'Controls whether the diff editor shows the diff side by side or inline.'
    },
    'diffEditor.ignoreTrimWhitespace': {
        'type': 'boolean',
        'default': true,
        'description': 'When enabled, the diff editor ignores changes in leading or trailing whitespace.'
    },
    'diffEditor.renderIndicators': {
        'type': 'boolean',
        'default': true,
        'description': 'Controls whether the diff editor shows +/- indicators for added/removed changes.'
    },
    'diffEditor.codeLens': {
        'type': 'boolean',
        'default': false,
        'description': 'Controls whether the editor shows CodeLens.'
    },
    'diffEditor.wordWrap': {
        'type': 'string',
        'enum': ['off', 'on', 'inherit'],
        'default': 'inherit',
        'markdownEnumDescriptions': [
            'Lines will never wrap.',
            'Lines will wrap at the viewport width.',
            'Lines will wrap according to the `#editor.wordWrap#` setting.'
        ]
    },
    'editor.acceptSuggestionOnCommitCharacter': {
        'markdownDescription': 'Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`;`) can be a commit character that accepts a suggestion and types that character.',
        'type': 'boolean',
        'default': true
    },
    'editor.acceptSuggestionOnEnter': {
        'markdownEnumDescriptions': [
            '',
            'Only accept a suggestion with `Enter` when it makes a textual change.',
            ''
        ],
        'markdownDescription': 'Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.',
        'type': 'string',
        'enum': [
            'on',
            'smart',
            'off'
        ],
        'default': 'on'
    },
    'editor.accessibilitySupport': {
        'type': 'string',
        'enum': [
            'auto',
            'on',
            'off'
        ],
        'enumDescriptions': [
            'The editor will use platform APIs to detect when a Screen Reader is attached.',
            'The editor will be permanently optimized for usage with a Screen Reader.',
            'The editor will never be optimized for usage with a Screen Reader.'
        ],
        'default': 'auto',
        'description': 'Controls whether the editor should run in a mode where it is optimized for screen readers.'
    },
    'editor.accessibilityPageSize': {
        'description': 'Controls the number of lines in the editor that can be read out by a screen reader. Warning: this has a performance implication for numbers larger than the default.',
        'type': 'integer',
        'default': 10,
        'minimum': 1,
        'maximum': 1073741824
    },
    'editor.autoClosingBrackets': {
        'enumDescriptions': [
            '',
            'Use language configurations to determine when to autoclose brackets.',
            'Autoclose brackets only when the cursor is to the left of whitespace.',
            ''
        ],
        'description': 'Controls whether the editor should automatically close brackets after the user adds an opening bracket.',
        'type': 'string',
        'enum': [
            'always',
            'languageDefined',
            'beforeWhitespace',
            'never'
        ],
        'default': 'languageDefined'
    },
    'editor.autoClosingOvertype': {
        'enumDescriptions': [
            '',
            'Type over closing quotes or brackets only if they were automatically inserted.',
            ''
        ],
        'description': 'Controls whether the editor should type over closing quotes or brackets.',
        'type': 'string',
        'enum': [
            'always',
            'auto',
            'never'
        ],
        'default': 'auto'
    },
    'editor.autoClosingQuotes': {
        'enumDescriptions': [
            '',
            'Use language configurations to determine when to autoclose quotes.',
            'Autoclose quotes only when the cursor is to the left of whitespace.',
            ''
        ],
        'description': 'Controls whether the editor should automatically close quotes after the user adds an opening quote.',
        'type': 'string',
        'enum': [
            'always',
            'languageDefined',
            'beforeWhitespace',
            'never'
        ],
        'default': 'languageDefined'
    },
    'editor.autoIndent': {
        'enumDescriptions': [
            'The editor will not insert indentation automatically.',
            'The editor will keep the current line\'s indentation.',
            'The editor will keep the current line\'s indentation and honor language defined brackets.',
            'The editor will keep the current line\'s indentation, honor language defined brackets and invoke special onEnterRules defined by languages.',
            'The editor will keep the current line\'s indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.'
        ],
        'description': 'Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.',
        'type': 'string',
        'enum': [
            'none',
            'keep',
            'brackets',
            'advanced',
            'full'
        ],
        'default': 'full'
    },
    'editor.autoSurround': {
        'enumDescriptions': [
            'Use language configurations to determine when to automatically surround selections.',
            'Surround with quotes but not brackets.',
            'Surround with brackets but not quotes.',
            ''
        ],
        'description': 'Controls whether the editor should automatically surround selections.',
        'type': 'string',
        'enum': [
            'languageDefined',
            'quotes',
            'brackets',
            'never'
        ],
        'default': 'languageDefined'
    },
    'editor.ariaLabel': {
        'type': 'string',
        'description': 'The aria label for the editor\'s textarea when focused.',
        'default': 'ariaLabel'
    },
    'editor.automaticLayout': {
        'type': 'boolean',
        'default': false,
        'description': 'Enable that the editor will install an interval to check if its container dom node size has changed. Enabling this might have a severe performance impact.'
    },
    'editor.codeLens': {
        'description': 'Controls whether the editor shows CodeLens.',
        'type': 'boolean',
        'default': true
    },
    'editor.codeLensFontFamily': {
        'description': 'Controls the font family for CodeLens.',
        'type': 'string',
        'default': true
    },
    'editor.codeLensFontSize': {
        'type': 'integer',
        'default': 0,
        'minimum': 0,
        'maximum': 100,
        'description': 'Controls the font size in pixels for CodeLens. When set to `0`, the 90% of `#editor.fontSize#` is used.'
    },
    'editor.colorDecorators': {
        'description': 'Controls whether the editor should render the inline color decorators and color picker.',
        'type': 'boolean',
        'default': true
    },
    'editor.comments.insertSpace': {
        'type': 'boolean',
        'default': true,
        'description': 'Controls whether a space character is inserted when commenting.'
    },
    'editor.comments.ignoreEmptyLines': {
        'type': 'boolean',
        'default': true,
        'description': 'Controls if empty lines should be ignored with toggle, add or remove actions for line comments.'
    },
    'editor.contextmenu': {
        'description': 'Controls whether to enable the custom contextmenu.',
        'type': 'boolean',
        'default': true,
    },
    'editor.copyWithSyntaxHighlighting': {
        'description': 'Controls whether syntax highlighting should be copied into the clipboard.',
        'type': 'boolean',
        'default': true
    },
    'editor.cursorBlinking': {
        'description': 'Control the cursor animation style.',
        'type': 'string',
        'enum': [
            'blink',
            'smooth',
            'phase',
            'expand',
            'solid'
        ],
        'default': 'blink'
    },
    'editor.cursorSmoothCaretAnimation': {
        'description': 'Controls whether the smooth caret animation should be enabled.',
        'type': 'boolean',
        'default': false
    },
    'editor.cursorStyle': {
        'description': 'Controls the cursor style.',
        'type': 'string',
        'enum': [
            'line',
            'block',
            'underline',
            'line-thin',
            'block-outline',
            'underline-thin'
        ],
        'default': 'line'
    },
    'editor.cursorSurroundingLines': {
        'description': 'Controls the minimal number of visible leading and trailing lines surrounding the cursor. Known as `scrollOff` or `scrollOffset` in some other editors.',
        'type': 'integer',
        'default': 0,
        'minimum': 0,
        'maximum': 1073741824
    },
    'editor.cursorSurroundingLinesStyle': {
        'enumDescriptions': [
            '`cursorSurroundingLines` is enforced only when triggered via the keyboard or API.',
            '`cursorSurroundingLines` is enforced always.'
        ],
        'description': 'Controls when `cursorSurroundingLines` should be enforced.',
        'type': 'string',
        'enum': [
            'default',
            'all'
        ],
        'default': 'default'
    },
    'editor.cursorWidth': {
        'markdownDescription': 'Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.',
        'type': 'integer',
        'default': 0,
        'minimum': 0,
        'maximum': 1073741824
    },
    'editor.disableLayerHinting': {
        'markdownDescription': 'Disable the use of `transform: translate3d(0px, 0px, 0px)` for the editor margin and lines layers. The usage of `transform: translate3d(0px, 0px, 0px)` acts as a hint for browsers to create an extra layer.',
        'type': 'boolean',
        'default': false
    },
    'editor.disableMonospaceOptimizations': {
        'description': 'Controls whether to enable optimizations for monospace fonts.',
        'type': 'boolean',
        'default': false
    },
    'editor.dragAndDrop': {
        'description': 'Controls whether the editor should allow moving selections via drag and drop.',
        'type': 'boolean',
        'default': true
    },
    'editor.emptySelectionClipboard': {
        'description': 'Controls whether copying without a selection copies the current line.',
        'type': 'boolean',
        'default': true
    },
    'editor.extraEditorClassName': {
        'description': 'Additional class name to be added to the editor.',
        'type': 'string',
        'default': ''
    },
    'editor.fastScrollSensitivity': {
        'markdownDescription': 'Scrolling speed multiplier when pressing `Alt`.',
        'type': 'number',
        'default': 5
    },
    'editor.find.cursorMoveOnType': {
        'description': 'Controls whether the cursor should jump to find matches while typing.',
        'type': 'boolean',
        'default': true
    },
    'editor.find.seedSearchStringFromSelection': {
        'type': 'boolean',
        'default': true,
        'description': 'Controls whether the search string in the Find Widget is seeded from the editor selection.'
    },
    'editor.find.autoFindInSelection': {
        'type': 'string',
        'enum': [
            'never',
            'always',
            'multiline'
        ],
        'default': 'never',
        'enumDescriptions': [
            'Never turn on Find in selection automatically (default)',
            'Always turn on Find in selection automatically',
            'Turn on Find in selection automatically when multiple lines of content are selected.'
        ],
        'description': 'Controls whether the find operation is carried out on selected text or the entire file in the editor.'
    },
    'editor.find.globalFindClipboard': {
        'type': 'boolean',
        'default': false,
        'description': 'Controls whether the Find Widget should read or modify the shared find clipboard on macOS.',
        'included': os_1.isOSX
    },
    'editor.find.addExtraSpaceOnTop': {
        'type': 'boolean',
        'default': true,
        'description': 'Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.'
    },
    'editor.find.loop': {
        'type': 'boolean',
        'default': true,
        'description': 'Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.'
    },
    'editor.fixedOverflowWidgets': {
        'markdownDescription': 'Controls whether to display overflow widgets as `fixed`.',
        'type': 'boolean',
        'default': false,
    },
    'editor.folding': {
        'description': 'Controls whether the editor has code folding enabled.',
        'type': 'boolean',
        'default': true
    },
    'editor.foldingStrategy': {
        'markdownDescription': 'Controls the strategy for computing folding ranges. `auto` uses a language specific folding strategy, if available. `indentation` uses the indentation based folding strategy.',
        'type': 'string',
        'enum': [
            'auto',
            'indentation'
        ],
        'default': 'auto'
    },
    'editor.foldingHighlight': {
        'description': 'Controls whether the editor should highlight folded ranges.',
        'type': 'boolean',
        'default': true
    },
    'editor.unfoldOnClickAfterEndOfLine': {
        'description': 'Controls whether clicking on the empty content after a folded line will unfold the line.',
        'type': 'boolean',
        'default': false
    },
    'editor.fontFamily': {
        'description': 'Controls the font family.',
        'type': 'string',
        'default': exports.EDITOR_FONT_DEFAULTS.fontFamily
    },
    'editor.fontLigatures': {
        'anyOf': [
            {
                'type': 'boolean',
                'description': 'Enables/Disables font ligatures.'
            },
            {
                'type': 'string',
                'description': 'Explicit font-feature-settings.'
            }
        ],
        'description': 'Configures font ligatures.',
        'default': false
    },
    'editor.fontSize': {
        'type': 'number',
        'minimum': 6,
        'maximum': 100,
        'default': exports.EDITOR_FONT_DEFAULTS.fontSize,
        'description': 'Controls the font size in pixels.'
    },
    'editor.fontWeight': {
        'enum': [
            'normal',
            'bold',
            '100',
            '200',
            '300',
            '400',
            '500',
            '600',
            '700',
            '800',
            '900'
        ],
        'description': 'Controls the font weight.',
        'type': 'string',
        'default': exports.EDITOR_FONT_DEFAULTS.fontWeight
    },
    'editor.formatOnPaste': {
        'description': 'Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.',
        'type': 'boolean',
        'default': false
    },
    'editor.formatOnType': {
        'description': 'Controls whether the editor should automatically format the line after typing.',
        'type': 'boolean',
        'default': false
    },
    'editor.glyphMargin': {
        'description': 'Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.',
        'type': 'boolean',
        'default': true
    },
    'editor.gotoLocation.multiple': {
        'type': 'string',
        'default': '',
        'deprecationMessage': 'This setting is deprecated, please use separate settings like `editor.editor.gotoLocation.multipleDefinitions` or `editor.editor.gotoLocation.multipleImplementations` instead.'
    },
    'editor.gotoLocation.multipleDefinitions': {
        'description': 'Controls the behavior the `Go to Definition`-command when multiple target locations exist.',
        'type': 'string',
        'enum': [
            'peek',
            'gotoAndPeek',
            'goto'
        ],
        'default': 'peek',
        'enumDescriptions': [
            'Show peek view of the results (default)',
            'Go to the primary result and show a peek view',
            'Go to the primary result and enable peek-less navigation to others'
        ]
    },
    'editor.gotoLocation.multipleTypeDefinitions': {
        'description': 'Controls the behavior the `Go to Type Definition`-command when multiple target locations exist.',
        'type': 'string',
        'enum': [
            'peek',
            'gotoAndPeek',
            'goto'
        ],
        'default': 'peek',
        'enumDescriptions': [
            'Show peek view of the results (default)',
            'Go to the primary result and show a peek view',
            'Go to the primary result and enable peek-less navigation to others'
        ]
    },
    'editor.gotoLocation.multipleDeclarations': {
        'description': 'Controls the behavior the `Go to Declaration`-command when multiple target locations exist.',
        'type': 'string',
        'enum': [
            'peek',
            'gotoAndPeek',
            'goto'
        ],
        'default': 'peek',
        'enumDescriptions': [
            'Show peek view of the results (default)',
            'Go to the primary result and show a peek view',
            'Go to the primary result and enable peek-less navigation to others'
        ]
    },
    'editor.gotoLocation.multipleImplementations': {
        'description': 'Controls the behavior the `Go to Implementations`-command when multiple target locations exist.',
        'type': 'string',
        'enum': [
            'peek',
            'gotoAndPeek',
            'goto'
        ],
        'default': 'peek',
        'enumDescriptions': [
            'Show peek view of the results (default)',
            'Go to the primary result and show a peek view',
            'Go to the primary result and enable peek-less navigation to others'
        ]
    },
    'editor.gotoLocation.multipleReferences': {
        'description': 'Controls the behavior the `Go to References`-command when multiple target locations exist.',
        'type': 'string',
        'enum': [
            'peek',
            'gotoAndPeek',
            'goto'
        ],
        'default': 'peek',
        'enumDescriptions': [
            'Show peek view of the results (default)',
            'Go to the primary result and show a peek view',
            'Go to the primary result and enable peek-less navigation to others'
        ]
    },
    'editor.gotoLocation.alternativeDefinitionCommand': {
        'type': 'string',
        'default': 'editor.action.goToReferences',
        'description': 'Alternative command id that is being executed when the result of `Go to Definition` is the current location.'
    },
    'editor.gotoLocation.alternativeTypeDefinitionCommand': {
        'type': 'string',
        'default': 'editor.action.goToReferences',
        'description': 'Alternative command id that is being executed when the result of `Go to Type Definition` is the current location.'
    },
    'editor.gotoLocation.alternativeDeclarationCommand': {
        'type': 'string',
        'default': 'editor.action.goToReferences',
        'description': 'Alternative command id that is being executed when the result of `Go to Declaration` is the current location.'
    },
    'editor.gotoLocation.alternativeImplementationCommand': {
        'type': 'string',
        'default': '',
        'description': 'Alternative command id that is being executed when the result of `Go to Implementation` is the current location.'
    },
    'editor.gotoLocation.alternativeReferenceCommand': {
        'type': 'string',
        'default': '',
        'description': 'Alternative command id that is being executed when the result of `Go to Reference` is the current location.'
    },
    'editor.hideCursorInOverviewRuler': {
        'description': 'Controls whether the cursor should be hidden in the overview ruler.',
        'type': 'boolean',
        'default': false
    },
    'editor.highlightActiveIndentGuide': {
        'description': 'Controls whether the editor should highlight the active indent guide.',
        'type': 'boolean',
        'default': true
    },
    'editor.hover.enabled': {
        'type': 'boolean',
        'default': true,
        'description': 'Controls whether the hover is shown.'
    },
    'editor.hover.delay': {
        'type': 'number',
        'default': 300,
        'description': 'Controls the delay in milliseconds after which the hover is shown.'
    },
    'editor.hover.sticky': {
        'type': 'boolean',
        'default': true,
        'description': 'Controls whether the hover should remain visible when mouse is moved over it.'
    },
    'editor.inDiffEditor': {
        'type': 'boolean',
        'default': true,
    },
    'editor.letterSpacing': {
        'description': 'Controls the letter spacing in pixels.',
        'type': 'number',
        'default': exports.EDITOR_FONT_DEFAULTS.letterSpacing
    },
    'editor.lightbulb.enabled': {
        'type': 'boolean',
        'default': true,
        'description': 'Enables the code action lightbulb in the editor.'
    },
    'editor.lineHeight': {
        'description': 'Controls the line height. Use 0 to compute the line height from the font size.',
        'type': 'integer',
        'default': exports.EDITOR_FONT_DEFAULTS.lineHeight,
        'minimum': 0,
        'maximum': 150
    },
    'editor.lineNumbers': {
        'type': 'string',
        'enum': [
            'off',
            'on',
            'relative',
            'interval'
        ],
        'enumDescriptions': [
            'Line numbers are not rendered.',
            'Line numbers are rendered as absolute number.',
            'Line numbers are rendered as distance in lines to cursor position.',
            'Line numbers are rendered every 10 lines.'
        ],
        'default': 'on',
        'description': 'Controls the display of line numbers.'
    },
    'editor.lineNumbersMinChars': {
        'description': 'Controls the line height. Use 0 to compute the line height from the font size.',
        'type': 'integer',
        'default': 5,
        'minimum': 1,
        'maximum': 300
    },
    'editor.linkedEditing': {
        'description': 'Controls whether the editor has linked editing enabled. Depending on the language, related symbols, e.g. HTML tags, are updated while editing.',
        'type': 'boolean',
        'default': false
    },
    'editor.links': {
        'description': 'Controls whether the editor should detect links and make them clickable.',
        'type': 'boolean',
        'default': true
    },
    'editor.matchBrackets': {
        'description': 'Highlight matching brackets.',
        'type': 'string',
        'enum': [
            'always',
            'near',
            'never'
        ],
        'default': 'always'
    },
    'editor.minimap.enabled': {
        'type': 'boolean',
        'default': true,
        'description': 'Controls whether the minimap is shown.'
    },
    'editor.minimap.side': {
        'type': 'string',
        'enum': [
            'left',
            'right'
        ],
        'default': 'right',
        'description': 'Controls the side where to render the minimap.'
    },
    'editor.minimap.showSlider': {
        'type': 'string',
        'enum': [
            'always',
            'mouseover'
        ],
        'default': 'mouseover',
        'description': 'Controls when the minimap slider is shown.'
    },
    'editor.minimap.scale': {
        'type': 'number',
        'default': 1,
        'minimum': 1,
        'maximum': 3,
        'description': 'Scale of content drawn in the minimap.'
    },
    'editor.minimap.renderCharacters': {
        'type': 'boolean',
        'default': true,
        'description': 'Render the actual characters on a line as opposed to color blocks.'
    },
    'editor.minimap.maxColumn': {
        'type': 'number',
        'default': 120,
        'description': 'Limit the width of the minimap to render at most a certain number of columns.'
    },
    'editor.mouseStyle': {
        'description': 'Controls the mouse pointer style.',
        'type': 'string',
        'enum': ['text', 'default', 'copy'],
        'default': 'text'
    },
    'editor.mouseWheelScrollSensitivity': {
        'markdownDescription': 'A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.',
        'type': 'number',
        'default': 1
    },
    'editor.mouseWheelZoom': {
        'markdownDescription': 'Zoom the font of the editor when using mouse wheel and holding `Ctrl`.',
        'type': 'boolean',
        'default': false
    },
    'editor.multiCursorMergeOverlapping': {
        'description': 'Merge multiple cursors when they are overlapping.',
        'type': 'boolean',
        'default': true
    },
    'editor.multiCursorModifier': {
        'markdownEnumDescriptions': [
            'Maps to `Control` on Windows and Linux and to `Command` on macOS.',
            'Maps to `Alt` on Windows and Linux and to `Option` on macOS.'
        ],
        'markdownDescription': 'The modifier to be used to add multiple cursors with the mouse. The Go To Definition and Open Link mouse gestures will adapt such that they do not conflict with the multicursor modifier. [Read more](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).',
        'type': 'string',
        'enum': [
            'ctrlCmd',
            'alt'
        ],
        'default': 'alt'
    },
    'editor.multiCursorPaste': {
        'markdownEnumDescriptions': [
            'Each cursor pastes a single line of the text.',
            'Each cursor pastes the full text.'
        ],
        'markdownDescription': 'Controls pasting when the line count of the pasted text matches the cursor count.',
        'type': 'string',
        'enum': [
            'spread',
            'full'
        ],
        'default': 'spread'
    },
    'editor.occurrencesHighlight': {
        'description': 'Controls whether the editor should highlight semantic symbol occurrences.',
        'type': 'boolean',
        'default': true
    },
    'editor.overviewRulerBorder': {
        'description': 'Controls whether a border should be drawn around the overview ruler.',
        'type': 'boolean',
        'default': true
    },
    'editor.overviewRulerLanes': {
        'type': 'integer',
        'default': 3,
        'minimum': 0,
        'maximum': 3,
        'description': 'The number of vertical lanes the overview ruler should render.'
    },
    'editor.padding.top': {
        'type': 'number',
        'default': 0,
        'minimum': 0,
        'maximum': 1000,
        'description': 'Controls the amount of space between the top edge of the editor and the first line.'
    },
    'editor.padding.bottom': {
        'type': 'number',
        'default': 0,
        'minimum': 0,
        'maximum': 1000,
        'description': 'Controls the amount of space between the bottom edge of the editor and the last line.'
    },
    'editor.parameterHints.enabled': {
        'type': 'boolean',
        'default': true,
        'description': 'Enables a pop-up that shows parameter documentation and type information as you type.'
    },
    'editor.parameterHints.cycle': {
        'type': 'boolean',
        'default': false,
        'description': 'Controls whether the parameter hints menu cycles or closes when reaching the end of the list.'
    },
    'editor.peekWidgetDefaultFocus': {
        'enumDescriptions': [
            'Focus the tree when opening peek',
            'Focus the editor when opening peek'
        ],
        'description': 'Controls whether to focus the inline editor or the tree in the peek widget.',
        'type': 'string',
        'enum': [
            'tree',
            'editor'
        ],
        'default': 'tree'
    },
    'editor.definitionLinkOpensInPeek': {
        'type': 'boolean',
        'default': false,
        'description': 'Controls whether the Go to Definition mouse gesture always opens the peek widget.'
    },
    'editor.quickSuggestions': {
        'anyOf': [
            {
                'type': 'boolean'
            },
            {
                'type': 'object',
                'properties': {
                    'strings': {
                        'type': 'boolean',
                        'default': false,
                        'description': 'Enable quick suggestions inside strings.'
                    },
                    'comments': {
                        'type': 'boolean',
                        'default': false,
                        'description': 'Enable quick suggestions inside comments.'
                    },
                    'other': {
                        'type': 'boolean',
                        'default': true,
                        'description': 'Enable quick suggestions outside of strings and comments.'
                    }
                }
            }
        ],
        'default': {
            'other': true,
            'comments': false,
            'strings': false
        },
        'description': 'Controls whether suggestions should automatically show up while typing.'
    },
    'editor.quickSuggestionsDelay': {
        'description': 'Controls the delay in milliseconds after which quick suggestions will show up.',
        'type': 'integer',
        'default': 10,
        'minimum': 0,
        'maximum': 1073741824
    },
    'editor.readOnly': {
        'description': 'Controls whether the editor is readonly.',
        'type': 'boolean',
        'default': false
    },
    'editor.rename.enablePreview': {
        'description': 'Controls whether the editor should display refactor preview pane for rename.',
        'type': 'boolean',
        'default': true
    },
    'editor.renderControlCharacters': {
        'description': 'Controls whether the editor should render control characters.',
        'type': 'boolean',
        'default': false
    },
    'editor.renderIndentGuides': {
        'description': 'Controls whether the editor should render indent guides.',
        'type': 'boolean',
        'default': true
    },
    'editor.renderFinalNewline': {
        'description': 'Render last line number when the file ends with a newline.',
        'type': 'boolean',
        'default': true
    },
    'editor.renderLineHighlight': {
        'enumDescriptions': [
            '',
            '',
            '',
            'Highlights both the gutter and the current line.'
        ],
        'description': 'Controls how the editor should render the current line highlight.',
        'type': 'string',
        'enum': [
            'none',
            'gutter',
            'line',
            'all'
        ],
        'default': 'line'
    },
    'editor.renderLineHighlightOnlyWhenFocus': {
        'description': 'Controls if the editor should render the current line highlight only when the editor is focused.',
        'type': 'boolean',
        'default': false
    },
    'editor.renderValidationDecorations': {
        'description': 'Controls whether the editor renders validation decorations.',
        'type': 'string',
        'enum': ['editable', 'on', 'off'],
        'default': 'editable'
    },
    'editor.renderWhitespace': {
        'enumDescriptions': [
            '',
            'Render whitespace characters except for single spaces between words.',
            'Render whitespace characters only on selected text.',
            ''
        ],
        'description': 'Controls how the editor should render whitespace characters.',
        'type': 'string',
        'enum': [
            'none',
            'boundary',
            'selection',
            'all'
        ],
        'default': 'none'
    },
    'editor.revealHorizontalRightPadding': {
        'description': 'When revealing the cursor, a virtual padding (px) is added to the cursor, turning it into a rectangle. This virtual padding ensures that the cursor gets revealed before hitting the edge of the viewport.',
        'type': 'integer',
        'default': 30,
        'minimum': 0,
        'maximum': 1000
    },
    'editor.roundedSelection': {
        'description': 'Controls whether selections should have rounded corners.',
        'type': 'boolean',
        'default': true
    },
    'editor.rulers': {
        'type': 'array',
        'items': {
            'type': 'number'
        },
        'default': [],
        'description': 'Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.'
    },
    'editor.scrollBeyondLastColumn': {
        'description': 'Controls the number of extra characters beyond which the editor will scroll horizontally.',
        'type': 'integer',
        'default': 5,
        'minimum': 0,
        'maximum': 1073741824
    },
    'editor.scrollBeyondLastLine': {
        'description': 'Controls whether the editor will scroll beyond the last line.',
        'type': 'boolean',
        'default': true
    },
    'editor.scrollPredominantAxis': {
        'description': 'Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.',
        'type': 'boolean',
        'default': true
    },
    'editor.selectionClipboard': {
        'description': 'Controls whether the Linux primary clipboard should be supported.',
        'included': platform.isLinux,
        'type': 'boolean',
        'default': true
    },
    'editor.selectionHighlight': {
        'description': 'Controls whether the editor should highlight matches similar to the selection.',
        'type': 'boolean',
        'default': true
    },
    'editor.selectOnLineNumbers': {
        'description': 'Controls whether to select the corresponding line when clicking on the line number',
        'type': 'boolean',
        'default': true
    },
    'editor.showFoldingControls': {
        'description': 'Controls whether the fold controls on the gutter are automatically hidden.',
        'type': 'string',
        'enum': [
            'always',
            'mouseover'
        ],
        'default': 'mouseover'
    },
    'editor.showUnused': {
        'description': 'Controls fading out of unused code.',
        'type': 'boolean',
        'default': true
    },
    'editor.showDeprecated': {
        'description': 'Controls strikethrough deprecated variables.',
        'type': 'boolean',
        'default': true
    },
    'editor.inlineHints.enabled': {
        'type': 'boolean',
        'default': true,
        'description': 'Enables the inline hints in the editor.'
    },
    'editor.inlineHints.fontSize': {
        'type': 'number',
        'default': exports.EDITOR_FONT_DEFAULTS.fontSize,
        description: 'Controls font size of inline hints in the editor. When set to `0`, the 90% of `#editor.fontSize#` is used.'
    },
    'editor.inlineHints.fontFamily': {
        'type': 'string',
        'default': exports.EDITOR_FONT_DEFAULTS.fontFamily,
        'description': 'Controls font family of inline hints in the editor.'
    },
    'editor.snippetSuggestions': {
        'enumDescriptions': [
            'Show snippet suggestions on top of other suggestions.',
            'Show snippet suggestions below other suggestions.',
            'Show snippets suggestions with other suggestions.',
            'Do not show snippet suggestions.'
        ],
        'description': 'Controls whether snippets are shown with other suggestions and how they are sorted.',
        'type': 'string',
        'enum': [
            'top',
            'bottom',
            'inline',
            'none'
        ],
        'default': 'inline'
    },
    'editor.smartSelect.selectLeadingAndTrailingWhitespace': {
        'description': 'Whether leading and trailing whitespace should always be selected.',
        'default': true,
        'type': 'boolean'
    },
    'editor.smoothScrolling': {
        'description': 'Controls whether the editor will scroll using an animation.',
        'type': 'boolean',
        'default': false
    },
    'editor.stickyTabStops': {
        'description': 'Emulate selection behaviour of tab characters when using spaces for indentation. Selection will stick to tab stops.',
        'type': 'boolean',
        'default': false
    },
    'editor.stopRenderingLineAfter': {
        'description': 'Performance guard: Stop rendering a line after x characters.',
        'type': 'integer',
        'default': 10000,
        'minimum': -1,
        'maximum': 1073741824
    },
    'editor.suggest.insertMode': {
        'type': 'string',
        'enum': [
            'insert',
            'replace'
        ],
        'enumDescriptions': [
            'Insert suggestion without overwriting text right of the cursor.',
            'Insert suggestion and overwrite text right of the cursor.'
        ],
        'default': 'insert',
        'description': 'Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.'
    },
    'editor.suggest.insertHighlight': {
        'type': 'boolean',
        'default': false,
        'description': 'Controls whether unexpected text modifications while accepting completions should be highlighted, e.g `insertMode` is `replace` but the completion only supports `insert`.'
    },
    'editor.suggest.filterGraceful': {
        'type': 'boolean',
        'default': true,
        'description': 'Controls whether filtering and sorting suggestions accounts for small typos.'
    },
    'editor.suggest.localityBonus': {
        'type': 'boolean',
        'default': false,
        'description': 'Controls whether sorting favours words that appear close to the cursor.'
    },
    'editor.suggest.shareSuggestSelections': {
        'type': 'boolean',
        'default': false,
        'markdownDescription': 'Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).'
    },
    'editor.suggest.snippetsPreventQuickSuggestions': {
        'type': 'boolean',
        'default': true,
        'description': 'Controls whether an active snippet prevents quick suggestions.'
    },
    'editor.suggest.showIcons': {
        'type': 'boolean',
        'default': true,
        'description': 'Controls whether to show or hide icons in suggestions.'
    },
    'editor.suggest.maxVisibleSuggestions': {
        'type': 'number',
        'default': 12,
        'minimum': 1,
        'maximum': 15,
        'description': 'Controls how many suggestions IntelliSense will show before showing a scrollbar (maximum 15).'
    },
    'editor.suggest.filteredTypes': {
        'type': 'object',
        'default': {},
        'deprecationMessage': 'This setting is deprecated, please use separate settings like `editor.suggest.showKeywords` or `editor.suggest.showSnippets` instead.'
    },
    'editor.suggest.showMethods': {
        'type': 'boolean',
        'default': true,
        'markdownDescription': 'When enabled IntelliSense shows `method`-suggestions.'
    },
    'editor.suggest.showFunctions': {
        'type': 'boolean',
        'default': true,
        'markdownDescription': 'When enabled IntelliSense shows `function`-suggestions.'
    },
    'editor.suggest.showConstructors': {
        'type': 'boolean',
        'default': true,
        'markdownDescription': 'When enabled IntelliSense shows `constructor`-suggestions.'
    },
    'editor.suggest.showFields': {
        'type': 'boolean',
        'default': true,
        'markdownDescription': 'When enabled IntelliSense shows `field`-suggestions.'
    },
    'editor.suggest.showVariables': {
        'type': 'boolean',
        'default': true,
        'markdownDescription': 'When enabled IntelliSense shows `variable`-suggestions.'
    },
    'editor.suggest.showClasses': {
        'type': 'boolean',
        'default': true,
        'markdownDescription': 'When enabled IntelliSense shows `class`-suggestions.'
    },
    'editor.suggest.showStructs': {
        'type': 'boolean',
        'default': true,
        'markdownDescription': 'When enabled IntelliSense shows `struct`-suggestions.'
    },
    'editor.suggest.showInterfaces': {
        'type': 'boolean',
        'default': true,
        'markdownDescription': 'When enabled IntelliSense shows `interface`-suggestions.'
    },
    'editor.suggest.showModules': {
        'type': 'boolean',
        'default': true,
        'markdownDescription': 'When enabled IntelliSense shows `module`-suggestions.'
    },
    'editor.suggest.showProperties': {
        'type': 'boolean',
        'default': true,
        'markdownDescription': 'When enabled IntelliSense shows `property`-suggestions.'
    },
    'editor.suggest.showEvents': {
        'type': 'boolean',
        'default': true,
        'markdownDescription': 'When enabled IntelliSense shows `event`-suggestions.'
    },
    'editor.suggest.showOperators': {
        'type': 'boolean',
        'default': true,
        'markdownDescription': 'When enabled IntelliSense shows `operator`-suggestions.'
    },
    'editor.suggest.showUnits': {
        'type': 'boolean',
        'default': true,
        'markdownDescription': 'When enabled IntelliSense shows `unit`-suggestions.'
    },
    'editor.suggest.showValues': {
        'type': 'boolean',
        'default': true,
        'markdownDescription': 'When enabled IntelliSense shows `value`-suggestions.'
    },
    'editor.suggest.showConstants': {
        'type': 'boolean',
        'default': true,
        'markdownDescription': 'When enabled IntelliSense shows `constant`-suggestions.'
    },
    'editor.suggest.showEnums': {
        'type': 'boolean',
        'default': true,
        'markdownDescription': 'When enabled IntelliSense shows `enum`-suggestions.'
    },
    'editor.suggest.showEnumMembers': {
        'type': 'boolean',
        'default': true,
        'markdownDescription': 'When enabled IntelliSense shows `enumMember`-suggestions.'
    },
    'editor.suggest.showKeywords': {
        'type': 'boolean',
        'default': true,
        'markdownDescription': 'When enabled IntelliSense shows `keyword`-suggestions.'
    },
    'editor.suggest.showWords': {
        'type': 'boolean',
        'default': true,
        'markdownDescription': 'When enabled IntelliSense shows `text`-suggestions.'
    },
    'editor.suggest.showColors': {
        'type': 'boolean',
        'default': true,
        'markdownDescription': 'When enabled IntelliSense shows `color`-suggestions.'
    },
    'editor.suggest.showFiles': {
        'type': 'boolean',
        'default': true,
        'markdownDescription': 'When enabled IntelliSense shows `file`-suggestions.'
    },
    'editor.suggest.showReferences': {
        'type': 'boolean',
        'default': true,
        'markdownDescription': 'When enabled IntelliSense shows `reference`-suggestions.'
    },
    'editor.suggest.showCustomcolors': {
        'type': 'boolean',
        'default': true,
        'markdownDescription': 'When enabled IntelliSense shows `customcolor`-suggestions.'
    },
    'editor.suggest.showFolders': {
        'type': 'boolean',
        'default': true,
        'markdownDescription': 'When enabled IntelliSense shows `folder`-suggestions.'
    },
    'editor.suggest.showTypeParameters': {
        'type': 'boolean',
        'default': true,
        'markdownDescription': 'When enabled IntelliSense shows `typeParameter`-suggestions.'
    },
    'editor.suggest.showSnippets': {
        'type': 'boolean',
        'default': true,
        'markdownDescription': 'When enabled IntelliSense shows `snippet`-suggestions.'
    },
    'editor.suggest.hideStatusBar': {
        'type': 'boolean',
        'default': true,
        'markdownDescription': 'Controls the visibility of the status bar at the bottom of the suggest widget.'
    },
    'editor.suggestFontSize': {
        'markdownDescription': 'Font size for the suggest widget. When set to `0`, the value of `#editor.fontSize#` is used.',
        'type': 'integer',
        'default': 0,
        'minimum': 0,
        'maximum': 1000
    },
    'editor.suggestLineHeight': {
        'markdownDescription': 'Line height for the suggest widget. When set to `0`, the value of `#editor.lineHeight#` is used.',
        'type': 'integer',
        'default': 0,
        'minimum': 0,
        'maximum': 1000
    },
    'editor.suggestOnTriggerCharacters': {
        'description': 'Controls whether suggestions should automatically show up when typing trigger characters.',
        'type': 'boolean',
        'default': true
    },
    'editor.suggestSelection': {
        'markdownEnumDescriptions': [
            'Always select the first suggestion.',
            'Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently.',
            'Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.'
        ],
        'description': 'Controls how suggestions are pre-selected when showing the suggest list.',
        'type': 'string',
        'enum': [
            'first',
            'recentlyUsed',
            'recentlyUsedByPrefix'
        ],
        'default': 'recentlyUsed'
    },
    'editor.tabCompletion': {
        'enumDescriptions': [
            'Tab complete will insert the best matching suggestion when pressing tab.',
            'Disable tab completions.',
            'Tab complete snippets when their prefix match. Works best when `quickSuggestions` aren\'t enabled.'
        ],
        'description': 'Enables tab completions.',
        'type': 'string',
        'enum': [
            'on',
            'off',
            'onlySnippets'
        ],
        'default': 'off'
    },
    'editor.tabIndex': {
        'markdownDescription': 'Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.',
        'type': 'integer',
        'default': 0,
        'minimum': -1,
        'maximum': 1073741824
    },
    'editor.unusualLineTerminators': {
        'markdownEnumDescriptions': [
            'Unusual line terminators are automatically removed.',
            'Unusual line terminators are ignored.',
            'Unusual line terminators prompt to be removed.'
        ],
        'description': 'Remove unusual line terminators that might cause problems.',
        'type': 'string',
        'enum': ['auto', 'off', 'prompt'],
        'default': 'prompt'
    },
    'editor.useTabStops': {
        'description': 'Inserting and deleting whitespace follows tab stops.',
        'type': 'boolean',
        'default': true
    },
    'editor.wordSeparators': {
        'description': 'Characters that will be used as word separators when doing word related navigations or operations.',
        'type': 'string',
        'default': exports.DEFAULT_WORD_SEPARATORS
    },
    'editor.wordWrap': {
        'markdownEnumDescriptions': [
            'Lines will never wrap.',
            'Lines will wrap at the viewport width.',
            'Lines will wrap at `#editor.wordWrapColumn#`.',
            'Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.'
        ],
        'description': 'Controls how lines should wrap.',
        'type': 'string',
        'enum': [
            'off',
            'on',
            'wordWrapColumn',
            'bounded'
        ],
        'default': 'off'
    },
    'editor.wordWrapBreakAfterCharacters': {
        'description': 'Configure word wrapping characters. A break will be introduced after these characters.',
        'type': 'string',
        'default': ' \t})]?|/&.,;',
    },
    'editor.wordWrapBreakBeforeCharacters': {
        'description': 'Configure word wrapping characters. A break will be introduced before these characters.',
        'type': 'string',
        'default': '([{+',
    },
    'editor.wordWrapColumn': {
        'markdownDescription': 'Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.',
        'type': 'integer',
        'default': 80,
        'minimum': 1,
        'maximum': 1073741824
    },
    'editor.wordWrapOverride1': {
        'markdownDescription': 'Override the `wordWrap` setting.',
        'type': 'string',
        'enum': ['off', 'on', 'inherit'],
        'default': 'inherit'
    },
    'editor.wordWrapOverride2': {
        'markdownDescription': 'Override the `wordWrapOverride1` setting.',
        'type': 'string',
        'enum': ['off', 'on', 'inherit'],
        'default': 'inherit'
    },
    'editor.wrappingIndent': {
        'enumDescriptions': [
            'No indentation. Wrapped lines begin at column 1.',
            'Wrapped lines get the same indentation as the parent.',
            'Wrapped lines get +1 indentation toward the parent.',
            'Wrapped lines get +2 indentation toward the parent.'
        ],
        'description': 'Controls the indentation of wrapped lines.',
        'type': 'string',
        'enum': [
            'none',
            'same',
            'indent',
            'deepIndent'
        ],
        'default': 'same'
    },
    'editor.wrappingStrategy': {
        'enumDescriptions': [
            'Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width.',
            'Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.'
        ],
        'description': 'Controls the algorithm that computes wrapping points.',
        'type': 'string',
        'enum': [
            'simple',
            'advanced'
        ],
        'default': 'simple'
    }
};
/* eslint-enable max-len */
exports.editorPreferenceSchema = {
    'type': 'object',
    'scope': 'resource',
    'overridable': true,
    'properties': Object.assign(Object.assign({}, codeEditorPreferenceProperties), { 'editor.autoSave': {
            'enum': [
                'on',
                'off'
            ],
            'default': 'off',
            'description': 'Controls auto save of dirty files.',
            overridable: false
        }, 'editor.autoSaveDelay': {
            'type': 'number',
            'default': 500,
            'description': 'Configure the auto save delay in milliseconds.',
            overridable: false
        }, 'editor.formatOnSave': {
            'type': 'boolean',
            'default': false,
            'description': 'Enable format on manual save.'
        }, 'editor.formatOnSaveTimeout': {
            'type': 'number',
            'default': 750,
            'description': 'Timeout in milliseconds after which the formatting that is run on file save is cancelled.'
        }, 'editor.history.persistClosedEditors': {
            'type': 'boolean',
            'default': false,
            'description': 'Controls whether to persist closed editor history for the workspace across window reloads.'
        }, 'files.eol': {
            'type': 'string',
            'enum': [
                '\n',
                '\r\n',
                'auto'
            ],
            'enumDescriptions': [
                'LF',
                'CRLF',
                'Uses operating system specific end of line character.'
            ],
            'default': 'auto',
            'description': 'The default end of line character.'
        } })
};
exports.EditorPreferenceContribution = Symbol('EditorPreferenceContribution');
exports.EditorPreferences = Symbol('EditorPreferences');
function createEditorPreferences(preferences, schema = exports.editorPreferenceSchema) {
    return preferences_1.createPreferenceProxy(preferences, schema);
}
exports.createEditorPreferences = createEditorPreferences;
function bindEditorPreferences(bind) {
    bind(exports.EditorPreferences).toDynamicValue(ctx => {
        const preferences = ctx.container.get(preferences_1.PreferenceService);
        const contribution = ctx.container.get(exports.EditorPreferenceContribution);
        return createEditorPreferences(preferences, contribution.schema);
    }).inSingletonScope();
    bind(exports.EditorPreferenceContribution).toConstantValue({ schema: exports.editorPreferenceSchema });
    bind(preferences_1.PreferenceContribution).toService(exports.EditorPreferenceContribution);
}
exports.bindEditorPreferences = bindEditorPreferences;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/editor-variable-contribution.js":
/*!*****************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/editor-variable-contribution.js ***!
  \*****************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 Red Hat, Inc. and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.EditorVariableContribution = void 0;
const inversify_1 = __webpack_require__(/*! @theia/core/shared/inversify */ "../node_modules/@theia/file-search/node_modules/@theia/core/shared/inversify.js");
const editor_manager_1 = __webpack_require__(/*! ./editor-manager */ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/editor-manager.js");
let EditorVariableContribution = class EditorVariableContribution {
    registerVariables(variables) {
        variables.registerVariable({
            name: 'lineNumber',
            description: 'The current line number in the currently opened file',
            resolve: () => {
                const editor = this.getCurrentEditor();
                return editor ? `${editor.cursor.line + 1}` : undefined;
            }
        });
        variables.registerVariable({
            name: 'selectedText',
            description: 'The current selected text in the active file',
            resolve: () => {
                const editor = this.getCurrentEditor();
                return editor ? editor.document.getText(editor.selection) : undefined;
            }
        });
    }
    getCurrentEditor() {
        const currentEditor = this.editorManager.currentEditor;
        if (!currentEditor) {
            return undefined;
        }
        return currentEditor.editor;
    }
};
__decorate([
    inversify_1.inject(editor_manager_1.EditorManager),
    __metadata("design:type", editor_manager_1.EditorManager)
], EditorVariableContribution.prototype, "editorManager", void 0);
EditorVariableContribution = __decorate([
    inversify_1.injectable()
], EditorVariableContribution);
exports.EditorVariableContribution = EditorVariableContribution;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/editor-widget-factory.js":
/*!**********************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/editor-widget-factory.js ***!
  \**********************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var EditorWidgetFactory_1;
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.EditorWidgetFactory = void 0;
const inversify_1 = __webpack_require__(/*! @theia/core/shared/inversify */ "../node_modules/@theia/file-search/node_modules/@theia/core/shared/inversify.js");
const uri_1 = __webpack_require__(/*! @theia/core/lib/common/uri */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/uri.js");
const common_1 = __webpack_require__(/*! @theia/core/lib/common */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/index.js");
const browser_1 = __webpack_require__(/*! @theia/core/lib/browser */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/index.js");
const editor_widget_1 = __webpack_require__(/*! ./editor-widget */ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/editor-widget.js");
const editor_1 = __webpack_require__(/*! ./editor */ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/editor.js");
let EditorWidgetFactory = EditorWidgetFactory_1 = class EditorWidgetFactory {
    constructor() {
        this.id = EditorWidgetFactory_1.ID;
    }
    static createID(uri, counter) {
        return EditorWidgetFactory_1.ID
            + `:${uri.toString()}`
            + (counter !== undefined ? `:${counter}` : '');
    }
    createWidget(options) {
        const uri = new uri_1.default(options.uri);
        return this.createEditor(uri, options);
    }
    async createEditor(uri, options) {
        const newEditor = await this.constructEditor(uri);
        this.setLabels(newEditor, uri);
        const labelListener = this.labelProvider.onDidChange(event => {
            if (event.affects(uri)) {
                this.setLabels(newEditor, uri);
            }
        });
        newEditor.onDispose(() => labelListener.dispose());
        newEditor.id = EditorWidgetFactory_1.createID(uri, options === null || options === void 0 ? void 0 : options.counter);
        newEditor.title.closable = true;
        return newEditor;
    }
    async constructEditor(uri) {
        const textEditor = await this.editorProvider(uri);
        return new editor_widget_1.EditorWidget(textEditor, this.selectionService);
    }
    setLabels(editor, uri) {
        editor.title.caption = this.labelProvider.getLongName(uri);
        const icon = this.labelProvider.getIcon(uri);
        editor.title.label = this.labelProvider.getName(uri);
        editor.title.iconClass = icon + ' file-icon';
    }
};
EditorWidgetFactory.ID = 'code-editor-opener';
__decorate([
    inversify_1.inject(browser_1.LabelProvider),
    __metadata("design:type", browser_1.LabelProvider)
], EditorWidgetFactory.prototype, "labelProvider", void 0);
__decorate([
    inversify_1.inject(editor_1.TextEditorProvider),
    __metadata("design:type", Function)
], EditorWidgetFactory.prototype, "editorProvider", void 0);
__decorate([
    inversify_1.inject(common_1.SelectionService),
    __metadata("design:type", common_1.SelectionService)
], EditorWidgetFactory.prototype, "selectionService", void 0);
EditorWidgetFactory = EditorWidgetFactory_1 = __decorate([
    inversify_1.injectable()
], EditorWidgetFactory);
exports.EditorWidgetFactory = EditorWidgetFactory;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/editor-widget.js":
/*!**************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/editor-widget.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.EditorWidget = void 0;
const common_1 = __webpack_require__(/*! @theia/core/lib/common */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/index.js");
const browser_1 = __webpack_require__(/*! @theia/core/lib/browser */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/index.js");
class EditorWidget extends browser_1.BaseWidget {
    constructor(editor, selectionService) {
        super(editor);
        this.editor = editor;
        this.selectionService = selectionService;
        this.addClass('theia-editor');
        this.toDispose.push(this.editor);
        this.toDispose.push(this.editor.onSelectionChanged(() => this.setSelection()));
        this.toDispose.push(this.editor.onFocusChanged(() => this.setSelection()));
        this.toDispose.push(common_1.Disposable.create(() => {
            if (this.selectionService.selection === this.editor) {
                this.selectionService.selection = undefined;
            }
        }));
    }
    setSelection() {
        if (this.editor.isFocused() && this.selectionService.selection !== this.editor) {
            this.selectionService.selection = this.editor;
        }
    }
    get saveable() {
        return this.editor.document;
    }
    getResourceUri() {
        return this.editor.getResourceUri();
    }
    createMoveToUri(resourceUri) {
        return this.editor.createMoveToUri(resourceUri);
    }
    onActivateRequest(msg) {
        super.onActivateRequest(msg);
        this.editor.focus();
        this.selectionService.selection = this.editor;
    }
    onAfterAttach(msg) {
        super.onAfterAttach(msg);
        if (this.isVisible) {
            this.editor.refresh();
        }
    }
    onAfterShow(msg) {
        super.onAfterShow(msg);
        this.editor.refresh();
    }
    onResize(msg) {
        if (msg.width < 0 || msg.height < 0) {
            this.editor.resizeToFit();
        }
        else {
            this.editor.setSize(msg);
        }
    }
    storeState() {
        return this.editor.storeViewState();
    }
    restoreState(oldState) {
        this.editor.restoreViewState(oldState);
    }
    get onDispose() {
        return this.toDispose.onDispose;
    }
}
exports.EditorWidget = EditorWidget;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/editor.js":
/*!*******************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/editor.js ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.CustomEditorWidget = exports.TextEditorSelection = exports.MouseTargetType = exports.TextDocumentContentChangeDelta = exports.TextEditorProvider = exports.Location = exports.Range = exports.Position = void 0;
const vscode_languageserver_types_1 = __webpack_require__(/*! @theia/core/shared/vscode-languageserver-types */ "../node_modules/@theia/file-search/node_modules/@theia/core/shared/vscode-languageserver-types.js");
Object.defineProperty(exports, "Position", ({ enumerable: true, get: function () { return vscode_languageserver_types_1.Position; } }));
Object.defineProperty(exports, "Range", ({ enumerable: true, get: function () { return vscode_languageserver_types_1.Range; } }));
Object.defineProperty(exports, "Location", ({ enumerable: true, get: function () { return vscode_languageserver_types_1.Location; } }));
const uri_1 = __webpack_require__(/*! @theia/core/lib/common/uri */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/uri.js");
const common_1 = __webpack_require__(/*! @theia/core/lib/common */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/index.js");
Object.defineProperty(exports, "TextDocumentContentChangeDelta", ({ enumerable: true, get: function () { return common_1.TextDocumentContentChangeDelta; } }));
exports.TextEditorProvider = Symbol('TextEditorProvider');
/**
 * Type of hit element with the mouse in the editor.
 * Copied from monaco editor.
 */
var MouseTargetType;
(function (MouseTargetType) {
    /**
     * Mouse is on top of an unknown element.
     */
    MouseTargetType[MouseTargetType["UNKNOWN"] = 0] = "UNKNOWN";
    /**
     * Mouse is on top of the textarea used for input.
     */
    MouseTargetType[MouseTargetType["TEXTAREA"] = 1] = "TEXTAREA";
    /**
     * Mouse is on top of the glyph margin
     */
    MouseTargetType[MouseTargetType["GUTTER_GLYPH_MARGIN"] = 2] = "GUTTER_GLYPH_MARGIN";
    /**
     * Mouse is on top of the line numbers
     */
    MouseTargetType[MouseTargetType["GUTTER_LINE_NUMBERS"] = 3] = "GUTTER_LINE_NUMBERS";
    /**
     * Mouse is on top of the line decorations
     */
    MouseTargetType[MouseTargetType["GUTTER_LINE_DECORATIONS"] = 4] = "GUTTER_LINE_DECORATIONS";
    /**
     * Mouse is on top of the whitespace left in the gutter by a view zone.
     */
    MouseTargetType[MouseTargetType["GUTTER_VIEW_ZONE"] = 5] = "GUTTER_VIEW_ZONE";
    /**
     * Mouse is on top of text in the content.
     */
    MouseTargetType[MouseTargetType["CONTENT_TEXT"] = 6] = "CONTENT_TEXT";
    /**
     * Mouse is on top of empty space in the content (e.g. after line text or below last line)
     */
    MouseTargetType[MouseTargetType["CONTENT_EMPTY"] = 7] = "CONTENT_EMPTY";
    /**
     * Mouse is on top of a view zone in the content.
     */
    MouseTargetType[MouseTargetType["CONTENT_VIEW_ZONE"] = 8] = "CONTENT_VIEW_ZONE";
    /**
     * Mouse is on top of a content widget.
     */
    MouseTargetType[MouseTargetType["CONTENT_WIDGET"] = 9] = "CONTENT_WIDGET";
    /**
     * Mouse is on top of the decorations overview ruler.
     */
    MouseTargetType[MouseTargetType["OVERVIEW_RULER"] = 10] = "OVERVIEW_RULER";
    /**
     * Mouse is on top of a scrollbar.
     */
    MouseTargetType[MouseTargetType["SCROLLBAR"] = 11] = "SCROLLBAR";
    /**
     * Mouse is on top of an overlay widget.
     */
    MouseTargetType[MouseTargetType["OVERLAY_WIDGET"] = 12] = "OVERLAY_WIDGET";
    /**
     * Mouse is outside of the editor.
     */
    MouseTargetType[MouseTargetType["OUTSIDE_EDITOR"] = 13] = "OUTSIDE_EDITOR";
})(MouseTargetType = exports.MouseTargetType || (exports.MouseTargetType = {}));
var TextEditorSelection;
(function (TextEditorSelection) {
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    function is(e) {
        return e && e['uri'] instanceof uri_1.default;
    }
    TextEditorSelection.is = is;
})(TextEditorSelection = exports.TextEditorSelection || (exports.TextEditorSelection = {}));
var CustomEditorWidget;
(function (CustomEditorWidget) {
    function is(arg) {
        return !!arg && 'modelRef' in arg;
    }
    CustomEditorWidget.is = is;
})(CustomEditorWidget = exports.CustomEditorWidget || (exports.CustomEditorWidget = {}));


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/index.js":
/*!******************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/index.js ***!
  \******************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
__exportStar(__webpack_require__(/*! ./diff-navigator */ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/diff-navigator.js"), exports);
__exportStar(__webpack_require__(/*! ./editor */ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/editor.js"), exports);
__exportStar(__webpack_require__(/*! ./editor-widget */ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/editor-widget.js"), exports);
__exportStar(__webpack_require__(/*! ./editor-manager */ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/editor-manager.js"), exports);
__exportStar(__webpack_require__(/*! ./editor-command */ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/editor-command.js"), exports);
__exportStar(__webpack_require__(/*! ./editor-menu */ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/editor-menu.js"), exports);
__exportStar(__webpack_require__(/*! ./editor-keybinding-contexts */ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/editor-keybinding-contexts.js"), exports);
__exportStar(__webpack_require__(/*! ./editor-frontend-module */ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/editor-frontend-module.js"), exports);
__exportStar(__webpack_require__(/*! ./editor-preferences */ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/editor-preferences.js"), exports);
__exportStar(__webpack_require__(/*! ./decorations */ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/decorations/index.js"), exports);


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/navigation/navigation-location-service.js":
/*!***************************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/navigation/navigation-location-service.js ***!
  \***************************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var NavigationLocationService_1;
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.NavigationLocationService = void 0;
const inversify_1 = __webpack_require__(/*! @theia/core/shared/inversify */ "../node_modules/@theia/file-search/node_modules/@theia/core/shared/inversify.js");
const logger_1 = __webpack_require__(/*! @theia/core/lib/common/logger */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/logger.js");
const opener_service_1 = __webpack_require__(/*! @theia/core/lib/browser/opener-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/opener-service.js");
const navigation_location_updater_1 = __webpack_require__(/*! ./navigation-location-updater */ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/navigation/navigation-location-updater.js");
const navigation_location_similarity_1 = __webpack_require__(/*! ./navigation-location-similarity */ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/navigation/navigation-location-similarity.js");
const navigation_location_1 = __webpack_require__(/*! ./navigation-location */ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/navigation/navigation-location.js");
/**
 * The navigation location service.
 * It also stores and manages navigation locations and recently closed editors.
 */
let NavigationLocationService = NavigationLocationService_1 = class NavigationLocationService {
    constructor() {
        this.pointer = -1;
        this.stack = [];
        this.canRegister = true;
        this.recentlyClosedEditors = [];
    }
    /**
     * Registers the give locations into the service.
     */
    register(...locations) {
        if (this.canRegister) {
            const max = this.maxStackItems();
            [...locations].forEach(location => {
                if (navigation_location_1.ContentChangeLocation.is(location)) {
                    this._lastEditLocation = location;
                }
                const current = this.currentLocation();
                this.debug(`Registering new location: ${navigation_location_1.NavigationLocation.toString(location)}.`);
                if (!this.isSimilar(current, location)) {
                    this.debug('Before location registration.');
                    this.debug(this.stackDump);
                    // Just like in VSCode; if we are not at the end of stack, we remove anything after.
                    if (this.stack.length > this.pointer + 1) {
                        this.debug(`Discarding all locations after ${this.pointer}.`);
                        this.stack = this.stack.slice(0, this.pointer + 1);
                    }
                    this.stack.push(location);
                    this.pointer = this.stack.length - 1;
                    if (this.stack.length > max) {
                        this.debug('Trimming exceeding locations.');
                        this.stack.shift();
                        this.pointer--;
                    }
                    this.debug('Updating preceding navigation locations.');
                    for (let i = this.stack.length - 1; i >= 0; i--) {
                        const candidate = this.stack[i];
                        const update = this.updater.affects(candidate, location);
                        if (update === undefined) {
                            this.debug(`Erasing obsolete location: ${navigation_location_1.NavigationLocation.toString(candidate)}.`);
                            this.stack.splice(i, 1);
                            this.pointer--;
                        }
                        else if (typeof update !== 'boolean') {
                            this.debug(`Updating location at index: ${i} => ${navigation_location_1.NavigationLocation.toString(candidate)}.`);
                            this.stack[i] = update;
                        }
                    }
                    this.debug('After location registration.');
                    this.debug(this.stackDump);
                }
                else {
                    if (current) {
                        this.debug(`The new location ${navigation_location_1.NavigationLocation.toString(location)} is similar to the current one: ${navigation_location_1.NavigationLocation.toString(current)}. Aborting.`);
                    }
                }
            });
        }
    }
    /**
     * Navigates one back. Returns with the previous location, or `undefined` if it could not navigate back.
     */
    async back() {
        this.debug('Navigating back.');
        if (this.canGoBack()) {
            this.pointer--;
            await this.reveal();
            this.debug(this.stackDump);
            return this.currentLocation();
        }
        this.debug('Cannot navigate back.');
        return undefined;
    }
    /**
     * Navigates one forward. Returns with the next location, or `undefined` if it could not go forward.
     */
    async forward() {
        this.debug('Navigating forward.');
        if (this.canGoForward()) {
            this.pointer++;
            await this.reveal();
            this.debug(this.stackDump);
            return this.currentLocation();
        }
        this.debug('Cannot navigate forward.');
        return undefined;
    }
    /**
     * Checks whether the service can go [`back`](#back).
     */
    canGoBack() {
        return this.pointer >= 1;
    }
    /**
     * Checks whether the service can go [`forward`](#forward).
     */
    canGoForward() {
        return this.pointer >= 0 && this.pointer !== this.stack.length - 1;
    }
    /**
     * Returns with all known navigation locations in chronological order.
     */
    locations() {
        return this.stack;
    }
    /**
     * Returns with the current location.
     */
    currentLocation() {
        return this.stack[this.pointer];
    }
    /**
     * Returns with the location of the most recent edition if any. If there were no modifications,
     * returns `undefined`.
     */
    lastEditLocation() {
        return this._lastEditLocation;
    }
    /**
     * Clears the total history.
     */
    clearHistory() {
        this.stack = [];
        this.pointer = -1;
        this._lastEditLocation = undefined;
        this.recentlyClosedEditors = [];
    }
    /**
     * Reveals the location argument. If not given, reveals the `current location`. Does nothing, if the argument is `undefined`.
     */
    async reveal(location = this.currentLocation()) {
        if (location === undefined) {
            return;
        }
        try {
            this.canRegister = false;
            const { uri } = location;
            const options = this.toOpenerOptions(location);
            await opener_service_1.open(this.openerService, uri, options);
        }
        catch (e) {
            this.logger.error(`Error occurred while revealing location: ${navigation_location_1.NavigationLocation.toString(location)}.`, e);
        }
        finally {
            this.canRegister = true;
        }
    }
    /**
     * `true` if the two locations are similar.
     */
    isSimilar(left, right) {
        return this.similarity.similar(left, right);
    }
    /**
     * Returns with the number of navigation locations that the application can handle and manage.
     * When the number of locations exceeds this number, old locations will be erased.
     */
    maxStackItems() {
        return NavigationLocationService_1.MAX_STACK_ITEMS;
    }
    /**
     * Returns with the opener option for the location argument.
     */
    toOpenerOptions(location) {
        let { start } = navigation_location_1.NavigationLocation.range(location);
        // Here, the `start` and represents the previous state that has been updated with the `text`.
        // So we calculate the range by appending the `text` length to the `start`.
        if (navigation_location_1.ContentChangeLocation.is(location)) {
            start = Object.assign(Object.assign({}, start), { character: start.character + location.context.text.length });
        }
        return {
            selection: navigation_location_1.Range.create(start, start)
        };
    }
    async debug(message) {
        this.logger.trace(typeof message === 'string' ? message : message());
    }
    get stackDump() {
        return `----- Navigation location stack [${new Date()}] -----
Pointer: ${this.pointer}
${this.stack.map((location, i) => `${i}: ${JSON.stringify(navigation_location_1.NavigationLocation.toObject(location))}`).join('\n')}
----- o -----`;
    }
    /**
     * Get the recently closed editors stack in chronological order.
     *
     * @returns readonly closed editors stack.
     */
    get closedEditorsStack() {
        return this.recentlyClosedEditors;
    }
    /**
     * Get the last recently closed editor.
     *
     * @returns the recently closed editor if it exists.
     */
    getLastClosedEditor() {
        return this.recentlyClosedEditors[this.recentlyClosedEditors.length - 1];
    }
    /**
     * Add the recently closed editor to the history.
     *
     * @param editor the recently closed editor.
     */
    addClosedEditor(editor) {
        this.removeClosedEditor(editor.uri);
        this.recentlyClosedEditors.push(editor);
        // Removes the oldest entry from the history if the maximum size is reached.
        if (this.recentlyClosedEditors.length > NavigationLocationService_1.MAX_RECENTLY_CLOSED_EDITORS) {
            this.recentlyClosedEditors.shift();
        }
    }
    /**
     * Remove all occurrences of the given editor in the history if they exist.
     *
     * @param uri the uri of the editor that should be removed from the history.
     */
    removeClosedEditor(uri) {
        this.recentlyClosedEditors = this.recentlyClosedEditors.filter(e => !uri.isEqual(e.uri));
    }
};
NavigationLocationService.MAX_STACK_ITEMS = 30;
NavigationLocationService.MAX_RECENTLY_CLOSED_EDITORS = 20;
__decorate([
    inversify_1.inject(logger_1.ILogger),
    __metadata("design:type", Object)
], NavigationLocationService.prototype, "logger", void 0);
__decorate([
    inversify_1.inject(opener_service_1.OpenerService),
    __metadata("design:type", Object)
], NavigationLocationService.prototype, "openerService", void 0);
__decorate([
    inversify_1.inject(navigation_location_updater_1.NavigationLocationUpdater),
    __metadata("design:type", navigation_location_updater_1.NavigationLocationUpdater)
], NavigationLocationService.prototype, "updater", void 0);
__decorate([
    inversify_1.inject(navigation_location_similarity_1.NavigationLocationSimilarity),
    __metadata("design:type", navigation_location_similarity_1.NavigationLocationSimilarity)
], NavigationLocationService.prototype, "similarity", void 0);
NavigationLocationService = NavigationLocationService_1 = __decorate([
    inversify_1.injectable()
], NavigationLocationService);
exports.NavigationLocationService = NavigationLocationService;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/navigation/navigation-location-similarity.js":
/*!******************************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/navigation/navigation-location-similarity.js ***!
  \******************************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var NavigationLocationSimilarity_1;
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.NavigationLocationSimilarity = void 0;
const inversify_1 = __webpack_require__(/*! @theia/core/shared/inversify */ "../node_modules/@theia/file-search/node_modules/@theia/core/shared/inversify.js");
const navigation_location_1 = __webpack_require__(/*! ./navigation-location */ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/navigation/navigation-location.js");
/**
 * Service for checking whether two navigation locations are similar or not.
 */
let NavigationLocationSimilarity = NavigationLocationSimilarity_1 = class NavigationLocationSimilarity {
    /**
     * `true` if the `left` and `right` locations are withing +- 10 lines in the same editor. Otherwise, `false`.
     */
    similar(left, right) {
        if (left === undefined || right === undefined) {
            return left === right;
        }
        if (left.uri.toString() !== right.uri.toString()) {
            return false;
        }
        const leftRange = navigation_location_1.NavigationLocation.range(left);
        const rightRange = navigation_location_1.NavigationLocation.range(right);
        if (leftRange === undefined || rightRange === undefined) {
            return leftRange === rightRange;
        }
        const leftLineNumber = Math.min(leftRange.start.line, leftRange.end.line);
        const rightLineNumber = Math.min(rightRange.start.line, rightRange.end.line);
        return Math.abs(leftLineNumber - rightLineNumber) < this.getThreshold();
    }
    getThreshold() {
        return NavigationLocationSimilarity_1.EDITOR_SELECTION_THRESHOLD;
    }
};
/**
 * The number of lines to move in the editor to justify for new state.
 */
NavigationLocationSimilarity.EDITOR_SELECTION_THRESHOLD = 10;
NavigationLocationSimilarity = NavigationLocationSimilarity_1 = __decorate([
    inversify_1.injectable()
], NavigationLocationSimilarity);
exports.NavigationLocationSimilarity = NavigationLocationSimilarity;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/navigation/navigation-location-updater.js":
/*!***************************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/navigation/navigation-location-updater.js ***!
  \***************************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.NavigationLocationUpdater = void 0;
const inversify_1 = __webpack_require__(/*! @theia/core/shared/inversify */ "../node_modules/@theia/file-search/node_modules/@theia/core/shared/inversify.js");
const navigation_location_1 = __webpack_require__(/*! ./navigation-location */ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/navigation/navigation-location.js");
/**
 * A navigation location updater that is responsible for adapting editor navigation locations.
 *
 * 1. Inserting or deleting text before the position shifts the position accordingly.
 * 2. Inserting text at the position offset shifts the position accordingly.
 * 3. Inserting or deleting text strictly contained by the position shrinks or stretches the position.
 * 4. Inserting or deleting text after a position does not affect the position.
 * 5. Deleting text which strictly contains the position deletes the position.
 * Note that the position is not deleted if its only shrunken to length zero. To delete a position, the modification must delete from
 * strictly before to strictly after the position.
 * 6. Replacing text contained by the position shrinks or expands the position (but does not shift it), such that the final position
 * contains the original position and the replacing text.
 * 7. Replacing text overlapping the position in other ways is considered as a sequence of first deleting the replaced text and
 * afterwards inserting the new text. Thus, a position is shrunken and can then be shifted (if the replaced text overlaps the offset of the position).
 */
let NavigationLocationUpdater = class NavigationLocationUpdater {
    /**
     * Checks whether `candidateLocation` has to be updated when applying `other`.
     *  - `false` if the `other` does not affect the `candidateLocation`.
     *  - A `NavigationLocation` object if the `candidateLocation` has to be replaced with the return value.
     *  - `undefined` if the candidate has to be deleted.
     *
     * If the `otherLocation` is not a `ContentChangeLocation` or it does not contain any actual content changes, this method returns with `false`
     */
    affects(candidateLocation, otherLocation) {
        if (!navigation_location_1.ContentChangeLocation.is(otherLocation)) {
            return false;
        }
        if (candidateLocation.uri.toString() !== otherLocation.uri.toString()) {
            return false;
        }
        const candidate = navigation_location_1.NavigationLocation.range(candidateLocation);
        const other = navigation_location_1.NavigationLocation.range(otherLocation);
        if (candidate === undefined || other === undefined) {
            return false;
        }
        const { uri, type } = candidateLocation;
        const modification = otherLocation.context.text;
        const newLineCount = modification.split(/[\n\r]/g).length - 1;
        // Spec (1. and 2.)
        if (other.end.line < candidate.start.line
            || (other.end.line === candidate.start.line && other.end.character <= candidate.start.character)) {
            // Shortcut for the general case. The user is typing above the candidate range. Nothing to do.
            if (other.start.line === other.end.line && newLineCount === 0) {
                return false;
            }
            const lineDiff = other.start.line - other.end.line + newLineCount;
            let startCharacter = candidate.start.character;
            let endCharacter = candidate.end.character;
            if (other.start.line !== other.end.line) {
                startCharacter = other.start.character + (candidate.start.character - other.end.character) + (modification.length - (modification.lastIndexOf('\n') + 1));
                endCharacter = candidate.start.line === candidate.end.line
                    ? candidate.end.character + startCharacter - candidate.start.character
                    : candidate.end.character;
            }
            const context = this.handleBefore(candidateLocation, other, lineDiff, startCharacter, endCharacter);
            return {
                uri,
                type,
                context
            };
        }
        // Spec (3.,  5., and 6.)
        if (this.contained(other, candidate)) {
            const endLine = candidate.end.line - other.end.line + candidate.start.line + newLineCount;
            let endCharacter = candidate.end.character - (other.end.character - other.start.character) + modification.length;
            if (newLineCount > 0) {
                if (candidate.end.line === other.end.line) {
                    endCharacter = modification.length - (modification.lastIndexOf('\n') + 1) + (candidate.end.character - other.end.character);
                }
                else {
                    endCharacter = endCharacter - 1;
                }
            }
            const context = this.handleInside(candidateLocation, endLine, endCharacter);
            return {
                uri,
                type,
                context
            };
        }
        // Spec (5.)
        if (other.start.line === candidate.start.line && other.start.character === candidate.start.character
            && (other.end.line > candidate.end.line || (other.end.line === candidate.end.line && other.end.character > candidate.end.character))) {
            return undefined;
        }
        // Spec (4.)
        if (candidate.end.line < other.start.line
            || (candidate.end.line === other.start.line && candidate.end.character < other.end.character)) {
            return false;
        }
        return false;
    }
    handleInside(candidate, endLine, endCharacter) {
        if (navigation_location_1.CursorLocation.is(candidate)) {
            throw new Error('Modifications are not allowed inside a cursor location.');
        }
        const { start } = navigation_location_1.NavigationLocation.range(candidate);
        const range = {
            start,
            end: {
                line: endLine,
                character: endCharacter
            }
        };
        if (navigation_location_1.SelectionLocation.is(candidate)) {
            return range;
        }
        if (navigation_location_1.ContentChangeLocation.is(candidate)) {
            const { rangeLength, text } = candidate.context;
            return {
                range,
                rangeLength,
                text
            };
        }
        throw new Error(`Unexpected navigation location: ${navigation_location_1.NavigationLocation.toString(candidate)}.`);
    }
    handleBefore(candidate, modification, lineDiff, startCharacter, endCharacter) {
        let range = navigation_location_1.NavigationLocation.range(candidate);
        range = this.shiftLine(range, lineDiff);
        range = {
            start: {
                line: range.start.line,
                character: startCharacter
            },
            end: {
                line: range.end.line,
                character: endCharacter
            }
        };
        if (navigation_location_1.CursorLocation.is(candidate)) {
            return range.start;
        }
        if (navigation_location_1.SelectionLocation.is(candidate)) {
            return range;
        }
        if (navigation_location_1.ContentChangeLocation.is(candidate)) {
            const { rangeLength, text } = candidate.context;
            return {
                range,
                rangeLength,
                text
            };
        }
        throw new Error(`Unexpected navigation location: ${navigation_location_1.NavigationLocation.toString(candidate)}.`);
    }
    shiftLine(input, diff) {
        if (navigation_location_1.Position.is(input)) {
            const { line, character } = input;
            return {
                line: line + diff,
                character
            };
        }
        const { start, end } = input;
        return {
            start: this.shiftLine(start, diff),
            end: this.shiftLine(end, diff)
        };
    }
    /**
     * `true` if `subRange` is strictly contained in the `range`. Otherwise, `false`.
     */
    contained(subRange, range) {
        if (subRange.start.line > range.start.line && subRange.end.line < range.end.line) {
            return true;
        }
        if (subRange.start.line < range.start.line || subRange.end.line > range.end.line) {
            return false;
        }
        if (subRange.start.line === range.start.line && subRange.start.character < range.start.character) {
            return false;
        }
        if (subRange.end.line === range.end.line && subRange.end.character > range.end.character) {
            return false;
        }
        return true;
    }
};
NavigationLocationUpdater = __decorate([
    inversify_1.injectable()
], NavigationLocationUpdater);
exports.NavigationLocationUpdater = NavigationLocationUpdater;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/navigation/navigation-location.js":
/*!*******************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/navigation/navigation-location.js ***!
  \*******************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.ContentChangeLocation = exports.SelectionLocation = exports.CursorLocation = exports.RecentlyClosedEditor = exports.NavigationLocation = exports.Range = exports.Position = void 0;
const uri_1 = __webpack_require__(/*! @theia/core/lib/common/uri */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/uri.js");
const editor_1 = __webpack_require__(/*! ../editor */ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/editor.js");
Object.defineProperty(exports, "Position", ({ enumerable: true, get: function () { return editor_1.Position; } }));
Object.defineProperty(exports, "Range", ({ enumerable: true, get: function () { return editor_1.Range; } }));
var NavigationLocation;
(function (NavigationLocation) {
    /**
     * The navigation location type.
     */
    let Type;
    (function (Type) {
        /**
         * Cursor position change type.
         */
        Type[Type["CURSOR"] = 0] = "CURSOR";
        /**
         * Text selection change type.
         */
        Type[Type["SELECTION"] = 1] = "SELECTION";
        /**
         * Content change type.
         */
        Type[Type["CONTENT_CHANGE"] = 2] = "CONTENT_CHANGE";
    })(Type = NavigationLocation.Type || (NavigationLocation.Type = {}));
    let Context;
    (function (Context) {
        /**
         * Returns with the type for the context.
         */
        function getType(context) {
            if (editor_1.Position.is(context)) {
                return Type.CURSOR;
            }
            if (editor_1.Range.is(context)) {
                return Type.SELECTION;
            }
            if (editor_1.TextDocumentContentChangeDelta.is(context)) {
                return Type.CONTENT_CHANGE;
            }
            throw new Error(`Unexpected context for type: ${context}.`);
        }
        Context.getType = getType;
    })(Context = NavigationLocation.Context || (NavigationLocation.Context = {}));
})(NavigationLocation = exports.NavigationLocation || (exports.NavigationLocation = {}));
(function (NavigationLocation) {
    /**
     * Transforms the location into an object that can be safely serialized.
     */
    function toObject(location) {
        const { uri, type } = location;
        const context = (() => {
            if (CursorLocation.is(location)) {
                return CursorLocation.toObject(location.context);
            }
            if (SelectionLocation.is(location)) {
                return SelectionLocation.toObject(location.context);
            }
            if (ContentChangeLocation.is(location)) {
                return ContentChangeLocation.toObject(location.context);
            }
        })();
        return {
            uri: uri.toString(),
            type,
            context
        };
    }
    NavigationLocation.toObject = toObject;
    /**
     * Returns with the navigation location object from its serialized counterpart.
     */
    function fromObject(object) {
        const { uri, type } = object;
        if (uri !== undefined && type !== undefined && object.context !== undefined) {
            const context = (() => {
                switch (type) {
                    case NavigationLocation.Type.CURSOR: return CursorLocation.fromObject(object.context);
                    case NavigationLocation.Type.SELECTION: return SelectionLocation.fromObject(object.context);
                    case NavigationLocation.Type.CONTENT_CHANGE: return ContentChangeLocation.fromObject(object.context);
                }
            })();
            if (context) {
                return {
                    uri: toUri(uri),
                    context,
                    type
                };
            }
        }
        return undefined;
    }
    NavigationLocation.fromObject = fromObject;
    /**
     * Returns with the context of the location as a `Range`.
     */
    function range(location) {
        if (CursorLocation.is(location)) {
            return editor_1.Range.create(location.context, location.context);
        }
        if (SelectionLocation.is(location)) {
            return location.context;
        }
        if (ContentChangeLocation.is(location)) {
            return location.context.range;
        }
        throw new Error(`Unexpected navigation location: ${location}.`);
    }
    NavigationLocation.range = range;
    /**
     * Creates a new navigation location object.
     */
    function create(uri, context) {
        const type = NavigationLocation.Context.getType(context);
        return {
            uri: toUri(uri),
            type,
            context
        };
    }
    NavigationLocation.create = create;
    /**
     * Returns with the human-consumable (JSON) string representation of the location argument.
     */
    function toString(location) {
        return JSON.stringify(toObject(location));
    }
    NavigationLocation.toString = toString;
})(NavigationLocation = exports.NavigationLocation || (exports.NavigationLocation = {}));
function toUri(arg) {
    if (arg instanceof uri_1.default) {
        return arg;
    }
    if (typeof arg === 'string') {
        return new uri_1.default(arg);
    }
    return arg.uri;
}
var RecentlyClosedEditor;
(function (RecentlyClosedEditor) {
    /**
     * Transform a RecentlyClosedEditor into an object for storing.
     *
     * @param closedEditor the editor needs to be transformed.
     */
    function toObject(closedEditor) {
        const { uri, viewState } = closedEditor;
        return {
            uri: uri.toString(),
            viewState: viewState
        };
    }
    RecentlyClosedEditor.toObject = toObject;
    /**
     * Transform the given object to a RecentlyClosedEditor object if possible.
     */
    function fromObject(object) {
        const { uri, viewState } = object;
        if (uri !== undefined && viewState !== undefined) {
            return {
                uri: toUri(uri),
                viewState: viewState
            };
        }
        return undefined;
    }
    RecentlyClosedEditor.fromObject = fromObject;
})(RecentlyClosedEditor = exports.RecentlyClosedEditor || (exports.RecentlyClosedEditor = {}));
var CursorLocation;
(function (CursorLocation) {
    /**
     * `true` if the argument is a cursor location. Otherwise, `false`.
     */
    function is(location) {
        return location.type === NavigationLocation.Type.CURSOR;
    }
    CursorLocation.is = is;
    /**
     * Returns with the serialized format of the position argument.
     */
    function toObject(context) {
        const { line, character } = context;
        return {
            line,
            character
        };
    }
    CursorLocation.toObject = toObject;
    /**
     * Returns with the position from its serializable counterpart, or `undefined`.
     */
    function fromObject(object) {
        if (object.line !== undefined && object.character !== undefined) {
            const { line, character } = object;
            return {
                line,
                character
            };
        }
        return undefined;
    }
    CursorLocation.fromObject = fromObject;
})(CursorLocation = exports.CursorLocation || (exports.CursorLocation = {}));
var SelectionLocation;
(function (SelectionLocation) {
    /**
     * `true` if the argument is a selection location.
     */
    function is(location) {
        return location.type === NavigationLocation.Type.SELECTION;
    }
    SelectionLocation.is = is;
    /**
     * Converts the range argument into a serializable object.
     */
    function toObject(context) {
        const { start, end } = context;
        return {
            start: CursorLocation.toObject(start),
            end: CursorLocation.toObject(end)
        };
    }
    SelectionLocation.toObject = toObject;
    /**
     * Creates a range object from its serializable counterpart. Returns with `undefined` if the argument cannot be converted into a range.
     */
    function fromObject(object) {
        if (!!object.start && !!object.end) {
            const start = CursorLocation.fromObject(object.start);
            const end = CursorLocation.fromObject(object.end);
            if (start && end) {
                return {
                    start,
                    end
                };
            }
        }
        return undefined;
    }
    SelectionLocation.fromObject = fromObject;
})(SelectionLocation = exports.SelectionLocation || (exports.SelectionLocation = {}));
var ContentChangeLocation;
(function (ContentChangeLocation) {
    /**
     * `true` if the argument is a content change location. Otherwise, `false`.
     */
    function is(location) {
        return location.type === NavigationLocation.Type.CONTENT_CHANGE;
    }
    ContentChangeLocation.is = is;
    /**
     * Returns with a serializable object representing the arguments.
     */
    function toObject(context) {
        return {
            range: SelectionLocation.toObject(context.range),
            rangeLength: context.rangeLength,
            text: context.text
        };
    }
    ContentChangeLocation.toObject = toObject;
    /**
     * Returns with a text document change delta for the argument. `undefined` if the argument cannot be mapped to a content change delta.
     */
    function fromObject(object) {
        if (!!object.range && object.rangeLength !== undefined && object.text !== undefined) {
            const range = SelectionLocation.fromObject(object.range);
            const rangeLength = object.rangeLength;
            const text = object.text;
            if (!!range) {
                return {
                    range,
                    rangeLength: rangeLength,
                    text: text
                };
            }
        }
        else {
            return undefined;
        }
    }
    ContentChangeLocation.fromObject = fromObject;
})(ContentChangeLocation = exports.ContentChangeLocation || (exports.ContentChangeLocation = {}));


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/quick-editor-service.js":
/*!*********************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/quick-editor-service.js ***!
  \*********************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (c) 2021 SAP SE or an SAP affiliate company and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var QuickEditorService_1;
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.QuickEditorService = void 0;
const inversify_1 = __webpack_require__(/*! @theia/core/shared/inversify */ "../node_modules/@theia/file-search/node_modules/@theia/core/shared/inversify.js");
const label_provider_1 = __webpack_require__(/*! @theia/core/lib/browser/label-provider */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/label-provider.js");
const opener_service_1 = __webpack_require__(/*! @theia/core/lib/browser/opener-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/opener-service.js");
const quick_access_1 = __webpack_require__(/*! @theia/core/lib/browser/quick-input/quick-access */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/quick-input/quick-access.js");
const quick_input_service_1 = __webpack_require__(/*! @theia/core/lib/browser/quick-input/quick-input-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/quick-input/quick-input-service.js");
const _1 = __webpack_require__(/*! . */ "../node_modules/@theia/file-search/node_modules/@theia/editor/lib/browser/index.js");
let QuickEditorService = QuickEditorService_1 = class QuickEditorService {
    registerQuickAccessProvider() {
        this.quickAccessRegistry.registerQuickAccessProvider({
            getInstance: () => this,
            prefix: QuickEditorService_1.PREFIX,
            placeholder: '',
            helpEntries: [{ description: 'Show All Opened Editors', needsEditor: false }]
        });
    }
    getPicks(filter, token) {
        const editorItems = [];
        // Get the alphabetically sorted list of URIs of all currently opened editor widgets.
        const widgets = this.editorManager.all
            .map((w) => w.editor.uri)
            .sort();
        if (widgets.length === 0) {
            editorItems.push(({
                label: 'List of opened editors is currently empty'
            }));
        }
        else {
            for (const uri of widgets) {
                const item = this.toItem(uri);
                editorItems.push(item);
            }
        }
        return quick_input_service_1.filterItems(editorItems.slice(), filter);
    }
    toItem(uri) {
        const description = this.labelProvider.getLongName(uri.parent);
        const icon = this.labelProvider.getIcon(uri);
        const iconClasses = icon === '' ? undefined : [icon + ' file-icon'];
        return {
            label: this.labelProvider.getName(uri),
            description: description,
            iconClasses,
            ariaLabel: uri.path.toString(),
            alwaysShow: true,
            execute: () => this.openFile(uri)
        };
    }
    openFile(uri) {
        this.openerService.getOpener(uri)
            .then(opener => opener.open(uri));
    }
};
QuickEditorService.PREFIX = 'edt ';
__decorate([
    inversify_1.inject(opener_service_1.OpenerService),
    __metadata("design:type", Object)
], QuickEditorService.prototype, "openerService", void 0);
__decorate([
    inversify_1.inject(label_provider_1.LabelProvider),
    __metadata("design:type", label_provider_1.LabelProvider)
], QuickEditorService.prototype, "labelProvider", void 0);
__decorate([
    inversify_1.inject(quick_access_1.QuickAccessRegistry),
    __metadata("design:type", Object)
], QuickEditorService.prototype, "quickAccessRegistry", void 0);
__decorate([
    inversify_1.inject(_1.EditorManager),
    __metadata("design:type", _1.EditorManager)
], QuickEditorService.prototype, "editorManager", void 0);
QuickEditorService = QuickEditorService_1 = __decorate([
    inversify_1.injectable()
], QuickEditorService);
exports.QuickEditorService = QuickEditorService;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-dialog/file-dialog-container.js":
/*!**************************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-dialog/file-dialog-container.js ***!
  \**************************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.createSaveFileDialogContainer = exports.createOpenFileDialogContainer = exports.createFileDialogContainer = void 0;
const browser_1 = __webpack_require__(/*! @theia/core/lib/browser */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/index.js");
const file_tree_1 = __webpack_require__(/*! ../file-tree */ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-tree/index.js");
const file_dialog_1 = __webpack_require__(/*! ./file-dialog */ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-dialog/file-dialog.js");
const file_dialog_model_1 = __webpack_require__(/*! ./file-dialog-model */ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-dialog/file-dialog-model.js");
const file_dialog_widget_1 = __webpack_require__(/*! ./file-dialog-widget */ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-dialog/file-dialog-widget.js");
const file_dialog_tree_1 = __webpack_require__(/*! ./file-dialog-tree */ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-dialog/file-dialog-tree.js");
function createFileDialogContainer(parent) {
    const child = file_tree_1.createFileTreeContainer(parent);
    child.unbind(file_tree_1.FileTreeModel);
    child.bind(file_dialog_model_1.FileDialogModel).toSelf();
    child.rebind(browser_1.TreeModel).toService(file_dialog_model_1.FileDialogModel);
    child.unbind(file_tree_1.FileTreeWidget);
    child.bind(file_dialog_widget_1.FileDialogWidget).toSelf();
    child.bind(file_dialog_tree_1.FileDialogTree).toSelf();
    child.rebind(browser_1.Tree).toService(file_dialog_tree_1.FileDialogTree);
    return child;
}
exports.createFileDialogContainer = createFileDialogContainer;
function createOpenFileDialogContainer(parent, props) {
    const container = createFileDialogContainer(parent);
    container.rebind(browser_1.TreeProps).toConstantValue(Object.assign(Object.assign({}, browser_1.defaultTreeProps), { multiSelect: props.canSelectMany, search: true }));
    container.bind(file_dialog_1.OpenFileDialogProps).toConstantValue(props);
    container.bind(file_dialog_1.OpenFileDialog).toSelf();
    return container;
}
exports.createOpenFileDialogContainer = createOpenFileDialogContainer;
function createSaveFileDialogContainer(parent, props) {
    const container = createFileDialogContainer(parent);
    container.rebind(browser_1.TreeProps).toConstantValue(Object.assign(Object.assign({}, browser_1.defaultTreeProps), { multiSelect: false, search: true }));
    container.bind(file_dialog_1.SaveFileDialogProps).toConstantValue(props);
    container.bind(file_dialog_1.SaveFileDialog).toSelf();
    return container;
}
exports.createSaveFileDialogContainer = createSaveFileDialogContainer;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-dialog/file-dialog-model.js":
/*!**********************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-dialog/file-dialog-model.js ***!
  \**********************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.FileDialogModel = void 0;
const inversify_1 = __webpack_require__(/*! @theia/core/shared/inversify */ "../node_modules/@theia/file-search/node_modules/@theia/core/shared/inversify.js");
const common_1 = __webpack_require__(/*! @theia/core/lib/common */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/index.js");
const file_tree_1 = __webpack_require__(/*! ../file-tree */ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-tree/index.js");
const file_dialog_tree_1 = __webpack_require__(/*! ./file-dialog-tree */ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-dialog/file-dialog-tree.js");
let FileDialogModel = class FileDialogModel extends file_tree_1.FileTreeModel {
    constructor() {
        super(...arguments);
        this.onDidOpenFileEmitter = new common_1.Emitter();
        this._disableFileSelection = false;
    }
    init() {
        super.init();
        this.toDispose.push(this.onDidOpenFileEmitter);
    }
    /**
     * Returns the first valid location that was set by calling the `navigateTo` method. Once the initial location has a defined value, it will not change.
     * Can be `undefined`.
     */
    get initialLocation() {
        return this._initialLocation;
    }
    set disableFileSelection(isSelectable) {
        this._disableFileSelection = isSelectable;
    }
    async navigateTo(nodeOrId) {
        const result = await super.navigateTo(nodeOrId);
        if (!this._initialLocation && file_tree_1.FileStatNode.is(result)) {
            this._initialLocation = result.uri;
        }
        return result;
    }
    get onDidOpenFile() {
        return this.onDidOpenFileEmitter.event;
    }
    doOpenNode(node) {
        if (file_tree_1.FileNode.is(node)) {
            this.onDidOpenFileEmitter.fire(undefined);
        }
        else if (file_tree_1.DirNode.is(node)) {
            this.navigateTo(node);
        }
        else {
            super.doOpenNode(node);
        }
    }
    getNextSelectableNode(node = this.selectedNodes[0]) {
        let nextNode = node;
        do {
            nextNode = super.getNextSelectableNode(nextNode);
        } while (file_tree_1.FileStatNode.is(nextNode) && !this.isFileStatNodeSelectable(nextNode));
        return nextNode;
    }
    getPrevSelectableNode(node = this.selectedNodes[0]) {
        let prevNode = node;
        do {
            prevNode = super.getPrevSelectableNode(prevNode);
        } while (file_tree_1.FileStatNode.is(prevNode) && !this.isFileStatNodeSelectable(prevNode));
        return prevNode;
    }
    isFileStatNodeSelectable(node) {
        return !(!node.fileStat.isDirectory && this._disableFileSelection);
    }
    canNavigateUpward() {
        const treeRoot = this.tree.root;
        return file_tree_1.FileStatNode.is(treeRoot) && !treeRoot.uri.path.isRoot;
    }
};
__decorate([
    inversify_1.inject(file_dialog_tree_1.FileDialogTree),
    __metadata("design:type", file_dialog_tree_1.FileDialogTree)
], FileDialogModel.prototype, "tree", void 0);
__decorate([
    inversify_1.postConstruct(),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", []),
    __metadata("design:returntype", void 0)
], FileDialogModel.prototype, "init", null);
FileDialogModel = __decorate([
    inversify_1.injectable()
], FileDialogModel);
exports.FileDialogModel = FileDialogModel;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-dialog/file-dialog-service.js":
/*!************************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-dialog/file-dialog-service.js ***!
  \************************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 Ericsson and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.DefaultFileDialogService = exports.FileDialogService = void 0;
const inversify_1 = __webpack_require__(/*! @theia/core/shared/inversify */ "../node_modules/@theia/file-search/node_modules/@theia/core/shared/inversify.js");
const uri_1 = __webpack_require__(/*! @theia/core/lib/common/uri */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/uri.js");
const browser_1 = __webpack_require__(/*! @theia/core/lib/browser */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/index.js");
const file_tree_1 = __webpack_require__(/*! ../file-tree */ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-tree/index.js");
const file_dialog_1 = __webpack_require__(/*! ./file-dialog */ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-dialog/file-dialog.js");
const file_service_1 = __webpack_require__(/*! ../file-service */ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-service.js");
const env_variables_1 = __webpack_require__(/*! @theia/core/lib/common/env-variables */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/env-variables/index.js");
exports.FileDialogService = Symbol('FileDialogService');
let DefaultFileDialogService = class DefaultFileDialogService {
    async showOpenDialog(props, folder) {
        const title = props.title || 'Open';
        const rootNode = await this.getRootNode(folder);
        if (rootNode) {
            const dialog = this.openFileDialogFactory(Object.assign(props, { title }));
            await dialog.model.navigateTo(rootNode);
            const value = await dialog.open();
            if (value) {
                if (!Array.isArray(value)) {
                    return value.uri;
                }
                return value.map(node => node.uri);
            }
        }
        return undefined;
    }
    async showSaveDialog(props, folder) {
        const title = props.title || 'Save';
        const rootNode = await this.getRootNode(folder);
        if (rootNode) {
            const dialog = this.saveFileDialogFactory(Object.assign(props, { title }));
            await dialog.model.navigateTo(rootNode);
            return dialog.open();
        }
        return undefined;
    }
    async getRootNode(folderToOpen) {
        const folder = folderToOpen || {
            resource: new uri_1.default(await this.environments.getHomeDirUri()),
            isDirectory: true
        };
        const folderUri = folder.resource;
        const rootUri = folder.isDirectory ? folderUri : folderUri.parent;
        try {
            const rootStat = await this.fileService.resolve(rootUri);
            return file_tree_1.DirNode.createRoot(rootStat);
        }
        catch (_a) { }
        return undefined;
    }
};
__decorate([
    inversify_1.inject(env_variables_1.EnvVariablesServer),
    __metadata("design:type", Object)
], DefaultFileDialogService.prototype, "environments", void 0);
__decorate([
    inversify_1.inject(file_service_1.FileService),
    __metadata("design:type", file_service_1.FileService)
], DefaultFileDialogService.prototype, "fileService", void 0);
__decorate([
    inversify_1.inject(file_dialog_1.OpenFileDialogFactory),
    __metadata("design:type", Function)
], DefaultFileDialogService.prototype, "openFileDialogFactory", void 0);
__decorate([
    inversify_1.inject(browser_1.LabelProvider),
    __metadata("design:type", browser_1.LabelProvider)
], DefaultFileDialogService.prototype, "labelProvider", void 0);
__decorate([
    inversify_1.inject(file_dialog_1.SaveFileDialogFactory),
    __metadata("design:type", Function)
], DefaultFileDialogService.prototype, "saveFileDialogFactory", void 0);
DefaultFileDialogService = __decorate([
    inversify_1.injectable()
], DefaultFileDialogService);
exports.DefaultFileDialogService = DefaultFileDialogService;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-dialog/file-dialog-tree-filters-renderer.js":
/*!**************************************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-dialog/file-dialog-tree-filters-renderer.js ***!
  \**************************************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 Red Hat, Inc. and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.FileDialogTreeFiltersRenderer = exports.FileDialogTreeFiltersRendererOptions = exports.FileDialogTreeFiltersRendererFactory = exports.FileDialogTreeFilters = exports.FILE_TREE_FILTERS_LIST_CLASS = void 0;
const react_renderer_1 = __webpack_require__(/*! @theia/core/lib/browser/widgets/react-renderer */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/widgets/react-renderer.js");
const React = __webpack_require__(/*! @theia/core/shared/react */ "../node_modules/@theia/file-search/node_modules/@theia/core/shared/react.js");
const inversify_1 = __webpack_require__(/*! @theia/core/shared/inversify */ "../node_modules/@theia/file-search/node_modules/@theia/core/shared/inversify.js");
exports.FILE_TREE_FILTERS_LIST_CLASS = 'theia-FileTreeFiltersList';
/**
 * A set of file filters that are used by the dialog. Each entry is a human readable label,
 * like "TypeScript", and an array of extensions, e.g.
 * ```ts
 * {
 *  'Images': ['png', 'jpg']
 *  'TypeScript': ['ts', 'tsx']
 * }
 * ```
 */
class FileDialogTreeFilters {
}
exports.FileDialogTreeFilters = FileDialogTreeFilters;
exports.FileDialogTreeFiltersRendererFactory = Symbol('FileDialogTreeFiltersRendererFactory');
exports.FileDialogTreeFiltersRendererOptions = Symbol('FileDialogTreeFiltersRendererOptions');
let FileDialogTreeFiltersRenderer = class FileDialogTreeFiltersRenderer extends react_renderer_1.ReactRenderer {
    constructor(options) {
        super();
        this.options = options;
        this.handleFilterChanged = (e) => this.onFilterChanged(e);
        this.suppliedFilters = options.suppliedFilters;
        this.fileDialogTree = options.fileDialogTree;
        this.appliedFilters = Object.assign(Object.assign({}, this.suppliedFilters), { 'All Files': [] });
    }
    doRender() {
        if (!this.appliedFilters) {
            return undefined;
        }
        const options = Object.keys(this.appliedFilters).map(value => this.renderLocation(value));
        return React.createElement("select", { className: 'theia-select ' + exports.FILE_TREE_FILTERS_LIST_CLASS, onChange: this.handleFilterChanged }, options);
    }
    renderLocation(value) {
        return React.createElement("option", { value: value, key: value }, value);
    }
    onFilterChanged(e) {
        const locationList = this.locationList;
        if (locationList) {
            const value = locationList.value;
            const filters = this.appliedFilters[value];
            this.fileDialogTree.setFilter(filters);
        }
        e.preventDefault();
        e.stopPropagation();
    }
    get locationList() {
        const locationList = this.host.getElementsByClassName(exports.FILE_TREE_FILTERS_LIST_CLASS)[0];
        if (locationList instanceof HTMLSelectElement) {
            return locationList;
        }
        return undefined;
    }
};
FileDialogTreeFiltersRenderer = __decorate([
    inversify_1.injectable(),
    __param(0, inversify_1.inject(exports.FileDialogTreeFiltersRendererOptions)),
    __metadata("design:paramtypes", [Object])
], FileDialogTreeFiltersRenderer);
exports.FileDialogTreeFiltersRenderer = FileDialogTreeFiltersRenderer;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-dialog/file-dialog-tree.js":
/*!*********************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-dialog/file-dialog-tree.js ***!
  \*********************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 Red Hat, Inc. and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.FileDialogTree = void 0;
const inversify_1 = __webpack_require__(/*! @theia/core/shared/inversify */ "../node_modules/@theia/file-search/node_modules/@theia/core/shared/inversify.js");
const file_tree_1 = __webpack_require__(/*! ../file-tree */ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-tree/index.js");
let FileDialogTree = class FileDialogTree extends file_tree_1.FileTree {
    constructor() {
        super(...arguments);
        /**
         * Extensions for files to be shown
         */
        this.fileExtensions = [];
    }
    /**
     * Sets extensions for filtering files
     *
     * @param fileExtensions array of extensions
     */
    setFilter(fileExtensions) {
        this.fileExtensions = fileExtensions.slice();
        this.refresh();
    }
    async toNodes(fileStat, parent) {
        if (!fileStat.children) {
            return [];
        }
        const result = await Promise.all(fileStat.children
            .filter(child => this.isVisible(child))
            .map(child => this.toNode(child, parent)));
        return result.sort(file_tree_1.DirNode.compare);
    }
    /**
     * Determines whether file or folder can be shown
     *
     * @param fileStat resource to check
     */
    isVisible(fileStat) {
        if (fileStat.isDirectory) {
            return true;
        }
        if (this.fileExtensions.length === 0) {
            return true;
        }
        return !this.fileExtensions.every(value => fileStat.resource.path.ext !== '.' + value);
    }
};
FileDialogTree = __decorate([
    inversify_1.injectable()
], FileDialogTree);
exports.FileDialogTree = FileDialogTree;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-dialog/file-dialog-widget.js":
/*!***********************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-dialog/file-dialog-widget.js ***!
  \***********************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.FileDialogWidget = exports.NOT_SELECTABLE_CLASS = exports.FILE_DIALOG_CLASS = void 0;
const inversify_1 = __webpack_require__(/*! @theia/core/shared/inversify */ "../node_modules/@theia/file-search/node_modules/@theia/core/shared/inversify.js");
const browser_1 = __webpack_require__(/*! @theia/core/lib/browser */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/index.js");
const file_tree_1 = __webpack_require__(/*! ../file-tree */ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-tree/index.js");
const file_dialog_model_1 = __webpack_require__(/*! ./file-dialog-model */ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-dialog/file-dialog-model.js");
exports.FILE_DIALOG_CLASS = 'theia-FileDialog';
exports.NOT_SELECTABLE_CLASS = 'theia-mod-not-selectable';
let FileDialogWidget = class FileDialogWidget extends file_tree_1.FileTreeWidget {
    constructor(props, model, contextMenuRenderer) {
        super(props, model, contextMenuRenderer);
        this.props = props;
        this.model = model;
        this._disableFileSelection = false;
        this.addClass(exports.FILE_DIALOG_CLASS);
    }
    set disableFileSelection(isSelectable) {
        this._disableFileSelection = isSelectable;
        this.model.disableFileSelection = isSelectable;
    }
    createNodeAttributes(node, props) {
        // eslint-disable-next-line @typescript-eslint/no-explicit-any
        const attr = super.createNodeAttributes(node, props);
        if (this.shouldDisableSelection(node)) {
            const keys = Object.keys(attr);
            keys.forEach(k => {
                if (['className', 'style', 'title'].indexOf(k) < 0) {
                    delete attr[k];
                }
            });
        }
        return attr;
    }
    createNodeClassNames(node, props) {
        const classNames = super.createNodeClassNames(node, props);
        if (this.shouldDisableSelection(node)) {
            [browser_1.SELECTED_CLASS, browser_1.FOCUS_CLASS].forEach(name => {
                const ind = classNames.indexOf(name);
                if (ind >= 0) {
                    classNames.splice(ind, 1);
                }
            });
            classNames.push(exports.NOT_SELECTABLE_CLASS);
        }
        return classNames;
    }
    shouldDisableSelection(node) {
        return file_tree_1.FileStatNode.is(node) && !node.fileStat.isDirectory && this._disableFileSelection;
    }
};
FileDialogWidget = __decorate([
    inversify_1.injectable(),
    __param(0, inversify_1.inject(browser_1.TreeProps)),
    __param(1, inversify_1.inject(file_dialog_model_1.FileDialogModel)),
    __param(2, inversify_1.inject(browser_1.ContextMenuRenderer)),
    __metadata("design:paramtypes", [Object, file_dialog_model_1.FileDialogModel,
        browser_1.ContextMenuRenderer])
], FileDialogWidget);
exports.FileDialogWidget = FileDialogWidget;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-dialog/file-dialog.js":
/*!****************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-dialog/file-dialog.js ***!
  \****************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.SaveFileDialog = exports.OpenFileDialog = exports.FileDialog = exports.SaveFileDialogProps = exports.OpenFileDialogProps = exports.FileDialogProps = exports.TOOLBAR_ITEM_TRANSFORM_TIMEOUT = exports.CONTROL_PANEL_CLASS = exports.FILENAME_TEXTFIELD_CLASS = exports.FILENAME_LABEL_CLASS = exports.FILENAME_PANEL_CLASS = exports.FILTERS_LIST_PANEL_CLASS = exports.FILTERS_LABEL_CLASS = exports.FILTERS_PANEL_CLASS = exports.NAVIGATION_LOCATION_LIST_PANEL_CLASS = exports.NAVIGATION_UP_CLASS = exports.NAVIGATION_HOME_CLASS = exports.NAVIGATION_FORWARD_CLASS = exports.NAVIGATION_BACK_CLASS = exports.NAVIGATION_PANEL_CLASS = exports.SAVE_DIALOG_CLASS = exports.SaveFileDialogFactory = exports.OpenFileDialogFactory = void 0;
const inversify_1 = __webpack_require__(/*! @theia/core/shared/inversify */ "../node_modules/@theia/file-search/node_modules/@theia/core/shared/inversify.js");
const common_1 = __webpack_require__(/*! @theia/core/lib/common */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/index.js");
const browser_1 = __webpack_require__(/*! @theia/core/lib/browser */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/index.js");
const browser_2 = __webpack_require__(/*! @theia/core/lib/browser */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/index.js");
const location_1 = __webpack_require__(/*! ../location */ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/location/index.js");
const file_dialog_widget_1 = __webpack_require__(/*! ./file-dialog-widget */ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-dialog/file-dialog-widget.js");
const file_dialog_tree_filters_renderer_1 = __webpack_require__(/*! ./file-dialog-tree-filters-renderer */ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-dialog/file-dialog-tree-filters-renderer.js");
const widgets_1 = __webpack_require__(/*! @theia/core/shared/@phosphor/widgets */ "../node_modules/@theia/file-search/node_modules/@theia/core/shared/@phosphor/widgets.js");
exports.OpenFileDialogFactory = Symbol('OpenFileDialogFactory');
exports.SaveFileDialogFactory = Symbol('SaveFileDialogFactory');
exports.SAVE_DIALOG_CLASS = 'theia-SaveFileDialog';
exports.NAVIGATION_PANEL_CLASS = 'theia-NavigationPanel';
exports.NAVIGATION_BACK_CLASS = 'theia-NavigationBack';
exports.NAVIGATION_FORWARD_CLASS = 'theia-NavigationForward';
exports.NAVIGATION_HOME_CLASS = 'theia-NavigationHome';
exports.NAVIGATION_UP_CLASS = 'theia-NavigationUp';
exports.NAVIGATION_LOCATION_LIST_PANEL_CLASS = 'theia-LocationListPanel';
exports.FILTERS_PANEL_CLASS = 'theia-FiltersPanel';
exports.FILTERS_LABEL_CLASS = 'theia-FiltersLabel';
exports.FILTERS_LIST_PANEL_CLASS = 'theia-FiltersListPanel';
exports.FILENAME_PANEL_CLASS = 'theia-FileNamePanel';
exports.FILENAME_LABEL_CLASS = 'theia-FileNameLabel';
exports.FILENAME_TEXTFIELD_CLASS = 'theia-FileNameTextField';
exports.CONTROL_PANEL_CLASS = 'theia-ControlPanel';
exports.TOOLBAR_ITEM_TRANSFORM_TIMEOUT = 100;
class FileDialogProps extends browser_2.DialogProps {
}
exports.FileDialogProps = FileDialogProps;
let OpenFileDialogProps = class OpenFileDialogProps extends FileDialogProps {
};
OpenFileDialogProps = __decorate([
    inversify_1.injectable()
], OpenFileDialogProps);
exports.OpenFileDialogProps = OpenFileDialogProps;
let SaveFileDialogProps = class SaveFileDialogProps extends FileDialogProps {
};
SaveFileDialogProps = __decorate([
    inversify_1.injectable()
], SaveFileDialogProps);
exports.SaveFileDialogProps = SaveFileDialogProps;
let FileDialog = class FileDialog extends browser_2.AbstractDialog {
    constructor(props) {
        super(props);
        this.props = props;
    }
    init() {
        this.treePanel = new widgets_1.Panel();
        this.treePanel.addWidget(this.widget);
        this.toDispose.push(this.treePanel);
        this.toDispose.push(this.model.onChanged(() => this.update()));
        this.toDispose.push(this.model.onDidOpenFile(() => this.accept()));
        this.toDispose.push(this.model.onSelectionChanged(() => this.update()));
        const navigationPanel = document.createElement('div');
        navigationPanel.classList.add(exports.NAVIGATION_PANEL_CLASS);
        this.contentNode.appendChild(navigationPanel);
        navigationPanel.appendChild(this.back = browser_2.createIconButton(...browser_1.codiconArray('chevron-left', true)));
        this.back.classList.add(exports.NAVIGATION_BACK_CLASS);
        this.back.title = 'Navigate Back';
        navigationPanel.appendChild(this.forward = browser_2.createIconButton(...browser_1.codiconArray('chevron-right', true)));
        this.forward.classList.add(exports.NAVIGATION_FORWARD_CLASS);
        this.forward.title = 'Navigate Forward';
        navigationPanel.appendChild(this.home = browser_2.createIconButton(...browser_1.codiconArray('home', true)));
        this.home.classList.add(exports.NAVIGATION_HOME_CLASS);
        this.home.title = 'Go To Initial Location';
        navigationPanel.appendChild(this.up = browser_2.createIconButton(...browser_1.codiconArray('arrow-up', true)));
        this.up.classList.add(exports.NAVIGATION_UP_CLASS);
        this.up.title = 'Navigate Up One Directory';
        const locationListRendererHost = document.createElement('div');
        this.locationListRenderer = this.locationListFactory({ model: this.model, host: locationListRendererHost });
        this.toDispose.push(this.locationListRenderer);
        this.locationListRenderer.host.classList.add(exports.NAVIGATION_LOCATION_LIST_PANEL_CLASS);
        navigationPanel.appendChild(this.locationListRenderer.host);
        if (this.props.filters) {
            this.treeFiltersRenderer = this.treeFiltersFactory({ suppliedFilters: this.props.filters, fileDialogTree: this.widget.model.tree });
            const filters = Object.keys(this.props.filters);
            if (filters.length) {
                this.widget.model.tree.setFilter(this.props.filters[filters[0]]);
            }
        }
    }
    get model() {
        return this.widget.model;
    }
    onUpdateRequest(msg) {
        super.onUpdateRequest(msg);
        browser_2.setEnabled(this.back, this.model.canNavigateBackward());
        browser_2.setEnabled(this.forward, this.model.canNavigateForward());
        browser_2.setEnabled(this.home, !!this.model.initialLocation
            && !!this.model.location
            && this.model.initialLocation.toString() !== this.model.location.toString());
        browser_2.setEnabled(this.up, this.model.canNavigateUpward());
        this.locationListRenderer.render();
        if (this.treeFiltersRenderer) {
            this.treeFiltersRenderer.render();
        }
        this.widget.update();
    }
    handleEnter(event) {
        if (event.target instanceof HTMLTextAreaElement || this.targetIsDirectoryInput(event.target) || this.targetIsInputToggle(event.target)) {
            return false;
        }
        this.accept();
    }
    handleEscape(event) {
        if (event.target instanceof HTMLTextAreaElement || this.targetIsDirectoryInput(event.target)) {
            return false;
        }
        this.close();
    }
    targetIsDirectoryInput(target) {
        return target instanceof HTMLInputElement && target.classList.contains(location_1.LocationListRenderer.Styles.LOCATION_TEXT_INPUT_CLASS);
    }
    targetIsInputToggle(target) {
        return target instanceof HTMLSpanElement && target.classList.contains(location_1.LocationListRenderer.Styles.LOCATION_INPUT_TOGGLE_CLASS);
    }
    appendFiltersPanel() {
        if (this.treeFiltersRenderer) {
            const filtersPanel = document.createElement('div');
            filtersPanel.classList.add(exports.FILTERS_PANEL_CLASS);
            this.contentNode.appendChild(filtersPanel);
            const titlePanel = document.createElement('div');
            titlePanel.innerHTML = 'Format:';
            titlePanel.classList.add(exports.FILTERS_LABEL_CLASS);
            filtersPanel.appendChild(titlePanel);
            this.treeFiltersRenderer.host.classList.add(exports.FILTERS_LIST_PANEL_CLASS);
            filtersPanel.appendChild(this.treeFiltersRenderer.host);
        }
    }
    onAfterAttach(msg) {
        browser_2.Widget.attach(this.treePanel, this.contentNode);
        this.toDisposeOnDetach.push(common_1.Disposable.create(() => {
            browser_2.Widget.detach(this.treePanel);
            this.locationListRenderer.dispose();
            if (this.treeFiltersRenderer) {
                this.treeFiltersRenderer.dispose();
            }
        }));
        this.appendFiltersPanel();
        this.appendCloseButton('Cancel');
        this.appendAcceptButton(this.getAcceptButtonLabel());
        this.addKeyListener(this.back, browser_1.Key.ENTER, () => {
            this.addTransformEffectToIcon(this.back);
            this.model.navigateBackward();
        }, 'click');
        this.addKeyListener(this.forward, browser_1.Key.ENTER, () => {
            this.addTransformEffectToIcon(this.forward);
            this.model.navigateForward();
        }, 'click');
        this.addKeyListener(this.home, browser_1.Key.ENTER, () => {
            this.addTransformEffectToIcon(this.home);
            if (this.model.initialLocation) {
                this.model.location = this.model.initialLocation;
            }
        }, 'click');
        this.addKeyListener(this.up, browser_1.Key.ENTER, () => {
            this.addTransformEffectToIcon(this.up);
            if (this.model.location) {
                this.model.location = this.model.location.parent;
            }
        }, 'click');
        super.onAfterAttach(msg);
    }
    addTransformEffectToIcon(element) {
        const icon = element.getElementsByTagName('i')[0];
        icon.classList.add('active');
        setTimeout(() => icon.classList.remove('active'), exports.TOOLBAR_ITEM_TRANSFORM_TIMEOUT);
    }
    onActivateRequest(msg) {
        this.widget.activate();
    }
};
__decorate([
    inversify_1.inject(file_dialog_widget_1.FileDialogWidget),
    __metadata("design:type", file_dialog_widget_1.FileDialogWidget)
], FileDialog.prototype, "widget", void 0);
__decorate([
    inversify_1.inject(location_1.LocationListRendererFactory),
    __metadata("design:type", Function)
], FileDialog.prototype, "locationListFactory", void 0);
__decorate([
    inversify_1.inject(file_dialog_tree_filters_renderer_1.FileDialogTreeFiltersRendererFactory),
    __metadata("design:type", Function)
], FileDialog.prototype, "treeFiltersFactory", void 0);
__decorate([
    inversify_1.postConstruct(),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", []),
    __metadata("design:returntype", void 0)
], FileDialog.prototype, "init", null);
FileDialog = __decorate([
    __param(0, inversify_1.inject(FileDialogProps)),
    __metadata("design:paramtypes", [FileDialogProps])
], FileDialog);
exports.FileDialog = FileDialog;
let OpenFileDialog = class OpenFileDialog extends FileDialog {
    constructor(props) {
        super(props);
        this.props = props;
    }
    init() {
        super.init();
        const { props } = this;
        if (props.canSelectFiles !== undefined) {
            this.widget.disableFileSelection = !props.canSelectFiles;
        }
    }
    getAcceptButtonLabel() {
        return this.props.openLabel ? this.props.openLabel : 'Open';
    }
    isValid(value) {
        if (value && !this.props.canSelectMany && value instanceof Array) {
            return 'You can select only one item';
        }
        return '';
    }
    get value() {
        if (this.widget.model.selectedFileStatNodes.length === 1) {
            return this.widget.model.selectedFileStatNodes[0];
        }
        else {
            return this.widget.model.selectedFileStatNodes;
        }
    }
    async accept() {
        const selection = this.value;
        if (!this.props.canSelectFolders
            && !Array.isArray(selection)
            && selection.fileStat.isDirectory) {
            this.widget.model.openNode(selection);
            return;
        }
        super.accept();
    }
};
__decorate([
    inversify_1.postConstruct(),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", []),
    __metadata("design:returntype", void 0)
], OpenFileDialog.prototype, "init", null);
OpenFileDialog = __decorate([
    inversify_1.injectable(),
    __param(0, inversify_1.inject(OpenFileDialogProps)),
    __metadata("design:paramtypes", [OpenFileDialogProps])
], OpenFileDialog);
exports.OpenFileDialog = OpenFileDialog;
let SaveFileDialog = class SaveFileDialog extends FileDialog {
    constructor(props) {
        super(props);
        this.props = props;
    }
    init() {
        super.init();
        const { widget } = this;
        widget.addClass(exports.SAVE_DIALOG_CLASS);
    }
    getAcceptButtonLabel() {
        return this.props.saveLabel ? this.props.saveLabel : 'Save';
    }
    onUpdateRequest(msg) {
        // Update file name field when changing a selection
        if (this.fileNameField) {
            if (this.widget.model.selectedFileStatNodes.length === 1) {
                const node = this.widget.model.selectedFileStatNodes[0];
                if (!node.fileStat.isDirectory) {
                    this.fileNameField.value = this.labelProvider.getName(node);
                }
            }
            else {
                this.fileNameField.value = '';
            }
        }
        // Continue updating the dialog
        super.onUpdateRequest(msg);
    }
    isValid(value) {
        if (this.fileNameField && this.fileNameField.value) {
            return '';
        }
        return false;
    }
    get value() {
        if (this.fileNameField && this.widget.model.selectedFileStatNodes.length === 1) {
            const node = this.widget.model.selectedFileStatNodes[0];
            if (node.fileStat.isDirectory) {
                return node.uri.resolve(this.fileNameField.value);
            }
            return node.uri.parent.resolve(this.fileNameField.value);
        }
        return undefined;
    }
    onAfterAttach(msg) {
        super.onAfterAttach(msg);
        const fileNamePanel = document.createElement('div');
        fileNamePanel.classList.add(exports.FILENAME_PANEL_CLASS);
        this.contentNode.appendChild(fileNamePanel);
        const titlePanel = document.createElement('div');
        titlePanel.innerHTML = 'Name:';
        titlePanel.classList.add(exports.FILENAME_LABEL_CLASS);
        fileNamePanel.appendChild(titlePanel);
        this.fileNameField = document.createElement('input');
        this.fileNameField.type = 'text';
        this.fileNameField.spellcheck = false;
        this.fileNameField.classList.add('theia-input', exports.FILENAME_TEXTFIELD_CLASS);
        this.fileNameField.value = this.props.inputValue || '';
        fileNamePanel.appendChild(this.fileNameField);
        this.fileNameField.onkeyup = () => this.validate();
    }
};
__decorate([
    inversify_1.inject(browser_1.LabelProvider),
    __metadata("design:type", browser_1.LabelProvider)
], SaveFileDialog.prototype, "labelProvider", void 0);
__decorate([
    inversify_1.postConstruct(),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", []),
    __metadata("design:returntype", void 0)
], SaveFileDialog.prototype, "init", null);
SaveFileDialog = __decorate([
    inversify_1.injectable(),
    __param(0, inversify_1.inject(SaveFileDialogProps)),
    __metadata("design:paramtypes", [SaveFileDialogProps])
], SaveFileDialog);
exports.SaveFileDialog = SaveFileDialog;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-dialog/index.js":
/*!**********************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-dialog/index.js ***!
  \**********************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
__exportStar(__webpack_require__(/*! ./file-dialog */ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-dialog/file-dialog.js"), exports);
__exportStar(__webpack_require__(/*! ./file-dialog-container */ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-dialog/file-dialog-container.js"), exports);
__exportStar(__webpack_require__(/*! ./file-dialog-tree-filters-renderer */ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-dialog/file-dialog-tree-filters-renderer.js"), exports);
__exportStar(__webpack_require__(/*! ./file-dialog-service */ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-dialog/file-dialog-service.js"), exports);


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-resource.js":
/*!******************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-resource.js ***!
  \******************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.FileResourceResolver = exports.FileResource = exports.FileResourceVersion = void 0;
const inversify_1 = __webpack_require__(/*! @theia/core/shared/inversify */ "../node_modules/@theia/file-search/node_modules/@theia/core/shared/inversify.js");
const resource_1 = __webpack_require__(/*! @theia/core/lib/common/resource */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/resource.js");
const disposable_1 = __webpack_require__(/*! @theia/core/lib/common/disposable */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/disposable.js");
const event_1 = __webpack_require__(/*! @theia/core/lib/common/event */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/event.js");
const files_1 = __webpack_require__(/*! ../common/files */ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/common/files.js");
const file_service_1 = __webpack_require__(/*! ./file-service */ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-service.js");
const dialogs_1 = __webpack_require__(/*! @theia/core/lib/browser/dialogs */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/dialogs.js");
const label_provider_1 = __webpack_require__(/*! @theia/core/lib/browser/label-provider */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/label-provider.js");
const filesystem_preferences_1 = __webpack_require__(/*! ./filesystem-preferences */ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/filesystem-preferences.js");
var FileResourceVersion;
(function (FileResourceVersion) {
    function is(version) {
        return !!version && 'encoding' in version && 'mtime' in version && 'etag' in version;
    }
    FileResourceVersion.is = is;
})(FileResourceVersion = exports.FileResourceVersion || (exports.FileResourceVersion = {}));
class FileResource {
    constructor(uri, fileService, options) {
        this.uri = uri;
        this.fileService = fileService;
        this.options = options;
        this.acceptTextOnly = true;
        this.toDispose = new disposable_1.DisposableCollection();
        this.onDidChangeContentsEmitter = new event_1.Emitter();
        this.onDidChangeContents = this.onDidChangeContentsEmitter.event;
        this.doSaveContentChanges = async (changes, options) => {
            const version = (options === null || options === void 0 ? void 0 : options.version) || this._version;
            const current = FileResourceVersion.is(version) ? version : undefined;
            if (!current) {
                throw resource_1.ResourceError.NotFound({ message: 'has not been read yet', data: { uri: this.uri } });
            }
            const etag = current === null || current === void 0 ? void 0 : current.etag;
            try {
                const stat = await this.fileService.update(this.uri, changes, {
                    readEncoding: current.encoding,
                    encoding: options === null || options === void 0 ? void 0 : options.encoding,
                    overwriteEncoding: options === null || options === void 0 ? void 0 : options.overwriteEncoding,
                    etag,
                    mtime: current === null || current === void 0 ? void 0 : current.mtime
                });
                this._version = {
                    etag: stat.etag,
                    mtime: stat.mtime,
                    encoding: stat.encoding
                };
            }
            catch (e) {
                if (e instanceof files_1.FileOperationError && e.fileOperationResult === 1 /* FILE_NOT_FOUND */) {
                    const { message, stack } = e;
                    throw resource_1.ResourceError.NotFound({ message, stack, data: { uri: this.uri } });
                }
                if (e instanceof files_1.FileOperationError && e.fileOperationResult === 3 /* FILE_MODIFIED_SINCE */) {
                    const { message, stack } = e;
                    throw resource_1.ResourceError.OutOfSync({ message, stack, data: { uri: this.uri } });
                }
                throw e;
            }
        };
        this.toDispose.push(this.onDidChangeContentsEmitter);
        this.toDispose.push(this.fileService.onDidFilesChange(event => {
            if (event.contains(this.uri)) {
                this.sync();
            }
        }));
        this.toDispose.push(this.fileService.onDidRunOperation(e => {
            if ((e.isOperation(1 /* DELETE */) || e.isOperation(2 /* MOVE */)) && e.resource.isEqualOrParent(this.uri)) {
                this.sync();
            }
        }));
        try {
            this.toDispose.push(this.fileService.watch(this.uri));
        }
        catch (e) {
            console.error(e);
        }
        this.updateSavingContentChanges();
        this.toDispose.push(this.fileService.onDidChangeFileSystemProviderCapabilities(e => {
            if (e.scheme === this.uri.scheme) {
                this.updateSavingContentChanges();
            }
        }));
    }
    get version() {
        return this._version;
    }
    get encoding() {
        var _a;
        return (_a = this._version) === null || _a === void 0 ? void 0 : _a.encoding;
    }
    dispose() {
        this.toDispose.dispose();
    }
    async readContents(options) {
        var _a, _b;
        try {
            const encoding = (options === null || options === void 0 ? void 0 : options.encoding) || ((_a = this.version) === null || _a === void 0 ? void 0 : _a.encoding);
            const stat = await this.fileService.read(this.uri, {
                encoding,
                etag: files_1.ETAG_DISABLED,
                acceptTextOnly: this.acceptTextOnly,
                limits: this.limits
            });
            this._version = {
                encoding: stat.encoding,
                etag: stat.etag,
                mtime: stat.mtime
            };
            return stat.value;
        }
        catch (e) {
            if (e instanceof file_service_1.TextFileOperationError && e.textFileOperationResult === 0 /* FILE_IS_BINARY */) {
                if (await this.shouldOpenAsText('The file is either binary or uses an unsupported text encoding.')) {
                    this.acceptTextOnly = false;
                    return this.readContents(options);
                }
            }
            else if (e instanceof files_1.FileOperationError && e.fileOperationResult === 7 /* FILE_TOO_LARGE */) {
                const stat = await this.fileService.resolve(this.uri, { resolveMetadata: true });
                const maxFileSize = filesystem_preferences_1.GENERAL_MAX_FILE_SIZE_MB * 1024 * 1024;
                if (((_b = this.limits) === null || _b === void 0 ? void 0 : _b.size) !== maxFileSize && await this.shouldOpenAsText(`The file is too large (${files_1.BinarySize.formatSize(stat.size)}).`)) {
                    this.limits = {
                        size: maxFileSize
                    };
                    return this.readContents(options);
                }
            }
            else if (e instanceof files_1.FileOperationError && e.fileOperationResult === 1 /* FILE_NOT_FOUND */) {
                this._version = undefined;
                const { message, stack } = e;
                throw resource_1.ResourceError.NotFound({
                    message, stack,
                    data: {
                        uri: this.uri
                    }
                });
            }
            throw e;
        }
    }
    async readStream(options) {
        var _a, _b;
        try {
            const encoding = (options === null || options === void 0 ? void 0 : options.encoding) || ((_a = this.version) === null || _a === void 0 ? void 0 : _a.encoding);
            const stat = await this.fileService.readStream(this.uri, {
                encoding,
                etag: files_1.ETAG_DISABLED,
                acceptTextOnly: this.acceptTextOnly,
                limits: this.limits
            });
            this._version = {
                encoding: stat.encoding,
                etag: stat.etag,
                mtime: stat.mtime
            };
            return stat.value;
        }
        catch (e) {
            if (e instanceof file_service_1.TextFileOperationError && e.textFileOperationResult === 0 /* FILE_IS_BINARY */) {
                if (await this.shouldOpenAsText('The file is either binary or uses an unsupported text encoding.')) {
                    this.acceptTextOnly = false;
                    return this.readStream(options);
                }
            }
            else if (e instanceof files_1.FileOperationError && e.fileOperationResult === 7 /* FILE_TOO_LARGE */) {
                const stat = await this.fileService.resolve(this.uri, { resolveMetadata: true });
                const maxFileSize = filesystem_preferences_1.GENERAL_MAX_FILE_SIZE_MB * 1024 * 1024;
                if (((_b = this.limits) === null || _b === void 0 ? void 0 : _b.size) !== maxFileSize && await this.shouldOpenAsText(`The file is too large (${files_1.BinarySize.formatSize(stat.size)}).`)) {
                    this.limits = {
                        size: maxFileSize
                    };
                    return this.readStream(options);
                }
            }
            else if (e instanceof files_1.FileOperationError && e.fileOperationResult === 1 /* FILE_NOT_FOUND */) {
                this._version = undefined;
                const { message, stack } = e;
                throw resource_1.ResourceError.NotFound({
                    message, stack,
                    data: {
                        uri: this.uri
                    }
                });
            }
            throw e;
        }
    }
    saveContents(content, options) {
        return this.doWrite(content, options);
    }
    saveStream(content, options) {
        return this.doWrite(content, options);
    }
    async doWrite(content, options) {
        const version = (options === null || options === void 0 ? void 0 : options.version) || this._version;
        const current = FileResourceVersion.is(version) ? version : undefined;
        const etag = current === null || current === void 0 ? void 0 : current.etag;
        try {
            const stat = await this.fileService.write(this.uri, content, {
                encoding: options === null || options === void 0 ? void 0 : options.encoding,
                overwriteEncoding: options === null || options === void 0 ? void 0 : options.overwriteEncoding,
                etag,
                mtime: current === null || current === void 0 ? void 0 : current.mtime
            });
            this._version = {
                etag: stat.etag,
                mtime: stat.mtime,
                encoding: stat.encoding
            };
        }
        catch (e) {
            if (e instanceof files_1.FileOperationError && e.fileOperationResult === 3 /* FILE_MODIFIED_SINCE */) {
                if (etag !== files_1.ETAG_DISABLED && await this.shouldOverwrite()) {
                    return this.doWrite(content, Object.assign(Object.assign({}, options), { version: { stat: Object.assign(Object.assign({}, current), { etag: files_1.ETAG_DISABLED }) } }));
                }
                const { message, stack } = e;
                throw resource_1.ResourceError.OutOfSync({ message, stack, data: { uri: this.uri } });
            }
            throw e;
        }
    }
    updateSavingContentChanges() {
        if (this.fileService.hasCapability(this.uri, 33554432 /* Update */)) {
            this.saveContentChanges = this.doSaveContentChanges;
        }
        else {
            delete this.saveContentChanges;
        }
    }
    async guessEncoding() {
        // TODO limit size
        const content = await this.fileService.read(this.uri, { autoGuessEncoding: true });
        return content.encoding;
    }
    async sync() {
        if (await this.isInSync()) {
            return;
        }
        this.onDidChangeContentsEmitter.fire(undefined);
    }
    async isInSync() {
        try {
            const stat = await this.fileService.resolve(this.uri, { resolveMetadata: true });
            return !!this.version && this.version.mtime >= stat.mtime;
        }
        catch (_a) {
            return !this.version;
        }
    }
    async shouldOverwrite() {
        return this.options.shouldOverwrite();
    }
    async shouldOpenAsText(error) {
        return this.options.shouldOpenAsText(error);
    }
}
exports.FileResource = FileResource;
let FileResourceResolver = class FileResourceResolver {
    async resolve(uri) {
        let stat;
        try {
            stat = await this.fileService.resolve(uri);
        }
        catch (e) {
            if (!(e instanceof files_1.FileOperationError && e.fileOperationResult === 1 /* FILE_NOT_FOUND */)) {
                throw e;
            }
        }
        if (stat && stat.isDirectory) {
            throw new Error('The given uri is a directory: ' + this.labelProvider.getLongName(uri));
        }
        return new FileResource(uri, this.fileService, {
            shouldOverwrite: () => this.shouldOverwrite(uri),
            shouldOpenAsText: error => this.shouldOpenAsText(uri, error)
        });
    }
    async shouldOverwrite(uri) {
        const dialog = new dialogs_1.ConfirmDialog({
            title: `The file '${this.labelProvider.getName(uri)}' has been changed on the file system.`,
            msg: `Do you want to overwrite the changes made to '${this.labelProvider.getLongName(uri)}' on the file system?`,
            ok: 'Yes',
            cancel: 'No'
        });
        return !!await dialog.open();
    }
    async shouldOpenAsText(uri, error) {
        const dialog = new dialogs_1.ConfirmDialog({
            title: error,
            msg: `Opening it might take some time and might make the IDE unresponsive. Do you want to open '${this.labelProvider.getLongName(uri)}' anyway?`,
            ok: 'Yes',
            cancel: 'No'
        });
        return !!await dialog.open();
    }
};
__decorate([
    inversify_1.inject(file_service_1.FileService),
    __metadata("design:type", file_service_1.FileService)
], FileResourceResolver.prototype, "fileService", void 0);
__decorate([
    inversify_1.inject(label_provider_1.LabelProvider),
    __metadata("design:type", label_provider_1.LabelProvider)
], FileResourceResolver.prototype, "labelProvider", void 0);
FileResourceResolver = __decorate([
    inversify_1.injectable()
], FileResourceResolver);
exports.FileResourceResolver = FileResourceResolver;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-service.js":
/*!*****************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-service.js ***!
  \*****************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2020 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
// based on https://github.com/microsoft/vscode/blob/04c36be045a94fee58e5f8992d3e3fd980294a84/src/vs/platform/files/common/fileService.ts
// and https://github.com/microsoft/vscode/blob/04c36be045a94fee58e5f8992d3e3fd980294a84/src/vs/workbench/services/textfile/browser/textFileService.ts
// and https://github.com/microsoft/vscode/blob/04c36be045a94fee58e5f8992d3e3fd980294a84/src/vs/workbench/services/textfile/electron-browser/nativeTextFileService.ts
// and https://github.com/microsoft/vscode/blob/04c36be045a94fee58e5f8992d3e3fd980294a84/src/vs/workbench/services/workingCopy/common/workingCopyFileService.ts
// and https://github.com/microsoft/vscode/blob/04c36be045a94fee58e5f8992d3e3fd980294a84/src/vs/workbench/services/workingCopy/common/workingCopyFileOperationParticipant.ts
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.FileService = exports.TextFileOperationError = exports.FileServiceContribution = void 0;
/* eslint-disable max-len */
/* eslint-disable @typescript-eslint/no-shadow */
/* eslint-disable no-null/no-null */
/* eslint-disable @typescript-eslint/tslint/config */
/* eslint-disable @typescript-eslint/no-explicit-any */
const inversify_1 = __webpack_require__(/*! @theia/core/shared/inversify */ "../node_modules/@theia/file-search/node_modules/@theia/core/shared/inversify.js");
const promise_util_1 = __webpack_require__(/*! @theia/core/lib/common/promise-util */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/promise-util.js");
const cancellation_1 = __webpack_require__(/*! @theia/core/lib/common/cancellation */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/cancellation.js");
const disposable_1 = __webpack_require__(/*! @theia/core/lib/common/disposable */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/disposable.js");
const event_1 = __webpack_require__(/*! @theia/core/lib/common/event */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/event.js");
const contribution_provider_1 = __webpack_require__(/*! @theia/core/lib/common/contribution-provider */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/contribution-provider.js");
const ternary_search_tree_1 = __webpack_require__(/*! @theia/core/lib/common/ternary-search-tree */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/ternary-search-tree.js");
const files_1 = __webpack_require__(/*! ../common/files */ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/common/files.js");
const buffer_1 = __webpack_require__(/*! @theia/core/lib/common/buffer */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/buffer.js");
const stream_1 = __webpack_require__(/*! @theia/core/lib/common/stream */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/stream.js");
const label_provider_1 = __webpack_require__(/*! @theia/core/lib/browser/label-provider */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/label-provider.js");
const filesystem_preferences_1 = __webpack_require__(/*! ./filesystem-preferences */ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/filesystem-preferences.js");
const progress_service_1 = __webpack_require__(/*! @theia/core/lib/common/progress-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/progress-service.js");
const delegating_file_system_provider_1 = __webpack_require__(/*! ../common/delegating-file-system-provider */ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/common/delegating-file-system-provider.js");
const encoding_registry_1 = __webpack_require__(/*! @theia/core/lib/browser/encoding-registry */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/encoding-registry.js");
const encodings_1 = __webpack_require__(/*! @theia/core/lib/common/encodings */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/encodings.js");
const encoding_service_1 = __webpack_require__(/*! @theia/core/lib/common/encoding-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/encoding-service.js");
const io_1 = __webpack_require__(/*! ../common/io */ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/common/io.js");
const filesystem_watcher_error_handler_1 = __webpack_require__(/*! ./filesystem-watcher-error-handler */ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/filesystem-watcher-error-handler.js");
const filesystem_utils_1 = __webpack_require__(/*! ../common/filesystem-utils */ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/common/filesystem-utils.js");
exports.FileServiceContribution = Symbol('FileServiceContribution');
class TextFileOperationError extends files_1.FileOperationError {
    constructor(message, textFileOperationResult, options) {
        super(message, 11 /* FILE_OTHER_ERROR */);
        this.textFileOperationResult = textFileOperationResult;
        this.options = options;
        Object.setPrototypeOf(this, TextFileOperationError.prototype);
    }
}
exports.TextFileOperationError = TextFileOperationError;
/**
 * The {@link FileService} is the common facade responsible for all interactions with file systems.
 * It manages all registered {@link FileSystemProvider}s and
 *  forwards calls to the responsible {@link FileSystemProvider}, determined by the scheme.
 * For additional documentation regarding the provided functions see also {@link FileSystemProvider}.
 */
let FileService = class FileService {
    constructor() {
        this.BUFFER_SIZE = 64 * 1024;
        // #region Events
        this.correlationIds = 0;
        this.onWillRunUserOperationEmitter = new event_1.AsyncEmitter();
        /**
         * An event that is emitted when file operation is being performed.
         * This event is triggered by user gestures.
         */
        this.onWillRunUserOperation = this.onWillRunUserOperationEmitter.event;
        this.onDidFailUserOperationEmitter = new event_1.AsyncEmitter();
        /**
         * An event that is emitted when file operation is failed.
         * This event is triggered by user gestures.
         */
        this.onDidFailUserOperation = this.onDidFailUserOperationEmitter.event;
        this.onDidRunUserOperationEmitter = new event_1.AsyncEmitter();
        /**
         * An event that is emitted when file operation is finished.
         * This event is triggered by user gestures.
         */
        this.onDidRunUserOperation = this.onDidRunUserOperationEmitter.event;
        // #endregion
        // #region File System Provider
        this.onDidChangeFileSystemProviderRegistrationsEmitter = new event_1.Emitter();
        this.onDidChangeFileSystemProviderRegistrations = this.onDidChangeFileSystemProviderRegistrationsEmitter.event;
        this.onWillActivateFileSystemProviderEmitter = new event_1.Emitter();
        /**
         * See `FileServiceContribution.registerProviders`.
         */
        this.onWillActivateFileSystemProvider = this.onWillActivateFileSystemProviderEmitter.event;
        this.onDidChangeFileSystemProviderCapabilitiesEmitter = new event_1.Emitter();
        this.onDidChangeFileSystemProviderCapabilities = this.onDidChangeFileSystemProviderCapabilitiesEmitter.event;
        this.providers = new Map();
        this.activations = new Map();
        // #endregion
        this.onDidRunOperationEmitter = new event_1.Emitter();
        /**
         * An event that is emitted when operation is finished.
         * This event is triggered by user gestures and programmatically.
         */
        this.onDidRunOperation = this.onDidRunOperationEmitter.event;
        // #endregion
        // #region File Watching
        this.onDidFilesChangeEmitter = new event_1.Emitter();
        /**
         * An event that is emitted when files are changed on the disk.
         */
        this.onDidFilesChange = this.onDidFilesChangeEmitter.event;
        this.activeWatchers = new Map();
        // #endregion
        // #region Helpers
        this.writeQueues = new Map();
        // #endregion
        // #region File operation participants
        this.participants = [];
    }
    init() {
        for (const contribution of this.contributions.getContributions()) {
            contribution.registerFileSystemProviders(this);
        }
    }
    /**
     * Registers a new {@link FileSystemProvider} for the given scheme.
     * @param scheme The (uri) scheme for which the provider should be registered.
     * @param provider The file system provider that should be registered.
     *
     * @returns A `Disposable` that can be invoked to unregister the given provider.
     */
    registerProvider(scheme, provider) {
        if (this.providers.has(scheme)) {
            throw new Error(`A filesystem provider for the scheme '${scheme}' is already registered.`);
        }
        this.providers.set(scheme, provider);
        this.onDidChangeFileSystemProviderRegistrationsEmitter.fire({ added: true, scheme, provider });
        const providerDisposables = new disposable_1.DisposableCollection();
        providerDisposables.push(provider.onDidChangeFile(changes => this.onDidFilesChangeEmitter.fire(new files_1.FileChangesEvent(changes))));
        providerDisposables.push(provider.onFileWatchError(() => this.handleFileWatchError()));
        providerDisposables.push(provider.onDidChangeCapabilities(() => this.onDidChangeFileSystemProviderCapabilitiesEmitter.fire({ provider, scheme })));
        return disposable_1.Disposable.create(() => {
            this.onDidChangeFileSystemProviderRegistrationsEmitter.fire({ added: false, scheme, provider });
            this.providers.delete(scheme);
            providerDisposables.dispose();
        });
    }
    /**
     * Try to activate the registered provider for the given scheme
     * @param scheme  The uri scheme for which the responsible provider should be activated.
     *
     * @returns A promise of the activated file system provider. Only resolves if a provider is available for this scheme, gets rejected otherwise.
     */
    async activateProvider(scheme) {
        let provider = this.providers.get(scheme);
        if (provider) {
            return provider;
        }
        let activation = this.activations.get(scheme);
        if (!activation) {
            const deferredActivation = new promise_util_1.Deferred();
            this.activations.set(scheme, activation = deferredActivation.promise);
            event_1.WaitUntilEvent.fire(this.onWillActivateFileSystemProviderEmitter, { scheme }).then(() => {
                provider = this.providers.get(scheme);
                if (!provider) {
                    const error = new Error();
                    error.name = 'ENOPRO';
                    error.message = `No file system provider found for scheme ${scheme}`;
                    throw error;
                }
                else {
                    deferredActivation.resolve(provider);
                }
            }).catch(e => deferredActivation.reject(e));
        }
        return activation;
    }
    /**
     * Tests if the service (i.e. any of its registered {@link FileSystemProvider}s) can handle the given resource.
     * @param resource `URI` of the resource to test.
     *
     * @returns `true` if the resource can be handled, `false` otherwise.
     */
    canHandleResource(resource) {
        return this.providers.has(resource.scheme);
    }
    /**
     * Tests if the service (i.e the {@link FileSystemProvider} registered for the given uri scheme) provides the given capability.
     * @param resource `URI` of the resource to test.
     * @param capability The required capability.
     *
     * @returns `true` if the resource can be handled and the required capability can be provided.
     */
    hasCapability(resource, capability) {
        const provider = this.providers.get(resource.scheme);
        return !!(provider && (provider.capabilities & capability));
    }
    async withProvider(resource) {
        // Assert path is absolute
        if (!resource.path.isAbsolute) {
            throw new files_1.FileOperationError(`Unable to resolve filesystem provider with relative file path ${this.resourceForError(resource)}`, 8 /* FILE_INVALID_PATH */);
        }
        return this.activateProvider(resource.scheme);
    }
    async withReadProvider(resource) {
        const provider = await this.withProvider(resource);
        if (files_1.hasOpenReadWriteCloseCapability(provider) || files_1.hasReadWriteCapability(provider)) {
            return provider;
        }
        throw new Error(`Filesystem provider for scheme '${resource.scheme}' neither has FileReadWrite, FileReadStream nor FileOpenReadWriteClose capability which is needed for the read operation.`);
    }
    async withWriteProvider(resource) {
        const provider = await this.withProvider(resource);
        if (files_1.hasOpenReadWriteCloseCapability(provider) || files_1.hasReadWriteCapability(provider)) {
            return provider;
        }
        throw new Error(`Filesystem provider for scheme '${resource.scheme}' neither has FileReadWrite nor FileOpenReadWriteClose capability which is needed for the write operation.`);
    }
    async resolve(resource, options) {
        try {
            return await this.doResolveFile(resource, options);
        }
        catch (error) {
            // Specially handle file not found case as file operation result
            if (files_1.toFileSystemProviderErrorCode(error) === files_1.FileSystemProviderErrorCode.FileNotFound) {
                throw new files_1.FileOperationError(`Unable to resolve non-existing file '${this.resourceForError(resource)}'`, 1 /* FILE_NOT_FOUND */);
            }
            // Bubble up any other error as is
            throw files_1.ensureFileSystemProviderError(error);
        }
    }
    async doResolveFile(resource, options) {
        const provider = await this.withProvider(resource);
        const resolveTo = options === null || options === void 0 ? void 0 : options.resolveTo;
        const resolveSingleChildDescendants = options === null || options === void 0 ? void 0 : options.resolveSingleChildDescendants;
        const resolveMetadata = options === null || options === void 0 ? void 0 : options.resolveMetadata;
        const stat = await provider.stat(resource);
        let trie;
        return this.toFileStat(provider, resource, stat, undefined, !!resolveMetadata, (stat, siblings) => {
            // lazy trie to check for recursive resolving
            if (!trie) {
                trie = ternary_search_tree_1.TernarySearchTree.forUris(!!(provider.capabilities & 1024 /* PathCaseSensitive */));
                trie.set(resource, true);
                if (Array.isArray(resolveTo) && resolveTo.length) {
                    resolveTo.forEach(uri => trie.set(uri, true));
                }
            }
            // check for recursive resolving
            if (Boolean(trie.findSuperstr(stat.resource) || trie.get(stat.resource))) {
                return true;
            }
            // check for resolving single child folders
            if (stat.isDirectory && resolveSingleChildDescendants) {
                return siblings === 1;
            }
            return false;
        });
    }
    async toFileStat(provider, resource, stat, siblings, resolveMetadata, recurse) {
        const fileStat = files_1.FileStat.fromStat(resource, stat);
        // check to recurse for directories
        if (fileStat.isDirectory && recurse(fileStat, siblings)) {
            try {
                const entries = await provider.readdir(resource);
                const resolvedEntries = await Promise.all(entries.map(async ([name, type]) => {
                    try {
                        const childResource = resource.resolve(name);
                        const childStat = resolveMetadata ? await provider.stat(childResource) : { type };
                        return await this.toFileStat(provider, childResource, childStat, entries.length, resolveMetadata, recurse);
                    }
                    catch (error) {
                        console.trace(error);
                        return null; // can happen e.g. due to permission errors
                    }
                }));
                // make sure to get rid of null values that signal a failure to resolve a particular entry
                fileStat.children = resolvedEntries.filter(e => !!e);
            }
            catch (error) {
                console.trace(error);
                fileStat.children = []; // gracefully handle errors, we may not have permissions to read
            }
            return fileStat;
        }
        return fileStat;
    }
    async resolveAll(toResolve) {
        return Promise.all(toResolve.map(async (entry) => {
            try {
                return { stat: await this.doResolveFile(entry.resource, entry.options), success: true };
            }
            catch (error) {
                console.trace(error);
                return { stat: undefined, success: false };
            }
        }));
    }
    /**
     * Tests if the given resource exists in the filesystem.
     * @param resource `URI` of the resource which should be tested.
     * @throws Will throw an error if no {@link FileSystemProvider} is registered for the given resource.
     *
     * @returns A promise that resolves to `true` if the resource exists.
     */
    async exists(resource) {
        const provider = await this.withProvider(resource);
        try {
            const stat = await provider.stat(resource);
            return !!stat;
        }
        catch (error) {
            return false;
        }
    }
    /**
     * Tests a user's permissions for the given resource.
     */
    async access(resource, mode) {
        const provider = await this.withProvider(resource);
        if (!files_1.hasAccessCapability(provider)) {
            return false;
        }
        try {
            await provider.access(resource, mode);
            return true;
        }
        catch (error) {
            return false;
        }
    }
    /**
     * Resolves the fs path of the given URI.
     *
     * USE WITH CAUTION: You should always prefer URIs to paths if possible, as they are
     * portable and platform independent. Paths should only be used in cases you directly
     * interact with the OS, e.g. when running a command on the shell.
     *
     * If you need to display human readable simple or long names then use `LabelProvider` instead.
     * @param resource `URI` of the resource that should be resolved.
     * @throws Will throw an error if no {@link FileSystemProvider} is registered for the given resource.
     *
     * @returns A promise of the resolved fs path.
     */
    async fsPath(resource) {
        const provider = await this.withProvider(resource);
        if (!files_1.hasAccessCapability(provider)) {
            return resource.path.toString();
        }
        return provider.fsPath(resource);
    }
    // #region Text File Reading/Writing
    async create(resource, value, options) {
        if ((options === null || options === void 0 ? void 0 : options.fromUserGesture) === false) {
            return this.doCreate(resource, value, options);
        }
        await this.runFileOperationParticipants(resource, undefined, 0 /* CREATE */);
        const event = { correlationId: this.correlationIds++, operation: 0 /* CREATE */, target: resource };
        await this.onWillRunUserOperationEmitter.fire(event);
        let stat;
        try {
            stat = await this.doCreate(resource, value, options);
        }
        catch (error) {
            await this.onDidFailUserOperationEmitter.fire(event);
            throw error;
        }
        await this.onDidRunUserOperationEmitter.fire(event);
        return stat;
    }
    async doCreate(resource, value, options) {
        const encoding = await this.getWriteEncoding(resource, options);
        const encoded = await this.encodingService.encodeStream(value, encoding);
        return this.createFile(resource, encoded, options);
    }
    async write(resource, value, options) {
        const encoding = await this.getWriteEncoding(resource, options);
        const encoded = await this.encodingService.encodeStream(value, encoding);
        return Object.assign(await this.writeFile(resource, encoded, options), { encoding: encoding.encoding });
    }
    async read(resource, options) {
        const [bufferStream, decoder] = await this.doRead(resource, Object.assign(Object.assign({}, options), { 
            // optimization: since we know that the caller does not
            // care about buffering, we indicate this to the reader.
            // this reduces all the overhead the buffered reading
            // has (open, read, close) if the provider supports
            // unbuffered reading.
            preferUnbuffered: true }));
        return Object.assign(Object.assign({}, bufferStream), { encoding: decoder.detected.encoding || encodings_1.UTF8, value: await stream_1.consumeStream(decoder.stream, strings => strings.join('')) });
    }
    async readStream(resource, options) {
        const [bufferStream, decoder] = await this.doRead(resource, options);
        return Object.assign(Object.assign({}, bufferStream), { encoding: decoder.detected.encoding || encodings_1.UTF8, value: decoder.stream });
    }
    async doRead(resource, options) {
        options = this.resolveReadOptions(options);
        // read stream raw (either buffered or unbuffered)
        let bufferStream;
        if (options === null || options === void 0 ? void 0 : options.preferUnbuffered) {
            const content = await this.readFile(resource, options);
            bufferStream = Object.assign(Object.assign({}, content), { value: buffer_1.BinaryBufferReadableStream.fromBuffer(content.value) });
        }
        else {
            bufferStream = await this.readFileStream(resource, options);
        }
        const decoder = await this.encodingService.decodeStream(bufferStream.value, {
            guessEncoding: options.autoGuessEncoding,
            overwriteEncoding: detectedEncoding => this.getReadEncoding(resource, options, detectedEncoding)
        });
        // validate binary
        if ((options === null || options === void 0 ? void 0 : options.acceptTextOnly) && decoder.detected.seemsBinary) {
            throw new TextFileOperationError('File seems to be binary and cannot be opened as text', 0 /* FILE_IS_BINARY */, options);
        }
        return [bufferStream, decoder];
    }
    resolveReadOptions(options) {
        options = Object.assign(Object.assign({}, options), { autoGuessEncoding: typeof (options === null || options === void 0 ? void 0 : options.autoGuessEncoding) === 'boolean' ? options.autoGuessEncoding : this.preferences['files.autoGuessEncoding'] });
        const limits = options.limits = options.limits || {};
        if (typeof limits.size !== 'number') {
            limits.size = this.preferences['files.maxFileSizeMB'] * 1024 * 1024;
        }
        return options;
    }
    async update(resource, changes, options) {
        const provider = this.throwIfFileSystemIsReadonly(await this.withWriteProvider(resource), resource);
        try {
            await this.validateWriteFile(provider, resource, options);
            if (files_1.hasUpdateCapability(provider)) {
                const encoding = await this.getEncodingForResource(resource, options ? options.encoding : undefined);
                ;
                const stat = await provider.updateFile(resource, changes, {
                    readEncoding: options.readEncoding,
                    writeEncoding: encoding,
                    overwriteEncoding: options.overwriteEncoding || false
                });
                return Object.assign(files_1.FileStat.fromStat(resource, stat), { encoding: stat.encoding });
            }
            else {
                throw new Error('incremental file update is not supported');
            }
        }
        catch (error) {
            this.rethrowAsFileOperationError('Unable to write file', resource, error, options);
        }
    }
    // #endregion
    // #region File Reading/Writing
    async createFile(resource, bufferOrReadableOrStream = buffer_1.BinaryBuffer.fromString(''), options) {
        // validate overwrite
        if (!(options === null || options === void 0 ? void 0 : options.overwrite) && await this.exists(resource)) {
            throw new files_1.FileOperationError(`Unable to create file '${this.resourceForError(resource)}' that already exists when overwrite flag is not set`, 3 /* FILE_MODIFIED_SINCE */, options);
        }
        // do write into file (this will create it too)
        const fileStat = await this.writeFile(resource, bufferOrReadableOrStream);
        // events
        this.onDidRunOperationEmitter.fire(new files_1.FileOperationEvent(resource, 0 /* CREATE */, fileStat));
        return fileStat;
    }
    async writeFile(resource, bufferOrReadableOrStream, options) {
        const provider = this.throwIfFileSystemIsReadonly(await this.withWriteProvider(resource), resource);
        try {
            // validate write
            const stat = await this.validateWriteFile(provider, resource, options);
            // mkdir recursively as needed
            if (!stat) {
                await this.mkdirp(provider, resource.parent);
            }
            // optimization: if the provider has unbuffered write capability and the data
            // to write is a Readable, we consume up to 3 chunks and try to write the data
            // unbuffered to reduce the overhead. If the Readable has more data to provide
            // we continue to write buffered.
            let bufferOrReadableOrStreamOrBufferedStream;
            if (files_1.hasReadWriteCapability(provider) && !(bufferOrReadableOrStream instanceof buffer_1.BinaryBuffer)) {
                if (stream_1.isReadableStream(bufferOrReadableOrStream)) {
                    const bufferedStream = await stream_1.peekStream(bufferOrReadableOrStream, 3);
                    if (bufferedStream.ended) {
                        bufferOrReadableOrStreamOrBufferedStream = buffer_1.BinaryBuffer.concat(bufferedStream.buffer);
                    }
                    else {
                        bufferOrReadableOrStreamOrBufferedStream = bufferedStream;
                    }
                }
                else {
                    bufferOrReadableOrStreamOrBufferedStream = stream_1.peekReadable(bufferOrReadableOrStream, data => buffer_1.BinaryBuffer.concat(data), 3);
                }
            }
            else {
                bufferOrReadableOrStreamOrBufferedStream = bufferOrReadableOrStream;
            }
            // write file: unbuffered (only if data to write is a buffer, or the provider has no buffered write capability)
            if (!files_1.hasOpenReadWriteCloseCapability(provider) || (files_1.hasReadWriteCapability(provider) && bufferOrReadableOrStreamOrBufferedStream instanceof buffer_1.BinaryBuffer)) {
                await this.doWriteUnbuffered(provider, resource, bufferOrReadableOrStreamOrBufferedStream);
            }
            // write file: buffered
            else {
                await this.doWriteBuffered(provider, resource, bufferOrReadableOrStreamOrBufferedStream instanceof buffer_1.BinaryBuffer ? buffer_1.BinaryBufferReadable.fromBuffer(bufferOrReadableOrStreamOrBufferedStream) : bufferOrReadableOrStreamOrBufferedStream);
            }
        }
        catch (error) {
            this.rethrowAsFileOperationError('Unable to write file', resource, error, options);
        }
        return this.resolve(resource, { resolveMetadata: true });
    }
    async validateWriteFile(provider, resource, options) {
        let stat = undefined;
        try {
            stat = await provider.stat(resource);
        }
        catch (error) {
            return undefined; // file might not exist
        }
        // file cannot be directory
        if ((stat.type & files_1.FileType.Directory) !== 0) {
            throw new files_1.FileOperationError(`Unable to write file ${this.resourceForError(resource)} that is actually a directory`, 0 /* FILE_IS_DIRECTORY */, options);
        }
        if (this.modifiedSince(stat, options)) {
            throw new files_1.FileOperationError('File Modified Since', 3 /* FILE_MODIFIED_SINCE */, options);
        }
        return stat;
    }
    /**
     * Dirty write prevention: if the file on disk has been changed and does not match our expected
     * mtime and etag, we bail out to prevent dirty writing.
     *
     * First, we check for a mtime that is in the future before we do more checks. The assumption is
     * that only the mtime is an indicator for a file that has changed on disk.
     *
     * Second, if the mtime has advanced, we compare the size of the file on disk with our previous
     * one using the etag() function. Relying only on the mtime check has proven to produce false
     * positives due to file system weirdness (especially around remote file systems). As such, the
     * check for size is a weaker check because it can return a false negative if the file has changed
     * but to the same length. This is a compromise we take to avoid having to produce checksums of
     * the file content for comparison which would be much slower to compute.
     */
    modifiedSince(stat, options) {
        return !!options && typeof options.mtime === 'number' && typeof options.etag === 'string' && options.etag !== files_1.ETAG_DISABLED &&
            typeof stat.mtime === 'number' && typeof stat.size === 'number' &&
            options.mtime < stat.mtime && options.etag !== files_1.etag({ mtime: options.mtime /* not using stat.mtime for a reason, see above */, size: stat.size });
    }
    async readFile(resource, options) {
        const provider = await this.withReadProvider(resource);
        const stream = await this.doReadAsFileStream(provider, resource, Object.assign(Object.assign({}, options), { 
            // optimization: since we know that the caller does not
            // care about buffering, we indicate this to the reader.
            // this reduces all the overhead the buffered reading
            // has (open, read, close) if the provider supports
            // unbuffered reading.
            preferUnbuffered: true }));
        return Object.assign(Object.assign({}, stream), { value: await buffer_1.BinaryBufferReadableStream.toBuffer(stream.value) });
    }
    async readFileStream(resource, options) {
        const provider = await this.withReadProvider(resource);
        return this.doReadAsFileStream(provider, resource, options);
    }
    async doReadAsFileStream(provider, resource, options) {
        // install a cancellation token that gets cancelled
        // when any error occurs. this allows us to resolve
        // the content of the file while resolving metadata
        // but still cancel the operation in certain cases.
        const cancellableSource = new cancellation_1.CancellationTokenSource();
        // validate read operation
        const statPromise = this.validateReadFile(resource, options).then(stat => stat, error => {
            cancellableSource.cancel();
            throw error;
        });
        try {
            // if the etag is provided, we await the result of the validation
            // due to the likelyhood of hitting a NOT_MODIFIED_SINCE result.
            // otherwise, we let it run in parallel to the file reading for
            // optimal startup performance.
            if (options && typeof options.etag === 'string' && options.etag !== files_1.ETAG_DISABLED) {
                await statPromise;
            }
            let fileStreamPromise;
            // read unbuffered (only if either preferred, or the provider has no buffered read capability)
            if (!(files_1.hasOpenReadWriteCloseCapability(provider) || files_1.hasFileReadStreamCapability(provider)) || (files_1.hasReadWriteCapability(provider) && (options === null || options === void 0 ? void 0 : options.preferUnbuffered))) {
                fileStreamPromise = this.readFileUnbuffered(provider, resource, options);
            }
            // read streamed (always prefer over primitive buffered read)
            else if (files_1.hasFileReadStreamCapability(provider)) {
                fileStreamPromise = Promise.resolve(this.readFileStreamed(provider, resource, cancellableSource.token, options));
            }
            // read buffered
            else {
                fileStreamPromise = Promise.resolve(this.readFileBuffered(provider, resource, cancellableSource.token, options));
            }
            const [fileStat, fileStream] = await Promise.all([statPromise, fileStreamPromise]);
            return Object.assign(Object.assign({}, fileStat), { value: fileStream });
        }
        catch (error) {
            this.rethrowAsFileOperationError('Unable to read file', resource, error, options);
        }
    }
    readFileStreamed(provider, resource, token, options = Object.create(null)) {
        const fileStream = provider.readFileStream(resource, options, token);
        return stream_1.transform(fileStream, {
            data: data => data instanceof buffer_1.BinaryBuffer ? data : buffer_1.BinaryBuffer.wrap(data),
            error: error => this.asFileOperationError('Unable to read file', resource, error, options)
        }, data => buffer_1.BinaryBuffer.concat(data));
    }
    readFileBuffered(provider, resource, token, options = Object.create(null)) {
        const stream = buffer_1.BinaryBufferWriteableStream.create();
        io_1.readFileIntoStream(provider, resource, stream, data => data, Object.assign(Object.assign({}, options), { bufferSize: this.BUFFER_SIZE, errorTransformer: error => this.asFileOperationError('Unable to read file', resource, error, options) }), token);
        return stream;
    }
    rethrowAsFileOperationError(message, resource, error, options) {
        throw this.asFileOperationError(message, resource, error, options);
    }
    asFileOperationError(message, resource, error, options) {
        const fileOperationError = new files_1.FileOperationError(`${message} '${this.resourceForError(resource)}' (${files_1.ensureFileSystemProviderError(error).toString()})`, files_1.toFileOperationResult(error), options);
        fileOperationError.stack = `${fileOperationError.stack}\nCaused by: ${error.stack}`;
        return fileOperationError;
    }
    async readFileUnbuffered(provider, resource, options) {
        let buffer = await provider.readFile(resource);
        // respect position option
        if (options && typeof options.position === 'number') {
            buffer = buffer.slice(options.position);
        }
        // respect length option
        if (options && typeof options.length === 'number') {
            buffer = buffer.slice(0, options.length);
        }
        // Throw if file is too large to load
        this.validateReadFileLimits(resource, buffer.byteLength, options);
        return buffer_1.BinaryBufferReadableStream.fromBuffer(buffer_1.BinaryBuffer.wrap(buffer));
    }
    async validateReadFile(resource, options) {
        const stat = await this.resolve(resource, { resolveMetadata: true });
        // Throw if resource is a directory
        if (stat.isDirectory) {
            throw new files_1.FileOperationError(`Unable to read file '${this.resourceForError(resource)}' that is actually a directory`, 0 /* FILE_IS_DIRECTORY */, options);
        }
        // Throw if file not modified since (unless disabled)
        if (options && typeof options.etag === 'string' && options.etag !== files_1.ETAG_DISABLED && options.etag === stat.etag) {
            throw new files_1.FileOperationError('File not modified since', 2 /* FILE_NOT_MODIFIED_SINCE */, options);
        }
        // Throw if file is too large to load
        this.validateReadFileLimits(resource, stat.size, options);
        return stat;
    }
    validateReadFileLimits(resource, size, options) {
        if (options === null || options === void 0 ? void 0 : options.limits) {
            let tooLargeErrorResult = undefined;
            if (typeof options.limits.memory === 'number' && size > options.limits.memory) {
                tooLargeErrorResult = 9 /* FILE_EXCEEDS_MEMORY_LIMIT */;
            }
            if (typeof options.limits.size === 'number' && size > options.limits.size) {
                tooLargeErrorResult = 7 /* FILE_TOO_LARGE */;
            }
            if (typeof tooLargeErrorResult === 'number') {
                throw new files_1.FileOperationError(`Unable to read file '${this.resourceForError(resource)}' that is too large to open`, tooLargeErrorResult);
            }
        }
    }
    // #endregion
    // #region Move/Copy/Delete/Create Folder
    async move(source, target, options) {
        if ((options === null || options === void 0 ? void 0 : options.fromUserGesture) === false) {
            return this.doMove(source, target, options.overwrite);
        }
        await this.runFileOperationParticipants(target, source, 2 /* MOVE */);
        const event = { correlationId: this.correlationIds++, operation: 2 /* MOVE */, target, source };
        await this.onWillRunUserOperationEmitter.fire(event);
        let stat;
        try {
            stat = await this.doMove(source, target, options === null || options === void 0 ? void 0 : options.overwrite);
        }
        catch (error) {
            await this.onDidFailUserOperationEmitter.fire(event);
            throw error;
        }
        await this.onDidRunUserOperationEmitter.fire(event);
        return stat;
    }
    async doMove(source, target, overwrite) {
        const sourceProvider = this.throwIfFileSystemIsReadonly(await this.withWriteProvider(source), source);
        const targetProvider = this.throwIfFileSystemIsReadonly(await this.withWriteProvider(target), target);
        // move
        const mode = await this.doMoveCopy(sourceProvider, source, targetProvider, target, 'move', !!overwrite);
        // resolve and send events
        const fileStat = await this.resolve(target, { resolveMetadata: true });
        this.onDidRunOperationEmitter.fire(new files_1.FileOperationEvent(source, mode === 'move' ? 2 /* MOVE */ : 3 /* COPY */, fileStat));
        return fileStat;
    }
    async copy(source, target, options) {
        if ((options === null || options === void 0 ? void 0 : options.fromUserGesture) === false) {
            return this.doCopy(source, target, options.overwrite);
        }
        await this.runFileOperationParticipants(target, source, 3 /* COPY */);
        const event = { correlationId: this.correlationIds++, operation: 3 /* COPY */, target, source };
        await this.onWillRunUserOperationEmitter.fire(event);
        let stat;
        try {
            stat = await this.doCopy(source, target, options === null || options === void 0 ? void 0 : options.overwrite);
        }
        catch (error) {
            await this.onDidFailUserOperationEmitter.fire(event);
            throw error;
        }
        await this.onDidRunUserOperationEmitter.fire(event);
        return stat;
    }
    async doCopy(source, target, overwrite) {
        const sourceProvider = await this.withReadProvider(source);
        const targetProvider = this.throwIfFileSystemIsReadonly(await this.withWriteProvider(target), target);
        // copy
        const mode = await this.doMoveCopy(sourceProvider, source, targetProvider, target, 'copy', !!overwrite);
        // resolve and send events
        const fileStat = await this.resolve(target, { resolveMetadata: true });
        this.onDidRunOperationEmitter.fire(new files_1.FileOperationEvent(source, mode === 'copy' ? 3 /* COPY */ : 2 /* MOVE */, fileStat));
        return fileStat;
    }
    async doMoveCopy(sourceProvider, source, targetProvider, target, mode, overwrite) {
        if (source.toString() === target.toString()) {
            return mode; // simulate node.js behaviour here and do a no-op if paths match
        }
        // validation
        const { exists, isSameResourceWithDifferentPathCase } = await this.doValidateMoveCopy(sourceProvider, source, targetProvider, target, mode, overwrite);
        // if target exists get valid target
        if (exists && !overwrite) {
            const parent = await this.resolve(target.parent);
            const name = isSameResourceWithDifferentPathCase ? target.path.name : target.path.name + '_copy';
            target = filesystem_utils_1.FileSystemUtils.generateUniqueResourceURI(target.parent, parent, name, target.path.ext);
        }
        // delete as needed (unless target is same resource with different path case)
        if (exists && !isSameResourceWithDifferentPathCase && overwrite) {
            await this.delete(target, { recursive: true });
        }
        // create parent folders
        await this.mkdirp(targetProvider, target.parent);
        // copy source => target
        if (mode === 'copy') {
            // same provider with fast copy: leverage copy() functionality
            if (sourceProvider === targetProvider && files_1.hasFileFolderCopyCapability(sourceProvider)) {
                await sourceProvider.copy(source, target, { overwrite });
            }
            // when copying via buffer/unbuffered, we have to manually
            // traverse the source if it is a folder and not a file
            else {
                const sourceFile = await this.resolve(source);
                if (sourceFile.isDirectory) {
                    await this.doCopyFolder(sourceProvider, sourceFile, targetProvider, target);
                }
                else {
                    await this.doCopyFile(sourceProvider, source, targetProvider, target);
                }
            }
            return mode;
        }
        // move source => target
        else {
            // same provider: leverage rename() functionality
            if (sourceProvider === targetProvider) {
                await sourceProvider.rename(source, target, { overwrite });
                return mode;
            }
            // across providers: copy to target & delete at source
            else {
                await this.doMoveCopy(sourceProvider, source, targetProvider, target, 'copy', overwrite);
                await this.delete(source, { recursive: true });
                return 'copy';
            }
        }
    }
    async doCopyFile(sourceProvider, source, targetProvider, target) {
        // copy: source (buffered) => target (buffered)
        if (files_1.hasOpenReadWriteCloseCapability(sourceProvider) && files_1.hasOpenReadWriteCloseCapability(targetProvider)) {
            return this.doPipeBuffered(sourceProvider, source, targetProvider, target);
        }
        // copy: source (buffered) => target (unbuffered)
        if (files_1.hasOpenReadWriteCloseCapability(sourceProvider) && files_1.hasReadWriteCapability(targetProvider)) {
            return this.doPipeBufferedToUnbuffered(sourceProvider, source, targetProvider, target);
        }
        // copy: source (unbuffered) => target (buffered)
        if (files_1.hasReadWriteCapability(sourceProvider) && files_1.hasOpenReadWriteCloseCapability(targetProvider)) {
            return this.doPipeUnbufferedToBuffered(sourceProvider, source, targetProvider, target);
        }
        // copy: source (unbuffered) => target (unbuffered)
        if (files_1.hasReadWriteCapability(sourceProvider) && files_1.hasReadWriteCapability(targetProvider)) {
            return this.doPipeUnbuffered(sourceProvider, source, targetProvider, target);
        }
    }
    async doCopyFolder(sourceProvider, sourceFolder, targetProvider, targetFolder) {
        // create folder in target
        await targetProvider.mkdir(targetFolder);
        // create children in target
        if (Array.isArray(sourceFolder.children)) {
            await Promise.all(sourceFolder.children.map(async (sourceChild) => {
                const targetChild = targetFolder.resolve(sourceChild.name);
                if (sourceChild.isDirectory) {
                    return this.doCopyFolder(sourceProvider, await this.resolve(sourceChild.resource), targetProvider, targetChild);
                }
                else {
                    return this.doCopyFile(sourceProvider, sourceChild.resource, targetProvider, targetChild);
                }
            }));
        }
    }
    async doValidateMoveCopy(sourceProvider, source, targetProvider, target, mode, overwrite) {
        let isSameResourceWithDifferentPathCase = false;
        // Check if source is equal or parent to target (requires providers to be the same)
        if (sourceProvider === targetProvider) {
            const isPathCaseSensitive = !!(sourceProvider.capabilities & 1024 /* PathCaseSensitive */);
            if (!isPathCaseSensitive) {
                isSameResourceWithDifferentPathCase = source.toString().toLowerCase() === target.toString().toLowerCase();
            }
            if (isSameResourceWithDifferentPathCase && mode === 'copy') {
                throw new Error(`Unable to copy when source '${this.resourceForError(source)}' is same as target '${this.resourceForError(target)}' with different path case on a case insensitive file system`);
            }
            if (!isSameResourceWithDifferentPathCase && target.isEqualOrParent(source, isPathCaseSensitive)) {
                throw new Error(`Unable to move/copy when source '${this.resourceForError(source)}' is parent of target '${this.resourceForError(target)}'.`);
            }
        }
        // Extra checks if target exists and this is not a rename
        const exists = await this.exists(target);
        if (exists && !isSameResourceWithDifferentPathCase) {
            // Special case: if the target is a parent of the source, we cannot delete
            // it as it would delete the source as well. In this case we have to throw
            if (sourceProvider === targetProvider) {
                const isPathCaseSensitive = !!(sourceProvider.capabilities & 1024 /* PathCaseSensitive */);
                if (source.isEqualOrParent(target, isPathCaseSensitive)) {
                    throw new Error(`Unable to move/copy '${this.resourceForError(source)}' into '${this.resourceForError(target)}' since a file would replace the folder it is contained in.`);
                }
            }
        }
        return { exists, isSameResourceWithDifferentPathCase };
    }
    async createFolder(resource) {
        const provider = this.throwIfFileSystemIsReadonly(await this.withProvider(resource), resource);
        // mkdir recursively
        await this.mkdirp(provider, resource);
        // events
        const fileStat = await this.resolve(resource, { resolveMetadata: true });
        this.onDidRunOperationEmitter.fire(new files_1.FileOperationEvent(resource, 0 /* CREATE */, fileStat));
        return fileStat;
    }
    async mkdirp(provider, directory) {
        const directoriesToCreate = [];
        // mkdir until we reach root
        while (!directory.path.isRoot) {
            try {
                const stat = await provider.stat(directory);
                if ((stat.type & files_1.FileType.Directory) === 0) {
                    throw new Error(`Unable to create folder ${this.resourceForError(directory)} that already exists but is not a directory`);
                }
                break; // we have hit a directory that exists -> good
            }
            catch (error) {
                // Bubble up any other error that is not file not found
                if (files_1.toFileSystemProviderErrorCode(error) !== files_1.FileSystemProviderErrorCode.FileNotFound) {
                    throw error;
                }
                // Upon error, remember directories that need to be created
                directoriesToCreate.push(directory.path.base);
                // Continue up
                directory = directory.parent;
            }
        }
        // Create directories as needed
        for (let i = directoriesToCreate.length - 1; i >= 0; i--) {
            directory = directory.resolve(directoriesToCreate[i]);
            try {
                await provider.mkdir(directory);
            }
            catch (error) {
                if (files_1.toFileSystemProviderErrorCode(error) !== files_1.FileSystemProviderErrorCode.FileExists) {
                    // For mkdirp() we tolerate that the mkdir() call fails
                    // in case the folder already exists. This follows node.js
                    // own implementation of fs.mkdir({ recursive: true }) and
                    // reduces the chances of race conditions leading to errors
                    // if multiple calls try to create the same folders
                    // As such, we only throw an error here if it is other than
                    // the fact that the file already exists.
                    // (see also https://github.com/microsoft/vscode/issues/89834)
                    throw error;
                }
            }
        }
    }
    async delete(resource, options) {
        if ((options === null || options === void 0 ? void 0 : options.fromUserGesture) === false) {
            return this.doDelete(resource, options);
        }
        await this.runFileOperationParticipants(resource, undefined, 1 /* DELETE */);
        const event = { correlationId: this.correlationIds++, operation: 1 /* DELETE */, target: resource };
        await this.onWillRunUserOperationEmitter.fire(event);
        try {
            await this.doDelete(resource, options);
        }
        catch (error) {
            await this.onDidFailUserOperationEmitter.fire(event);
            throw error;
        }
        await this.onDidRunUserOperationEmitter.fire(event);
    }
    async doDelete(resource, options) {
        const provider = this.throwIfFileSystemIsReadonly(await this.withProvider(resource), resource);
        // Validate trash support
        const useTrash = !!(options === null || options === void 0 ? void 0 : options.useTrash);
        if (useTrash && !(provider.capabilities & 4096 /* Trash */)) {
            throw new Error(`Unable to delete file '${this.resourceForError(resource)}' via trash because provider does not support it.`);
        }
        // Validate delete
        const exists = await this.exists(resource);
        if (!exists) {
            throw new files_1.FileOperationError(`Unable to delete non-existing file '${this.resourceForError(resource)}'`, 1 /* FILE_NOT_FOUND */);
        }
        // Validate recursive
        const recursive = !!(options === null || options === void 0 ? void 0 : options.recursive);
        if (!recursive && exists) {
            const stat = await this.resolve(resource);
            if (stat.isDirectory && Array.isArray(stat.children) && stat.children.length > 0) {
                throw new Error(`Unable to delete non-empty folder '${this.resourceForError(resource)}'.`);
            }
        }
        // Delete through provider
        await provider.delete(resource, { recursive, useTrash });
        // Events
        this.onDidRunOperationEmitter.fire(new files_1.FileOperationEvent(resource, 1 /* DELETE */));
    }
    watch(resource, options = { recursive: false, excludes: [] }) {
        const resolvedOptions = Object.assign(Object.assign({}, options), { 
            // always ignore temporary upload files
            excludes: options.excludes.concat('**/theia_upload_*') });
        let watchDisposed = false;
        let watchDisposable = disposable_1.Disposable.create(() => watchDisposed = true);
        // Watch and wire in disposable which is async but
        // check if we got disposed meanwhile and forward
        this.doWatch(resource, resolvedOptions).then(disposable => {
            if (watchDisposed) {
                disposable.dispose();
            }
            else {
                watchDisposable = disposable;
            }
        }, error => console.error(error));
        return disposable_1.Disposable.create(() => watchDisposable.dispose());
    }
    async doWatch(resource, options) {
        const provider = await this.withProvider(resource);
        const key = this.toWatchKey(provider, resource, options);
        // Only start watching if we are the first for the given key
        const watcher = this.activeWatchers.get(key) || { count: 0, disposable: provider.watch(resource, options) };
        if (!this.activeWatchers.has(key)) {
            this.activeWatchers.set(key, watcher);
        }
        // Increment usage counter
        watcher.count += 1;
        return disposable_1.Disposable.create(() => {
            // Unref
            watcher.count--;
            // Dispose only when last user is reached
            if (watcher.count === 0) {
                watcher.disposable.dispose();
                this.activeWatchers.delete(key);
            }
        });
    }
    toWatchKey(provider, resource, options) {
        return [
            this.toMapKey(provider, resource),
            String(options.recursive),
            options.excludes.join() // use excludes as part of the key
        ].join();
    }
    ensureWriteQueue(provider, resource, task) {
        // ensure to never write to the same resource without finishing
        // the one write. this ensures a write finishes consistently
        // (even with error) before another write is done.
        const queueKey = this.toMapKey(provider, resource);
        const writeQueue = (this.writeQueues.get(queueKey) || Promise.resolve()).then(task, task);
        this.writeQueues.set(queueKey, writeQueue);
        return writeQueue;
    }
    toMapKey(provider, resource) {
        const isPathCaseSensitive = !!(provider.capabilities & 1024 /* PathCaseSensitive */);
        return isPathCaseSensitive ? resource.toString() : resource.toString().toLowerCase();
    }
    async doWriteBuffered(provider, resource, readableOrStreamOrBufferedStream) {
        return this.ensureWriteQueue(provider, resource, async () => {
            // open handle
            const handle = await provider.open(resource, { create: true });
            // write into handle until all bytes from buffer have been written
            try {
                if (stream_1.isReadableStream(readableOrStreamOrBufferedStream) || stream_1.isReadableBufferedStream(readableOrStreamOrBufferedStream)) {
                    await this.doWriteStreamBufferedQueued(provider, handle, readableOrStreamOrBufferedStream);
                }
                else {
                    await this.doWriteReadableBufferedQueued(provider, handle, readableOrStreamOrBufferedStream);
                }
            }
            catch (error) {
                throw files_1.ensureFileSystemProviderError(error);
            }
            finally {
                // close handle always
                await provider.close(handle);
            }
        });
    }
    async doWriteStreamBufferedQueued(provider, handle, streamOrBufferedStream) {
        let posInFile = 0;
        let stream;
        // Buffered stream: consume the buffer first by writing
        // it to the target before reading from the stream.
        if (stream_1.isReadableBufferedStream(streamOrBufferedStream)) {
            if (streamOrBufferedStream.buffer.length > 0) {
                const chunk = buffer_1.BinaryBuffer.concat(streamOrBufferedStream.buffer);
                await this.doWriteBuffer(provider, handle, chunk, chunk.byteLength, posInFile, 0);
                posInFile += chunk.byteLength;
            }
            // If the stream has been consumed, return early
            if (streamOrBufferedStream.ended) {
                return;
            }
            stream = streamOrBufferedStream.stream;
        }
        // Unbuffered stream - just take as is
        else {
            stream = streamOrBufferedStream;
        }
        return new Promise(async (resolve, reject) => {
            stream.on('data', async (chunk) => {
                // pause stream to perform async write operation
                stream.pause();
                try {
                    await this.doWriteBuffer(provider, handle, chunk, chunk.byteLength, posInFile, 0);
                }
                catch (error) {
                    return reject(error);
                }
                posInFile += chunk.byteLength;
                // resume stream now that we have successfully written
                // run this on the next tick to prevent increasing the
                // execution stack because resume() may call the event
                // handler again before finishing.
                setTimeout(() => stream.resume());
            });
            stream.on('error', error => reject(error));
            stream.on('end', () => resolve());
        });
    }
    async doWriteReadableBufferedQueued(provider, handle, readable) {
        let posInFile = 0;
        let chunk;
        while ((chunk = readable.read()) !== null) {
            await this.doWriteBuffer(provider, handle, chunk, chunk.byteLength, posInFile, 0);
            posInFile += chunk.byteLength;
        }
    }
    async doWriteBuffer(provider, handle, buffer, length, posInFile, posInBuffer) {
        let totalBytesWritten = 0;
        while (totalBytesWritten < length) {
            const bytesWritten = await provider.write(handle, posInFile + totalBytesWritten, buffer.buffer, posInBuffer + totalBytesWritten, length - totalBytesWritten);
            totalBytesWritten += bytesWritten;
        }
    }
    async doWriteUnbuffered(provider, resource, bufferOrReadableOrStreamOrBufferedStream) {
        return this.ensureWriteQueue(provider, resource, () => this.doWriteUnbufferedQueued(provider, resource, bufferOrReadableOrStreamOrBufferedStream));
    }
    async doWriteUnbufferedQueued(provider, resource, bufferOrReadableOrStreamOrBufferedStream) {
        let buffer;
        if (bufferOrReadableOrStreamOrBufferedStream instanceof buffer_1.BinaryBuffer) {
            buffer = bufferOrReadableOrStreamOrBufferedStream;
        }
        else if (stream_1.isReadableStream(bufferOrReadableOrStreamOrBufferedStream)) {
            buffer = await buffer_1.BinaryBufferReadableStream.toBuffer(bufferOrReadableOrStreamOrBufferedStream);
        }
        else if (stream_1.isReadableBufferedStream(bufferOrReadableOrStreamOrBufferedStream)) {
            buffer = await buffer_1.BinaryBufferReadableBufferedStream.toBuffer(bufferOrReadableOrStreamOrBufferedStream);
        }
        else {
            buffer = buffer_1.BinaryBufferReadable.toBuffer(bufferOrReadableOrStreamOrBufferedStream);
        }
        return provider.writeFile(resource, buffer.buffer, { create: true, overwrite: true });
    }
    async doPipeBuffered(sourceProvider, source, targetProvider, target) {
        return this.ensureWriteQueue(targetProvider, target, () => this.doPipeBufferedQueued(sourceProvider, source, targetProvider, target));
    }
    async doPipeBufferedQueued(sourceProvider, source, targetProvider, target) {
        let sourceHandle = undefined;
        let targetHandle = undefined;
        try {
            // Open handles
            sourceHandle = await sourceProvider.open(source, { create: false });
            targetHandle = await targetProvider.open(target, { create: true });
            const buffer = buffer_1.BinaryBuffer.alloc(this.BUFFER_SIZE);
            let posInFile = 0;
            let posInBuffer = 0;
            let bytesRead = 0;
            do {
                // read from source (sourceHandle) at current position (posInFile) into buffer (buffer) at
                // buffer position (posInBuffer) up to the size of the buffer (buffer.byteLength).
                bytesRead = await sourceProvider.read(sourceHandle, posInFile, buffer.buffer, posInBuffer, buffer.byteLength - posInBuffer);
                // write into target (targetHandle) at current position (posInFile) from buffer (buffer) at
                // buffer position (posInBuffer) all bytes we read (bytesRead).
                await this.doWriteBuffer(targetProvider, targetHandle, buffer, bytesRead, posInFile, posInBuffer);
                posInFile += bytesRead;
                posInBuffer += bytesRead;
                // when buffer full, fill it again from the beginning
                if (posInBuffer === buffer.byteLength) {
                    posInBuffer = 0;
                }
            } while (bytesRead > 0);
        }
        catch (error) {
            throw files_1.ensureFileSystemProviderError(error);
        }
        finally {
            await Promise.all([
                typeof sourceHandle === 'number' ? sourceProvider.close(sourceHandle) : Promise.resolve(),
                typeof targetHandle === 'number' ? targetProvider.close(targetHandle) : Promise.resolve(),
            ]);
        }
    }
    async doPipeUnbuffered(sourceProvider, source, targetProvider, target) {
        return this.ensureWriteQueue(targetProvider, target, () => this.doPipeUnbufferedQueued(sourceProvider, source, targetProvider, target));
    }
    async doPipeUnbufferedQueued(sourceProvider, source, targetProvider, target) {
        return targetProvider.writeFile(target, await sourceProvider.readFile(source), { create: true, overwrite: true });
    }
    async doPipeUnbufferedToBuffered(sourceProvider, source, targetProvider, target) {
        return this.ensureWriteQueue(targetProvider, target, () => this.doPipeUnbufferedToBufferedQueued(sourceProvider, source, targetProvider, target));
    }
    async doPipeUnbufferedToBufferedQueued(sourceProvider, source, targetProvider, target) {
        // Open handle
        const targetHandle = await targetProvider.open(target, { create: true });
        // Read entire buffer from source and write buffered
        try {
            const buffer = await sourceProvider.readFile(source);
            await this.doWriteBuffer(targetProvider, targetHandle, buffer_1.BinaryBuffer.wrap(buffer), buffer.byteLength, 0, 0);
        }
        catch (error) {
            throw files_1.ensureFileSystemProviderError(error);
        }
        finally {
            await targetProvider.close(targetHandle);
        }
    }
    async doPipeBufferedToUnbuffered(sourceProvider, source, targetProvider, target) {
        // Read buffer via stream buffered
        const buffer = await buffer_1.BinaryBufferReadableStream.toBuffer(this.readFileBuffered(sourceProvider, source, cancellation_1.CancellationToken.None));
        // Write buffer into target at once
        await this.doWriteUnbuffered(targetProvider, target, buffer);
    }
    throwIfFileSystemIsReadonly(provider, resource) {
        if (provider.capabilities & 2048 /* Readonly */) {
            throw new files_1.FileOperationError(`Unable to modify readonly file ${this.resourceForError(resource)}`, 6 /* FILE_PERMISSION_DENIED */);
        }
        return provider;
    }
    resourceForError(resource) {
        return this.labelProvider.getLongName(resource);
    }
    addFileOperationParticipant(participant) {
        this.participants.push(participant);
        return disposable_1.Disposable.create(() => {
            const index = this.participants.indexOf(participant);
            if (index > -1) {
                this.participants.splice(index, 1);
            }
        });
    }
    async runFileOperationParticipants(target, source, operation) {
        const participantsTimeout = this.preferences['files.participants.timeout'];
        if (participantsTimeout <= 0) {
            return;
        }
        const cancellationTokenSource = new cancellation_1.CancellationTokenSource();
        return this.progressService.withProgress(this.progressLabel(operation), 'window', async () => {
            for (const participant of this.participants) {
                if (cancellationTokenSource.token.isCancellationRequested) {
                    break;
                }
                try {
                    const promise = participant.participate(target, source, operation, participantsTimeout, cancellationTokenSource.token);
                    await Promise.race([
                        promise,
                        promise_util_1.timeout(participantsTimeout, cancellationTokenSource.token).then(() => cancellationTokenSource.dispose(), () => { })
                    ]);
                }
                catch (err) {
                    console.warn(err);
                }
            }
        });
    }
    progressLabel(operation) {
        switch (operation) {
            case 0 /* CREATE */:
                return "Running 'File Create' participants...";
            case 2 /* MOVE */:
                return "Running 'File Rename' participants...";
            case 3 /* COPY */:
                return "Running 'File Copy' participants...";
            case 1 /* DELETE */:
                return "Running 'File Delete' participants...";
        }
    }
    // #endregion
    // #region encoding
    async getWriteEncoding(resource, options) {
        const encoding = await this.getEncodingForResource(resource, options ? options.encoding : undefined);
        return this.encodingService.toResourceEncoding(encoding, {
            overwriteEncoding: options === null || options === void 0 ? void 0 : options.overwriteEncoding,
            read: async (length) => {
                const buffer = await buffer_1.BinaryBufferReadableStream.toBuffer((await this.readFileStream(resource, { length })).value);
                return buffer.buffer;
            }
        });
    }
    getReadEncoding(resource, options, detectedEncoding) {
        let preferredEncoding;
        // Encoding passed in as option
        if (options === null || options === void 0 ? void 0 : options.encoding) {
            if (detectedEncoding === encodings_1.UTF8_with_bom && options.encoding === encodings_1.UTF8) {
                preferredEncoding = encodings_1.UTF8_with_bom; // indicate the file has BOM if we are to resolve with UTF 8
            }
            else {
                preferredEncoding = options.encoding; // give passed in encoding highest priority
            }
        }
        else if (detectedEncoding) {
            preferredEncoding = detectedEncoding;
        }
        return this.getEncodingForResource(resource, preferredEncoding);
    }
    async getEncodingForResource(resource, preferredEncoding) {
        resource = await this.toUnderlyingResource(resource);
        return this.encodingRegistry.getEncodingForResource(resource, preferredEncoding);
    }
    /**
     * Converts to an underlying fs provider resource format.
     *
     * For example converting `user-storage` resources to `file` resources under a user home:
     * user-storage:/user/settings.json => file://home/.theia/settings.json
     */
    async toUnderlyingResource(resource) {
        let provider = await this.withProvider(resource);
        while (provider instanceof delegating_file_system_provider_1.DelegatingFileSystemProvider) {
            resource = provider.toUnderlyingResource(resource);
            provider = await this.withProvider(resource);
        }
        return resource;
    }
    // #endregion
    handleFileWatchError() {
        this.watcherErrorHandler.handleError();
    }
};
__decorate([
    inversify_1.inject(label_provider_1.LabelProvider),
    __metadata("design:type", label_provider_1.LabelProvider)
], FileService.prototype, "labelProvider", void 0);
__decorate([
    inversify_1.inject(filesystem_preferences_1.FileSystemPreferences),
    __metadata("design:type", Object)
], FileService.prototype, "preferences", void 0);
__decorate([
    inversify_1.inject(progress_service_1.ProgressService),
    __metadata("design:type", progress_service_1.ProgressService)
], FileService.prototype, "progressService", void 0);
__decorate([
    inversify_1.inject(encoding_registry_1.EncodingRegistry),
    __metadata("design:type", encoding_registry_1.EncodingRegistry)
], FileService.prototype, "encodingRegistry", void 0);
__decorate([
    inversify_1.inject(encoding_service_1.EncodingService),
    __metadata("design:type", encoding_service_1.EncodingService)
], FileService.prototype, "encodingService", void 0);
__decorate([
    inversify_1.inject(contribution_provider_1.ContributionProvider),
    inversify_1.named(exports.FileServiceContribution),
    __metadata("design:type", Object)
], FileService.prototype, "contributions", void 0);
__decorate([
    inversify_1.inject(filesystem_watcher_error_handler_1.FileSystemWatcherErrorHandler),
    __metadata("design:type", filesystem_watcher_error_handler_1.FileSystemWatcherErrorHandler)
], FileService.prototype, "watcherErrorHandler", void 0);
__decorate([
    inversify_1.postConstruct(),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", []),
    __metadata("design:returntype", void 0)
], FileService.prototype, "init", null);
FileService = __decorate([
    inversify_1.injectable()
], FileService);
exports.FileService = FileService;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-tree/file-tree-container.js":
/*!**********************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-tree/file-tree-container.js ***!
  \**********************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.createFileTreeContainer = void 0;
const browser_1 = __webpack_require__(/*! @theia/core/lib/browser */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/index.js");
const file_tree_1 = __webpack_require__(/*! ./file-tree */ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-tree/file-tree.js");
const file_tree_model_1 = __webpack_require__(/*! ./file-tree-model */ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-tree/file-tree-model.js");
const file_tree_widget_1 = __webpack_require__(/*! ./file-tree-widget */ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-tree/file-tree-widget.js");
function createFileTreeContainer(parent) {
    const child = browser_1.createTreeContainer(parent);
    child.unbind(browser_1.TreeImpl);
    child.bind(file_tree_1.FileTree).toSelf();
    child.rebind(browser_1.Tree).toService(file_tree_1.FileTree);
    child.unbind(browser_1.TreeModelImpl);
    child.bind(file_tree_model_1.FileTreeModel).toSelf();
    child.rebind(browser_1.TreeModel).toService(file_tree_model_1.FileTreeModel);
    child.unbind(browser_1.TreeWidget);
    child.bind(file_tree_widget_1.FileTreeWidget).toSelf();
    return child;
}
exports.createFileTreeContainer = createFileTreeContainer;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-tree/file-tree-model.js":
/*!******************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-tree/file-tree-model.js ***!
  \******************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.FileTreeModel = void 0;
const inversify_1 = __webpack_require__(/*! @theia/core/shared/inversify */ "../node_modules/@theia/file-search/node_modules/@theia/core/shared/inversify.js");
const uri_1 = __webpack_require__(/*! @theia/core/lib/common/uri */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/uri.js");
const browser_1 = __webpack_require__(/*! @theia/core/lib/browser */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/index.js");
const file_tree_1 = __webpack_require__(/*! ./file-tree */ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-tree/file-tree.js");
const label_provider_1 = __webpack_require__(/*! @theia/core/lib/browser/label-provider */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/label-provider.js");
const file_service_1 = __webpack_require__(/*! ../file-service */ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-service.js");
const files_1 = __webpack_require__(/*! ../../common/files */ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/common/files.js");
const message_service_1 = __webpack_require__(/*! @theia/core/lib/common/message-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/message-service.js");
const env_variables_1 = __webpack_require__(/*! @theia/core/lib/common/env-variables */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/env-variables/index.js");
const common_1 = __webpack_require__(/*! ../../common */ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/common/index.js");
let FileTreeModel = class FileTreeModel extends browser_1.TreeModelImpl {
    init() {
        super.init();
        this.toDispose.push(this.fileService.onDidFilesChange(changes => this.onFilesChanged(changes)));
        this.toDispose.push(this.fileService.onDidRunOperation(event => this.onDidMove(event)));
    }
    get location() {
        const root = this.root;
        if (file_tree_1.FileStatNode.is(root)) {
            return root.uri;
        }
        return undefined;
    }
    set location(uri) {
        if (uri) {
            this.fileService.resolve(uri).then(fileStat => {
                if (fileStat) {
                    const node = file_tree_1.DirNode.createRoot(fileStat);
                    this.navigateTo(node);
                }
            }).catch(() => {
                // no-op, allow failures for file dialog text input
            });
        }
        else {
            this.navigateTo(undefined);
        }
    }
    async drives() {
        try {
            const drives = await this.environments.getDrives();
            return drives.map(uri => new uri_1.default(uri));
        }
        catch (e) {
            this.logger.error('Error when loading drives.', e);
            return [];
        }
    }
    get selectedFileStatNodes() {
        return this.selectedNodes.filter(file_tree_1.FileStatNode.is);
    }
    *getNodesByUri(uri) {
        const node = this.getNode(uri.toString());
        if (node) {
            yield node;
        }
    }
    /**
     * to workaround https://github.com/Axosoft/nsfw/issues/42
     */
    onDidMove(event) {
        if (!event.isOperation(2 /* MOVE */)) {
            return;
        }
        if (event.resource.parent.toString() === event.target.resource.parent.toString()) {
            // file rename
            return;
        }
        this.refreshAffectedNodes([
            event.resource,
            event.target.resource
        ]);
    }
    onFilesChanged(changes) {
        if (!this.refreshAffectedNodes(this.getAffectedUris(changes)) && this.isRootAffected(changes)) {
            this.refresh();
        }
    }
    isRootAffected(changes) {
        const root = this.root;
        if (file_tree_1.FileStatNode.is(root)) {
            return changes.contains(root.uri, 1 /* ADDED */) || changes.contains(root.uri, 0 /* UPDATED */);
        }
        return false;
    }
    getAffectedUris(changes) {
        return changes.changes.filter(change => !this.isFileContentChanged(change)).map(change => change.resource);
    }
    isFileContentChanged(change) {
        return change.type === 0 /* UPDATED */ && file_tree_1.FileNode.is(this.getNodesByUri(change.resource).next().value);
    }
    refreshAffectedNodes(uris) {
        const nodes = this.getAffectedNodes(uris);
        for (const node of nodes.values()) {
            this.refresh(node);
        }
        return nodes.size !== 0;
    }
    getAffectedNodes(uris) {
        const nodes = new Map();
        for (const uri of uris) {
            for (const node of this.getNodesByUri(uri.parent)) {
                if (file_tree_1.DirNode.is(node) && node.expanded) {
                    nodes.set(node.id, node);
                }
            }
        }
        return nodes;
    }
    async copy(source, target) {
        let targetUri = target.uri.resolve(source.path.base);
        try {
            if (source.path.toString() === target.uri.path.toString()) {
                const parent = await this.fileService.resolve(source.parent);
                const name = source.path.name + '_copy';
                targetUri = common_1.FileSystemUtils.generateUniqueResourceURI(source.parent, parent, name, source.path.ext);
            }
            await this.fileService.copy(source, targetUri);
        }
        catch (e) {
            this.messageService.error(e.message);
        }
        return targetUri;
    }
    /**
     * Move the given source file or directory to the given target directory.
     */
    async move(source, target) {
        if (file_tree_1.DirNode.is(target) && file_tree_1.FileStatNode.is(source)) {
            const name = source.fileStat.name;
            const targetUri = target.uri.resolve(name);
            try {
                await this.fileService.move(source.uri, targetUri);
                return targetUri;
            }
            catch (e) {
                if (e instanceof files_1.FileOperationError && e.fileOperationResult === 4 /* FILE_MOVE_CONFLICT */) {
                    const fileName = this.labelProvider.getName(source);
                    if (await this.shouldReplace(fileName)) {
                        try {
                            await this.fileService.move(source.uri, targetUri, { overwrite: true });
                            return targetUri;
                        }
                        catch (e2) {
                            this.messageService.error(e2.message);
                        }
                    }
                }
                else {
                    this.messageService.error(e.message);
                }
            }
        }
        return undefined;
    }
    async shouldReplace(fileName) {
        const dialog = new browser_1.ConfirmDialog({
            title: 'Replace file',
            msg: `File '${fileName}' already exists in the destination folder. Do you want to replace it?`,
            ok: 'Yes',
            cancel: 'No'
        });
        return !!await dialog.open();
    }
};
__decorate([
    inversify_1.inject(label_provider_1.LabelProvider),
    __metadata("design:type", label_provider_1.LabelProvider)
], FileTreeModel.prototype, "labelProvider", void 0);
__decorate([
    inversify_1.inject(file_service_1.FileService),
    __metadata("design:type", file_service_1.FileService)
], FileTreeModel.prototype, "fileService", void 0);
__decorate([
    inversify_1.inject(message_service_1.MessageService),
    __metadata("design:type", message_service_1.MessageService)
], FileTreeModel.prototype, "messageService", void 0);
__decorate([
    inversify_1.inject(env_variables_1.EnvVariablesServer),
    __metadata("design:type", Object)
], FileTreeModel.prototype, "environments", void 0);
__decorate([
    inversify_1.postConstruct(),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", []),
    __metadata("design:returntype", void 0)
], FileTreeModel.prototype, "init", null);
FileTreeModel = __decorate([
    inversify_1.injectable()
], FileTreeModel);
exports.FileTreeModel = FileTreeModel;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-tree/file-tree-widget.js":
/*!*******************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-tree/file-tree-widget.js ***!
  \*******************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.FileTreeWidget = exports.FILE_STAT_ICON_CLASS = exports.DIR_NODE_CLASS = exports.FILE_STAT_NODE_CLASS = exports.FILE_TREE_CLASS = void 0;
const React = __webpack_require__(/*! @theia/core/shared/react */ "../node_modules/@theia/file-search/node_modules/@theia/core/shared/react.js");
const inversify_1 = __webpack_require__(/*! @theia/core/shared/inversify */ "../node_modules/@theia/file-search/node_modules/@theia/core/shared/inversify.js");
const disposable_1 = __webpack_require__(/*! @theia/core/lib/common/disposable */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/disposable.js");
const uri_1 = __webpack_require__(/*! @theia/core/lib/common/uri */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/uri.js");
const selection_1 = __webpack_require__(/*! @theia/core/lib/common/selection */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/selection.js");
const cancellation_1 = __webpack_require__(/*! @theia/core/lib/common/cancellation */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/cancellation.js");
const browser_1 = __webpack_require__(/*! @theia/core/lib/browser */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/index.js");
const file_upload_service_1 = __webpack_require__(/*! ../file-upload-service */ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-upload-service.js");
const file_tree_1 = __webpack_require__(/*! ./file-tree */ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-tree/file-tree.js");
const file_tree_model_1 = __webpack_require__(/*! ./file-tree-model */ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-tree/file-tree-model.js");
const icon_theme_service_1 = __webpack_require__(/*! @theia/core/lib/browser/icon-theme-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/icon-theme-service.js");
const files_1 = __webpack_require__(/*! ../../common/files */ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/common/files.js");
exports.FILE_TREE_CLASS = 'theia-FileTree';
exports.FILE_STAT_NODE_CLASS = 'theia-FileStatNode';
exports.DIR_NODE_CLASS = 'theia-DirNode';
exports.FILE_STAT_ICON_CLASS = 'theia-FileStatIcon';
let FileTreeWidget = class FileTreeWidget extends browser_1.TreeViewWelcomeWidget {
    constructor(props, model, contextMenuRenderer) {
        super(props, model, contextMenuRenderer);
        this.props = props;
        this.model = model;
        this.toCancelNodeExpansion = new disposable_1.DisposableCollection();
        this.addClass(exports.FILE_TREE_CLASS);
        this.toDispose.push(this.toCancelNodeExpansion);
    }
    createNodeClassNames(node, props) {
        const classNames = super.createNodeClassNames(node, props);
        if (file_tree_1.FileStatNode.is(node)) {
            classNames.push(exports.FILE_STAT_NODE_CLASS);
        }
        if (file_tree_1.DirNode.is(node)) {
            classNames.push(exports.DIR_NODE_CLASS);
        }
        return classNames;
    }
    renderIcon(node, props) {
        const icon = this.toNodeIcon(node);
        if (icon) {
            return React.createElement("div", { className: icon + ' file-icon' });
        }
        // eslint-disable-next-line no-null/no-null
        return null;
    }
    createContainerAttributes() {
        const attrs = super.createContainerAttributes();
        return Object.assign(Object.assign({}, attrs), { onDragEnter: event => this.handleDragEnterEvent(this.model.root, event), onDragOver: event => this.handleDragOverEvent(this.model.root, event), onDragLeave: event => this.handleDragLeaveEvent(this.model.root, event), onDrop: event => this.handleDropEvent(this.model.root, event) });
    }
    createNodeAttributes(node, props) {
        const elementAttrs = super.createNodeAttributes(node, props);
        return Object.assign(Object.assign({}, elementAttrs), { draggable: file_tree_1.FileStatNode.is(node), onDragStart: event => this.handleDragStartEvent(node, event), onDragEnter: event => this.handleDragEnterEvent(node, event), onDragOver: event => this.handleDragOverEvent(node, event), onDragLeave: event => this.handleDragLeaveEvent(node, event), onDrop: event => this.handleDropEvent(node, event), title: this.getNodeTooltip(node) });
    }
    getNodeTooltip(node) {
        const uri = selection_1.UriSelection.getUri(node);
        return uri ? uri.path.toString() : undefined;
    }
    handleDragStartEvent(node, event) {
        event.stopPropagation();
        let selectedNodes;
        if (this.model.selectedNodes.find(selected => browser_1.TreeNode.equals(selected, node))) {
            selectedNodes = [...this.model.selectedNodes];
        }
        else {
            selectedNodes = [node];
        }
        this.setSelectedTreeNodesAsData(event.dataTransfer, node, selectedNodes);
        if (event.dataTransfer) {
            let label;
            if (selectedNodes.length === 1) {
                label = this.toNodeName(node);
            }
            else {
                label = String(selectedNodes.length);
            }
            const dragImage = document.createElement('div');
            dragImage.className = 'theia-file-tree-drag-image';
            dragImage.textContent = label;
            document.body.appendChild(dragImage);
            event.dataTransfer.setDragImage(dragImage, -10, -10);
            setTimeout(() => document.body.removeChild(dragImage), 0);
        }
    }
    handleDragEnterEvent(node, event) {
        event.preventDefault();
        event.stopPropagation();
        this.toCancelNodeExpansion.dispose();
        const containing = file_tree_1.DirNode.getContainingDir(node);
        if (!!containing && !containing.selected) {
            this.model.selectNode(containing);
        }
    }
    handleDragOverEvent(node, event) {
        event.preventDefault();
        event.stopPropagation();
        if (!this.toCancelNodeExpansion.disposed) {
            return;
        }
        const timer = setTimeout(() => {
            const containing = file_tree_1.DirNode.getContainingDir(node);
            if (!!containing && !containing.expanded) {
                this.model.expandNode(containing);
            }
        }, 500);
        this.toCancelNodeExpansion.push(disposable_1.Disposable.create(() => clearTimeout(timer)));
    }
    handleDragLeaveEvent(node, event) {
        event.preventDefault();
        event.stopPropagation();
        this.toCancelNodeExpansion.dispose();
    }
    async handleDropEvent(node, event) {
        try {
            event.preventDefault();
            event.stopPropagation();
            event.dataTransfer.dropEffect = 'copy'; // Explicitly show this is a copy.
            const containing = this.getDropTargetDirNode(node);
            if (containing) {
                const resources = this.getSelectedTreeNodesFromData(event.dataTransfer);
                if (resources.length > 0) {
                    for (const treeNode of resources) {
                        await this.model.move(treeNode, containing);
                    }
                }
                else {
                    await this.uploadService.upload(containing.uri, { source: event.dataTransfer });
                }
            }
        }
        catch (e) {
            if (!cancellation_1.isCancelled(e)) {
                console.error(e);
            }
        }
    }
    getDropTargetDirNode(node) {
        if (browser_1.CompositeTreeNode.is(node) && node.id === 'WorkspaceNodeId') {
            if (node.children.length === 1) {
                return file_tree_1.DirNode.getContainingDir(node.children[0]);
            }
            else if (node.children.length > 1) {
                // move file to the last root folder in multi-root scenario
                return file_tree_1.DirNode.getContainingDir(node.children[node.children.length - 1]);
            }
        }
        return file_tree_1.DirNode.getContainingDir(node);
    }
    setTreeNodeAsData(data, node) {
        data.setData('tree-node', node.id);
    }
    setSelectedTreeNodesAsData(data, sourceNode, relatedNodes) {
        this.setTreeNodeAsData(data, sourceNode);
        data.setData('selected-tree-nodes', JSON.stringify(relatedNodes.map(node => node.id)));
    }
    getTreeNodeFromData(data) {
        const id = data.getData('tree-node');
        return this.model.getNode(id);
    }
    getSelectedTreeNodesFromData(data) {
        const resources = data.getData('selected-tree-nodes');
        if (!resources) {
            return [];
        }
        const ids = JSON.parse(resources);
        return ids.map(id => this.model.getNode(id)).filter(node => node !== undefined);
    }
    get hidesExplorerArrows() {
        const theme = this.iconThemeService.getDefinition(this.iconThemeService.current);
        return !!theme && !!theme.hidesExplorerArrows;
    }
    renderExpansionToggle(node, props) {
        if (this.hidesExplorerArrows) {
            // eslint-disable-next-line no-null/no-null
            return null;
        }
        return super.renderExpansionToggle(node, props);
    }
    getPaddingLeft(node, props) {
        if (this.hidesExplorerArrows) {
            // additional left padding instead of top-level expansion toggle
            return super.getPaddingLeft(node, props) + this.props.leftPadding;
        }
        return super.getPaddingLeft(node, props);
    }
    needsExpansionTogglePadding(node) {
        const theme = this.iconThemeService.getDefinition(this.iconThemeService.current);
        if (theme && (theme.hidesExplorerArrows || (theme.hasFileIcons && !theme.hasFolderIcons))) {
            return false;
        }
        return super.needsExpansionTogglePadding(node);
    }
    deflateForStorage(node) {
        const deflated = super.deflateForStorage(node);
        if (file_tree_1.FileStatNode.is(node) && file_tree_1.FileStatNodeData.is(deflated)) {
            deflated.uri = node.uri.toString();
            delete deflated['fileStat'];
            deflated.stat = files_1.FileStat.toStat(node.fileStat);
        }
        return deflated;
    }
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    inflateFromStorage(node, parent) {
        if (file_tree_1.FileStatNodeData.is(node)) {
            // eslint-disable-next-line @typescript-eslint/no-explicit-any
            const fileStatNode = node;
            const resource = new uri_1.default(node.uri);
            fileStatNode.uri = resource;
            let stat;
            // in order to support deprecated FileStat
            if (node.fileStat) {
                stat = {
                    type: node.fileStat.isDirectory ? files_1.FileType.Directory : files_1.FileType.File,
                    mtime: node.fileStat.lastModification,
                    size: node.fileStat.size
                };
                delete node['fileStat'];
            }
            else if (node.stat) {
                stat = node.stat;
                delete node['stat'];
            }
            if (stat) {
                fileStatNode.fileStat = files_1.FileStat.fromStat(resource, stat);
            }
        }
        const inflated = super.inflateFromStorage(node, parent);
        if (file_tree_1.DirNode.is(inflated)) {
            inflated.fileStat.children = [];
            for (const child of inflated.children) {
                if (file_tree_1.FileStatNode.is(child)) {
                    inflated.fileStat.children.push(child.fileStat);
                }
            }
        }
        return inflated;
    }
};
__decorate([
    inversify_1.inject(file_upload_service_1.FileUploadService),
    __metadata("design:type", file_upload_service_1.FileUploadService)
], FileTreeWidget.prototype, "uploadService", void 0);
__decorate([
    inversify_1.inject(icon_theme_service_1.IconThemeService),
    __metadata("design:type", icon_theme_service_1.IconThemeService)
], FileTreeWidget.prototype, "iconThemeService", void 0);
FileTreeWidget = __decorate([
    inversify_1.injectable(),
    __param(0, inversify_1.inject(browser_1.TreeProps)),
    __param(1, inversify_1.inject(file_tree_model_1.FileTreeModel)),
    __param(2, inversify_1.inject(browser_1.ContextMenuRenderer)),
    __metadata("design:paramtypes", [Object, file_tree_model_1.FileTreeModel,
        browser_1.ContextMenuRenderer])
], FileTreeWidget);
exports.FileTreeWidget = FileTreeWidget;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-tree/file-tree.js":
/*!************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-tree/file-tree.js ***!
  \************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.DirNode = exports.FileNode = exports.FileStatNodeData = exports.FileStatNode = exports.FileTree = void 0;
const inversify_1 = __webpack_require__(/*! @theia/core/shared/inversify */ "../node_modules/@theia/file-search/node_modules/@theia/core/shared/inversify.js");
const browser_1 = __webpack_require__(/*! @theia/core/lib/browser */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/index.js");
const files_1 = __webpack_require__(/*! ../../common/files */ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/common/files.js");
const message_service_1 = __webpack_require__(/*! @theia/core/lib/common/message-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/message-service.js");
const file_service_1 = __webpack_require__(/*! ../file-service */ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-service.js");
let FileTree = class FileTree extends browser_1.TreeImpl {
    async resolveChildren(parent) {
        if (FileStatNode.is(parent)) {
            const fileStat = await this.resolveFileStat(parent);
            if (fileStat) {
                return this.toNodes(fileStat, parent);
            }
            return [];
        }
        return super.resolveChildren(parent);
    }
    async resolveFileStat(node) {
        try {
            const fileStat = await this.fileService.resolve(node.uri);
            node.fileStat = fileStat;
            return fileStat;
        }
        catch (e) {
            if (!(e instanceof files_1.FileOperationError && e.fileOperationResult === 1 /* FILE_NOT_FOUND */)) {
                this.messagingService.error(e.message);
            }
            return undefined;
        }
    }
    async toNodes(fileStat, parent) {
        if (!fileStat.children) {
            return [];
        }
        const result = await Promise.all(fileStat.children.map(async (child) => this.toNode(child, parent)));
        return result.sort(DirNode.compare);
    }
    toNode(fileStat, parent) {
        const uri = fileStat.resource;
        const id = this.toNodeId(uri, parent);
        const node = this.getNode(id);
        if (fileStat.isDirectory) {
            if (DirNode.is(node)) {
                node.fileStat = fileStat;
                return node;
            }
            return {
                id, uri, fileStat, parent,
                expanded: false,
                selected: false,
                children: []
            };
        }
        if (FileNode.is(node)) {
            node.fileStat = fileStat;
            return node;
        }
        return {
            id, uri, fileStat, parent,
            selected: false
        };
    }
    toNodeId(uri, parent) {
        return uri.path.toString();
    }
};
__decorate([
    inversify_1.inject(file_service_1.FileService),
    __metadata("design:type", file_service_1.FileService)
], FileTree.prototype, "fileService", void 0);
__decorate([
    inversify_1.inject(message_service_1.MessageService),
    __metadata("design:type", message_service_1.MessageService)
], FileTree.prototype, "messagingService", void 0);
FileTree = __decorate([
    inversify_1.injectable()
], FileTree);
exports.FileTree = FileTree;
var FileStatNode;
(function (FileStatNode) {
    function is(node) {
        return !!node && 'fileStat' in node;
    }
    FileStatNode.is = is;
    function getUri(node) {
        if (is(node)) {
            return node.fileStat.resource.toString();
        }
        return undefined;
    }
    FileStatNode.getUri = getUri;
})(FileStatNode = exports.FileStatNode || (exports.FileStatNode = {}));
var FileStatNodeData;
(function (FileStatNodeData) {
    function is(node) {
        return !!node && 'uri' in node && ('fileStat' in node || 'stat' in node);
    }
    FileStatNodeData.is = is;
})(FileStatNodeData = exports.FileStatNodeData || (exports.FileStatNodeData = {}));
var FileNode;
(function (FileNode) {
    function is(node) {
        return FileStatNode.is(node) && !node.fileStat.isDirectory;
    }
    FileNode.is = is;
})(FileNode = exports.FileNode || (exports.FileNode = {}));
var DirNode;
(function (DirNode) {
    function is(node) {
        return FileStatNode.is(node) && node.fileStat.isDirectory;
    }
    DirNode.is = is;
    function compare(node, node2) {
        return DirNode.dirCompare(node, node2) || uriCompare(node, node2);
    }
    DirNode.compare = compare;
    function uriCompare(node, node2) {
        if (FileStatNode.is(node)) {
            if (FileStatNode.is(node2)) {
                return node.uri.displayName.localeCompare(node2.uri.displayName);
            }
            return 1;
        }
        if (FileStatNode.is(node2)) {
            return -1;
        }
        return 0;
    }
    DirNode.uriCompare = uriCompare;
    function dirCompare(node, node2) {
        const a = DirNode.is(node) ? 1 : 0;
        const b = DirNode.is(node2) ? 1 : 0;
        return b - a;
    }
    DirNode.dirCompare = dirCompare;
    function createRoot(fileStat) {
        const uri = fileStat.resource;
        const id = uri.toString();
        return {
            id, uri, fileStat,
            visible: true,
            parent: undefined,
            children: [],
            expanded: true,
            selected: false
        };
    }
    DirNode.createRoot = createRoot;
    function getContainingDir(node) {
        let containing = node;
        while (!!containing && !is(containing)) {
            containing = containing.parent;
        }
        return containing;
    }
    DirNode.getContainingDir = getContainingDir;
})(DirNode = exports.DirNode || (exports.DirNode = {}));


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-tree/index.js":
/*!********************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-tree/index.js ***!
  \********************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
__exportStar(__webpack_require__(/*! ./file-tree */ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-tree/file-tree.js"), exports);
__exportStar(__webpack_require__(/*! ./file-tree-model */ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-tree/file-tree-model.js"), exports);
__exportStar(__webpack_require__(/*! ./file-tree-widget */ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-tree/file-tree-widget.js"), exports);
__exportStar(__webpack_require__(/*! ./file-tree-container */ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-tree/file-tree-container.js"), exports);


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-upload-service.js":
/*!************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-upload-service.js ***!
  \************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2019 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var FileUploadService_1;
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.FileUploadService = exports.HTTP_UPLOAD_URL = void 0;
/* eslint-disable @typescript-eslint/no-explicit-any */
const inversify_1 = __webpack_require__(/*! @theia/core/shared/inversify */ "../node_modules/@theia/file-search/node_modules/@theia/core/shared/inversify.js");
const uri_1 = __webpack_require__(/*! @theia/core/lib/common/uri */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/uri.js");
const cancellation_1 = __webpack_require__(/*! @theia/core/lib/common/cancellation */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/cancellation.js");
const promise_util_1 = __webpack_require__(/*! @theia/core/lib/common/promise-util */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/promise-util.js");
const message_service_1 = __webpack_require__(/*! @theia/core/lib/common/message-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/message-service.js");
const endpoint_1 = __webpack_require__(/*! @theia/core/lib/browser/endpoint */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/endpoint.js");
const throttle = __webpack_require__(/*! @theia/core/shared/lodash.throttle */ "../node_modules/@theia/file-search/node_modules/@theia/core/shared/lodash.throttle.js");
const file_upload_1 = __webpack_require__(/*! ../common/file-upload */ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/common/file-upload.js");
const async_mutex_1 = __webpack_require__(/*! async-mutex */ "../node_modules/async-mutex/lib/index.js");
const filesystem_preferences_1 = __webpack_require__(/*! ./filesystem-preferences */ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/filesystem-preferences.js");
exports.HTTP_UPLOAD_URL = new endpoint_1.Endpoint({ path: file_upload_1.HTTP_FILE_UPLOAD_PATH }).getRestUrl().toString(true);
let FileUploadService = FileUploadService_1 = class FileUploadService {
    get maxConcurrentUploads() {
        const maxConcurrentUploads = this.fileSystemPreferences['files.maxConcurrentUploads'];
        return maxConcurrentUploads > 0 ? maxConcurrentUploads : Infinity;
    }
    init() {
        this.uploadForm = this.createUploadForm();
    }
    createUploadForm() {
        const targetInput = document.createElement('input');
        targetInput.type = 'text';
        targetInput.spellcheck = false;
        targetInput.name = FileUploadService_1.TARGET;
        targetInput.classList.add('theia-input');
        const fileInput = document.createElement('input');
        fileInput.type = 'file';
        fileInput.classList.add('theia-input');
        fileInput.name = FileUploadService_1.UPLOAD;
        fileInput.multiple = true;
        const form = document.createElement('form');
        form.style.display = 'none';
        form.enctype = 'multipart/form-data';
        form.append(targetInput);
        form.append(fileInput);
        document.body.appendChild(form);
        fileInput.addEventListener('change', () => {
            if (this.deferredUpload && fileInput.value) {
                const source = new FormData(form);
                // clean up to allow upload to the same folder twice
                fileInput.value = '';
                const targetUri = new uri_1.default(source.get(FileUploadService_1.TARGET));
                const { resolve, reject } = this.deferredUpload;
                this.deferredUpload = undefined;
                const { onDidUpload } = this.uploadForm;
                this.withProgress((progress, token) => this.uploadAll(targetUri, { source, progress, token, onDidUpload }), this.uploadForm.progress).then(resolve, reject);
            }
        });
        return { targetInput, fileInput };
    }
    async upload(targetUri, params = {}) {
        const { source, onDidUpload } = params;
        if (source) {
            return this.withProgress((progress, token) => this.uploadAll(typeof targetUri === 'string' ? new uri_1.default(targetUri) : targetUri, { source, progress, token, onDidUpload }), params.progress);
        }
        this.deferredUpload = new promise_util_1.Deferred();
        this.uploadForm.targetInput.value = String(targetUri);
        this.uploadForm.fileInput.click();
        this.uploadForm.progress = params.progress;
        this.uploadForm.onDidUpload = params.onDidUpload;
        return this.deferredUpload.promise;
    }
    getUploadUrl() {
        return exports.HTTP_UPLOAD_URL;
    }
    async uploadAll(targetUri, params) {
        const responses = [];
        const status = new Map();
        const result = {
            uploaded: []
        };
        /**
         * When `false`: display the uploading progress.
         * When `true`: display the server-processing progress.
         */
        let waitingForResponses = false;
        const report = throttle(() => {
            if (waitingForResponses) {
                /** Number of files being processed. */
                const total = status.size;
                /** Number of files uploaded and processed. */
                let done = 0;
                for (const item of status.values()) {
                    if (item.uploaded) {
                        done += 1;
                    }
                }
                params.progress.report({
                    message: `Processed ${done} out of ${total}`,
                    work: { total, done }
                });
            }
            else {
                /** Total number of bytes being uploaded. */
                let total = 0;
                /** Current number of bytes uploaded. */
                let done = 0;
                for (const item of status.values()) {
                    total += item.total;
                    done += item.done;
                }
                params.progress.report({
                    message: `Uploaded ${result.uploaded.length} out of ${status.size}`,
                    work: { total, done }
                });
            }
        }, 100);
        const uploads = [];
        const uploadSemaphore = new async_mutex_1.Semaphore(this.maxConcurrentUploads);
        try {
            await this.index(targetUri, params.source, {
                token: params.token,
                progress: params.progress,
                accept: async (item) => {
                    // Track and initialize the file in the status map:
                    status.set(item.file, { total: item.file.size, done: 0 });
                    report();
                    // Don't await here: the semaphore will organize the uploading tasks, not the async indexer.
                    uploads.push(uploadSemaphore.runExclusive(async () => {
                        cancellation_1.checkCancelled(params.token);
                        const { upload, response } = this.uploadFile(item.file, item.uri, params.token, (total, done) => {
                            const entry = status.get(item.file);
                            if (entry) {
                                entry.total = total;
                                entry.done = done;
                                report();
                            }
                        });
                        function onError(error) {
                            status.delete(item.file);
                            throw error;
                        }
                        responses.push(response
                            .then(() => {
                            cancellation_1.checkCancelled(params.token);
                            // Consider the file uploaded once the server sends OK back.
                            result.uploaded.push(item.uri.toString(true));
                            const entry = status.get(item.file);
                            if (entry) {
                                entry.uploaded = true;
                                report();
                            }
                        })
                            .catch(onError));
                        // Have the queue wait for the upload only.
                        return upload
                            .catch(onError);
                    }));
                }
            });
            cancellation_1.checkCancelled(params.token);
            await Promise.all(uploads);
            cancellation_1.checkCancelled(params.token);
            waitingForResponses = true;
            report();
            await Promise.all(responses);
        }
        catch (error) {
            uploadSemaphore.cancel();
            if (!cancellation_1.isCancelled(error)) {
                throw error;
            }
        }
        return result;
    }
    uploadFile(file, targetUri, token, onProgress) {
        const data = new FormData();
        data.set('uri', targetUri.toString(true));
        data.set('file', file);
        // TODO: Use Fetch API once it supports upload monitoring.
        const xhr = new XMLHttpRequest();
        token.onCancellationRequested(() => xhr.abort());
        const upload = new Promise((resolve, reject) => {
            this.registerEvents(xhr.upload, unregister => ({
                progress: (event) => {
                    if (event.total === event.loaded) {
                        unregister();
                        resolve();
                    }
                    else {
                        onProgress(event.total, event.loaded);
                    }
                },
                abort: () => {
                    unregister();
                    reject(cancellation_1.cancelled());
                },
                error: () => {
                    unregister();
                    reject(new Error('POST upload error'));
                },
                // `load` fires once the response is received, not when the upload is finished.
                // `resolve` should be called earlier within `progress` but this is a safety catch.
                load: () => {
                    unregister();
                    if (xhr.status === 200) {
                        resolve();
                    }
                    else {
                        reject(new Error(`POST request failed: ${xhr.status} ${xhr.statusText}`));
                    }
                },
            }));
        });
        const response = new Promise((resolve, reject) => {
            this.registerEvents(xhr, unregister => ({
                abort: () => {
                    unregister();
                    reject(cancellation_1.cancelled());
                },
                error: () => {
                    unregister();
                    reject(new Error('POST request error'));
                },
                load: () => {
                    unregister();
                    if (xhr.status === 200) {
                        resolve();
                    }
                    else {
                        reject(new Error(`POST request failed: ${xhr.status} ${xhr.statusText}`));
                    }
                }
            }));
        });
        xhr.open('POST', this.getUploadUrl(), /* async: */ true);
        xhr.send(data);
        return {
            upload,
            response
        };
    }
    /**
     * Utility function to attach events and get a callback to unregister those.
     *
     * You may not call `unregister` in the same tick as `register` is invoked.
     */
    registerEvents(target, register) {
        const events = register(() => {
            for (const [event, fn] of Object.entries(events)) {
                target.removeEventListener(event, fn);
            }
        });
        for (const [event, fn] of Object.entries(events)) {
            target.addEventListener(event, fn);
        }
    }
    async withProgress(cb, { text } = { text: 'Uploading Files' }) {
        const cancellationSource = new cancellation_1.CancellationTokenSource();
        const { token } = cancellationSource;
        const progress = await this.messageService.showProgress({ text, options: { cancelable: true } }, () => cancellationSource.cancel());
        try {
            return await cb(progress, token);
        }
        finally {
            progress.cancel();
        }
    }
    async index(targetUri, source, context) {
        if (source instanceof FormData) {
            await this.indexFormData(targetUri, source, context);
        }
        else {
            await this.indexDataTransfer(targetUri, source, context);
        }
    }
    async indexFormData(targetUri, formData, context) {
        for (const entry of formData.getAll(FileUploadService_1.UPLOAD)) {
            if (entry instanceof File) {
                await this.indexFile(targetUri, entry, context);
            }
        }
    }
    async indexDataTransfer(targetUri, dataTransfer, context) {
        cancellation_1.checkCancelled(context.token);
        if (dataTransfer.items) {
            await this.indexDataTransferItemList(targetUri, dataTransfer.items, context);
        }
        else {
            await this.indexFileList(targetUri, dataTransfer.files, context);
        }
    }
    async indexFileList(targetUri, files, context) {
        for (let i = 0; i < files.length; i++) {
            const file = files[i];
            if (file) {
                await this.indexFile(targetUri, file, context);
            }
        }
    }
    async indexFile(targetUri, file, context) {
        await context.accept({
            uri: targetUri.resolve(file.name),
            file
        });
    }
    async indexDataTransferItemList(targetUri, items, context) {
        cancellation_1.checkCancelled(context.token);
        const entries = [];
        for (let i = 0; i < items.length; i++) {
            const entry = items[i].webkitGetAsEntry();
            entries.push(entry);
        }
        await this.indexEntries(targetUri, entries, context);
    }
    async indexEntry(targetUri, entry, context) {
        cancellation_1.checkCancelled(context.token);
        if (!entry) {
            return;
        }
        if (entry.isDirectory) {
            await this.indexDirectoryEntry(targetUri, entry, context);
        }
        else {
            await this.indexFileEntry(targetUri, entry, context);
        }
    }
    /**
     *  Read all entries within a folder by block of 100 files or folders until the
     *  whole folder has been read.
     */
    async indexDirectoryEntry(targetUri, entry, context) {
        cancellation_1.checkCancelled(context.token);
        const newTargetUri = targetUri.resolve(entry.name);
        return new Promise(async (resolve, reject) => {
            const reader = entry.createReader();
            const getEntries = () => reader.readEntries(async (results) => {
                try {
                    if (!context.token.isCancellationRequested && results && results.length) {
                        await this.indexEntries(newTargetUri, results, context);
                        getEntries(); // loop to read all getEntries
                    }
                    else {
                        resolve();
                    }
                }
                catch (e) {
                    reject(e);
                }
            }, reject);
            getEntries();
        });
    }
    async indexEntries(targetUri, entries, context) {
        cancellation_1.checkCancelled(context.token);
        for (let i = 0; i < entries.length; i++) {
            await this.indexEntry(targetUri, entries[i], context);
        }
    }
    async indexFileEntry(targetUri, entry, context) {
        await new Promise((resolve, reject) => {
            try {
                entry.file(file => this.indexFile(targetUri, file, context).then(resolve, reject), reject);
            }
            catch (e) {
                reject(e);
            }
        });
    }
};
FileUploadService.TARGET = 'target';
FileUploadService.UPLOAD = 'upload';
__decorate([
    inversify_1.inject(message_service_1.MessageService),
    __metadata("design:type", message_service_1.MessageService)
], FileUploadService.prototype, "messageService", void 0);
__decorate([
    inversify_1.inject(filesystem_preferences_1.FileSystemPreferences),
    __metadata("design:type", Object)
], FileUploadService.prototype, "fileSystemPreferences", void 0);
__decorate([
    inversify_1.postConstruct(),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", []),
    __metadata("design:returntype", void 0)
], FileUploadService.prototype, "init", null);
FileUploadService = FileUploadService_1 = __decorate([
    inversify_1.injectable()
], FileUploadService);
exports.FileUploadService = FileUploadService;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/filesystem-preferences.js":
/*!***************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/filesystem-preferences.js ***!
  \***************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.bindFileSystemPreferences = exports.createFileSystemPreferences = exports.FileSystemPreferences = exports.FileSystemPreferenceContribution = exports.filesystemPreferenceSchema = exports.MAX_FILE_SIZE_MB = exports.GENERAL_MAX_FILE_SIZE_MB = exports.WIN32_MAX_FILE_SIZE_MB = void 0;
const preferences_1 = __webpack_require__(/*! @theia/core/lib/browser/preferences */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/preferences/index.js");
const supported_encodings_1 = __webpack_require__(/*! @theia/core/lib/browser/supported-encodings */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/supported-encodings.js");
// See https://github.com/Microsoft/vscode/issues/30180
exports.WIN32_MAX_FILE_SIZE_MB = 300; // 300 MB
exports.GENERAL_MAX_FILE_SIZE_MB = 16 * 1024; // 16 GB
exports.MAX_FILE_SIZE_MB = typeof process === 'object'
    ? process.arch === 'ia32'
        ? exports.WIN32_MAX_FILE_SIZE_MB
        : exports.GENERAL_MAX_FILE_SIZE_MB
    : 32;
exports.filesystemPreferenceSchema = {
    type: 'object',
    properties: {
        'files.watcherExclude': {
            description: 'List of paths to exclude from the filesystem watcher',
            additionalProperties: {
                type: 'boolean'
            },
            default: {
                '**/.git/objects/**': true,
                '**/.git/subtree-cache/**': true,
                '**/node_modules/**': true
            },
            scope: 'resource'
        },
        'files.exclude': {
            type: 'object',
            default: { '**/.git': true, '**/.svn': true, '**/.hg': true, '**/CVS': true, '**/.DS_Store': true },
            description: 'Configure glob patterns for excluding files and folders.',
            scope: 'resource'
        },
        'files.enableTrash': {
            type: 'boolean',
            default: true,
            description: 'Moves files/folders to the OS trash (recycle bin on Windows) when deleting. Disabling this will delete files/folders permanently.'
        },
        'files.associations': {
            type: 'object',
            description: 'Configure file associations to languages (e.g. \"*.extension\": \"html\"). \
These have precedence over the default associations of the languages installed.'
        },
        'files.autoGuessEncoding': {
            type: 'boolean',
            default: false,
            description: 'When enabled, the editor will attempt to guess the character set encoding when opening files. This setting can also be configured per language.',
            scope: 'language-overridable',
            included: Object.keys(supported_encodings_1.SUPPORTED_ENCODINGS).length > 1
        },
        'files.participants.timeout': {
            type: 'number',
            default: 5000,
            markdownDescription: 'Timeout in milliseconds after which file participants for create, rename, and delete are cancelled. Use `0` to disable participants.'
        },
        'files.maxFileSizeMB': {
            type: 'number',
            default: exports.MAX_FILE_SIZE_MB,
            markdownDescription: 'Controls the max file size in MB which is possible to open.'
        },
        'files.trimTrailingWhitespace': {
            type: 'boolean',
            default: false,
            description: 'When enabled, will trim trailing whitespace when saving a file.',
            scope: 'language-overridable'
        },
        'files.maxConcurrentUploads': {
            type: 'integer',
            default: 1,
            description: 'Maximum number of concurrent files to upload when uploading multiple files. 0 means all files will be uploaded concurrently.',
        }
    }
};
exports.FileSystemPreferenceContribution = Symbol('FilesystemPreferenceContribution');
exports.FileSystemPreferences = Symbol('FileSystemPreferences');
function createFileSystemPreferences(preferences, schema = exports.filesystemPreferenceSchema) {
    return preferences_1.createPreferenceProxy(preferences, schema);
}
exports.createFileSystemPreferences = createFileSystemPreferences;
function bindFileSystemPreferences(bind) {
    bind(exports.FileSystemPreferences).toDynamicValue(ctx => {
        const preferences = ctx.container.get(preferences_1.PreferenceService);
        const contribution = ctx.container.get(exports.FileSystemPreferenceContribution);
        return createFileSystemPreferences(preferences, contribution.schema);
    }).inSingletonScope();
    bind(exports.FileSystemPreferenceContribution).toConstantValue({ schema: exports.filesystemPreferenceSchema });
    bind(preferences_1.PreferenceContribution).toService(exports.FileSystemPreferenceContribution);
}
exports.bindFileSystemPreferences = bindFileSystemPreferences;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/filesystem-watcher-error-handler.js":
/*!*************************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/filesystem-watcher-error-handler.js ***!
  \*************************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2020 Arm and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.FileSystemWatcherErrorHandler = void 0;
const inversify_1 = __webpack_require__(/*! @theia/core/shared/inversify */ "../node_modules/@theia/file-search/node_modules/@theia/core/shared/inversify.js");
const environment_1 = __webpack_require__(/*! @theia/core/shared/@theia/application-package/lib/environment */ "../node_modules/@theia/file-search/node_modules/@theia/core/shared/@theia/application-package/lib/environment.js");
const core_1 = __webpack_require__(/*! @theia/core */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/index.js");
const window_service_1 = __webpack_require__(/*! @theia/core/lib/browser/window/window-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/window/window-service.js");
let FileSystemWatcherErrorHandler = class FileSystemWatcherErrorHandler {
    constructor() {
        this.watchHandlesExhausted = false;
    }
    get instructionsLink() {
        return 'https://code.visualstudio.com/docs/setup/linux#_visual-studio-code-is-unable-to-watch-for-file-changes-in-this-large-workspace-error-enospc';
    }
    async handleError() {
        if (!this.watchHandlesExhausted) {
            this.watchHandlesExhausted = true;
            if (this.isElectron()) {
                const instructionsAction = 'Instructions';
                const action = await this.messageService.warn('Unable to watch for file changes in this large workspace.  Please follow the instructions link to resolve this issue.', { timeout: 60000 }, instructionsAction);
                if (action === instructionsAction) {
                    this.windowService.openNewWindow(this.instructionsLink, { external: true });
                }
            }
            else {
                await this.messageService.warn('Unable to watch for file changes in this large workspace.  The information you see may not include recent file changes.', { timeout: 60000 });
            }
        }
    }
    isElectron() {
        return environment_1.environment.electron.is();
    }
};
__decorate([
    inversify_1.inject(core_1.MessageService),
    __metadata("design:type", core_1.MessageService)
], FileSystemWatcherErrorHandler.prototype, "messageService", void 0);
__decorate([
    inversify_1.inject(window_service_1.WindowService),
    __metadata("design:type", Object)
], FileSystemWatcherErrorHandler.prototype, "windowService", void 0);
FileSystemWatcherErrorHandler = __decorate([
    inversify_1.injectable()
], FileSystemWatcherErrorHandler);
exports.FileSystemWatcherErrorHandler = FileSystemWatcherErrorHandler;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/filesystem-watcher.js":
/*!***********************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/filesystem-watcher.js ***!
  \***********************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.FileSystemWatcher = exports.FileOperationEmitter = exports.FileMoveEvent = exports.FileChangeEvent = exports.FileChange = void 0;
const inversify_1 = __webpack_require__(/*! @theia/core/shared/inversify */ "../node_modules/@theia/file-search/node_modules/@theia/core/shared/inversify.js");
const disposable_1 = __webpack_require__(/*! @theia/core/lib/common/disposable */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/disposable.js");
const event_1 = __webpack_require__(/*! @theia/core/lib/common/event */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/event.js");
const file_service_1 = __webpack_require__(/*! ./file-service */ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-service.js");
var FileChange;
(function (FileChange) {
    function isUpdated(change, uri) {
        return change.type === 0 /* UPDATED */ && uri.toString() === change.uri.toString();
    }
    FileChange.isUpdated = isUpdated;
    function isAdded(change, uri) {
        return change.type === 1 /* ADDED */ && uri.toString() === change.uri.toString();
    }
    FileChange.isAdded = isAdded;
    function isDeleted(change, uri) {
        return change.type === 2 /* DELETED */ && change.uri.isEqualOrParent(uri);
    }
    FileChange.isDeleted = isDeleted;
    function isAffected(change, uri) {
        return isDeleted(change, uri) || uri.toString() === change.uri.toString();
    }
    FileChange.isAffected = isAffected;
    function isChanged(change, uri) {
        return !isDeleted(change, uri) && uri.toString() === change.uri.toString();
    }
    FileChange.isChanged = isChanged;
})(FileChange = exports.FileChange || (exports.FileChange = {}));
var FileChangeEvent;
(function (FileChangeEvent) {
    function isUpdated(event, uri) {
        return event.some(change => FileChange.isUpdated(change, uri));
    }
    FileChangeEvent.isUpdated = isUpdated;
    function isAdded(event, uri) {
        return event.some(change => FileChange.isAdded(change, uri));
    }
    FileChangeEvent.isAdded = isAdded;
    function isDeleted(event, uri) {
        return event.some(change => FileChange.isDeleted(change, uri));
    }
    FileChangeEvent.isDeleted = isDeleted;
    function isAffected(event, uri) {
        return event.some(change => FileChange.isAffected(change, uri));
    }
    FileChangeEvent.isAffected = isAffected;
    function isChanged(event, uri) {
        return !isDeleted(event, uri) && event.some(change => FileChange.isChanged(change, uri));
    }
    FileChangeEvent.isChanged = isChanged;
})(FileChangeEvent = exports.FileChangeEvent || (exports.FileChangeEvent = {}));
var FileMoveEvent;
(function (FileMoveEvent) {
    function isRename({ sourceUri, targetUri }) {
        return sourceUri.parent.toString() === targetUri.parent.toString();
    }
    FileMoveEvent.isRename = isRename;
})(FileMoveEvent = exports.FileMoveEvent || (exports.FileMoveEvent = {}));
class FileOperationEmitter {
    constructor() {
        this.onWillEmitter = new event_1.Emitter();
        this.onWill = this.onWillEmitter.event;
        this.onDidFailEmitter = new event_1.Emitter();
        this.onDidFail = this.onDidFailEmitter.event;
        this.onDidEmitter = new event_1.Emitter();
        this.onDid = this.onDidEmitter.event;
        this.toDispose = new disposable_1.DisposableCollection(this.onWillEmitter, this.onDidFailEmitter, this.onDidEmitter);
    }
    dispose() {
        this.toDispose.dispose();
    }
    async fireWill(event) {
        await event_1.WaitUntilEvent.fire(this.onWillEmitter, event);
    }
    async fireDid(failed, event) {
        const onDidEmitter = failed ? this.onDidFailEmitter : this.onDidEmitter;
        await event_1.WaitUntilEvent.fire(onDidEmitter, event);
    }
}
exports.FileOperationEmitter = FileOperationEmitter;
/**
 * React to file system events, including calls originating from the
 * application or event coming from the system's filesystem directly
 * (actual file watching).
 *
 * `on(will|did)(create|rename|delete)` events solely come from application
 * usage, not from actual filesystem.
 *
 * @deprecated since 1.4.0 - in order to support VS Code FS API (https://github.com/eclipse-theia/theia/pull/7908), use `FileService.watch` instead
 */
let FileSystemWatcher = class FileSystemWatcher {
    constructor() {
        this.toDispose = new disposable_1.DisposableCollection();
        this.toRestartAll = new disposable_1.DisposableCollection();
        this.onFileChangedEmitter = new event_1.Emitter();
        /**
         * @deprecated since 1.4.0 - in order to support VS Code FS API (https://github.com/eclipse-theia/theia/pull/7908), use `FileService.onDidFilesChange` instead
         */
        this.onFilesChanged = this.onFileChangedEmitter.event;
        this.fileCreateEmitter = new FileOperationEmitter();
        /**
         * @deprecated since 1.4.0 - in order to support VS Code FS API (https://github.com/eclipse-theia/theia/pull/7908), use `FileService.onWillRunUserOperation` instead
         */
        this.onWillCreate = this.fileCreateEmitter.onWill;
        /**
         * @deprecated since 1.4.0 - in order to support VS Code FS API (https://github.com/eclipse-theia/theia/pull/7908), use `FileService.onDidFailUserOperation` instead
         */
        this.onDidFailCreate = this.fileCreateEmitter.onDidFail;
        /**
         * @deprecated since 1.4.0 - in order to support VS Code FS API (https://github.com/eclipse-theia/theia/pull/7908),
         * instead use `FileService.onDidRunUserOperation` for events triggered by user gestures
         * or `FileService.onDidRunOperation` triggered by user gestures and programmatically
         */
        this.onDidCreate = this.fileCreateEmitter.onDid;
        this.fileDeleteEmitter = new FileOperationEmitter();
        /**
         * @deprecated since 1.4.0 - in order to support VS Code FS API (https://github.com/eclipse-theia/theia/pull/7908), use `FileService.onWillRunUserOperation` instead
         */
        this.onWillDelete = this.fileDeleteEmitter.onWill;
        /**
         * @deprecated since 1.4.0 - in order to support VS Code FS API (https://github.com/eclipse-theia/theia/pull/7908), use `FileService.onDidFailUserOperation` instead
         */
        this.onDidFailDelete = this.fileDeleteEmitter.onDidFail;
        /**
         * @deprecated since 1.4.0 - in order to support VS Code FS API (https://github.com/eclipse-theia/theia/pull/7908),
         * instead use `FileService.onDidRunUserOperation` for events triggered by user gestures
         * or `FileService.onDidRunOperation` triggered by user gestures and programmatically
         */
        this.onDidDelete = this.fileDeleteEmitter.onDid;
        this.fileMoveEmitter = new FileOperationEmitter();
        /**
         * @deprecated since 1.4.0 - in order to support VS Code FS API (https://github.com/eclipse-theia/theia/pull/7908), use `FileService.onWillRunUserOperation` instead
         */
        this.onWillMove = this.fileMoveEmitter.onWill;
        /**
         * @deprecated since 1.4.0 - in order to support VS Code FS API (https://github.com/eclipse-theia/theia/pull/7908), use `FileService.onDidFailUserOperation` instead
         */
        this.onDidFailMove = this.fileMoveEmitter.onDidFail;
        /**
         * @deprecated since 1.4.0 - in order to support VS Code FS API (https://github.com/eclipse-theia/theia/pull/7908),
         * instead use `FileService.onDidRunUserOperation` for events triggered by user gestures
         * or `FileService.onDidRunOperation` triggered by user gestures and programmatically
         */
        this.onDidMove = this.fileMoveEmitter.onDid;
    }
    init() {
        this.toDispose.push(this.onFileChangedEmitter);
        this.toDispose.push(this.fileDeleteEmitter);
        this.toDispose.push(this.fileMoveEmitter);
        this.toDispose.push(this.fileService.onWillRunUserOperation(event => {
            if (event.operation === 0 /* CREATE */) {
                this.fileCreateEmitter.fireWill({ uri: event.target });
            }
            else if (event.operation === 1 /* DELETE */) {
                this.fileDeleteEmitter.fireWill({ uri: event.target });
            }
            else if (event.operation === 2 /* MOVE */ && event.source) {
                this.fileMoveEmitter.fireWill({ sourceUri: event.source, targetUri: event.target });
            }
        }));
        this.toDispose.push(this.fileService.onDidFailUserOperation(event => {
            if (event.operation === 0 /* CREATE */) {
                this.fileCreateEmitter.fireDid(true, { uri: event.target });
            }
            else if (event.operation === 1 /* DELETE */) {
                this.fileDeleteEmitter.fireDid(true, { uri: event.target });
            }
            else if (event.operation === 2 /* MOVE */ && event.source) {
                this.fileMoveEmitter.fireDid(true, { sourceUri: event.source, targetUri: event.target });
            }
        }));
        this.toDispose.push(this.fileService.onDidRunUserOperation(event => {
            if (event.operation === 0 /* CREATE */) {
                this.fileCreateEmitter.fireDid(false, { uri: event.target });
            }
            else if (event.operation === 1 /* DELETE */) {
                this.fileDeleteEmitter.fireDid(false, { uri: event.target });
            }
            else if (event.operation === 2 /* MOVE */ && event.source) {
                this.fileMoveEmitter.fireDid(false, { sourceUri: event.source, targetUri: event.target });
            }
        }));
    }
    /**
     * Stop watching.
     */
    dispose() {
        this.toDispose.dispose();
    }
    /**
     * Start file watching under the given uri.
     *
     * Resolve when watching is started.
     * Return a disposable to stop file watching under the given uri.
     */
    async watchFileChanges(uri) {
        return this.fileService.watch(uri);
    }
};
__decorate([
    inversify_1.inject(file_service_1.FileService),
    __metadata("design:type", file_service_1.FileService)
], FileSystemWatcher.prototype, "fileService", void 0);
__decorate([
    inversify_1.postConstruct(),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", []),
    __metadata("design:returntype", void 0)
], FileSystemWatcher.prototype, "init", null);
FileSystemWatcher = __decorate([
    inversify_1.injectable()
], FileSystemWatcher);
exports.FileSystemWatcher = FileSystemWatcher;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/index.js":
/*!**********************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/index.js ***!
  \**********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
__exportStar(__webpack_require__(/*! ./location */ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/location/index.js"), exports);
__exportStar(__webpack_require__(/*! ./file-tree */ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-tree/index.js"), exports);
__exportStar(__webpack_require__(/*! ./file-dialog */ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-dialog/index.js"), exports);
__exportStar(__webpack_require__(/*! ./filesystem-preferences */ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/filesystem-preferences.js"), exports);
__exportStar(__webpack_require__(/*! ./filesystem-watcher */ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/filesystem-watcher.js"), exports);
__exportStar(__webpack_require__(/*! ./file-resource */ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-resource.js"), exports);


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/location/index.js":
/*!*******************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/location/index.js ***!
  \*******************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
__exportStar(__webpack_require__(/*! ./location-service */ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/location/location-service.js"), exports);
__exportStar(__webpack_require__(/*! ./location-renderer */ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/location/location-renderer.js"), exports);


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/location/location-renderer.js":
/*!*******************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/location/location-renderer.js ***!
  \*******************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
var LocationListRenderer_1;
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.LocationListRenderer = exports.LocationListRendererOptions = exports.LocationListRendererFactory = void 0;
const uri_1 = __webpack_require__(/*! @theia/core/lib/common/uri */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/uri.js");
const React = __webpack_require__(/*! @theia/core/shared/react */ "../node_modules/@theia/file-search/node_modules/@theia/core/shared/react.js");
const ReactDOM = __webpack_require__(/*! @theia/core/shared/react-dom */ "../node_modules/@theia/file-search/node_modules/@theia/core/shared/react-dom.js");
const file_service_1 = __webpack_require__(/*! ../file-service */ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-service.js");
const common_1 = __webpack_require__(/*! @theia/core/lib/common */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/index.js");
const inversify_1 = __webpack_require__(/*! @theia/core/shared/inversify */ "../node_modules/@theia/file-search/node_modules/@theia/core/shared/inversify.js");
const env_variables_1 = __webpack_require__(/*! @theia/core/lib/common/env-variables */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/env-variables/index.js");
const react_renderer_1 = __webpack_require__(/*! @theia/core/lib/browser/widgets/react-renderer */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/widgets/react-renderer.js");
const common_2 = __webpack_require__(/*! @theia/core/lib/common */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/index.js");
const browser_1 = __webpack_require__(/*! @theia/core/lib/browser */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/index.js");
class ResolvedDirectoryCache {
    constructor(fileService) {
        this.fileService = fileService;
        this.pendingResolvedDirectories = new Map();
        this.cachedDirectories = new Map();
        this.directoryResolvedEmitter = new common_1.Emitter();
        this.onDirectoryDidResolve = this.directoryResolvedEmitter.event;
    }
    tryResolveChildDirectories(inputAsURI) {
        const parentDirectory = inputAsURI.path.dir.toString();
        const cachedDirectories = this.cachedDirectories.get(parentDirectory);
        const pendingDirectories = this.pendingResolvedDirectories.get(parentDirectory);
        if (cachedDirectories) {
            return cachedDirectories;
        }
        else if (!pendingDirectories) {
            this.pendingResolvedDirectories.set(parentDirectory, this.createResolutionPromise(parentDirectory));
        }
        return undefined;
    }
    async createResolutionPromise(directoryToResolve) {
        return this.fileService.resolve(new uri_1.default(directoryToResolve)).then(({ children }) => {
            if (children) {
                const childDirectories = children.filter(child => child.isDirectory)
                    .map(directory => `${directory.resource.path}/`);
                this.cachedDirectories.set(directoryToResolve, childDirectories);
                this.directoryResolvedEmitter.fire({ parent: directoryToResolve, children: childDirectories });
            }
        }).catch(e => {
            // no-op
        });
    }
}
exports.LocationListRendererFactory = Symbol('LocationListRendererFactory');
exports.LocationListRendererOptions = Symbol('LocationListRendererOptions');
let LocationListRenderer = LocationListRenderer_1 = class LocationListRenderer extends react_renderer_1.ReactRenderer {
    constructor(options) {
        super(options.host);
        this.options = options;
        this.toDisposeOnNewCache = new common_1.DisposableCollection();
        this._doShowTextInput = false;
        this.doAttemptAutocomplete = true;
        this.doAfterRender = () => {
            const locationList = this.locationList;
            const locationListTextInput = this.locationTextInput;
            if (locationList) {
                const currentLocation = this.service.location;
                locationList.value = currentLocation ? currentLocation.toString() : '';
            }
            else if (locationListTextInput) {
                locationListTextInput.focus();
            }
        };
        this.handleLocationChanged = (e) => this.onLocationChanged(e);
        this.handleTextInputOnChange = (e) => this.trySuggestDirectory(e);
        this.handleTextInputKeyDown = (e) => this.handleControlKeys(e);
        this.handleIconKeyDown = (e) => this.toggleInputOnKeyDown(e);
        this.handleTextInputOnBlur = () => this.toggleToSelectInput();
        this.handleTextInputMouseDown = (e) => this.toggleToTextInputOnMouseDown(e);
        this.service = options.model;
        this.doLoadDrives();
    }
    get doShowTextInput() {
        return this._doShowTextInput;
    }
    set doShowTextInput(doShow) {
        this._doShowTextInput = doShow;
        if (doShow) {
            this.initResolveDirectoryCache();
        }
    }
    async init() {
        const homeDirWithPrefix = await this.variablesServer.getHomeDirUri();
        this.homeDir = (new uri_1.default(homeDirWithPrefix)).path.toString();
    }
    render() {
        ReactDOM.render(this.doRender(), this.host, this.doAfterRender);
    }
    initResolveDirectoryCache() {
        this.toDisposeOnNewCache.dispose();
        this.directoryCache = new ResolvedDirectoryCache(this.fileService);
        this.toDisposeOnNewCache.push(this.directoryCache.onDirectoryDidResolve(({ parent, children }) => {
            if (this.locationTextInput) {
                const expandedPath = common_2.Path.untildify(this.locationTextInput.value, this.homeDir);
                const inputParent = (new uri_1.default(expandedPath)).path.dir.toString();
                if (inputParent === parent) {
                    this.tryRenderFirstMatch(this.locationTextInput, children);
                }
            }
        }));
    }
    doRender() {
        return (React.createElement(React.Fragment, null,
            this.renderInputIcon(),
            this.doShowTextInput
                ? this.renderTextInput()
                : this.renderSelectInput()));
    }
    renderInputIcon() {
        return (React.createElement("span", { 
            // onMouseDown is used since it will fire before 'onBlur'. This prevents
            // a re-render when textinput is in focus and user clicks toggle icon
            onMouseDown: this.handleTextInputMouseDown, onKeyDown: this.handleIconKeyDown, className: LocationListRenderer_1.Styles.LOCATION_INPUT_TOGGLE_CLASS, tabIndex: 0, id: `${this.doShowTextInput ? 'text-input' : 'select-input'}`, title: this.doShowTextInput
                ? LocationListRenderer_1.Tooltips.TOGGLE_SELECT_INPUT
                : LocationListRenderer_1.Tooltips.TOGGLE_TEXT_INPUT },
            React.createElement("i", { className: browser_1.codicon(this.doShowTextInput ? 'folder-opened' : 'edit') })));
    }
    renderTextInput() {
        var _a;
        return (React.createElement("input", { className: 'theia-select ' + LocationListRenderer_1.Styles.LOCATION_TEXT_INPUT_CLASS, defaultValue: (_a = this.service.location) === null || _a === void 0 ? void 0 : _a.path.toString(), onBlur: this.handleTextInputOnBlur, onChange: this.handleTextInputOnChange, onKeyDown: this.handleTextInputKeyDown, spellCheck: false }));
    }
    renderSelectInput() {
        const options = this.collectLocations().map(value => this.renderLocation(value));
        return (React.createElement("select", { className: `theia-select ${LocationListRenderer_1.Styles.LOCATION_LIST_CLASS}`, onChange: this.handleLocationChanged }, options));
    }
    toggleInputOnKeyDown(e) {
        if (e.key === 'Enter') {
            this.doShowTextInput = true;
            this.render();
        }
    }
    toggleToTextInputOnMouseDown(e) {
        if (e.currentTarget.id === 'select-input') {
            e.preventDefault();
            this.doShowTextInput = true;
            this.render();
        }
    }
    toggleToSelectInput() {
        if (this.doShowTextInput) {
            this.doShowTextInput = false;
            this.render();
        }
    }
    /**
     * Collects the available locations based on the currently selected, and appends the available drives to it.
     */
    collectLocations() {
        const location = this.service.location;
        const locations = (!!location ? location.allLocations : []).map(uri => ({ uri }));
        if (this._drives) {
            const drives = this._drives.map(uri => ({ uri, isDrive: true }));
            // `URI.allLocations` returns with the URI without the trailing slash unlike `FileUri.create(fsPath)`.
            // to be able to compare file:///path/to/resource with file:///path/to/resource/.
            const toUriString = (uri) => {
                const toString = uri.toString();
                return toString.endsWith('/') ? toString.slice(0, -1) : toString;
            };
            drives.forEach(drive => {
                const index = locations.findIndex(loc => toUriString(loc.uri) === toUriString(drive.uri));
                // Ignore drives which are already discovered as a location based on the current model root URI.
                if (index === -1) {
                    // Make sure, it does not have the trailing slash.
                    locations.push({ uri: new uri_1.default(toUriString(drive.uri)), isDrive: true });
                }
                else {
                    // This is necessary for Windows to be able to show `/e:/` as a drive and `c:` as "non-drive" in the same way.
                    // `URI.path.toString()` Vs. `URI.displayName` behaves a bit differently on Windows.
                    // https://github.com/eclipse-theia/theia/pull/3038#issuecomment-425944189
                    locations[index].isDrive = true;
                }
            });
        }
        this.doLoadDrives();
        return locations;
    }
    /**
     * Asynchronously loads the drives (if not yet available) and triggers a UI update on success with the new values.
     */
    doLoadDrives() {
        if (!this._drives) {
            this.service.drives().then(drives => {
                // If the `drives` are empty, something already went wrong.
                if (drives.length > 0) {
                    this._drives = drives;
                    this.render();
                }
            });
        }
    }
    renderLocation(location) {
        const { uri, isDrive } = location;
        const value = uri.toString();
        return React.createElement("option", { value: value, key: uri.toString() }, isDrive ? uri.path.toString() : uri.displayName);
    }
    onLocationChanged(e) {
        const locationList = this.locationList;
        if (locationList) {
            const value = locationList.value;
            const uri = new uri_1.default(value);
            this.trySetNewLocation(uri);
            e.preventDefault();
            e.stopPropagation();
        }
    }
    trySetNewLocation(newLocation) {
        var _a;
        if (this.lastUniqueTextInputLocation === undefined) {
            this.lastUniqueTextInputLocation = this.service.location;
        }
        // prevent consecutive repeated locations from being added to location history
        if (((_a = this.lastUniqueTextInputLocation) === null || _a === void 0 ? void 0 : _a.path.toString()) !== newLocation.path.toString()) {
            this.lastUniqueTextInputLocation = newLocation;
            this.service.location = newLocation;
        }
    }
    trySuggestDirectory(e) {
        if (this.doAttemptAutocomplete) {
            const inputElement = e.currentTarget;
            const { value } = inputElement;
            if ((value.startsWith('/') || value.startsWith('~/')) && value.slice(-1) !== '/') {
                const expandedPath = common_2.Path.untildify(value, this.homeDir);
                const valueAsURI = new uri_1.default(expandedPath);
                const autocompleteDirectories = this.directoryCache.tryResolveChildDirectories(valueAsURI);
                if (autocompleteDirectories) {
                    this.tryRenderFirstMatch(inputElement, autocompleteDirectories);
                }
            }
        }
    }
    tryRenderFirstMatch(inputElement, children) {
        const { value, selectionStart } = inputElement;
        if (this.locationTextInput) {
            const expandedPath = common_2.Path.untildify(value, this.homeDir);
            const firstMatch = children === null || children === void 0 ? void 0 : children.find(child => child.includes(expandedPath));
            if (firstMatch) {
                const contractedPath = value.startsWith('~') ? common_2.Path.tildify(firstMatch, this.homeDir) : firstMatch;
                this.locationTextInput.value = contractedPath;
                this.locationTextInput.selectionStart = selectionStart;
                this.locationTextInput.selectionEnd = firstMatch.length;
            }
        }
    }
    handleControlKeys(e) {
        this.doAttemptAutocomplete = e.key !== 'Backspace';
        if (e.key === 'Enter') {
            const locationTextInput = this.locationTextInput;
            if (locationTextInput) {
                // expand '~' if present and remove extra whitespace and any trailing slashes or periods.
                const sanitizedInput = locationTextInput.value.trim().replace(/[\/\\.]*$/, '');
                const untildifiedInput = common_2.Path.untildify(sanitizedInput, this.homeDir);
                const uri = new uri_1.default(untildifiedInput);
                this.trySetNewLocation(uri);
                this.toggleToSelectInput();
            }
        }
        else if (e.key === 'Escape') {
            this.toggleToSelectInput();
        }
        else if (e.key === 'Tab') {
            e.preventDefault();
            const textInput = this.locationTextInput;
            if (textInput) {
                textInput.selectionStart = textInput.value.length;
            }
        }
        e.stopPropagation();
    }
    get locationList() {
        const locationList = this.host.getElementsByClassName(LocationListRenderer_1.Styles.LOCATION_LIST_CLASS)[0];
        if (locationList instanceof HTMLSelectElement) {
            return locationList;
        }
        return undefined;
    }
    get locationTextInput() {
        const locationTextInput = this.host.getElementsByClassName(LocationListRenderer_1.Styles.LOCATION_TEXT_INPUT_CLASS)[0];
        if (locationTextInput instanceof HTMLInputElement) {
            return locationTextInput;
        }
        return undefined;
    }
    dispose() {
        super.dispose();
        this.toDisposeOnNewCache.dispose();
    }
};
__decorate([
    inversify_1.inject(file_service_1.FileService),
    __metadata("design:type", file_service_1.FileService)
], LocationListRenderer.prototype, "fileService", void 0);
__decorate([
    inversify_1.inject(env_variables_1.EnvVariablesServer),
    __metadata("design:type", Object)
], LocationListRenderer.prototype, "variablesServer", void 0);
__decorate([
    inversify_1.postConstruct(),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", []),
    __metadata("design:returntype", Promise)
], LocationListRenderer.prototype, "init", null);
LocationListRenderer = LocationListRenderer_1 = __decorate([
    inversify_1.injectable(),
    __param(0, inversify_1.inject(exports.LocationListRendererOptions)),
    __metadata("design:paramtypes", [Object])
], LocationListRenderer);
exports.LocationListRenderer = LocationListRenderer;
(function (LocationListRenderer) {
    let Styles;
    (function (Styles) {
        Styles.LOCATION_LIST_CLASS = 'theia-LocationList';
        Styles.LOCATION_INPUT_TOGGLE_CLASS = 'theia-LocationInputToggle';
        Styles.LOCATION_TEXT_INPUT_CLASS = 'theia-LocationTextInput';
    })(Styles = LocationListRenderer.Styles || (LocationListRenderer.Styles = {}));
    let Tooltips;
    (function (Tooltips) {
        Tooltips.TOGGLE_TEXT_INPUT = 'Switch to text-based input';
        Tooltips.TOGGLE_SELECT_INPUT = 'Switch to location list';
    })(Tooltips = LocationListRenderer.Tooltips || (LocationListRenderer.Tooltips = {}));
})(LocationListRenderer = exports.LocationListRenderer || (exports.LocationListRenderer = {}));
exports.LocationListRenderer = LocationListRenderer;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/location/location-service.js":
/*!******************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/location/location-service.js ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/common/delegating-file-system-provider.js":
/*!***********************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/common/delegating-file-system-provider.js ***!
  \***********************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2020 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.DelegatingFileSystemProvider = void 0;
const common_1 = __webpack_require__(/*! @theia/core/lib/common */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/index.js");
const disposable_1 = __webpack_require__(/*! @theia/core/lib/common/disposable */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/disposable.js");
const files_1 = __webpack_require__(/*! ./files */ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/common/files.js");
class DelegatingFileSystemProvider {
    constructor(delegate, options, toDispose = new disposable_1.DisposableCollection()) {
        this.delegate = delegate;
        this.options = options;
        this.toDispose = toDispose;
        this.onDidChangeFileEmitter = new common_1.Emitter();
        this.onDidChangeFile = this.onDidChangeFileEmitter.event;
        this.onFileWatchErrorEmitter = new common_1.Emitter();
        this.onFileWatchError = this.onFileWatchErrorEmitter.event;
        this.toDispose.push(this.onDidChangeFileEmitter);
        this.toDispose.push(delegate.onDidChangeFile(changes => this.handleFileChanges(changes)));
        this.toDispose.push(this.onFileWatchErrorEmitter);
        this.toDispose.push(delegate.onFileWatchError(changes => this.onFileWatchErrorEmitter.fire()));
    }
    dispose() {
        this.toDispose.dispose();
    }
    get capabilities() {
        return this.delegate.capabilities;
    }
    get onDidChangeCapabilities() {
        return this.delegate.onDidChangeCapabilities;
    }
    watch(resource, opts) {
        return this.delegate.watch(this.toUnderlyingResource(resource), opts);
    }
    stat(resource) {
        return this.delegate.stat(this.toUnderlyingResource(resource));
    }
    access(resource, mode) {
        if (files_1.hasAccessCapability(this.delegate)) {
            return this.delegate.access(this.toUnderlyingResource(resource), mode);
        }
        throw new Error('not supported');
    }
    fsPath(resource) {
        if (files_1.hasAccessCapability(this.delegate)) {
            return this.delegate.fsPath(this.toUnderlyingResource(resource));
        }
        throw new Error('not supported');
    }
    mkdir(resource) {
        return this.delegate.mkdir(this.toUnderlyingResource(resource));
    }
    rename(from, to, opts) {
        return this.delegate.rename(this.toUnderlyingResource(from), this.toUnderlyingResource(to), opts);
    }
    copy(from, to, opts) {
        if (files_1.hasFileFolderCopyCapability(this.delegate)) {
            return this.delegate.copy(this.toUnderlyingResource(from), this.toUnderlyingResource(to), opts);
        }
        throw new Error('not supported');
    }
    readFile(resource) {
        if (files_1.hasReadWriteCapability(this.delegate)) {
            return this.delegate.readFile(this.toUnderlyingResource(resource));
        }
        throw new Error('not supported');
    }
    readFileStream(resource, opts, token) {
        if (files_1.hasFileReadStreamCapability(this.delegate)) {
            return this.delegate.readFileStream(this.toUnderlyingResource(resource), opts, token);
        }
        throw new Error('not supported');
    }
    readdir(resource) {
        return this.delegate.readdir(this.toUnderlyingResource(resource));
    }
    writeFile(resource, content, opts) {
        if (files_1.hasReadWriteCapability(this.delegate)) {
            return this.delegate.writeFile(this.toUnderlyingResource(resource), content, opts);
        }
        throw new Error('not supported');
    }
    open(resource, opts) {
        if (files_1.hasOpenReadWriteCloseCapability(this.delegate)) {
            return this.delegate.open(this.toUnderlyingResource(resource), opts);
        }
        throw new Error('not supported');
    }
    close(fd) {
        if (files_1.hasOpenReadWriteCloseCapability(this.delegate)) {
            return this.delegate.close(fd);
        }
        throw new Error('not supported');
    }
    read(fd, pos, data, offset, length) {
        if (files_1.hasOpenReadWriteCloseCapability(this.delegate)) {
            return this.delegate.read(fd, pos, data, offset, length);
        }
        throw new Error('not supported');
    }
    write(fd, pos, data, offset, length) {
        if (files_1.hasOpenReadWriteCloseCapability(this.delegate)) {
            return this.delegate.write(fd, pos, data, offset, length);
        }
        throw new Error('not supported');
    }
    delete(resource, opts) {
        return this.delegate.delete(this.toUnderlyingResource(resource), opts);
    }
    updateFile(resource, changes, opts) {
        if (files_1.hasUpdateCapability(this.delegate)) {
            return this.delegate.updateFile(resource, changes, opts);
        }
        throw new Error('not supported');
    }
    handleFileChanges(changes) {
        const delegatingChanges = [];
        for (const change of changes) {
            const delegatingResource = this.fromUnderlyingResource(change.resource);
            if (delegatingResource) {
                delegatingChanges.push({
                    resource: delegatingResource,
                    type: change.type
                });
            }
        }
        if (delegatingChanges.length) {
            this.onDidChangeFileEmitter.fire(delegatingChanges);
        }
    }
    /**
     * Converts to an underlying fs provider resource format.
     *
     * For example converting `user-storage` resources to `file` resources under a user home:
     * user-storage:/user/settings.json => file://home/.theia/settings.json
     */
    toUnderlyingResource(resource) {
        const underlying = this.options.uriConverter.to(resource);
        if (!underlying) {
            throw new Error('invalid resource: ' + resource.toString());
        }
        return underlying;
    }
    /**
     * Converts from an underlying fs provider resource format.
     *
     * For example converting `file` resources under a user home to `user-storage` resource:
     * - file://home/.theia/settings.json => user-storage:/user/settings.json
     * - file://documents/some-document.txt => undefined
     */
    fromUnderlyingResource(resource) {
        return this.options.uriConverter.from(resource);
    }
}
exports.DelegatingFileSystemProvider = DelegatingFileSystemProvider;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/common/file-upload.js":
/*!***************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/common/file-upload.js ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2021 Ericsson and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.HTTP_FILE_UPLOAD_PATH = void 0;
exports.HTTP_FILE_UPLOAD_PATH = '/file-upload';


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/common/files.js":
/*!*********************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/common/files.js ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2020 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
// based on https://github.com/microsoft/vscode/blob/04c36be045a94fee58e5f8992d3e3fd980294a84/src/vs/platform/files/common/files.ts
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.BinarySize = exports.etag = exports.ETAG_DISABLED = exports.toFileOperationResult = exports.toFileSystemProviderErrorCode = exports.markAsFileSystemProviderError = exports.hasFileReadStreamCapability = exports.hasOpenReadWriteCloseCapability = exports.hasFileFolderCopyCapability = exports.hasReadWriteCapability = exports.hasUpdateCapability = exports.hasAccessCapability = exports.FileSystemProvider = exports.ensureFileSystemProviderError = exports.createFileSystemProviderError = exports.FileSystemProviderError = exports.FileSystemProviderErrorCode = exports.FileType = exports.FileOperationError = exports.FileStat = exports.BaseStat = exports.FileChangesEvent = exports.FileOperationEvent = void 0;
const uri_1 = __webpack_require__(/*! @theia/core/lib/common/uri */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/uri.js");
class FileOperationEvent {
    constructor(resource, operation, target) {
        this.resource = resource;
        this.operation = operation;
        this.target = target;
    }
    isOperation(operation) {
        return this.operation === operation;
    }
}
exports.FileOperationEvent = FileOperationEvent;
class FileChangesEvent {
    constructor(changes) {
        this.changes = changes;
    }
    /**
     * Returns true if this change event contains the provided file with the given change type (if provided). In case of
     * type DELETED, this method will also return true if a folder got deleted that is the parent of the
     * provided file path.
     */
    contains(resource, type) {
        if (!resource) {
            return false;
        }
        const checkForChangeType = typeof type === 'number';
        return this.changes.some(change => {
            if (checkForChangeType && change.type !== type) {
                return false;
            }
            // For deleted also return true when deleted folder is parent of target path
            if (change.type === 2 /* DELETED */) {
                return resource.isEqualOrParent(change.resource);
            }
            return resource.toString() === change.resource.toString();
        });
    }
    /**
     * Returns the changes that describe added files.
     */
    getAdded() {
        return this.getOfType(1 /* ADDED */);
    }
    /**
     * Returns if this event contains added files.
     */
    gotAdded() {
        return this.hasType(1 /* ADDED */);
    }
    /**
     * Returns the changes that describe deleted files.
     */
    getDeleted() {
        return this.getOfType(2 /* DELETED */);
    }
    /**
     * Returns if this event contains deleted files.
     */
    gotDeleted() {
        return this.hasType(2 /* DELETED */);
    }
    /**
     * Returns the changes that describe updated files.
     */
    getUpdated() {
        return this.getOfType(0 /* UPDATED */);
    }
    /**
     * Returns if this event contains updated files.
     */
    gotUpdated() {
        return this.hasType(0 /* UPDATED */);
    }
    getOfType(type) {
        return this.changes.filter(change => change.type === type);
    }
    hasType(type) {
        return this.changes.some(change => change.type === type);
    }
}
exports.FileChangesEvent = FileChangesEvent;
var BaseStat;
(function (BaseStat) {
    function is(arg) {
        return !!arg && typeof arg === 'object'
            // eslint-disable-next-line @typescript-eslint/no-explicit-any
            && ('resource' in arg && arg['resource'] instanceof uri_1.default)
            && ('name' in arg && typeof arg['name'] === 'string');
    }
    BaseStat.is = is;
})(BaseStat = exports.BaseStat || (exports.BaseStat = {}));
var FileStat;
(function (FileStat) {
    function is(arg) {
        return BaseStat.is(arg) &&
            ('isFile' in arg && typeof arg['isFile'] === 'boolean') &&
            ('isDirectory' in arg && typeof arg['isDirectory'] === 'boolean') &&
            ('isSymbolicLink' in arg && typeof arg['isSymbolicLink'] === 'boolean');
    }
    FileStat.is = is;
    function asFileType(stat) {
        let res = 0;
        if (stat.isFile) {
            res += FileType.File;
        }
        else if (stat.isDirectory) {
            res += FileType.Directory;
        }
        if (stat.isSymbolicLink) {
            res += FileType.SymbolicLink;
        }
        return res;
    }
    FileStat.asFileType = asFileType;
    function toStat(stat) {
        return {
            type: asFileType(stat),
            ctime: stat.ctime,
            mtime: stat.mtime,
            size: stat.size
        };
    }
    FileStat.toStat = toStat;
    function fromStat(resource, stat) {
        return {
            resource,
            name: resource.path.base || resource.path.toString(),
            isFile: (stat.type & FileType.File) !== 0,
            isDirectory: (stat.type & FileType.Directory) !== 0,
            isSymbolicLink: (stat.type & FileType.SymbolicLink) !== 0,
            mtime: stat.mtime,
            ctime: stat.ctime,
            size: stat.size,
            etag: etag({ mtime: stat.mtime, size: stat.size })
        };
    }
    FileStat.fromStat = fromStat;
    function dir(resource, stat) {
        return fromStat(resource instanceof uri_1.default ? resource : new uri_1.default(resource), Object.assign({ type: FileType.Directory }, stat));
    }
    FileStat.dir = dir;
    function file(resource, stat) {
        return fromStat(resource instanceof uri_1.default ? resource : new uri_1.default(resource), Object.assign({ type: FileType.File }, stat));
    }
    FileStat.file = file;
})(FileStat = exports.FileStat || (exports.FileStat = {}));
class FileOperationError extends Error {
    constructor(message, fileOperationResult, options) {
        super(message);
        this.fileOperationResult = fileOperationResult;
        this.options = options;
        Object.setPrototypeOf(this, FileOperationError.prototype);
    }
}
exports.FileOperationError = FileOperationError;
var FileType;
(function (FileType) {
    FileType[FileType["Unknown"] = 0] = "Unknown";
    FileType[FileType["File"] = 1] = "File";
    FileType[FileType["Directory"] = 2] = "Directory";
    FileType[FileType["SymbolicLink"] = 64] = "SymbolicLink";
})(FileType = exports.FileType || (exports.FileType = {}));
var FileSystemProviderErrorCode;
(function (FileSystemProviderErrorCode) {
    FileSystemProviderErrorCode["FileExists"] = "EntryExists";
    FileSystemProviderErrorCode["FileNotFound"] = "EntryNotFound";
    FileSystemProviderErrorCode["FileNotADirectory"] = "EntryNotADirectory";
    FileSystemProviderErrorCode["FileIsADirectory"] = "EntryIsADirectory";
    FileSystemProviderErrorCode["FileExceedsMemoryLimit"] = "EntryExceedsMemoryLimit";
    FileSystemProviderErrorCode["FileTooLarge"] = "EntryTooLarge";
    FileSystemProviderErrorCode["NoPermissions"] = "NoPermissions";
    FileSystemProviderErrorCode["Unavailable"] = "Unavailable";
    FileSystemProviderErrorCode["Unknown"] = "Unknown";
})(FileSystemProviderErrorCode = exports.FileSystemProviderErrorCode || (exports.FileSystemProviderErrorCode = {}));
class FileSystemProviderError extends Error {
    constructor(message, code) {
        super(message);
        this.code = code;
        Object.setPrototypeOf(this, FileSystemProviderError.prototype);
    }
}
exports.FileSystemProviderError = FileSystemProviderError;
function createFileSystemProviderError(error, code) {
    const providerError = new FileSystemProviderError(error.toString(), code);
    markAsFileSystemProviderError(providerError, code);
    return providerError;
}
exports.createFileSystemProviderError = createFileSystemProviderError;
function ensureFileSystemProviderError(error) {
    if (!error) {
        return createFileSystemProviderError('Unknown Error', FileSystemProviderErrorCode.Unknown); // https://github.com/Microsoft/vscode/issues/72798
    }
    return error;
}
exports.ensureFileSystemProviderError = ensureFileSystemProviderError;
exports.FileSystemProvider = Symbol('FileSystemProvider');
function hasAccessCapability(provider) {
    return !!(provider.capabilities & 16777216 /* Access */);
}
exports.hasAccessCapability = hasAccessCapability;
function hasUpdateCapability(provider) {
    return !!(provider.capabilities & 33554432 /* Update */);
}
exports.hasUpdateCapability = hasUpdateCapability;
function hasReadWriteCapability(provider) {
    return !!(provider.capabilities & 2 /* FileReadWrite */);
}
exports.hasReadWriteCapability = hasReadWriteCapability;
function hasFileFolderCopyCapability(provider) {
    return !!(provider.capabilities & 8 /* FileFolderCopy */);
}
exports.hasFileFolderCopyCapability = hasFileFolderCopyCapability;
function hasOpenReadWriteCloseCapability(provider) {
    return !!(provider.capabilities & 4 /* FileOpenReadWriteClose */);
}
exports.hasOpenReadWriteCloseCapability = hasOpenReadWriteCloseCapability;
function hasFileReadStreamCapability(provider) {
    return !!(provider.capabilities & 16 /* FileReadStream */);
}
exports.hasFileReadStreamCapability = hasFileReadStreamCapability;
function markAsFileSystemProviderError(error, code) {
    error.name = code ? `${code} (FileSystemError)` : 'FileSystemError';
    return error;
}
exports.markAsFileSystemProviderError = markAsFileSystemProviderError;
function toFileSystemProviderErrorCode(error) {
    // Guard against abuse
    if (!error) {
        return FileSystemProviderErrorCode.Unknown;
    }
    // FileSystemProviderError comes with the code
    if (error instanceof FileSystemProviderError) {
        return error.code;
    }
    // Any other error, check for name match by assuming that the error
    // went through the markAsFileSystemProviderError() method
    const match = /^(.+) \(FileSystemError\)$/.exec(error.name);
    if (!match) {
        return FileSystemProviderErrorCode.Unknown;
    }
    switch (match[1]) {
        case FileSystemProviderErrorCode.FileExists: return FileSystemProviderErrorCode.FileExists;
        case FileSystemProviderErrorCode.FileIsADirectory: return FileSystemProviderErrorCode.FileIsADirectory;
        case FileSystemProviderErrorCode.FileNotADirectory: return FileSystemProviderErrorCode.FileNotADirectory;
        case FileSystemProviderErrorCode.FileNotFound: return FileSystemProviderErrorCode.FileNotFound;
        case FileSystemProviderErrorCode.FileExceedsMemoryLimit: return FileSystemProviderErrorCode.FileExceedsMemoryLimit;
        case FileSystemProviderErrorCode.FileTooLarge: return FileSystemProviderErrorCode.FileTooLarge;
        case FileSystemProviderErrorCode.NoPermissions: return FileSystemProviderErrorCode.NoPermissions;
        case FileSystemProviderErrorCode.Unavailable: return FileSystemProviderErrorCode.Unavailable;
    }
    return FileSystemProviderErrorCode.Unknown;
}
exports.toFileSystemProviderErrorCode = toFileSystemProviderErrorCode;
function toFileOperationResult(error) {
    // FileSystemProviderError comes with the result already
    if (error instanceof FileOperationError) {
        return error.fileOperationResult;
    }
    // Otherwise try to find from code
    switch (toFileSystemProviderErrorCode(error)) {
        case FileSystemProviderErrorCode.FileNotFound:
            return 1 /* FILE_NOT_FOUND */;
        case FileSystemProviderErrorCode.FileIsADirectory:
            return 0 /* FILE_IS_DIRECTORY */;
        case FileSystemProviderErrorCode.FileNotADirectory:
            return 10 /* FILE_NOT_DIRECTORY */;
        case FileSystemProviderErrorCode.NoPermissions:
            return 6 /* FILE_PERMISSION_DENIED */;
        case FileSystemProviderErrorCode.FileExists:
            return 4 /* FILE_MOVE_CONFLICT */;
        case FileSystemProviderErrorCode.FileExceedsMemoryLimit:
            return 9 /* FILE_EXCEEDS_MEMORY_LIMIT */;
        case FileSystemProviderErrorCode.FileTooLarge:
            return 7 /* FILE_TOO_LARGE */;
        default:
            return 11 /* FILE_OTHER_ERROR */;
    }
}
exports.toFileOperationResult = toFileOperationResult;
/**
 * A hint to disable etag checking for reading/writing.
 */
exports.ETAG_DISABLED = '';
function etag(stat) {
    if (typeof stat.size !== 'number' || typeof stat.mtime !== 'number') {
        return undefined;
    }
    return stat.mtime.toString(29) + stat.size.toString(31);
}
exports.etag = etag;
/**
 * Helper to format a raw byte size into a human readable label.
 */
class BinarySize {
    static formatSize(size) {
        if (size < BinarySize.KB) {
            return size + 'B';
        }
        if (size < BinarySize.MB) {
            return (size / BinarySize.KB).toFixed(2) + 'KB';
        }
        if (size < BinarySize.GB) {
            return (size / BinarySize.MB).toFixed(2) + 'MB';
        }
        if (size < BinarySize.TB) {
            return (size / BinarySize.GB).toFixed(2) + 'GB';
        }
        return (size / BinarySize.TB).toFixed(2) + 'TB';
    }
}
exports.BinarySize = BinarySize;
BinarySize.KB = 1024;
BinarySize.MB = BinarySize.KB * BinarySize.KB;
BinarySize.GB = BinarySize.MB * BinarySize.KB;
BinarySize.TB = BinarySize.GB * BinarySize.KB;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/common/filesystem-utils.js":
/*!********************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/common/filesystem-utils.js ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 Ericsson and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.FileSystemUtils = void 0;
var FileSystemUtils;
(function (FileSystemUtils) {
    /**
     * Generate unique URI for a given parent which does not collide
     *
     * @param parentUri the `URI` of the parent
     * @param parent the `FileStat` of the parent
     * @param name the resource name
     * @param ext the resource extension
     */
    function generateUniqueResourceURI(parentUri, parent, name, ext = '') {
        const children = !parent.children ? [] : parent.children.map(child => child.resource);
        let index = 1;
        let base = name + ext;
        while (children.some(child => child.path.base === base)) {
            index = index + 1;
            base = name + '_' + index + ext;
        }
        return parentUri.resolve(base);
    }
    FileSystemUtils.generateUniqueResourceURI = generateUniqueResourceURI;
})(FileSystemUtils = exports.FileSystemUtils || (exports.FileSystemUtils = {}));


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/common/filesystem.js":
/*!**************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/common/filesystem.js ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.FileSystemError = exports.FileStat = exports.FileAccess = exports.FileSystem = void 0;
const common_1 = __webpack_require__(/*! @theia/core/lib/common */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/index.js");
/**
 * @deprecated since 1.4.0 - in order to support VS Code FS API (https://github.com/eclipse-theia/theia/pull/7908), use `FileService` instead
 */
exports.FileSystem = Symbol('FileSystem');
/**
 * @deprecated since 1.4.0 - in order to support VS Code FS API (https://github.com/eclipse-theia/theia/pull/7908), use `FileService.access` instead
 */
var FileAccess;
(function (FileAccess) {
    let Constants;
    (function (Constants) {
        /**
         * Flag indicating that the file is visible to the calling process.
         * This is useful for determining if a file exists, but says nothing about rwx permissions. Default if no mode is specified.
         */
        Constants.F_OK = 0;
        /**
         * Flag indicating that the file can be read by the calling process.
         */
        Constants.R_OK = 4;
        /**
         * Flag indicating that the file can be written by the calling process.
         */
        Constants.W_OK = 2;
        /**
         * Flag indicating that the file can be executed by the calling process.
         * This has no effect on Windows (will behave like `FileAccess.F_OK`).
         */
        Constants.X_OK = 1;
    })(Constants = FileAccess.Constants || (FileAccess.Constants = {}));
})(FileAccess = exports.FileAccess || (exports.FileAccess = {}));
var FileStat;
(function (FileStat) {
    function is(candidate) {
        return typeof candidate === 'object' && ('uri' in candidate) && ('lastModification' in candidate) && ('isDirectory' in candidate);
    }
    FileStat.is = is;
    function equals(one, other) {
        if (!one || !other || !is(one) || !is(other)) {
            return false;
        }
        return one.uri === other.uri
            && one.lastModification === other.lastModification
            && one.isDirectory === other.isDirectory;
    }
    FileStat.equals = equals;
})(FileStat = exports.FileStat || (exports.FileStat = {}));
/**
 * @deprecated since 1.4.0 - in order to support VS Code FS API (https://github.com/eclipse-theia/theia/pull/7908), use `FileOperationError` instead
 */
var FileSystemError;
(function (FileSystemError) {
    FileSystemError.FileNotFound = common_1.ApplicationError.declare(-33000, (uri, prefix) => ({
        message: `${prefix ? prefix + ' ' : ''}'${uri}' has not been found.`,
        data: { uri }
    }));
    FileSystemError.FileExists = common_1.ApplicationError.declare(-33001, (uri, prefix) => ({
        message: `${prefix ? prefix + ' ' : ''}'${uri}' already exists.`,
        data: { uri }
    }));
    FileSystemError.FileIsDirectory = common_1.ApplicationError.declare(-33002, (uri, prefix) => ({
        message: `${prefix ? prefix + ' ' : ''}'${uri}' is a directory.`,
        data: { uri }
    }));
    FileSystemError.FileNotDirectory = common_1.ApplicationError.declare(-33003, (uri, prefix) => ({
        message: `${prefix ? prefix + ' ' : ''}'${uri}' is not a directory.`,
        data: { uri }
    }));
    FileSystemError.FileIsOutOfSync = common_1.ApplicationError.declare(-33004, (file, stat) => ({
        message: `'${file.uri}' is out of sync.`,
        data: { file, stat }
    }));
})(FileSystemError = exports.FileSystemError || (exports.FileSystemError = {}));


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/common/index.js":
/*!*********************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/common/index.js ***!
  \*********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
__exportStar(__webpack_require__(/*! ./filesystem */ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/common/filesystem.js"), exports);
__exportStar(__webpack_require__(/*! ./filesystem-utils */ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/common/filesystem-utils.js"), exports);


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/common/io.js":
/*!******************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/common/io.js ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2020 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
// based on https://github.com/microsoft/vscode/blob/04c36be045a94fee58e5f8992d3e3fd980294a84/src/vs/platform/files/common/io.ts
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.readFileIntoStream = void 0;
const buffer_1 = __webpack_require__(/*! @theia/core/lib/common//buffer */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/buffer.js");
const cancellation_1 = __webpack_require__(/*! @theia/core/lib/common/cancellation */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/cancellation.js");
const files_1 = __webpack_require__(/*! ./files */ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/common/files.js");
/**
 * A helper to read a file from a provider with open/read/close capability into a stream.
 */
async function readFileIntoStream(provider, resource, target, transformer, options, token) {
    let error = undefined;
    try {
        await doReadFileIntoStream(provider, resource, target, transformer, options, token);
    }
    catch (err) {
        error = err;
    }
    finally {
        if (error && options.errorTransformer) {
            error = options.errorTransformer(error);
        }
        target.end(error);
    }
}
exports.readFileIntoStream = readFileIntoStream;
async function doReadFileIntoStream(provider, resource, target, transformer, options, token) {
    // Check for cancellation
    throwIfCancelled(token);
    // open handle through provider
    const handle = await provider.open(resource, { create: false });
    // Check for cancellation
    throwIfCancelled(token);
    try {
        let totalBytesRead = 0;
        let bytesRead = 0;
        let allowedRemainingBytes = (options && typeof options.length === 'number') ? options.length : undefined;
        let buffer = buffer_1.BinaryBuffer.alloc(Math.min(options.bufferSize, typeof allowedRemainingBytes === 'number' ? allowedRemainingBytes : options.bufferSize));
        let posInFile = options && typeof options.position === 'number' ? options.position : 0;
        let posInBuffer = 0;
        do {
            // read from source (handle) at current position (pos) into buffer (buffer) at
            // buffer position (posInBuffer) up to the size of the buffer (buffer.byteLength).
            bytesRead = await provider.read(handle, posInFile, buffer.buffer, posInBuffer, buffer.byteLength - posInBuffer);
            posInFile += bytesRead;
            posInBuffer += bytesRead;
            totalBytesRead += bytesRead;
            if (typeof allowedRemainingBytes === 'number') {
                allowedRemainingBytes -= bytesRead;
            }
            // when buffer full, create a new one and emit it through stream
            if (posInBuffer === buffer.byteLength) {
                await target.write(transformer(buffer));
                buffer = buffer_1.BinaryBuffer.alloc(Math.min(options.bufferSize, typeof allowedRemainingBytes === 'number' ? allowedRemainingBytes : options.bufferSize));
                posInBuffer = 0;
            }
        } while (bytesRead > 0 && (typeof allowedRemainingBytes !== 'number' || allowedRemainingBytes > 0) && throwIfCancelled(token) && throwIfTooLarge(totalBytesRead, options));
        // wrap up with last buffer (also respect maxBytes if provided)
        if (posInBuffer > 0) {
            let lastChunkLength = posInBuffer;
            if (typeof allowedRemainingBytes === 'number') {
                lastChunkLength = Math.min(posInBuffer, allowedRemainingBytes);
            }
            target.write(transformer(buffer.slice(0, lastChunkLength)));
        }
    }
    catch (error) {
        throw files_1.ensureFileSystemProviderError(error);
    }
    finally {
        await provider.close(handle);
    }
}
function throwIfCancelled(token) {
    if (token.isCancellationRequested) {
        throw cancellation_1.cancelled();
    }
    return true;
}
function throwIfTooLarge(totalBytesRead, options) {
    // Return early if file is too large to load and we have configured limits
    if (options === null || options === void 0 ? void 0 : options.limits) {
        if (typeof options.limits.memory === 'number' && totalBytesRead > options.limits.memory) {
            throw files_1.createFileSystemProviderError('To open a file of this size, you need to restart and allow it to use more memory', files_1.FileSystemProviderErrorCode.FileExceedsMemoryLimit);
        }
        if (typeof options.limits.size === 'number' && totalBytesRead > options.limits.size) {
            throw files_1.createFileSystemProviderError('File is too large to open', files_1.FileSystemProviderErrorCode.FileTooLarge);
        }
    }
    return true;
}


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/variable-resolver/lib/browser/index.js":
/*!*****************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/variable-resolver/lib/browser/index.js ***!
  \*****************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 Red Hat, Inc. and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
__exportStar(__webpack_require__(/*! ./variable */ "../node_modules/@theia/file-search/node_modules/@theia/variable-resolver/lib/browser/variable.js"), exports);
__exportStar(__webpack_require__(/*! ./variable-quick-open-service */ "../node_modules/@theia/file-search/node_modules/@theia/variable-resolver/lib/browser/variable-quick-open-service.js"), exports);
__exportStar(__webpack_require__(/*! ./variable-resolver-service */ "../node_modules/@theia/file-search/node_modules/@theia/variable-resolver/lib/browser/variable-resolver-service.js"), exports);


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/variable-resolver/lib/browser/variable-quick-open-service.js":
/*!***************************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/variable-resolver/lib/browser/variable-quick-open-service.js ***!
  \***************************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 Red Hat, Inc. and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (this && this.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.VariableQuickOpenService = void 0;
const inversify_1 = __webpack_require__(/*! @theia/core/shared/inversify */ "../node_modules/@theia/file-search/node_modules/@theia/core/shared/inversify.js");
const message_service_1 = __webpack_require__(/*! @theia/core/lib/common/message-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/message-service.js");
const variable_1 = __webpack_require__(/*! ./variable */ "../node_modules/@theia/file-search/node_modules/@theia/variable-resolver/lib/browser/variable.js");
const variable_resolver_service_1 = __webpack_require__(/*! ./variable-resolver-service */ "../node_modules/@theia/file-search/node_modules/@theia/variable-resolver/lib/browser/variable-resolver-service.js");
const browser_1 = __webpack_require__(/*! @theia/core/lib/browser */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/index.js");
let VariableQuickOpenService = class VariableQuickOpenService {
    constructor(variableRegistry) {
        this.variableRegistry = variableRegistry;
    }
    open() {
        var _a;
        this.items = this.variableRegistry.getVariables().map(v => ({
            label: '${' + v.name + '}',
            detail: v.description,
            execute: () => {
                setTimeout(() => this.showValue(v));
            }
        }));
        (_a = this.quickInputService) === null || _a === void 0 ? void 0 : _a.showQuickPick(this.items, { placeholder: 'Registered variables' });
    }
    async showValue(variable) {
        var _a;
        const argument = await ((_a = this.quickInputService) === null || _a === void 0 ? void 0 : _a.input({
            placeHolder: 'Type a variable argument'
        }));
        const value = await this.variableResolver.resolve('${' + variable.name + ':' + argument + '}');
        if (typeof value === 'string') {
            this.messages.info(value);
        }
    }
};
__decorate([
    inversify_1.inject(message_service_1.MessageService),
    __metadata("design:type", message_service_1.MessageService)
], VariableQuickOpenService.prototype, "messages", void 0);
__decorate([
    inversify_1.inject(browser_1.QuickInputService),
    inversify_1.optional(),
    __metadata("design:type", Object)
], VariableQuickOpenService.prototype, "quickInputService", void 0);
__decorate([
    inversify_1.inject(variable_resolver_service_1.VariableResolverService),
    __metadata("design:type", variable_resolver_service_1.VariableResolverService)
], VariableQuickOpenService.prototype, "variableResolver", void 0);
VariableQuickOpenService = __decorate([
    inversify_1.injectable(),
    __param(0, inversify_1.inject(variable_1.VariableRegistry)),
    __metadata("design:paramtypes", [variable_1.VariableRegistry])
], VariableQuickOpenService);
exports.VariableQuickOpenService = VariableQuickOpenService;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/variable-resolver/lib/browser/variable-resolver-service.js":
/*!*************************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/variable-resolver/lib/browser/variable-resolver-service.js ***!
  \*************************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 Red Hat, Inc. and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var VariableResolverService_1;
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.VariableResolverService = void 0;
/* eslint-disable @typescript-eslint/no-explicit-any */
const inversify_1 = __webpack_require__(/*! @theia/core/shared/inversify */ "../node_modules/@theia/file-search/node_modules/@theia/core/shared/inversify.js");
const variable_1 = __webpack_require__(/*! ./variable */ "../node_modules/@theia/file-search/node_modules/@theia/variable-resolver/lib/browser/variable.js");
const coreutils_1 = __webpack_require__(/*! @theia/core/shared/@phosphor/coreutils */ "../node_modules/@theia/file-search/node_modules/@theia/core/shared/@phosphor/coreutils.js");
/**
 * The variable resolver service should be used to resolve variables in strings.
 */
let VariableResolverService = VariableResolverService_1 = class VariableResolverService {
    /**
     * Resolve the variables in the given string array.
     * @param value The array of data to resolve
     * @param options options of the variable resolution
     * @returns promise resolved to the provided string array with already resolved variables.
     * Never reject.
     */
    resolveArray(value, options = {}) {
        return this.resolve(value, options);
    }
    /**
     * Resolve the variables in the given string.
     * @param value Data to resolve
     * @param options options of the variable resolution
     * @returns promise resolved to the provided string with already resolved variables.
     * Never reject.
     */
    async resolve(value, options = {}) {
        const context = new VariableResolverService_1.Context(this.variableRegistry, options);
        const resolved = await this.doResolve(value, context);
        return resolved;
    }
    async doResolve(value, context) {
        // eslint-disable-next-line no-null/no-null
        if (value === undefined || value === null) {
            return value;
        }
        if (typeof value === 'string') {
            return this.doResolveString(value, context);
        }
        if (Array.isArray(value)) {
            return this.doResolveArray(value, context);
        }
        if (typeof value === 'object') {
            return this.doResolveObject(value, context);
        }
        return value;
    }
    async doResolveObject(obj, context) {
        const result = {};
        for (const name of Object.keys(obj)) {
            const value = obj[name];
            const resolved = await this.doResolve(value, context);
            result[name] = resolved;
        }
        return result;
    }
    async doResolveArray(values, context) {
        const result = [];
        for (const value of values) {
            const resolved = await this.doResolve(value, context);
            result.push(resolved);
        }
        return result;
    }
    async doResolveString(value, context) {
        await this.resolveVariables(value, context);
        return value.replace(VariableResolverService_1.VAR_REGEXP, (match, varName) => {
            const varValue = context.get(varName);
            return varValue !== undefined ? varValue : match;
        });
    }
    async resolveVariables(value, context) {
        const variableRegExp = new RegExp(VariableResolverService_1.VAR_REGEXP);
        let match;
        // eslint-disable-next-line no-null/no-null
        while ((match = variableRegExp.exec(value)) !== null) {
            const variableName = match[1];
            await context.resolve(variableName);
        }
    }
};
VariableResolverService.VAR_REGEXP = /\$\{(.*?)\}/g;
__decorate([
    inversify_1.inject(variable_1.VariableRegistry),
    __metadata("design:type", variable_1.VariableRegistry)
], VariableResolverService.prototype, "variableRegistry", void 0);
VariableResolverService = VariableResolverService_1 = __decorate([
    inversify_1.injectable()
], VariableResolverService);
exports.VariableResolverService = VariableResolverService;
(function (VariableResolverService) {
    class Context {
        constructor(variableRegistry, options) {
            this.variableRegistry = variableRegistry;
            this.options = options;
            this.resolved = new Map();
        }
        get(name) {
            return this.resolved.get(name);
        }
        async resolve(name) {
            if (this.resolved.has(name)) {
                return;
            }
            try {
                let variableName = name;
                let argument;
                const parts = name.split(':');
                if (parts.length > 1) {
                    variableName = parts[0];
                    argument = parts[1];
                }
                const variable = this.variableRegistry.getVariable(variableName);
                const value = variable && await variable.resolve(this.options.context, argument, this.options.configurationSection);
                // eslint-disable-next-line no-null/no-null
                const stringValue = value !== undefined && value !== null && coreutils_1.JSONExt.isPrimitive(value) ? String(value) : undefined;
                this.resolved.set(name, stringValue);
            }
            catch (e) {
                console.error(`Failed to resolved '${name}' variable`, e);
                this.resolved.set(name, undefined);
            }
        }
    }
    VariableResolverService.Context = Context;
})(VariableResolverService = exports.VariableResolverService || (exports.VariableResolverService = {}));
exports.VariableResolverService = VariableResolverService;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/variable-resolver/lib/browser/variable.js":
/*!********************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/variable-resolver/lib/browser/variable.js ***!
  \********************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 Red Hat, Inc. and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.VariableRegistry = exports.VariableContribution = void 0;
const inversify_1 = __webpack_require__(/*! @theia/core/shared/inversify */ "../node_modules/@theia/file-search/node_modules/@theia/core/shared/inversify.js");
const core_1 = __webpack_require__(/*! @theia/core */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/index.js");
exports.VariableContribution = Symbol('VariableContribution');
/**
 * The variable registry manages variables.
 */
let VariableRegistry = class VariableRegistry {
    constructor() {
        this.variables = new Map();
        this.toDispose = new core_1.DisposableCollection();
    }
    dispose() {
        this.toDispose.dispose();
    }
    /**
     * Register the given variable.
     * Do nothing if a variable is already registered for the given variable name.
     */
    registerVariable(variable) {
        if (this.variables.has(variable.name)) {
            console.warn(`A variables with name ${variable.name} is already registered.`);
            return core_1.Disposable.NULL;
        }
        this.variables.set(variable.name, variable);
        const disposable = {
            dispose: () => this.variables.delete(variable.name)
        };
        this.toDispose.push(disposable);
        return disposable;
    }
    /**
     * Return all registered variables.
     */
    getVariables() {
        return [...this.variables.values()];
    }
    /**
     * Get a variable for the given name or `undefined` if none.
     */
    getVariable(name) {
        return this.variables.get(name);
    }
    /**
     * Register an array of variables.
     * Do nothing if a variable is already registered for the given variable name.
     */
    registerVariables(variables) {
        return variables.map(v => this.registerVariable(v));
    }
};
VariableRegistry = __decorate([
    inversify_1.injectable()
], VariableRegistry);
exports.VariableRegistry = VariableRegistry;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/workspace/lib/browser/workspace-preferences.js":
/*!*************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/workspace/lib/browser/workspace-preferences.js ***!
  \*************************************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 Ericsson and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.bindWorkspacePreferences = exports.createWorkspacePreferences = exports.WorkspacePreferences = exports.WorkspacePreferenceContribution = exports.workspacePreferenceSchema = void 0;
const preferences_1 = __webpack_require__(/*! @theia/core/lib/browser/preferences */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/preferences/index.js");
exports.workspacePreferenceSchema = {
    type: 'object',
    properties: {
        'workspace.preserveWindow': {
            description: 'Enable opening workspaces in current window.',
            type: 'boolean',
            default: false
        },
        'workspace.supportMultiRootWorkspace': {
            description: 'Controls whether multi-root workspace support is enabled.',
            type: 'boolean',
            default: true
        }
    }
};
exports.WorkspacePreferenceContribution = Symbol('WorkspacePreferenceContribution');
exports.WorkspacePreferences = Symbol('WorkspacePreferences');
function createWorkspacePreferences(preferences, schema = exports.workspacePreferenceSchema) {
    return preferences_1.createPreferenceProxy(preferences, schema);
}
exports.createWorkspacePreferences = createWorkspacePreferences;
function bindWorkspacePreferences(bind) {
    bind(exports.WorkspacePreferences).toDynamicValue(ctx => {
        const preferences = ctx.container.get(preferences_1.PreferenceService);
        const contribution = ctx.container.get(exports.WorkspacePreferenceContribution);
        return createWorkspacePreferences(preferences, contribution.schema);
    }).inSingletonScope();
    bind(exports.WorkspacePreferenceContribution).toConstantValue({ schema: exports.workspacePreferenceSchema });
    bind(preferences_1.PreferenceContribution).toService(exports.WorkspacePreferenceContribution);
}
exports.bindWorkspacePreferences = bindWorkspacePreferences;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/workspace/lib/browser/workspace-schema-updater.js":
/*!****************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/workspace/lib/browser/workspace-schema-updater.js ***!
  \****************************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2021 Ericsson and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.workspaceSchema = exports.workspaceSchemaId = exports.WorkspaceSchema = exports.WorkspaceSchemaUpdater = exports.AddKeyMessage = void 0;
const inversify_1 = __webpack_require__(/*! @theia/core/shared/inversify */ "../node_modules/@theia/file-search/node_modules/@theia/core/shared/inversify.js");
const common_1 = __webpack_require__(/*! @theia/core/lib/common */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/index.js");
const uri_1 = __webpack_require__(/*! @theia/core/lib/common/uri */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/uri.js");
const promise_util_1 = __webpack_require__(/*! @theia/core/lib/common/promise-util */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/promise-util.js");
var AddKeyMessage;
(function (AddKeyMessage) {
    AddKeyMessage.is = (message) => !!message && message.schema !== undefined;
})(AddKeyMessage = exports.AddKeyMessage || (exports.AddKeyMessage = {}));
let WorkspaceSchemaUpdater = class WorkspaceSchemaUpdater {
    constructor() {
        this.uri = new uri_1.default(exports.workspaceSchemaId);
        this.editQueue = [];
        this.safeToHandleQueue = new promise_util_1.Deferred();
    }
    init() {
        this.inmemoryResources.add(this.uri, JSON.stringify(exports.workspaceSchema));
        this.safeToHandleQueue.resolve();
    }
    registerSchemas(context) {
        context.registerSchema({
            fileMatch: ['*.theia-workspace', '*.code-workspace'],
            url: this.uri.toString()
        });
    }
    async retrieveCurrent() {
        const current = await this.inmemoryResources.resolve(this.uri).readContents();
        const content = JSON.parse(current);
        if (!WorkspaceSchema.is(content)) {
            throw new Error('Failed to retrieve current workspace schema.');
        }
        return content;
    }
    async updateSchema(message) {
        const doHandle = this.editQueue.length === 0;
        const deferred = new promise_util_1.Deferred();
        this.editQueue.push(Object.assign(Object.assign({}, message), { deferred }));
        if (doHandle) {
            this.handleQueue();
        }
        return deferred.promise;
    }
    async handleQueue() {
        await this.safeToHandleQueue.promise;
        this.safeToHandleQueue = new promise_util_1.Deferred();
        const cache = await this.retrieveCurrent();
        while (this.editQueue.length) {
            const nextMessage = this.editQueue.shift();
            if (AddKeyMessage.is(nextMessage)) {
                this.addKey(nextMessage, cache);
            }
            else if (nextMessage) {
                this.removeKey(nextMessage, cache);
            }
        }
        this.inmemoryResources.update(this.uri, JSON.stringify(cache));
        this.safeToHandleQueue.resolve();
    }
    addKey({ key, schema, deferred }, cache) {
        if (key in cache.properties) {
            return deferred.resolve(false);
        }
        cache.properties[key] = schema;
        deferred.resolve(true);
    }
    removeKey({ key, deferred }, cache) {
        const canDelete = !cache.required.includes(key);
        if (!canDelete) {
            return deferred.resolve(false);
        }
        const keyPresent = delete cache.properties[key];
        deferred.resolve(keyPresent);
    }
};
__decorate([
    inversify_1.inject(common_1.InMemoryResources),
    __metadata("design:type", common_1.InMemoryResources)
], WorkspaceSchemaUpdater.prototype, "inmemoryResources", void 0);
__decorate([
    inversify_1.postConstruct(),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", []),
    __metadata("design:returntype", void 0)
], WorkspaceSchemaUpdater.prototype, "init", null);
WorkspaceSchemaUpdater = __decorate([
    inversify_1.injectable()
], WorkspaceSchemaUpdater);
exports.WorkspaceSchemaUpdater = WorkspaceSchemaUpdater;
var WorkspaceSchema;
(function (WorkspaceSchema) {
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    WorkspaceSchema.is = (candidate) => !!candidate
        && typeof candidate === 'object'
        && 'properties' in candidate
        && typeof candidate.properties === 'object'
        && 'required' in candidate
        && Array.isArray(candidate.required);
})(WorkspaceSchema = exports.WorkspaceSchema || (exports.WorkspaceSchema = {}));
exports.workspaceSchemaId = 'vscode://schemas/workspace';
exports.workspaceSchema = {
    $id: exports.workspaceSchemaId,
    type: 'object',
    title: 'Workspace File',
    required: ['folders'],
    default: { folders: [{ path: '' }], settings: {} },
    properties: {
        folders: {
            description: 'Root folders in the workspace',
            type: 'array',
            items: {
                type: 'object',
                properties: {
                    path: {
                        type: 'string',
                    }
                },
                required: ['path']
            }
        }
    },
};


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/workspace/lib/browser/workspace-service.js":
/*!*********************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/workspace/lib/browser/workspace-service.js ***!
  \*********************************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.WorkspaceData = exports.WorkspaceService = void 0;
const inversify_1 = __webpack_require__(/*! @theia/core/shared/inversify */ "../node_modules/@theia/file-search/node_modules/@theia/core/shared/inversify.js");
const uri_1 = __webpack_require__(/*! @theia/core/lib/common/uri */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/uri.js");
const common_1 = __webpack_require__(/*! ../common */ "../node_modules/@theia/file-search/node_modules/@theia/workspace/lib/common/index.js");
const window_service_1 = __webpack_require__(/*! @theia/core/lib/browser/window/window-service */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/window/window-service.js");
const browser_1 = __webpack_require__(/*! @theia/core/lib/browser */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/index.js");
const promise_util_1 = __webpack_require__(/*! @theia/core/lib/common/promise-util */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/promise-util.js");
const env_variables_1 = __webpack_require__(/*! @theia/core/lib/common/env-variables */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/env-variables/index.js");
const core_1 = __webpack_require__(/*! @theia/core */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/index.js");
const workspace_preferences_1 = __webpack_require__(/*! ./workspace-preferences */ "../node_modules/@theia/file-search/node_modules/@theia/workspace/lib/browser/workspace-preferences.js");
const jsoncparser = __webpack_require__(/*! jsonc-parser */ "../node_modules/jsonc-parser/lib/esm/main.js");
const Ajv = __webpack_require__(/*! ajv */ "../node_modules/ajv/lib/ajv.js");
const frontend_application_config_provider_1 = __webpack_require__(/*! @theia/core/lib/browser/frontend-application-config-provider */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/browser/frontend-application-config-provider.js");
const files_1 = __webpack_require__(/*! @theia/filesystem/lib/common/files */ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/common/files.js");
const file_service_1 = __webpack_require__(/*! @theia/filesystem/lib/browser/file-service */ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/file-service.js");
const browser_2 = __webpack_require__(/*! @theia/filesystem/lib/browser */ "../node_modules/@theia/file-search/node_modules/@theia/filesystem/lib/browser/index.js");
const workspace_schema_updater_1 = __webpack_require__(/*! ./workspace-schema-updater */ "../node_modules/@theia/file-search/node_modules/@theia/workspace/lib/browser/workspace-schema-updater.js");
/**
 * The workspace service.
 */
let WorkspaceService = class WorkspaceService {
    constructor() {
        this._roots = [];
        this.deferredRoots = new promise_util_1.Deferred();
        this._ready = new promise_util_1.Deferred();
        this.onWorkspaceChangeEmitter = new core_1.Emitter();
        this.onWorkspaceLocationChangedEmitter = new core_1.Emitter();
        this.toDisposeOnWorkspace = new core_1.DisposableCollection();
        this.rootWatchers = new Map();
    }
    get ready() {
        return this._ready.promise;
    }
    async init() {
        this.applicationName = frontend_application_config_provider_1.FrontendApplicationConfigProvider.get().applicationName;
        const wsUriString = await this.getDefaultWorkspaceUri();
        const wsStat = await this.toFileStat(wsUriString);
        await this.setWorkspace(wsStat);
        this.fileService.onDidFilesChange(event => {
            if (this._workspace && this._workspace.isFile && event.contains(this._workspace.resource)) {
                this.updateWorkspace();
            }
        });
        this.preferences.onPreferenceChanged(event => {
            if (event.preferenceName === 'workspace.supportMultiRootWorkspace') {
                this.updateWorkspace();
            }
        });
        this.fsPreferences.onPreferenceChanged(event => {
            if (event.preferenceName === 'files.watcherExclude') {
                this.refreshRootWatchers();
            }
        });
        this._ready.resolve();
    }
    /**
     * Resolves to the default workspace URI as string.
     *
     * The default implementation tries to extract the default workspace location
     * from the `window.location.hash`, then falls-back to the most recently
     * used workspace root from the server.
     *
     * It is not ensured that the resolved workspace URI is valid, it can point
     * to a non-existing location.
     */
    getDefaultWorkspaceUri() {
        return this.doGetDefaultWorkspaceUri();
    }
    async doGetDefaultWorkspaceUri() {
        // If an empty window is explicitly requested do not restore a previous workspace.
        // Note: `window.location.hash` includes leading "#" if non-empty.
        if (window.location.hash === `#${window_service_1.DEFAULT_WINDOW_HASH}`) {
            window.location.hash = '';
            return undefined;
        }
        // Prefer the workspace path specified as the URL fragment, if present.
        if (window.location.hash.length > 1) {
            // Remove the leading # and decode the URI.
            const wpPath = decodeURI(window.location.hash.substring(1));
            const workspaceUri = new uri_1.default().withPath(wpPath).withScheme('file');
            let workspaceStat;
            try {
                workspaceStat = await this.fileService.resolve(workspaceUri);
            }
            catch (_a) { }
            if (workspaceStat && !workspaceStat.isDirectory && !this.isWorkspaceFile(workspaceStat)) {
                this.messageService.error(`Not a valid workspace file: ${workspaceUri}`);
                return undefined;
            }
            return workspaceUri.toString();
        }
        else {
            // Else, ask the server for its suggested workspace (usually the one
            // specified on the CLI, or the most recent).
            return this.server.getMostRecentlyUsedWorkspace();
        }
    }
    /**
     * Get the path of the workspace to use initially.
     * @deprecated use `WorkspaceService#getDefaultWorkspaceUri` instead.
     */
    getDefaultWorkspacePath() {
        return this.getDefaultWorkspaceUri();
    }
    /**
     * Set the URL fragment to the given workspace path.
     */
    setURLFragment(workspacePath) {
        window.location.hash = encodeURI(workspacePath);
    }
    get roots() {
        return this.deferredRoots.promise;
    }
    tryGetRoots() {
        return this._roots;
    }
    get workspace() {
        return this._workspace;
    }
    get onWorkspaceChanged() {
        return this.onWorkspaceChangeEmitter.event;
    }
    get onWorkspaceLocationChanged() {
        return this.onWorkspaceLocationChangedEmitter.event;
    }
    async setWorkspace(workspaceStat) {
        if (this._workspace && workspaceStat &&
            this._workspace.resource === workspaceStat.resource &&
            this._workspace.mtime === workspaceStat.mtime &&
            this._workspace.etag === workspaceStat.etag &&
            this._workspace.size === workspaceStat.size) {
            return;
        }
        this.toDisposeOnWorkspace.dispose();
        this._workspace = workspaceStat;
        if (this._workspace) {
            const uri = this._workspace.resource;
            if (this._workspace.isFile) {
                this.toDisposeOnWorkspace.push(this.fileService.watch(uri));
                this.onWorkspaceLocationChangedEmitter.fire(this._workspace);
            }
            this.setURLFragment(uri.path.toString());
        }
        else {
            this.setURLFragment('');
        }
        this.updateTitle();
        await this.server.setMostRecentlyUsedWorkspace(this._workspace ? this._workspace.resource.toString() : '');
        await this.updateWorkspace();
    }
    async updateWorkspace() {
        await this.updateRoots();
        this.watchRoots();
    }
    async updateRoots() {
        const newRoots = await this.computeRoots();
        let rootsChanged = false;
        if (newRoots.length !== this._roots.length || newRoots.length === 0) {
            rootsChanged = true;
        }
        else {
            for (const newRoot of newRoots) {
                if (!this._roots.some(r => r.resource.toString() === newRoot.resource.toString())) {
                    rootsChanged = true;
                    break;
                }
            }
        }
        if (rootsChanged) {
            this._roots = newRoots;
            this.deferredRoots.resolve(this._roots); // in order to resolve first
            this.deferredRoots = new promise_util_1.Deferred();
            this.deferredRoots.resolve(this._roots);
            this.onWorkspaceChangeEmitter.fire(this._roots);
        }
    }
    async computeRoots() {
        const roots = [];
        if (this._workspace) {
            if (this._workspace.isDirectory) {
                return [this._workspace];
            }
            const workspaceData = await this.getWorkspaceDataFromFile();
            if (workspaceData) {
                for (const { path } of workspaceData.folders) {
                    const valid = await this.toValidRoot(path);
                    if (valid) {
                        roots.push(valid);
                    }
                    else {
                        roots.push(files_1.FileStat.dir(path));
                    }
                }
            }
        }
        return roots;
    }
    async getWorkspaceDataFromFile() {
        if (this._workspace && await this.fileService.exists(this._workspace.resource)) {
            if (this._workspace.isDirectory) {
                return {
                    folders: [{ path: this._workspace.resource.toString() }]
                };
            }
            else if (this.isWorkspaceFile(this._workspace)) {
                const stat = await this.fileService.read(this._workspace.resource);
                const strippedContent = jsoncparser.stripComments(stat.value);
                const data = jsoncparser.parse(strippedContent);
                if (data && WorkspaceData.is(data)) {
                    return WorkspaceData.transformToAbsolute(data, stat);
                }
                this.logger.error(`Unable to retrieve workspace data from the file: '${this.labelProvider.getLongName(this._workspace)}'. Please check if the file is corrupted.`);
            }
            else {
                this.logger.warn(`Not a valid workspace file: ${this.labelProvider.getLongName(this._workspace)}`);
            }
        }
    }
    formatTitle(title) {
        const name = this.applicationName;
        return title ? `${title}  ${name}` : name;
    }
    updateTitle() {
        let title;
        if (this._workspace) {
            const displayName = this._workspace.name;
            if (!this._workspace.isDirectory &&
                (displayName.endsWith(`.${common_1.THEIA_EXT}`) || displayName.endsWith(`.${common_1.VSCODE_EXT}`))) {
                title = displayName.slice(0, displayName.lastIndexOf('.'));
            }
            else {
                title = displayName;
            }
        }
        document.title = this.formatTitle(title);
    }
    /**
     * on unload, we set our workspace root as the last recently used on the backend.
     */
    onStop() {
        this.server.setMostRecentlyUsedWorkspace(this._workspace ? this._workspace.resource.toString() : '');
    }
    async recentWorkspaces() {
        return this.server.getRecentWorkspaces();
    }
    /**
     * Returns `true` if theia has an opened workspace or folder
     * @returns {boolean}
     */
    get opened() {
        return !!this._workspace;
    }
    /**
     * Returns `true` if a multiple-root workspace is currently open.
     * @returns {boolean}
     */
    get isMultiRootWorkspaceOpened() {
        return !!this.workspace && !this.workspace.isDirectory;
    }
    /**
     * Returns `true` if there is an opened workspace, and multi root workspace support is enabled.
     * @returns {boolean}
     */
    get isMultiRootWorkspaceEnabled() {
        return this.opened && this.preferences['workspace.supportMultiRootWorkspace'];
    }
    /**
     * Opens directory, or recreates a workspace from the file that `uri` points to.
     */
    open(uri, options) {
        this.doOpen(uri, options);
    }
    async doOpen(uri, options) {
        const rootUri = uri.toString();
        const stat = await this.toFileStat(rootUri);
        if (stat) {
            if (!stat.isDirectory && !this.isWorkspaceFile(stat)) {
                const message = `Not a valid workspace file: ${uri}`;
                this.messageService.error(message);
                throw new Error(message);
            }
            // The same window has to be preserved too (instead of opening a new one), if the workspace root is not yet available and we are setting it for the first time.
            // Option passed as parameter has the highest priority (for api developers), then the preference, then the default.
            await this.roots;
            const { preserveWindow } = Object.assign({ preserveWindow: this.preferences['workspace.preserveWindow'] || !this.opened }, options);
            await this.server.setMostRecentlyUsedWorkspace(rootUri);
            if (preserveWindow) {
                this._workspace = stat;
            }
            this.openWindow(stat, { preserveWindow });
            return;
        }
        throw new Error('Invalid workspace root URI. Expected an existing directory location.');
    }
    /**
     * Adds root folder(s) to the workspace
     * @param uris URI or URIs of the root folder(s) to add
     */
    async addRoot(uris) {
        const toAdd = Array.isArray(uris) ? uris : [uris];
        await this.spliceRoots(this._roots.length, 0, ...toAdd);
    }
    /**
     * Removes root folder(s) from workspace.
     */
    async removeRoots(uris) {
        if (!this.opened) {
            throw new Error('Folder cannot be removed as there is no active folder in the current workspace.');
        }
        if (this._workspace) {
            const workspaceData = await this.getWorkspaceDataFromFile();
            this._workspace = await this.writeWorkspaceFile(this._workspace, WorkspaceData.buildWorkspaceData(this._roots.filter(root => uris.findIndex(u => u.toString() === root.resource.toString()) < 0), workspaceData));
            await this.updateWorkspace();
        }
    }
    async spliceRoots(start, deleteCount, ...rootsToAdd) {
        if (!this._workspace) {
            throw new Error('There is not active workspace');
        }
        const dedup = new Set();
        const roots = this._roots.map(root => (dedup.add(root.resource.toString()), root.resource.toString()));
        const toAdd = [];
        for (const root of rootsToAdd) {
            const uri = root.toString();
            if (!dedup.has(uri)) {
                dedup.add(uri);
                toAdd.push(uri);
            }
        }
        const toRemove = roots.splice(start, deleteCount || 0, ...toAdd);
        if (!toRemove.length && !toAdd.length) {
            return [];
        }
        if (this._workspace.isDirectory) {
            const untitledWorkspace = await this.getUntitledWorkspace();
            await this.save(untitledWorkspace);
        }
        const currentData = await this.getWorkspaceDataFromFile();
        const newData = WorkspaceData.buildWorkspaceData(roots, currentData);
        await this.writeWorkspaceFile(this._workspace, newData);
        await this.updateWorkspace();
        return toRemove.map(root => new uri_1.default(root));
    }
    async getUntitledWorkspace() {
        return common_1.getTemporaryWorkspaceFileUri(this.envVariableServer);
    }
    async writeWorkspaceFile(workspaceFile, workspaceData) {
        if (workspaceFile) {
            const data = JSON.stringify(WorkspaceData.transformToRelative(workspaceData, workspaceFile));
            const edits = jsoncparser.format(data, undefined, { tabSize: 3, insertSpaces: true, eol: '' });
            const result = jsoncparser.applyEdits(data, edits);
            await this.fileService.write(workspaceFile.resource, result);
            return this.fileService.resolve(workspaceFile.resource);
        }
    }
    /**
     * Clears current workspace root.
     */
    async close() {
        this._workspace = undefined;
        this._roots.length = 0;
        await this.server.setMostRecentlyUsedWorkspace('');
        this.reloadWindow();
    }
    /**
     * returns a FileStat if the argument URI points to an existing directory. Otherwise, `undefined`.
     */
    async toValidRoot(uri) {
        const fileStat = await this.toFileStat(uri);
        if (fileStat && fileStat.isDirectory) {
            return fileStat;
        }
        return undefined;
    }
    /**
     * returns a FileStat if the argument URI points to a file or directory. Otherwise, `undefined`.
     */
    async toFileStat(uri) {
        if (!uri) {
            return undefined;
        }
        let uriStr = uri.toString();
        try {
            if (uriStr.endsWith('/')) {
                uriStr = uriStr.slice(0, -1);
            }
            const normalizedUri = new uri_1.default(uriStr).normalizePath();
            return await this.fileService.resolve(normalizedUri);
        }
        catch (error) {
            return undefined;
        }
    }
    openWindow(uri, options) {
        const workspacePath = uri.resource.path.toString();
        if (this.shouldPreserveWindow(options)) {
            this.reloadWindow();
        }
        else {
            try {
                this.openNewWindow(workspacePath);
            }
            catch (error) {
                // Fall back to reloading the current window in case the browser has blocked the new window
                this._workspace = uri;
                this.logger.error(error.toString()).then(() => this.reloadWindow());
            }
        }
    }
    reloadWindow() {
        // Set the new workspace path as the URL fragment.
        if (this._workspace !== undefined) {
            this.setURLFragment(this._workspace.resource.path.toString());
        }
        else {
            this.setURLFragment('');
        }
        window.location.reload(true);
    }
    openNewWindow(workspacePath) {
        const url = new URL(window.location.href);
        url.hash = encodeURI(workspacePath);
        this.windowService.openNewWindow(url.toString());
    }
    shouldPreserveWindow(options) {
        return options !== undefined && !!options.preserveWindow;
    }
    /**
     * Return true if one of the paths in paths array is present in the workspace
     * NOTE: You should always explicitly use `/` as the separator between the path segments.
     */
    async containsSome(paths) {
        await this.roots;
        if (this.opened) {
            for (const root of this._roots) {
                const uri = root.resource;
                for (const path of paths) {
                    const fileUri = uri.resolve(path);
                    const exists = await this.fileService.exists(fileUri);
                    if (exists) {
                        return exists;
                    }
                }
            }
        }
        return false;
    }
    get saved() {
        return !!this._workspace && !this._workspace.isDirectory;
    }
    /**
     * Save workspace data into a file
     * @param uri URI or FileStat of the workspace file
     */
    async save(uri) {
        const resource = uri instanceof uri_1.default ? uri : uri.resource;
        if (!await this.fileService.exists(resource)) {
            await this.fileService.create(resource);
        }
        const workspaceData = { folders: [], settings: {} };
        if (!this.saved) {
            for (const p of Object.keys(this.schemaProvider.getCombinedSchema().properties)) {
                if (this.schemaProvider.isValidInScope(p, browser_1.PreferenceScope.Folder)) {
                    continue;
                }
                const preferences = this.preferenceImpl.inspect(p);
                if (preferences && preferences.workspaceValue) {
                    workspaceData.settings[p] = preferences.workspaceValue;
                }
            }
        }
        let stat = await this.toFileStat(resource);
        Object.assign(workspaceData, await this.getWorkspaceDataFromFile());
        stat = await this.writeWorkspaceFile(stat, WorkspaceData.buildWorkspaceData(this._roots, workspaceData));
        await this.server.setMostRecentlyUsedWorkspace(resource.toString());
        await this.setWorkspace(stat);
        this.onWorkspaceLocationChangedEmitter.fire(stat);
    }
    async watchRoots() {
        const rootUris = new Set(this._roots.map(r => r.resource.toString()));
        for (const [uri, watcher] of this.rootWatchers.entries()) {
            if (!rootUris.has(uri)) {
                watcher.dispose();
            }
        }
        for (const root of this._roots) {
            this.watchRoot(root);
        }
    }
    async refreshRootWatchers() {
        for (const watcher of this.rootWatchers.values()) {
            watcher.dispose();
        }
        await this.watchRoots();
    }
    async watchRoot(root) {
        const uriStr = root.resource.toString();
        if (this.rootWatchers.has(uriStr)) {
            return;
        }
        const excludes = this.getExcludes(uriStr);
        const watcher = this.fileService.watch(new uri_1.default(uriStr), {
            recursive: true,
            excludes
        });
        this.rootWatchers.set(uriStr, new core_1.DisposableCollection(watcher, core_1.Disposable.create(() => this.rootWatchers.delete(uriStr))));
    }
    getExcludes(uri) {
        const patterns = this.fsPreferences.get('files.watcherExclude', undefined, uri);
        return Object.keys(patterns).filter(pattern => patterns[pattern]);
    }
    /**
     * Returns the workspace root uri that the given file belongs to.
     * In case that the file is found in more than one workspace roots, returns the root that is closest to the file.
     * If the file is not from the current workspace, returns `undefined`.
     * @param uri URI of the file
     */
    getWorkspaceRootUri(uri) {
        if (!uri) {
            const root = this.tryGetRoots()[0];
            if (root) {
                return root.resource;
            }
            return undefined;
        }
        const rootUris = [];
        for (const root of this.tryGetRoots()) {
            const rootUri = root.resource;
            if (rootUri && rootUri.isEqualOrParent(uri)) {
                rootUris.push(rootUri);
            }
        }
        return rootUris.sort((r1, r2) => r2.toString().length - r1.toString().length)[0];
    }
    areWorkspaceRoots(uris) {
        if (!uris.length) {
            return false;
        }
        const rootUris = new Set(this.tryGetRoots().map(root => root.resource.toString()));
        return uris.every(uri => rootUris.has(uri.toString()));
    }
    /**
     * Check if the file should be considered as a workspace file.
     *
     * Example: We should not try to read the contents of an .exe file.
     */
    isWorkspaceFile(fileStat) {
        return fileStat.resource.path.ext === `.${common_1.THEIA_EXT}` || fileStat.resource.path.ext === `.${common_1.VSCODE_EXT}`;
    }
    /**
     *
     * @param key the property key under which to store the schema (e.g. tasks, launch)
     * @param schema the schema for the property. If none is supplied, the update is treated as a deletion.
     */
    async updateSchema(key, schema) {
        return this.schemaUpdater.updateSchema({ key, schema });
    }
};
__decorate([
    inversify_1.inject(file_service_1.FileService),
    __metadata("design:type", file_service_1.FileService)
], WorkspaceService.prototype, "fileService", void 0);
__decorate([
    inversify_1.inject(common_1.WorkspaceServer),
    __metadata("design:type", Object)
], WorkspaceService.prototype, "server", void 0);
__decorate([
    inversify_1.inject(window_service_1.WindowService),
    __metadata("design:type", Object)
], WorkspaceService.prototype, "windowService", void 0);
__decorate([
    inversify_1.inject(core_1.ILogger),
    __metadata("design:type", Object)
], WorkspaceService.prototype, "logger", void 0);
__decorate([
    inversify_1.inject(workspace_preferences_1.WorkspacePreferences),
    __metadata("design:type", Object)
], WorkspaceService.prototype, "preferences", void 0);
__decorate([
    inversify_1.inject(browser_1.PreferenceServiceImpl),
    __metadata("design:type", browser_1.PreferenceServiceImpl)
], WorkspaceService.prototype, "preferenceImpl", void 0);
__decorate([
    inversify_1.inject(browser_1.PreferenceSchemaProvider),
    __metadata("design:type", browser_1.PreferenceSchemaProvider)
], WorkspaceService.prototype, "schemaProvider", void 0);
__decorate([
    inversify_1.inject(env_variables_1.EnvVariablesServer),
    __metadata("design:type", Object)
], WorkspaceService.prototype, "envVariableServer", void 0);
__decorate([
    inversify_1.inject(core_1.MessageService),
    __metadata("design:type", core_1.MessageService)
], WorkspaceService.prototype, "messageService", void 0);
__decorate([
    inversify_1.inject(browser_1.LabelProvider),
    __metadata("design:type", browser_1.LabelProvider)
], WorkspaceService.prototype, "labelProvider", void 0);
__decorate([
    inversify_1.inject(browser_2.FileSystemPreferences),
    __metadata("design:type", Object)
], WorkspaceService.prototype, "fsPreferences", void 0);
__decorate([
    inversify_1.inject(workspace_schema_updater_1.WorkspaceSchemaUpdater),
    __metadata("design:type", workspace_schema_updater_1.WorkspaceSchemaUpdater)
], WorkspaceService.prototype, "schemaUpdater", void 0);
__decorate([
    inversify_1.postConstruct(),
    __metadata("design:type", Function),
    __metadata("design:paramtypes", []),
    __metadata("design:returntype", Promise)
], WorkspaceService.prototype, "init", null);
WorkspaceService = __decorate([
    inversify_1.injectable()
], WorkspaceService);
exports.WorkspaceService = WorkspaceService;
var WorkspaceData;
(function (WorkspaceData) {
    const validateSchema = new Ajv().compile(workspace_schema_updater_1.workspaceSchema);
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    function is(data) {
        return !!validateSchema(data);
    }
    WorkspaceData.is = is;
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    function buildWorkspaceData(folders, additionalFields) {
        let roots = [];
        if (folders.length > 0) {
            if (typeof folders[0] !== 'string') {
                roots = folders.map(folder => folder.resource.toString());
            }
            else {
                roots = folders;
            }
        }
        const data = {
            folders: roots.map(folder => ({ path: folder }))
        };
        if (additionalFields) {
            delete additionalFields.folders;
            Object.assign(data, additionalFields);
        }
        return data;
    }
    WorkspaceData.buildWorkspaceData = buildWorkspaceData;
    function transformToRelative(data, workspaceFile) {
        const folderUris = [];
        const workspaceFileUri = new uri_1.default(workspaceFile ? workspaceFile.resource.toString() : '').withScheme('file');
        for (const { path } of data.folders) {
            const folderUri = new uri_1.default(path).withScheme('file');
            const rel = workspaceFileUri.parent.relative(folderUri);
            if (rel) {
                folderUris.push(rel.toString());
            }
            else {
                folderUris.push(folderUri.toString());
            }
        }
        return buildWorkspaceData(folderUris, data);
    }
    WorkspaceData.transformToRelative = transformToRelative;
    function transformToAbsolute(data, workspaceFile) {
        if (workspaceFile) {
            const folders = [];
            for (const folder of data.folders) {
                const path = folder.path;
                if (path.startsWith('file:///')) {
                    folders.push(path);
                }
                else {
                    folders.push(workspaceFile.resource.withScheme('file').parent.resolve(path).toString());
                }
            }
            return Object.assign(data, buildWorkspaceData(folders, data));
        }
        return data;
    }
    WorkspaceData.transformToAbsolute = transformToAbsolute;
})(WorkspaceData = exports.WorkspaceData || (exports.WorkspaceData = {}));


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/workspace/lib/common/index.js":
/*!********************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/workspace/lib/common/index.js ***!
  \********************************************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __exportStar = (this && this.__exportStar) || function(m, exports) {
    for (var p in m) if (p !== "default" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
__exportStar(__webpack_require__(/*! ./workspace-protocol */ "../node_modules/@theia/file-search/node_modules/@theia/workspace/lib/common/workspace-protocol.js"), exports);
__exportStar(__webpack_require__(/*! ./utils */ "../node_modules/@theia/file-search/node_modules/@theia/workspace/lib/common/utils.js"), exports);


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/workspace/lib/common/utils.js":
/*!********************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/workspace/lib/common/utils.js ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2018 Ericsson and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.getTemporaryWorkspaceFileUri = exports.VSCODE_EXT = exports.THEIA_EXT = void 0;
// TODO get rid of util files, replace with methods in a responsible class
const uri_1 = __webpack_require__(/*! @theia/core/lib/common/uri */ "../node_modules/@theia/file-search/node_modules/@theia/core/lib/common/uri.js");
exports.THEIA_EXT = 'theia-workspace';
exports.VSCODE_EXT = 'code-workspace';
/**
 * @deprecated since 1.4.0 - because of https://github.com/eclipse-theia/theia/wiki/Coding-Guidelines#di-function-export, use `WorkspaceService.getUntitledWorkspace` instead
 */
async function getTemporaryWorkspaceFileUri(envVariableServer) {
    const configDirUri = await envVariableServer.getConfigDirUri();
    return new uri_1.default(configDirUri).resolve(`Untitled.${exports.THEIA_EXT}`);
}
exports.getTemporaryWorkspaceFileUri = getTemporaryWorkspaceFileUri;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/workspace/lib/common/workspace-protocol.js":
/*!*********************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/workspace/lib/common/workspace-protocol.js ***!
  \*********************************************************************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

/********************************************************************************
 * Copyright (C) 2017 TypeFox and others.
 *
 * This program and the accompanying materials are made available under the
 * terms of the Eclipse Public License v. 2.0 which is available at
 * http://www.eclipse.org/legal/epl-2.0.
 *
 * This Source Code may also be made available under the following Secondary
 * Licenses when the conditions for such availability set forth in the Eclipse
 * Public License v. 2.0 are satisfied: GNU General Public License, version 2
 * with the GNU Classpath Exception which is available at
 * https://www.gnu.org/software/classpath/license.html.
 *
 * SPDX-License-Identifier: EPL-2.0 OR GPL-2.0 WITH Classpath-exception-2.0
 ********************************************************************************/
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.WorkspaceServer = exports.workspacePath = void 0;
exports.workspacePath = '/services/workspace';
/**
 * The JSON-RPC workspace interface.
 */
exports.WorkspaceServer = Symbol('WorkspaceServer');


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/deepmerge/dist/cjs.js":
/*!*****************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/deepmerge/dist/cjs.js ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";


var isMergeableObject = function isMergeableObject(value) {
	return isNonNullObject(value)
		&& !isSpecial(value)
};

function isNonNullObject(value) {
	return !!value && typeof value === 'object'
}

function isSpecial(value) {
	var stringValue = Object.prototype.toString.call(value);

	return stringValue === '[object RegExp]'
		|| stringValue === '[object Date]'
		|| isReactElement(value)
}

// see https://github.com/facebook/react/blob/b5ac963fb791d1298e7f396236383bc955f916c1/src/isomorphic/classic/element/ReactElement.js#L21-L25
var canUseSymbol = typeof Symbol === 'function' && Symbol.for;
var REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for('react.element') : 0xeac7;

function isReactElement(value) {
	return value.$$typeof === REACT_ELEMENT_TYPE
}

function emptyTarget(val) {
	return Array.isArray(val) ? [] : {}
}

function cloneUnlessOtherwiseSpecified(value, options) {
	return (options.clone !== false && options.isMergeableObject(value))
		? deepmerge(emptyTarget(value), value, options)
		: value
}

function defaultArrayMerge(target, source, options) {
	return target.concat(source).map(function(element) {
		return cloneUnlessOtherwiseSpecified(element, options)
	})
}

function getMergeFunction(key, options) {
	if (!options.customMerge) {
		return deepmerge
	}
	var customMerge = options.customMerge(key);
	return typeof customMerge === 'function' ? customMerge : deepmerge
}

function getEnumerableOwnPropertySymbols(target) {
	return Object.getOwnPropertySymbols
		? Object.getOwnPropertySymbols(target).filter(function(symbol) {
			return target.propertyIsEnumerable(symbol)
		})
		: []
}

function getKeys(target) {
	return Object.keys(target).concat(getEnumerableOwnPropertySymbols(target))
}

function propertyIsOnObject(object, property) {
	try {
		return property in object
	} catch(_) {
		return false
	}
}

// Protects from prototype poisoning and unexpected merging up the prototype chain.
function propertyIsUnsafe(target, key) {
	return propertyIsOnObject(target, key) // Properties are safe to merge if they don't exist in the target yet,
		&& !(Object.hasOwnProperty.call(target, key) // unsafe if they exist up the prototype chain,
			&& Object.propertyIsEnumerable.call(target, key)) // and also unsafe if they're nonenumerable.
}

function mergeObject(target, source, options) {
	var destination = {};
	if (options.isMergeableObject(target)) {
		getKeys(target).forEach(function(key) {
			destination[key] = cloneUnlessOtherwiseSpecified(target[key], options);
		});
	}
	getKeys(source).forEach(function(key) {
		if (propertyIsUnsafe(target, key)) {
			return
		}

		if (propertyIsOnObject(target, key) && options.isMergeableObject(source[key])) {
			destination[key] = getMergeFunction(key, options)(target[key], source[key], options);
		} else {
			destination[key] = cloneUnlessOtherwiseSpecified(source[key], options);
		}
	});
	return destination
}

function deepmerge(target, source, options) {
	options = options || {};
	options.arrayMerge = options.arrayMerge || defaultArrayMerge;
	options.isMergeableObject = options.isMergeableObject || isMergeableObject;
	// cloneUnlessOtherwiseSpecified is added to `options` so that custom arrayMerge()
	// implementations can use it. The caller may not replace it.
	options.cloneUnlessOtherwiseSpecified = cloneUnlessOtherwiseSpecified;

	var sourceIsArray = Array.isArray(source);
	var targetIsArray = Array.isArray(target);
	var sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;

	if (!sourceAndTargetTypesMatch) {
		return cloneUnlessOtherwiseSpecified(source, options)
	} else if (sourceIsArray) {
		return options.arrayMerge(target, source, options)
	} else {
		return mergeObject(target, source, options)
	}
}

deepmerge.all = function deepmergeAll(array, options) {
	if (!Array.isArray(array)) {
		throw new Error('first argument should be an array')
	}

	return array.reduce(function(prev, next) {
		return deepmerge(prev, next, options)
	}, {})
};

var deepmerge_1 = deepmerge;

module.exports = deepmerge_1;


/***/ }),

/***/ "../node_modules/async-mutex/lib/Mutex.js":
/*!************************************************!*\
  !*** ../node_modules/async-mutex/lib/Mutex.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var tslib_1 = __webpack_require__(/*! tslib */ "../node_modules/async-mutex/node_modules/tslib/tslib.es6.js");
var Semaphore_1 = __webpack_require__(/*! ./Semaphore */ "../node_modules/async-mutex/lib/Semaphore.js");
var Mutex = /** @class */ (function () {
    function Mutex(cancelError) {
        this._semaphore = new Semaphore_1.default(1, cancelError);
    }
    Mutex.prototype.acquire = function () {
        return (0, tslib_1.__awaiter)(this, void 0, void 0, function () {
            var _a, releaser;
            return (0, tslib_1.__generator)(this, function (_b) {
                switch (_b.label) {
                    case 0: return [4 /*yield*/, this._semaphore.acquire()];
                    case 1:
                        _a = _b.sent(), releaser = _a[1];
                        return [2 /*return*/, releaser];
                }
            });
        });
    };
    Mutex.prototype.runExclusive = function (callback) {
        return this._semaphore.runExclusive(function () { return callback(); });
    };
    Mutex.prototype.isLocked = function () {
        return this._semaphore.isLocked();
    };
    Mutex.prototype.waitForUnlock = function () {
        return this._semaphore.waitForUnlock();
    };
    /** @deprecated Deprecated in 0.3.0, will be removed in 0.4.0. Use runExclusive instead. */
    Mutex.prototype.release = function () {
        this._semaphore.release();
    };
    Mutex.prototype.cancel = function () {
        return this._semaphore.cancel();
    };
    return Mutex;
}());
exports.default = Mutex;


/***/ }),

/***/ "../node_modules/async-mutex/lib/Semaphore.js":
/*!****************************************************!*\
  !*** ../node_modules/async-mutex/lib/Semaphore.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
var tslib_1 = __webpack_require__(/*! tslib */ "../node_modules/async-mutex/node_modules/tslib/tslib.es6.js");
var errors_1 = __webpack_require__(/*! ./errors */ "../node_modules/async-mutex/lib/errors.js");
var Semaphore = /** @class */ (function () {
    function Semaphore(_maxConcurrency, _cancelError) {
        if (_cancelError === void 0) { _cancelError = errors_1.E_CANCELED; }
        this._maxConcurrency = _maxConcurrency;
        this._cancelError = _cancelError;
        this._queue = [];
        this._waiters = [];
        if (_maxConcurrency <= 0) {
            throw new Error('semaphore must be initialized to a positive value');
        }
        this._value = _maxConcurrency;
    }
    Semaphore.prototype.acquire = function () {
        var _this = this;
        var locked = this.isLocked();
        var ticketPromise = new Promise(function (resolve, reject) {
            return _this._queue.push({ resolve: resolve, reject: reject });
        });
        if (!locked)
            this._dispatch();
        return ticketPromise;
    };
    Semaphore.prototype.runExclusive = function (callback) {
        return (0, tslib_1.__awaiter)(this, void 0, void 0, function () {
            var _a, value, release;
            return (0, tslib_1.__generator)(this, function (_b) {
                switch (_b.label) {
                    case 0: return [4 /*yield*/, this.acquire()];
                    case 1:
                        _a = _b.sent(), value = _a[0], release = _a[1];
                        _b.label = 2;
                    case 2:
                        _b.trys.push([2, , 4, 5]);
                        return [4 /*yield*/, callback(value)];
                    case 3: return [2 /*return*/, _b.sent()];
                    case 4:
                        release();
                        return [7 /*endfinally*/];
                    case 5: return [2 /*return*/];
                }
            });
        });
    };
    Semaphore.prototype.waitForUnlock = function () {
        return (0, tslib_1.__awaiter)(this, void 0, void 0, function () {
            var waitPromise;
            var _this = this;
            return (0, tslib_1.__generator)(this, function (_a) {
                if (!this.isLocked()) {
                    return [2 /*return*/, Promise.resolve()];
                }
                waitPromise = new Promise(function (resolve) { return _this._waiters.push({ resolve: resolve }); });
                return [2 /*return*/, waitPromise];
            });
        });
    };
    Semaphore.prototype.isLocked = function () {
        return this._value <= 0;
    };
    /** @deprecated Deprecated in 0.3.0, will be removed in 0.4.0. Use runExclusive instead. */
    Semaphore.prototype.release = function () {
        if (this._maxConcurrency > 1) {
            throw new Error('this method is unavailable on semaphores with concurrency > 1; use the scoped release returned by acquire instead');
        }
        if (this._currentReleaser) {
            var releaser = this._currentReleaser;
            this._currentReleaser = undefined;
            releaser();
        }
    };
    Semaphore.prototype.cancel = function () {
        var _this = this;
        this._queue.forEach(function (ticket) { return ticket.reject(_this._cancelError); });
        this._queue = [];
    };
    Semaphore.prototype._dispatch = function () {
        var _this = this;
        var nextTicket = this._queue.shift();
        if (!nextTicket)
            return;
        var released = false;
        this._currentReleaser = function () {
            if (released)
                return;
            released = true;
            _this._value++;
            _this._resolveWaiters();
            _this._dispatch();
        };
        nextTicket.resolve([this._value--, this._currentReleaser]);
    };
    Semaphore.prototype._resolveWaiters = function () {
        this._waiters.forEach(function (waiter) { return waiter.resolve(); });
        this._waiters = [];
    };
    return Semaphore;
}());
exports.default = Semaphore;


/***/ }),

/***/ "../node_modules/async-mutex/lib/errors.js":
/*!*************************************************!*\
  !*** ../node_modules/async-mutex/lib/errors.js ***!
  \*************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.E_CANCELED = exports.E_ALREADY_LOCKED = exports.E_TIMEOUT = void 0;
exports.E_TIMEOUT = new Error('timeout while waiting for mutex to become available');
exports.E_ALREADY_LOCKED = new Error('mutex already locked');
exports.E_CANCELED = new Error('request for lock canceled');


/***/ }),

/***/ "../node_modules/async-mutex/lib/index.js":
/*!************************************************!*\
  !*** ../node_modules/async-mutex/lib/index.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.tryAcquire = exports.withTimeout = exports.Semaphore = exports.Mutex = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "../node_modules/async-mutex/node_modules/tslib/tslib.es6.js");
var Mutex_1 = __webpack_require__(/*! ./Mutex */ "../node_modules/async-mutex/lib/Mutex.js");
Object.defineProperty(exports, "Mutex", ({ enumerable: true, get: function () { return Mutex_1.default; } }));
var Semaphore_1 = __webpack_require__(/*! ./Semaphore */ "../node_modules/async-mutex/lib/Semaphore.js");
Object.defineProperty(exports, "Semaphore", ({ enumerable: true, get: function () { return Semaphore_1.default; } }));
var withTimeout_1 = __webpack_require__(/*! ./withTimeout */ "../node_modules/async-mutex/lib/withTimeout.js");
Object.defineProperty(exports, "withTimeout", ({ enumerable: true, get: function () { return withTimeout_1.withTimeout; } }));
var tryAcquire_1 = __webpack_require__(/*! ./tryAcquire */ "../node_modules/async-mutex/lib/tryAcquire.js");
Object.defineProperty(exports, "tryAcquire", ({ enumerable: true, get: function () { return tryAcquire_1.tryAcquire; } }));
(0, tslib_1.__exportStar)(__webpack_require__(/*! ./errors */ "../node_modules/async-mutex/lib/errors.js"), exports);


/***/ }),

/***/ "../node_modules/async-mutex/lib/tryAcquire.js":
/*!*****************************************************!*\
  !*** ../node_modules/async-mutex/lib/tryAcquire.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.tryAcquire = void 0;
var errors_1 = __webpack_require__(/*! ./errors */ "../node_modules/async-mutex/lib/errors.js");
var withTimeout_1 = __webpack_require__(/*! ./withTimeout */ "../node_modules/async-mutex/lib/withTimeout.js");
// eslint-disable-next-lisne @typescript-eslint/explicit-module-boundary-types
function tryAcquire(sync, alreadyAcquiredError) {
    if (alreadyAcquiredError === void 0) { alreadyAcquiredError = errors_1.E_ALREADY_LOCKED; }
    // eslint-disable-next-line @typescript-eslint/no-explicit-any
    return (0, withTimeout_1.withTimeout)(sync, 0, alreadyAcquiredError);
}
exports.tryAcquire = tryAcquire;


/***/ }),

/***/ "../node_modules/async-mutex/lib/withTimeout.js":
/*!******************************************************!*\
  !*** ../node_modules/async-mutex/lib/withTimeout.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

"use strict";

Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.withTimeout = void 0;
var tslib_1 = __webpack_require__(/*! tslib */ "../node_modules/async-mutex/node_modules/tslib/tslib.es6.js");
var errors_1 = __webpack_require__(/*! ./errors */ "../node_modules/async-mutex/lib/errors.js");
// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types
function withTimeout(sync, timeout, timeoutError) {
    var _this = this;
    if (timeoutError === void 0) { timeoutError = errors_1.E_TIMEOUT; }
    return {
        acquire: function () {
            return new Promise(function (resolve, reject) { return (0, tslib_1.__awaiter)(_this, void 0, void 0, function () {
                var isTimeout, handle, ticket, release, e_1;
                return (0, tslib_1.__generator)(this, function (_a) {
                    switch (_a.label) {
                        case 0:
                            isTimeout = false;
                            handle = setTimeout(function () {
                                isTimeout = true;
                                reject(timeoutError);
                            }, timeout);
                            _a.label = 1;
                        case 1:
                            _a.trys.push([1, 3, , 4]);
                            return [4 /*yield*/, sync.acquire()];
                        case 2:
                            ticket = _a.sent();
                            if (isTimeout) {
                                release = Array.isArray(ticket) ? ticket[1] : ticket;
                                release();
                            }
                            else {
                                clearTimeout(handle);
                                resolve(ticket);
                            }
                            return [3 /*break*/, 4];
                        case 3:
                            e_1 = _a.sent();
                            if (!isTimeout) {
                                clearTimeout(handle);
                                reject(e_1);
                            }
                            return [3 /*break*/, 4];
                        case 4: return [2 /*return*/];
                    }
                });
            }); });
        },
        runExclusive: function (callback) {
            return (0, tslib_1.__awaiter)(this, void 0, void 0, function () {
                var release, ticket;
                return (0, tslib_1.__generator)(this, function (_a) {
                    switch (_a.label) {
                        case 0:
                            release = function () { return undefined; };
                            _a.label = 1;
                        case 1:
                            _a.trys.push([1, , 7, 8]);
                            return [4 /*yield*/, this.acquire()];
                        case 2:
                            ticket = _a.sent();
                            if (!Array.isArray(ticket)) return [3 /*break*/, 4];
                            release = ticket[1];
                            return [4 /*yield*/, callback(ticket[0])];
                        case 3: return [2 /*return*/, _a.sent()];
                        case 4:
                            release = ticket;
                            return [4 /*yield*/, callback()];
                        case 5: return [2 /*return*/, _a.sent()];
                        case 6: return [3 /*break*/, 8];
                        case 7:
                            release();
                            return [7 /*endfinally*/];
                        case 8: return [2 /*return*/];
                    }
                });
            });
        },
        /** @deprecated Deprecated in 0.3.0, will be removed in 0.4.0. Use runExclusive instead. */
        release: function () {
            sync.release();
        },
        cancel: function () {
            return sync.cancel();
        },
        waitForUnlock: function () { return sync.waitForUnlock(); },
        isLocked: function () { return sync.isLocked(); },
    };
}
exports.withTimeout = withTimeout;


/***/ }),

/***/ "../node_modules/async-mutex/node_modules/tslib/tslib.es6.js":
/*!*******************************************************************!*\
  !*** ../node_modules/async-mutex/node_modules/tslib/tslib.es6.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "__extends": () => (/* binding */ __extends),
/* harmony export */   "__assign": () => (/* binding */ __assign),
/* harmony export */   "__rest": () => (/* binding */ __rest),
/* harmony export */   "__decorate": () => (/* binding */ __decorate),
/* harmony export */   "__param": () => (/* binding */ __param),
/* harmony export */   "__metadata": () => (/* binding */ __metadata),
/* harmony export */   "__awaiter": () => (/* binding */ __awaiter),
/* harmony export */   "__generator": () => (/* binding */ __generator),
/* harmony export */   "__createBinding": () => (/* binding */ __createBinding),
/* harmony export */   "__exportStar": () => (/* binding */ __exportStar),
/* harmony export */   "__values": () => (/* binding */ __values),
/* harmony export */   "__read": () => (/* binding */ __read),
/* harmony export */   "__spread": () => (/* binding */ __spread),
/* harmony export */   "__spreadArrays": () => (/* binding */ __spreadArrays),
/* harmony export */   "__spreadArray": () => (/* binding */ __spreadArray),
/* harmony export */   "__await": () => (/* binding */ __await),
/* harmony export */   "__asyncGenerator": () => (/* binding */ __asyncGenerator),
/* harmony export */   "__asyncDelegator": () => (/* binding */ __asyncDelegator),
/* harmony export */   "__asyncValues": () => (/* binding */ __asyncValues),
/* harmony export */   "__makeTemplateObject": () => (/* binding */ __makeTemplateObject),
/* harmony export */   "__importStar": () => (/* binding */ __importStar),
/* harmony export */   "__importDefault": () => (/* binding */ __importDefault),
/* harmony export */   "__classPrivateFieldGet": () => (/* binding */ __classPrivateFieldGet),
/* harmony export */   "__classPrivateFieldSet": () => (/* binding */ __classPrivateFieldSet)
/* harmony export */ });
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/* global Reflect, Promise */

var extendStatics = function(d, b) {
    extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
    return extendStatics(d, b);
};

function __extends(d, b) {
    if (typeof b !== "function" && b !== null)
        throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");
    extendStatics(d, b);
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
}

var __assign = function() {
    __assign = Object.assign || function __assign(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
        }
        return t;
    }
    return __assign.apply(this, arguments);
}

function __rest(s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
}

function __decorate(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
}

function __param(paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
}

function __metadata(metadataKey, metadataValue) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(metadataKey, metadataValue);
}

function __awaiter(thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
}

function __generator(thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
}

var __createBinding = Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
});

function __exportStar(m, o) {
    for (var p in m) if (p !== "default" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);
}

function __values(o) {
    var s = typeof Symbol === "function" && Symbol.iterator, m = s && o[s], i = 0;
    if (m) return m.call(o);
    if (o && typeof o.length === "number") return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
    throw new TypeError(s ? "Object is not iterable." : "Symbol.iterator is not defined.");
}

function __read(o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
}

/** @deprecated */
function __spread() {
    for (var ar = [], i = 0; i < arguments.length; i++)
        ar = ar.concat(__read(arguments[i]));
    return ar;
}

/** @deprecated */
function __spreadArrays() {
    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
    for (var r = Array(s), k = 0, i = 0; i < il; i++)
        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
            r[k] = a[j];
    return r;
}

function __spreadArray(to, from, pack) {
    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {
        if (ar || !(i in from)) {
            if (!ar) ar = Array.prototype.slice.call(from, 0, i);
            ar[i] = from[i];
        }
    }
    return to.concat(ar || Array.prototype.slice.call(from));
}

function __await(v) {
    return this instanceof __await ? (this.v = v, this) : new __await(v);
}

function __asyncGenerator(thisArg, _arguments, generator) {
    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
    var g = generator.apply(thisArg, _arguments || []), i, q = [];
    return i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i;
    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }
    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }
    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }
    function fulfill(value) { resume("next", value); }
    function reject(value) { resume("throw", value); }
    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }
}

function __asyncDelegator(o) {
    var i, p;
    return i = {}, verb("next"), verb("throw", function (e) { throw e; }), verb("return"), i[Symbol.iterator] = function () { return this; }, i;
    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === "return" } : f ? f(v) : v; } : f; }
}

function __asyncValues(o) {
    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
    var m = o[Symbol.asyncIterator], i;
    return m ? m.call(o) : (o = typeof __values === "function" ? __values(o) : o[Symbol.iterator](), i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i);
    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }
    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }
}

function __makeTemplateObject(cooked, raw) {
    if (Object.defineProperty) { Object.defineProperty(cooked, "raw", { value: raw }); } else { cooked.raw = raw; }
    return cooked;
};

var __setModuleDefault = Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
};

function __importStar(mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (k !== "default" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);
    __setModuleDefault(result, mod);
    return result;
}

function __importDefault(mod) {
    return (mod && mod.__esModule) ? mod : { default: mod };
}

function __classPrivateFieldGet(receiver, state, kind, f) {
    if (kind === "a" && !f) throw new TypeError("Private accessor was defined without a getter");
    if (typeof state === "function" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError("Cannot read private member from an object whose class did not declare it");
    return kind === "m" ? f : kind === "a" ? f.call(receiver) : f ? f.value : state.get(receiver);
}

function __classPrivateFieldSet(receiver, state, value, kind, f) {
    if (kind === "m") throw new TypeError("Private method is not writable");
    if (kind === "a" && !f) throw new TypeError("Private accessor was defined without a setter");
    if (typeof state === "function" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError("Cannot write private member to an object whose class did not declare it");
    return (kind === "a" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;
}


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/editor/src/browser/style/index.css":
/*!*************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/editor/src/browser/style/index.css ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../../../../../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _css_loader_index_js_index_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !!../../../../../../../../css-loader/index.js!./index.css */ "../node_modules/css-loader/index.js!../node_modules/@theia/file-search/node_modules/@theia/editor/src/browser/style/index.css");
/* harmony import */ var _css_loader_index_js_index_css__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_css_loader_index_js_index_css__WEBPACK_IMPORTED_MODULE_1__);

            

var options = {};

options.insert = "head";
options.singleton = false;

var update = _style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()((_css_loader_index_js_index_css__WEBPACK_IMPORTED_MODULE_1___default()), options);



/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((_css_loader_index_js_index_css__WEBPACK_IMPORTED_MODULE_1___default().locals) || {});

/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/style/variables-bright.useable.css":
/*!******************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/style/variables-bright.useable.css ***!
  \******************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var api = __webpack_require__(/*! !../../../../../../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
            var content = __webpack_require__(/*! !!../../../../../../../../css-loader/index.js!./variables-bright.useable.css */ "../node_modules/css-loader/index.js!../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/style/variables-bright.useable.css");

            content = content.__esModule ? content.default : content;

var refs = 0;
var update;
var options = {"injectType":"lazySingletonStyleTag","attributes":{"id":"theia-theme"}};

options.insert = "head";
options.singleton = true;

var exported = {};

exported.locals = content.locals || {};
exported.use = function() {
  if (!(refs++)) {
    update = api(content, options);
  }

  return exported;
};
exported.unuse = function() {
  if (refs > 0 && !--refs) {
    update();
    update = null;
  }
};



module.exports = exported;


/***/ }),

/***/ "../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/style/variables-dark.useable.css":
/*!****************************************************************************************************************!*\
  !*** ../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/style/variables-dark.useable.css ***!
  \****************************************************************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

var api = __webpack_require__(/*! !../../../../../../../../style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
            var content = __webpack_require__(/*! !!../../../../../../../../css-loader/index.js!./variables-dark.useable.css */ "../node_modules/css-loader/index.js!../node_modules/@theia/file-search/node_modules/@theia/core/src/browser/style/variables-dark.useable.css");

            content = content.__esModule ? content.default : content;

var refs = 0;
var update;
var options = {"injectType":"lazySingletonStyleTag","attributes":{"id":"theia-theme"}};

options.insert = "head";
options.singleton = true;

var exported = {};

exported.locals = content.locals || {};
exported.use = function() {
  if (!(refs++)) {
    update = api(content, options);
  }

  return exported;
};
exported.unuse = function() {
  if (refs > 0 && !--refs) {
    update();
    update = null;
  }
};



module.exports = exported;


/***/ })

}]);
//# sourceMappingURL=vendors-node_modules_theia_file-search_node_modules_theia_core_src_common_keyboard_layouts_cs-5e40c4.bundle.js.map